Run started:2024-02-10 21:32:54.062871

Test results:
>> Issue: [B104:hardcoded_bind_all_interfaces] Possible binding to all interfaces.
   Severity: Medium   Confidence: Medium
   CWE: CWE-605 (https://cwe.mitre.org/data/definitions/605.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b104_hardcoded_bind_all_interfaces.html
   Location: .\kubespawner\spawner.py:246:8
245	    ip = Unicode(
246	        '0.0.0.0',
247	        config=True,
248	        help="""
249	        The IP address (or hostname) the single-user server should listen on.
250	
251	        We override this from the parent so we can set a more sane default for
252	        the Kubernetes setup.
253	        """
254	    )
255	
256	    cmd = Command(

--------------------------------------------------
>> Issue: [B102:exec_used] Use of exec detected.
   Severity: Medium   Confidence: High
   CWE: CWE-78 (https://cwe.mitre.org/data/definitions/78.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b102_exec_used.html
   Location: .\kubespawner\spawner.py:1298:8
1297	    for _deprecated_name, (_new_name, _version) in _deprecated_traits.items():
1298	        exec(
1299	            """{0} = property(
1300	                partial(_get_deprecated, '{0}', '{1}', '{2}'),
1301	                partial(_set_deprecated, '{0}', '{1}', '{2}'),
1302	            )
1303	            """.format(
1304	                _deprecated_name,
1305	                _new_name,
1306	                _version,
1307	            )
1308	        )
1309	    del _deprecated_name

--------------------------------------------------
>> Issue: [B701:jinja2_autoescape_false] By default, jinja2 sets autoescape to False. Consider using autoescape=True or use the select_autoescape function to mitigate XSS vulnerabilities.
   Severity: High   Confidence: High
   CWE: CWE-94 (https://cwe.mitre.org/data/definitions/94.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b701_jinja2_autoescape_false.html
   Location: .\kubespawner\spawner.py:1912:32
1911	        self._profile_list = self._init_profile_list(profile_list)
1912	        profile_form_template = Environment(loader=BaseLoader).from_string(self.profile_form_template)
1913	        return profile_form_template.render(profile_list=self._profile_list)

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:13:4
12	    """
13	    assert api_client.sanitize_for_serialization(make_pod(
14	        name='test',
15	        image='jupyter/singleuser:latest',
16	        cmd=['jupyterhub-singleuser'],
17	        port=8888,
18	        image_pull_policy='IfNotPresent'
19	    )) == {
20	        "metadata": {
21	            "name": "test",
22	            "labels": {},
23	            "annotations": {}
24	        },
25	        "spec": {
26	            'automountServiceAccountToken': False,
27	            "containers": [
28	                {
29	                    "env": [],
30	                    "name": "notebook",
31	                    "image": "jupyter/singleuser:latest",
32	                    "imagePullPolicy": "IfNotPresent",
33	                    "args": ["jupyterhub-singleuser"],
34	                    "ports": [{
35	                        "name": "notebook-port",
36	                        "containerPort": 8888
37	                    }],
38	                    'volumeMounts': [],
39	                    "resources": {
40	                        "limits": {},
41	                        "requests": {}
42	                    }
43	                }
44	            ],
45	            'restartPolicy': 'OnFailure',
46	            'volumes': [],
47	        },
48	        "kind": "Pod",
49	        "apiVersion": "v1"
50	    }
51	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:56:4
55	    """
56	    assert api_client.sanitize_for_serialization(make_pod(
57	        name='test',
58	        image='jupyter/singleuser:latest',
59	        cmd=['jupyterhub-singleuser'],
60	        port=8888,
61	        image_pull_policy='IfNotPresent',
62	        labels={"test": "true"}
63	    )) == {
64	        "metadata": {
65	            "name": "test",
66	            "labels": {"test": "true"},
67	            "annotations": {}
68	        },
69	        "spec": {
70	            'automountServiceAccountToken': False,
71	            "containers": [
72	                {
73	                    "env": [],
74	                    "name": "notebook",
75	                    "image": "jupyter/singleuser:latest",
76	                    "imagePullPolicy": "IfNotPresent",
77	                    "args": ["jupyterhub-singleuser"],
78	                    "ports": [{
79	                        "name": "notebook-port",
80	                        "containerPort": 8888
81	                    }],
82	                    'volumeMounts': [],
83	                    "resources": {
84	                        "limits": {},
85	                        "requests": {}
86	                    }
87	                }
88	            ],
89	            'restartPolicy': 'OnFailure',
90	            'volumes': [],
91	        },
92	        "kind": "Pod",
93	        "apiVersion": "v1"
94	    }
95	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:100:4
99	    """
100	    assert api_client.sanitize_for_serialization(make_pod(
101	        name='test',
102	        image='jupyter/singleuser:latest',
103	        cmd=['jupyterhub-singleuser'],
104	        port=8888,
105	        image_pull_policy='IfNotPresent',
106	        annotations={"test": "true"}
107	    )) == {
108	        "metadata": {
109	            "name": "test",
110	            "annotations": {"test": "true"},
111	            "labels": {},
112	        },
113	        "spec": {
114	            'automountServiceAccountToken': False,
115	            "containers": [
116	                {
117	                    "env": [],
118	                    "name": "notebook",
119	                    "image": "jupyter/singleuser:latest",
120	                    "imagePullPolicy": "IfNotPresent",
121	                    "args": ["jupyterhub-singleuser"],
122	                    "ports": [{
123	                        "name": "notebook-port",
124	                        "containerPort": 8888
125	                    }],
126	                    'volumeMounts': [],
127	                    "resources": {
128	                        "limits": {},
129	                        "requests": {}
130	                    }
131	                }
132	            ],
133	            'restartPolicy': 'OnFailure',
134	            'volumes': [],
135	        },
136	        "kind": "Pod",
137	        "apiVersion": "v1"
138	    }
139	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:144:4
143	    """
144	    assert api_client.sanitize_for_serialization(make_pod(
145	        name='test',
146	        image='jupyter/singleuser:latest',
147	        cmd=['jupyterhub-singleuser'],
148	        port=8888,
149	        image_pull_policy='IfNotPresent',
150	        image_pull_secret='super-sekrit'
151	    )) == {
152	        "metadata": {
153	            "name": "test",
154	            "annotations": {},
155	            "labels": {},
156	        },
157	        "spec": {
158	            'automountServiceAccountToken': False,
159	            "imagePullSecrets": [
160	                {'name': 'super-sekrit'}
161	            ],
162	            "containers": [
163	                {
164	                    "env": [],
165	                    "name": "notebook",
166	                    "image": "jupyter/singleuser:latest",
167	                    "imagePullPolicy": "IfNotPresent",
168	                    "args": ["jupyterhub-singleuser"],
169	                    "ports": [{
170	                        "name": "notebook-port",
171	                        "containerPort": 8888
172	                    }],
173	                    'volumeMounts': [],
174	                    "resources": {
175	                        "limits": {},
176	                        "requests": {}
177	                    }
178	                }
179	            ],
180	            'restartPolicy': 'OnFailure',
181	            'volumes': [],
182	        },
183	        "kind": "Pod",
184	        "apiVersion": "v1"
185	    }
186	

--------------------------------------------------
>> Issue: [B106:hardcoded_password_funcarg] Possible hardcoded password: 'super-sekrit'
   Severity: Low   Confidence: Medium
   CWE: CWE-259 (https://cwe.mitre.org/data/definitions/259.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b106_hardcoded_password_funcarg.html
   Location: .\tests\test_objects.py:144:49
143	    """
144	    assert api_client.sanitize_for_serialization(make_pod(
145	        name='test',
146	        image='jupyter/singleuser:latest',
147	        cmd=['jupyterhub-singleuser'],
148	        port=8888,
149	        image_pull_policy='IfNotPresent',
150	        image_pull_secret='super-sekrit'
151	    )) == {
152	        "metadata": {

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:192:4
191	    """
192	    assert api_client.sanitize_for_serialization(make_pod(
193	        name='test',
194	        image='jupyter/singleuser:latest',
195	        cmd=['jupyterhub-singleuser'],
196	        port=8888,
197	        run_as_uid=1000,
198	        run_as_gid=2000,
199	        image_pull_policy='IfNotPresent'
200	    )) == {
201	        "metadata": {
202	            "name": "test",
203	            "annotations": {},
204	            "labels": {},
205	        },
206	        "spec": {
207	            'automountServiceAccountToken': False,
208	            "containers": [
209	                {
210	                    "securityContext": {
211	                        "runAsUser": 1000,
212	                        "runAsGroup": 2000
213	                    },
214	                    "env": [],
215	                    "name": "notebook",
216	                    "image": "jupyter/singleuser:latest",
217	                    "imagePullPolicy": "IfNotPresent",
218	                    "args": ["jupyterhub-singleuser"],
219	                    "ports": [{
220	                        "name": "notebook-port",
221	                        "containerPort": 8888
222	                    }],
223	                    'volumeMounts': [],
224	                    "resources": {
225	                        "limits": {},
226	                        "requests": {}
227	                    }
228	                }
229	            ],
230	            'restartPolicy': 'OnFailure',
231	            'volumes': [],
232	        },
233	        "kind": "Pod",
234	        "apiVersion": "v1"
235	    }
236	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:241:4
240	    """
241	    assert api_client.sanitize_for_serialization(make_pod(
242	        name='test',
243	        image='jupyter/singleuser:latest',
244	        cmd=['jupyterhub-singleuser'],
245	        port=8888,
246	        run_as_uid=1000,
247	        fs_gid=1000,
248	        image_pull_policy='IfNotPresent'
249	    )) == {
250	        "metadata": {
251	            "name": "test",
252	            "annotations": {},
253	            "labels": {},
254	        },
255	        "spec": {
256	            'automountServiceAccountToken': False,
257	            "containers": [
258	                {
259	                    "securityContext": {
260	                        "runAsUser": 1000,
261	                    },
262	                    "env": [],
263	                    "name": "notebook",
264	                    "image": "jupyter/singleuser:latest",
265	                    "imagePullPolicy": "IfNotPresent",
266	                    "args": ["jupyterhub-singleuser"],
267	                    "ports": [{
268	                        "name": "notebook-port",
269	                        "containerPort": 8888
270	                    }],
271	                    'volumeMounts': [],
272	                    "resources": {
273	                        "limits": {},
274	                        "requests": {}
275	                    }
276	                }
277	            ],
278	            'restartPolicy': 'OnFailure',
279	            'securityContext': {
280	                'fsGroup': 1000,
281	            },
282	            'volumes': [],
283	        },
284	        "kind": "Pod",
285	        "apiVersion": "v1"
286	    }
287	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:292:4
291	    """
292	    assert api_client.sanitize_for_serialization(make_pod(
293	        name='test',
294	        image='jupyter/singleuser:latest',
295	        cmd=['jupyterhub-singleuser'],
296	        port=8888,
297	        run_as_uid=1000,
298	        supplemental_gids=[100],
299	        image_pull_policy='IfNotPresent'
300	    )) == {
301	        "metadata": {
302	            "name": "test",
303	            "annotations": {},
304	            "labels": {},
305	        },
306	        "spec": {
307	            'automountServiceAccountToken': False,
308	            "containers": [
309	                {
310	                    "securityContext": {
311	                        "runAsUser": 1000,
312	                    },
313	                    "env": [],
314	                    "name": "notebook",
315	                    "image": "jupyter/singleuser:latest",
316	                    "imagePullPolicy": "IfNotPresent",
317	                    "args": ["jupyterhub-singleuser"],
318	                    "ports": [{
319	                        "name": "notebook-port",
320	                        "containerPort": 8888
321	                    }],
322	                    'volumeMounts': [],
323	                    "resources": {
324	                        "limits": {},
325	                        "requests": {}
326	                    }
327	                }
328	            ],
329	            'restartPolicy': 'OnFailure',
330	            'securityContext': {
331	                'supplementalGroups': [100],
332	            },
333	            'volumes': [],
334	        },
335	        "kind": "Pod",
336	        "apiVersion": "v1"
337	    }
338	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:343:4
342	    """
343	    assert api_client.sanitize_for_serialization(make_pod(
344	        name='test',
345	        image='jupyter/singleuser:latest',
346	        cmd=['jupyterhub-singleuser'],
347	        port=8888,
348	        run_privileged=True,
349	        image_pull_policy='IfNotPresent'
350	    )) == {
351	        "metadata": {
352	            "name": "test",
353	            "annotations": {},
354	            "labels": {},
355	        },
356	        "spec": {
357	            'automountServiceAccountToken': False,
358	            "containers": [
359	                {
360	                    "env": [],
361	                    "name": "notebook",
362	                    "image": "jupyter/singleuser:latest",
363	                    "imagePullPolicy": "IfNotPresent",
364	                    "args": ["jupyterhub-singleuser"],
365	                    "ports": [{
366	                        "name": "notebook-port",
367	                        "containerPort": 8888
368	                    }],
369	                    "resources": {
370	                        "limits": {},
371	                        "requests": {}
372	                    },
373	                    "securityContext": {
374	                        "privileged": True,
375	                    },
376	                    'volumeMounts': [],
377	                }
378	            ],
379	            'restartPolicy': 'OnFailure',
380	            'volumes': [],
381	        },
382	        "kind": "Pod",
383	        "apiVersion": "v1"
384	    }
385	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:390:4
389	    """
390	    assert api_client.sanitize_for_serialization(make_pod(
391	        name='test',
392	        image='jupyter/singleuser:latest',
393	        cpu_limit=2,
394	        cpu_guarantee=1,
395	        cmd=['jupyterhub-singleuser'],
396	        port=8888,
397	        mem_limit='1Gi',
398	        mem_guarantee='512Mi',
399	        image_pull_policy='IfNotPresent',
400	        image_pull_secret="myregistrykey",
401	        node_selector={"disk": "ssd"}
402	    )) == {
403	        "metadata": {
404	            "name": "test",
405	            "annotations": {},
406	            "labels": {},
407	        },
408	        "spec": {
409	            'automountServiceAccountToken': False,
410	            "imagePullSecrets": [{"name": "myregistrykey"}],
411	            "nodeSelector": {"disk": "ssd"},
412	            "containers": [
413	                {
414	                    "env": [],
415	                    "name": "notebook",
416	                    "image": "jupyter/singleuser:latest",
417	                    "imagePullPolicy": "IfNotPresent",
418	                    "args": ["jupyterhub-singleuser"],
419	                    "ports": [{
420	                        "name": "notebook-port",
421	                        "containerPort": 8888
422	                    }],
423	                    'volumeMounts': [],
424	                    "resources": {
425	                        "limits": {
426	                            "cpu": 2,
427	                            "memory": '1Gi'
428	                        },
429	                        "requests": {
430	                            "cpu": 1,
431	                            "memory": '512Mi'
432	                        }
433	                    }
434	                }
435	            ],
436	            'restartPolicy': 'OnFailure',
437	            'volumes': [],
438	        },
439	        "kind": "Pod",
440	        "apiVersion": "v1"
441	    }
442	

--------------------------------------------------
>> Issue: [B106:hardcoded_password_funcarg] Possible hardcoded password: 'myregistrykey'
   Severity: Low   Confidence: Medium
   CWE: CWE-259 (https://cwe.mitre.org/data/definitions/259.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b106_hardcoded_password_funcarg.html
   Location: .\tests\test_objects.py:390:49
389	    """
390	    assert api_client.sanitize_for_serialization(make_pod(
391	        name='test',
392	        image='jupyter/singleuser:latest',
393	        cpu_limit=2,
394	        cpu_guarantee=1,
395	        cmd=['jupyterhub-singleuser'],
396	        port=8888,
397	        mem_limit='1Gi',
398	        mem_guarantee='512Mi',
399	        image_pull_policy='IfNotPresent',
400	        image_pull_secret="myregistrykey",
401	        node_selector={"disk": "ssd"}
402	    )) == {
403	        "metadata": {

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:448:4
447	    """
448	    assert api_client.sanitize_for_serialization(make_pod(
449	        name='test',
450	        image='jupyter/singleuser:latest',
451	        env={
452	            'TEST_KEY': 'TEST_VALUE'
453	        },
454	        cmd=['jupyterhub-singleuser'],
455	        port=8888,
456	        image_pull_policy='IfNotPresent'
457	    )) == {
458	        "metadata": {
459	            "name": "test",
460	            "annotations": {},
461	            "labels": {},
462	        },
463	        "spec": {
464	            'automountServiceAccountToken': False,
465	            "containers": [
466	                {
467	                    "env": [{'name': 'TEST_KEY', 'value': 'TEST_VALUE'}],
468	                    "name": "notebook",
469	                    "image": "jupyter/singleuser:latest",
470	                    "imagePullPolicy": "IfNotPresent",
471	                    "args": ["jupyterhub-singleuser"],
472	                    "ports": [{
473	                        "name": "notebook-port",
474	                        "containerPort": 8888
475	                    }],
476	                    'volumeMounts': [],
477	                    "resources": {
478	                        "limits": {
479	                        },
480	                        "requests": {
481	                        }
482	                    }
483	                }
484	            ],
485	            'restartPolicy': 'OnFailure',
486	            'volumes': [],
487	        },
488	        "kind": "Pod",
489	        "apiVersion": "v1"
490	    }
491	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:496:4
495	    """
496	    assert api_client.sanitize_for_serialization(make_pod(
497	        name='test',
498	        image='jupyter/singleuser:latest',
499	        cmd=['jupyterhub-singleuser'],
500	        port=8888,
501	        image_pull_policy='IfNotPresent',
502	        lifecycle_hooks={
503	            'preStop': {
504	                'exec': {
505	                    'command': ['/bin/sh', 'test']
506	                }
507	            }
508	        }
509	    )) == {
510	        "metadata": {
511	            "name": "test",
512	            "annotations": {},
513	            "labels": {},
514	        },
515	        "spec": {
516	            'automountServiceAccountToken': False,
517	            "containers": [
518	                {
519	                    "env": [],
520	                    "name": "notebook",
521	                    "image": "jupyter/singleuser:latest",
522	                    "imagePullPolicy": "IfNotPresent",
523	                    "args": ["jupyterhub-singleuser"],
524	                    "ports": [{
525	                        "name": "notebook-port",
526	                        "containerPort": 8888
527	                    }],
528	                    'volumeMounts': [],
529	                    "resources": {
530	                        "limits": {
531	                        },
532	                        "requests": {
533	                        }
534	                    },
535	                    "lifecycle": {
536	                        "preStop": {
537	                            "exec": {
538	                                "command": ["/bin/sh", "test"]
539	                            }
540	                        }
541	                    }
542	                }
543	            ],
544	            'restartPolicy': 'OnFailure',
545	            'volumes': [],
546	        },
547	        "kind": "Pod",
548	        "apiVersion": "v1"
549	    }
550	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:556:4
555	    """
556	    assert api_client.sanitize_for_serialization(make_pod(
557	        name='test',
558	        image='jupyter/singleuser:latest',
559	        cmd=['jupyterhub-singleuser'],
560	        port=8888,
561	        image_pull_policy='IfNotPresent',
562	        init_containers=[
563	            {
564	                'name': 'init-myservice',
565	                'image': 'busybox',
566	                'command': ['sh', '-c', 'until nslookup myservice; do echo waiting for myservice; sleep 2; done;']
567	            },
568	            {
569	                'name': 'init-mydb',
570	                'image': 'busybox',
571	                'command': ['sh', '-c', 'until nslookup mydb; do echo waiting for mydb; sleep 2; done;']
572	            }
573	        ]
574	    )) == {
575	        "metadata": {
576	            "name": "test",
577	            "annotations": {},
578	            "labels": {},
579	        },
580	        "spec": {
581	            'automountServiceAccountToken': False,
582	            "containers": [
583	                {
584	                    "env": [],
585	                    "name": "notebook",
586	                    "image": "jupyter/singleuser:latest",
587	                    "imagePullPolicy": "IfNotPresent",
588	                    "args": ["jupyterhub-singleuser"],
589	                    "ports": [{
590	                        "name": "notebook-port",
591	                        "containerPort": 8888
592	                    }],
593	                    'volumeMounts': [],
594	                    "resources": {
595	                        "limits": {
596	                        },
597	                        "requests": {
598	                        }
599	                    },
600	                }
601	            ],
602	            "initContainers": [
603	                {
604	                    "name": "init-myservice",
605	                    "image": "busybox",
606	                    "command": ["sh", "-c",
607	                                "until nslookup myservice; do echo waiting for myservice; sleep 2; done;"]
608	                },
609	                {
610	                    "name": "init-mydb",
611	                    "image": "busybox",
612	                    "command": ["sh", "-c", "until nslookup mydb; do echo waiting for mydb; sleep 2; done;"]
613	                }
614	            ],
615	            'restartPolicy': 'OnFailure',
616	            'volumes': [],
617	        },
618	        "kind": "Pod",
619	        "apiVersion": "v1"
620	    }
621	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:627:4
626	    """
627	    assert api_client.sanitize_for_serialization(make_pod(
628	        name='test',
629	        image='jupyter/singleuser:latest',
630	        cmd=['jupyterhub-singleuser'],
631	        port=8888,
632	        image_pull_policy='IfNotPresent',
633	        extra_container_config={
634	            'envFrom': [
635	                {
636	                    'configMapRef': {
637	                        'name': 'special-config'
638	                    }
639	                }
640	            ]
641	        }
642	    )) == {
643	        "metadata": {
644	            "name": "test",
645	            "annotations": {},
646	            "labels": {},
647	        },
648	        "spec": {
649	            'automountServiceAccountToken': False,
650	            "containers": [
651	                {
652	                    "env": [],
653	                    "name": "notebook",
654	                    "image": "jupyter/singleuser:latest",
655	                    "imagePullPolicy": "IfNotPresent",
656	                    "args": ["jupyterhub-singleuser"],
657	                    "ports": [{
658	                        "name": "notebook-port",
659	                        "containerPort": 8888
660	                    }],
661	                    'volumeMounts': [],
662	                    "resources": {
663	                        "limits": {
664	                        },
665	                        "requests": {
666	                        }
667	                    },
668	                    'envFrom': [
669	                        {
670	                            'configMapRef': {
671	                                'name': 'special-config'
672	                            }
673	                        }
674	                    ]
675	                }
676	            ],
677	            'restartPolicy': 'OnFailure',
678	            'volumes': [],
679	        },
680	        "kind": "Pod",
681	        "apiVersion": "v1"
682	    }
683	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:688:4
687	    """
688	    assert api_client.sanitize_for_serialization(make_pod(
689	        name='test',
690	        image='jupyter/singleuser:latest',
691	        cmd=['jupyterhub-singleuser'],
692	        port=8888,
693	        image_pull_policy='IfNotPresent',
694	        tolerations=[{
695	            'key': 'wrong_toleration',
696	            'operator': 'Equal',
697	            'value': 'wrong_value'
698	        }],
699	        extra_pod_config={
700	            'dns_policy': 'ClusterFirstWithHostNet',
701	            'restartPolicy': 'Always',
702	            'tolerations': [{
703	                'key': 'correct_toleration',
704	                'operator': 'Equal',
705	                'value': 'correct_value'
706	            }],
707	        },
708	    )) == {
709	        "metadata": {
710	            "name": "test",
711	            "annotations": {},
712	            "labels": {},
713	        },
714	        "spec": {
715	            'automountServiceAccountToken': False,
716	            "containers": [
717	                {
718	                    "env": [],
719	                    "name": "notebook",
720	                    "image": "jupyter/singleuser:latest",
721	                    "imagePullPolicy": "IfNotPresent",
722	                    "args": ["jupyterhub-singleuser"],
723	                    "ports": [{
724	                        "name": "notebook-port",
725	                        "containerPort": 8888
726	                    }],
727	                    'volumeMounts': [],
728	                    "resources": {
729	                        "limits": {
730	                        },
731	                        "requests": {
732	                        }
733	                    }
734	                }
735	            ],
736	            'volumes': [],
737	            'dnsPolicy': 'ClusterFirstWithHostNet',
738	            'restartPolicy': 'Always',
739	            'tolerations': [
740	                {
741	                    'key': 'correct_toleration',
742	                    'operator': 'Equal',
743	                    'value': 'correct_value'
744	                }
745	            ]
746	        },
747	        "kind": "Pod",
748	        "apiVersion": "v1"
749	    }
750	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:756:4
755	    """
756	    assert api_client.sanitize_for_serialization(make_pod(
757	        name='test',
758	        image='jupyter/singleuser:latest',
759	        cmd=['jupyterhub-singleuser'],
760	        port=8888,
761	        image_pull_policy='IfNotPresent',
762	        extra_containers=[
763	            {
764	                'name': 'crontab',
765	                'image': 'supercronic',
766	                'command': ['/usr/local/bin/supercronic', '/etc/crontab']
767	            }
768	        ]
769	    )) == {
770	        "metadata": {
771	            "name": "test",
772	            "annotations": {},
773	            "labels": {},
774	        },
775	        "spec": {
776	            'automountServiceAccountToken': False,
777	            "containers": [
778	                {
779	                    "env": [],
780	                    "name": "notebook",
781	                    "image": "jupyter/singleuser:latest",
782	                    "imagePullPolicy": "IfNotPresent",
783	                    "args": ["jupyterhub-singleuser"],
784	                    "ports": [{
785	                        "name": "notebook-port",
786	                        "containerPort": 8888
787	                    }],
788	                    'volumeMounts': [],
789	                    "resources": {
790	                        "limits": {
791	                        },
792	                        "requests": {
793	                        }
794	                    },
795	                },
796	                {
797	                    'name': 'crontab',
798	                    'image': 'supercronic',
799	                    'command': ['/usr/local/bin/supercronic', '/etc/crontab']
800	                }
801	            ],
802	            'restartPolicy': 'OnFailure',
803	            'volumes': [],
804	        },
805	        "kind": "Pod",
806	        "apiVersion": "v1"
807	    }
808	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:813:4
812	    """
813	    assert api_client.sanitize_for_serialization(make_pod(
814	        name='test',
815	        image='jupyter/singleuser:latest',
816	        cpu_limit=2,
817	        cpu_guarantee=1,
818	        extra_resource_limits={"nvidia.com/gpu": "5", "k8s.io/new-resource": "1"},
819	        extra_resource_guarantees={"nvidia.com/gpu": "3"},
820	        cmd=['jupyterhub-singleuser'],
821	        port=8888,
822	        mem_limit='1Gi',
823	        mem_guarantee='512Mi',
824	        image_pull_policy='IfNotPresent',
825	        image_pull_secret="myregistrykey",
826	        node_selector={"disk": "ssd"}
827	    )) == {
828	        "metadata": {
829	            "name": "test",
830	            "annotations": {},
831	            "labels": {},
832	        },
833	        "spec": {
834	            'automountServiceAccountToken': False,
835	            "imagePullSecrets": [{"name": "myregistrykey"}],
836	            "nodeSelector": {"disk": "ssd"},
837	            "containers": [
838	                {
839	                    "env": [],
840	                    "name": "notebook",
841	                    "image": "jupyter/singleuser:latest",
842	                    "imagePullPolicy": "IfNotPresent",
843	                    "args": ["jupyterhub-singleuser"],
844	                    "ports": [{
845	                        "name": "notebook-port",
846	                        "containerPort": 8888
847	                    }],
848	                    'volumeMounts': [],
849	                    "resources": {
850	                        "limits": {
851	                            "cpu": 2,
852	                            "memory": '1Gi',
853	                            "nvidia.com/gpu": "5",
854	                            "k8s.io/new-resource": "1"
855	                        },
856	                        "requests": {
857	                            "cpu": 1,
858	                            "memory": '512Mi',
859	                            "nvidia.com/gpu": "3"
860	                        }
861	                    }
862	                }
863	            ],
864	            'restartPolicy': 'OnFailure',
865	            'volumes': [],
866	        },
867	        "kind": "Pod",
868	        "apiVersion": "v1"
869	    }
870	

--------------------------------------------------
>> Issue: [B106:hardcoded_password_funcarg] Possible hardcoded password: 'myregistrykey'
   Severity: Low   Confidence: Medium
   CWE: CWE-259 (https://cwe.mitre.org/data/definitions/259.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b106_hardcoded_password_funcarg.html
   Location: .\tests\test_objects.py:813:49
812	    """
813	    assert api_client.sanitize_for_serialization(make_pod(
814	        name='test',
815	        image='jupyter/singleuser:latest',
816	        cpu_limit=2,
817	        cpu_guarantee=1,
818	        extra_resource_limits={"nvidia.com/gpu": "5", "k8s.io/new-resource": "1"},
819	        extra_resource_guarantees={"nvidia.com/gpu": "3"},
820	        cmd=['jupyterhub-singleuser'],
821	        port=8888,
822	        mem_limit='1Gi',
823	        mem_guarantee='512Mi',
824	        image_pull_policy='IfNotPresent',
825	        image_pull_secret="myregistrykey",
826	        node_selector={"disk": "ssd"}
827	    )) == {
828	        "metadata": {

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:875:4
874	    """
875	    assert api_client.sanitize_for_serialization(make_pvc(
876	        name='test',
877	        storage_class=None,
878	        access_modes=[],
879	        selector=None,
880	        storage=None,
881	        labels={}
882	    )) == {
883	        'kind': 'PersistentVolumeClaim',
884	        'apiVersion': 'v1',
885	        'metadata': {
886	            'name': 'test',
887	            'annotations': {},
888	            'labels': {}
889	        },
890	        'spec': {
891	            'accessModes': [],
892	            'resources': {
893	                'requests': {
894	                    'storage': None
895	                }
896	            }
897	        }
898	    }
899	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:905:4
904	    """
905	    assert api_client.sanitize_for_serialization(make_pvc(
906	        name='test',
907	        storage_class='',
908	        access_modes=[],
909	        selector=None,
910	        storage=None,
911	        labels={}
912	    )) == {
913	        'kind': 'PersistentVolumeClaim',
914	        'apiVersion': 'v1',
915	        'metadata': {
916	            'name': 'test',
917	            'annotations': {
918	                'volume.beta.kubernetes.io/storage-class': ''
919	            },
920	            'labels': {}
921	        },
922	        'spec': {
923	            'accessModes': [],
924	            'resources': {
925	                'requests': {
926	                    'storage': None
927	                }
928	            },
929	            'storageClassName': ''
930	        }
931	    }
932	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:938:4
937	    """
938	    assert api_client.sanitize_for_serialization(make_pvc(
939	        name='test',
940	        storage_class='gce-standard-storage',
941	        access_modes=['ReadWriteOnce'],
942	        selector={'matchLabels':{'content': 'jupyter'}},
943	        storage='10Gi',
944	        labels={'key': 'value'}
945	    )) == {
946	        'kind': 'PersistentVolumeClaim',
947	        'apiVersion': 'v1',
948	        'metadata': {
949	            'name': 'test',
950	            'annotations': {
951	                'volume.beta.kubernetes.io/storage-class': 'gce-standard-storage'
952	            },
953	            'labels': {
954	                'key': 'value'
955	            }
956	        },
957	        'spec': {
958	            'storageClassName': 'gce-standard-storage',
959	            'accessModes': ['ReadWriteOnce'],
960	            'selector': {
961	                'matchLabels': {
962	                    'content': 'jupyter'
963	                }
964	            },
965	            'resources': {
966	                'requests': {
967	                    'storage': '10Gi'
968	                }
969	            }
970	        }
971	    }
972	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:978:4
977	    """
978	    assert api_client.sanitize_for_serialization(make_pod(
979	        name='test',
980	        image='jupyter/singleuser:latest',
981	        cmd=['jupyterhub-singleuser'],
982	        port=8888,
983	        image_pull_policy='IfNotPresent',
984	        service_account='test'
985	    )) == {
986	        "metadata": {
987	            "name": "test",
988	            "labels": {},
989	            "annotations": {}
990	        },
991	        "spec": {
992	            "containers": [
993	                {
994	                    "env": [],
995	                    "name": "notebook",
996	                    "image": "jupyter/singleuser:latest",
997	                    "imagePullPolicy": "IfNotPresent",
998	                    "args": ["jupyterhub-singleuser"],
999	                    "ports": [{
1000	                        "name": "notebook-port",
1001	                        "containerPort": 8888
1002	                    }],
1003	                    'volumeMounts': [],
1004	                    "resources": {
1005	                        "limits": {},
1006	                        "requests": {}
1007	                    }
1008	                }
1009	            ],
1010	            'restartPolicy': 'OnFailure',
1011	            'volumes': [],
1012	            'serviceAccountName': 'test'
1013	        },
1014	        "kind": "Pod",
1015	        "apiVersion": "v1"
1016	    }
1017	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:1023:4
1022	    """
1023	    assert api_client.sanitize_for_serialization(make_pod(
1024	        name='test',
1025	        image='jupyter/singleuser:latest',
1026	        cmd=['jupyterhub-singleuser'],
1027	        port=8888,
1028	        image_pull_policy='IfNotPresent',
1029	        scheduler_name='my-custom-scheduler'
1030	    )) == {
1031	        "metadata": {
1032	            "name": "test",
1033	            "annotations": {},
1034	            "labels": {},
1035	        },
1036	        "spec": {
1037	            'automountServiceAccountToken': False,
1038	            "containers": [
1039	                {
1040	                    "env": [],
1041	                    "name": "notebook",
1042	                    "image": "jupyter/singleuser:latest",
1043	                    "imagePullPolicy": "IfNotPresent",
1044	                    "args": ["jupyterhub-singleuser"],
1045	                    "ports": [{
1046	                        "name": "notebook-port",
1047	                        "containerPort": 8888
1048	                    }],
1049	                    'volumeMounts': [],
1050	                    "resources": {
1051	                        "limits": {},
1052	                        "requests": {}
1053	                    }
1054	                }
1055	            ],
1056	            'restartPolicy': 'OnFailure',
1057	            'volumes': [],
1058	            'schedulerName': 'my-custom-scheduler',
1059	        },
1060	        "kind": "Pod",
1061	        "apiVersion": "v1"
1062	    }
1063	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:1082:4
1081	    ]
1082	    assert api_client.sanitize_for_serialization(make_pod(
1083	        name='test',
1084	        image='jupyter/singleuser:latest',
1085	        cmd=['jupyterhub-singleuser'],
1086	        port=8888,
1087	        image_pull_policy='IfNotPresent',
1088	        tolerations=tolerations
1089	    )) == {
1090	        "metadata": {
1091	            "name": "test",
1092	            "labels": {},
1093	            "annotations": {}
1094	        },
1095	        "spec": {
1096	            "automountServiceAccountToken": False,
1097	            "containers": [
1098	                {
1099	                    "env": [],
1100	                    "name": "notebook",
1101	                    "image": "jupyter/singleuser:latest",
1102	                    "imagePullPolicy": "IfNotPresent",
1103	                    "args": ["jupyterhub-singleuser"],
1104	                    "ports": [{
1105	                        "name": "notebook-port",
1106	                        "containerPort": 8888
1107	                    }],
1108	                    'volumeMounts': [],
1109	                    "resources": {
1110	                        "limits": {},
1111	                        "requests": {}
1112	                    }
1113	                }
1114	            ],
1115	            'restartPolicy': 'OnFailure',
1116	            'volumes': [],
1117	            'tolerations': tolerations
1118	        },
1119	        "kind": "Pod",
1120	        "apiVersion": "v1"
1121	    }
1122	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:1138:4
1137	    }]
1138	    assert api_client.sanitize_for_serialization(make_pod(
1139	        name='test',
1140	        image='jupyter/singleuser:latest',
1141	        cmd=['jupyterhub-singleuser'],
1142	        port=8888,
1143	        image_pull_policy='IfNotPresent',
1144	        node_affinity_preferred=node_affinity_preferred
1145	    )) == {
1146	        "metadata": {
1147	            "name": "test",
1148	            "labels": {},
1149	            "annotations": {}
1150	        },
1151	        "spec": {
1152	            "automountServiceAccountToken": False,
1153	            "containers": [
1154	                {
1155	                    "env": [],
1156	                    "name": "notebook",
1157	                    "image": "jupyter/singleuser:latest",
1158	                    "imagePullPolicy": "IfNotPresent",
1159	                    "args": ["jupyterhub-singleuser"],
1160	                    "ports": [{
1161	                        "name": "notebook-port",
1162	                        "containerPort": 8888
1163	                    }],
1164	                    'volumeMounts': [],
1165	                    "resources": {
1166	                        "limits": {},
1167	                        "requests": {}
1168	                    }
1169	                }
1170	            ],
1171	            'restartPolicy': 'OnFailure',
1172	            "volumes": [],
1173	            "affinity": {
1174	                "nodeAffinity": {
1175	                    "preferredDuringSchedulingIgnoredDuringExecution": node_affinity_preferred
1176	                }
1177	            }
1178	        },
1179	        "kind": "Pod",
1180	        "apiVersion": "v1"
1181	    }
1182	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:1195:4
1194	    }]
1195	    assert api_client.sanitize_for_serialization(make_pod(
1196	        name='test',
1197	        image='jupyter/singleuser:latest',
1198	        cmd=['jupyterhub-singleuser'],
1199	        port=8888,
1200	        image_pull_policy='IfNotPresent',
1201	        node_affinity_required=node_affinity_required
1202	    )) == {
1203	        "metadata": {
1204	            "name": "test",
1205	            "labels": {},
1206	            "annotations": {}
1207	        },
1208	        "spec": {
1209	            "automountServiceAccountToken": False,
1210	            "containers": [
1211	                {
1212	                    "env": [],
1213	                    "name": "notebook",
1214	                    "image": "jupyter/singleuser:latest",
1215	                    "imagePullPolicy": "IfNotPresent",
1216	                    "args": ["jupyterhub-singleuser"],
1217	                    "ports": [{
1218	                        "name": "notebook-port",
1219	                        "containerPort": 8888
1220	                    }],
1221	                    'volumeMounts': [],
1222	                    "resources": {
1223	                        "limits": {},
1224	                        "requests": {}
1225	                    }
1226	                }
1227	            ],
1228	            'restartPolicy': 'OnFailure',
1229	            "volumes": [],
1230	            "affinity": {
1231	                "nodeAffinity": {
1232	                    "requiredDuringSchedulingIgnoredDuringExecution": {
1233	                        "nodeSelectorTerms": node_affinity_required
1234	                    }
1235	                }
1236	            }
1237	        },
1238	        "kind": "Pod",
1239	        "apiVersion": "v1"
1240	    }
1241	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:1260:4
1259	    }]
1260	    assert api_client.sanitize_for_serialization(make_pod(
1261	        name='test',
1262	        image='jupyter/singleuser:latest',
1263	        cmd=['jupyterhub-singleuser'],
1264	        port=8888,
1265	        image_pull_policy='IfNotPresent',
1266	        pod_affinity_preferred=pod_affinity_preferred
1267	    )) == {
1268	        "metadata": {
1269	            "name": "test",
1270	            "labels": {},
1271	            "annotations": {}
1272	        },
1273	        "spec": {
1274	            "automountServiceAccountToken": False,
1275	            "containers": [
1276	                {
1277	                    "env": [],
1278	                    "name": "notebook",
1279	                    "image": "jupyter/singleuser:latest",
1280	                    "imagePullPolicy": "IfNotPresent",
1281	                    "args": ["jupyterhub-singleuser"],
1282	                    "ports": [{
1283	                        "name": "notebook-port",
1284	                        "containerPort": 8888
1285	                    }],
1286	                    'volumeMounts': [],
1287	                    "resources": {
1288	                        "limits": {},
1289	                        "requests": {}
1290	                    }
1291	                }
1292	            ],
1293	            'restartPolicy': 'OnFailure',
1294	            "volumes": [],
1295	            "affinity": {
1296	                "podAffinity": {
1297	                    "preferredDuringSchedulingIgnoredDuringExecution": pod_affinity_preferred
1298	                }
1299	            }
1300	        },
1301	        "kind": "Pod",
1302	        "apiVersion": "v1"
1303	    }
1304	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:1320:4
1319	    }]
1320	    assert api_client.sanitize_for_serialization(make_pod(
1321	        name='test',
1322	        image='jupyter/singleuser:latest',
1323	        cmd=['jupyterhub-singleuser'],
1324	        port=8888,
1325	        image_pull_policy='IfNotPresent',
1326	        pod_affinity_required=pod_affinity_required
1327	    )) == {
1328	        "metadata": {
1329	            "name": "test",
1330	            "labels": {},
1331	            "annotations": {}
1332	        },
1333	        "spec": {
1334	            "automountServiceAccountToken": False,
1335	            "containers": [
1336	                {
1337	                    "env": [],
1338	                    "name": "notebook",
1339	                    "image": "jupyter/singleuser:latest",
1340	                    "imagePullPolicy": "IfNotPresent",
1341	                    "args": ["jupyterhub-singleuser"],
1342	                    "ports": [{
1343	                        "name": "notebook-port",
1344	                        "containerPort": 8888
1345	                    }],
1346	                    'volumeMounts': [],
1347	                    "resources": {
1348	                        "limits": {},
1349	                        "requests": {}
1350	                    }
1351	                }
1352	            ],
1353	            'restartPolicy': 'OnFailure',
1354	            "volumes": [],
1355	            "affinity": {
1356	                "podAffinity": {
1357	                    "requiredDuringSchedulingIgnoredDuringExecution": pod_affinity_required
1358	                }
1359	            }
1360	        },
1361	        "kind": "Pod",
1362	        "apiVersion": "v1"
1363	    }
1364	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:1383:4
1382	    }]
1383	    assert api_client.sanitize_for_serialization(make_pod(
1384	        name='test',
1385	        image='jupyter/singleuser:latest',
1386	        cmd=['jupyterhub-singleuser'],
1387	        port=8888,
1388	        image_pull_policy='IfNotPresent',
1389	        pod_anti_affinity_preferred=pod_anti_affinity_preferred
1390	    )) == {
1391	        "metadata": {
1392	            "name": "test",
1393	            "labels": {},
1394	            "annotations": {}
1395	        },
1396	        "spec": {
1397	            "automountServiceAccountToken": False,
1398	            "containers": [
1399	                {
1400	                    "env": [],
1401	                    "name": "notebook",
1402	                    "image": "jupyter/singleuser:latest",
1403	                    "imagePullPolicy": "IfNotPresent",
1404	                    "args": ["jupyterhub-singleuser"],
1405	                    "ports": [{
1406	                        "name": "notebook-port",
1407	                        "containerPort": 8888
1408	                    }],
1409	                    'volumeMounts': [],
1410	                    "resources": {
1411	                        "limits": {},
1412	                        "requests": {}
1413	                    }
1414	                }
1415	            ],
1416	            'restartPolicy': 'OnFailure',
1417	            "volumes": [],
1418	            "affinity": {
1419	                "podAntiAffinity": {
1420	                    "preferredDuringSchedulingIgnoredDuringExecution": pod_anti_affinity_preferred
1421	                }
1422	            }
1423	        },
1424	        "kind": "Pod",
1425	        "apiVersion": "v1"
1426	    }
1427	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:1443:4
1442	    }]
1443	    assert api_client.sanitize_for_serialization(make_pod(
1444	        name='test',
1445	        image='jupyter/singleuser:latest',
1446	        cmd=['jupyterhub-singleuser'],
1447	        port=8888,
1448	        image_pull_policy='IfNotPresent',
1449	        pod_anti_affinity_required=pod_anti_affinity_required
1450	    )) == {
1451	        "metadata": {
1452	            "name": "test",
1453	            "labels": {},
1454	            "annotations": {}
1455	        },
1456	        "spec": {
1457	            "automountServiceAccountToken": False,
1458	            "containers": [
1459	                {
1460	                    "env": [],
1461	                    "name": "notebook",
1462	                    "image": "jupyter/singleuser:latest",
1463	                    "imagePullPolicy": "IfNotPresent",
1464	                    "args": ["jupyterhub-singleuser"],
1465	                    "ports": [{
1466	                        "name": "notebook-port",
1467	                        "containerPort": 8888
1468	                    }],
1469	                    'volumeMounts': [],
1470	                    "resources": {
1471	                        "limits": {},
1472	                        "requests": {}
1473	                    }
1474	                }
1475	            ],
1476	            'restartPolicy': 'OnFailure',
1477	            "volumes": [],
1478	            "affinity": {
1479	                "podAntiAffinity": {
1480	                    "requiredDuringSchedulingIgnoredDuringExecution": pod_anti_affinity_required
1481	                }
1482	            }
1483	        },
1484	        "kind": "Pod",
1485	        "apiVersion": "v1"
1486	    }
1487	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:1493:4
1492	    """
1493	    assert api_client.sanitize_for_serialization(make_pod(
1494	        name='test',
1495	        image='jupyter/singleuser:latest',
1496	        cmd=['jupyterhub-singleuser'],
1497	        port=8888,
1498	        image_pull_policy='IfNotPresent',
1499	        priority_class_name='my-custom-priority-class'
1500	    )) == {
1501	        "metadata": {
1502	            "name": "test",
1503	            "annotations": {},
1504	            "labels": {},
1505	        },
1506	        "spec": {
1507	            'automountServiceAccountToken': False,
1508	            "containers": [
1509	                {
1510	                    "env": [],
1511	                    "name": "notebook",
1512	                    "image": "jupyter/singleuser:latest",
1513	                    "imagePullPolicy": "IfNotPresent",
1514	                    "args": ["jupyterhub-singleuser"],
1515	                    "ports": [{
1516	                        "name": "notebook-port",
1517	                        "containerPort": 8888
1518	                    }],
1519	                    'volumeMounts': [],
1520	                    "resources": {
1521	                        "limits": {},
1522	                        "requests": {}
1523	                    }
1524	                }
1525	            ],
1526	            'restartPolicy': 'OnFailure',
1527	            'volumes': [],
1528	            'priorityClassName': 'my-custom-priority-class',
1529	        },
1530	        "kind": "Pod",
1531	        "apiVersion": "v1"
1532	    }
1533	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:1545:4
1544	
1545	    assert endpoint == {
1546	        'kind': 'Endpoints',
1547	        'metadata': {
1548	            'annotations': {
1549	                'hub.jupyter.org/proxy-data': '{"mykey": "myvalue"}',
1550	                'hub.jupyter.org/proxy-routespec': '/my-path',
1551	                'hub.jupyter.org/proxy-target': 'http://192.168.1.10:9000'},
1552	            'labels': {
1553	                'component': 'singleuser-server',
1554	                'heritage': 'jupyterhub',
1555	                'hub.jupyter.org/proxy-route': 'true'},
1556	            'name': 'jupyter-test'
1557	        },
1558	        'subsets': [
1559	            {'addresses': [{'ip': '192.168.1.10'}
1560	        ],
1561	        'ports': [{'port': 9000}]}]
1562	    }
1563	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:1564:4
1563	
1564	    assert service == {
1565	        'kind': 'Service',
1566	        'metadata': {
1567	            'annotations': {
1568	                'hub.jupyter.org/proxy-data': '{"mykey": "myvalue"}',
1569	                'hub.jupyter.org/proxy-routespec': '/my-path',
1570	                'hub.jupyter.org/proxy-target': 'http://192.168.1.10:9000'},
1571	            'labels': {
1572	                'component': 'singleuser-server',
1573	                'heritage': 'jupyterhub',
1574	                'hub.jupyter.org/proxy-route': 'true'},
1575	            'name': 'jupyter-test'
1576	        },
1577	        'spec': {
1578	            'externalName': '',
1579	            'ports': [{'port': 9000, 'targetPort': 9000}],
1580	            'type': 'ClusterIP'
1581	        }
1582	    }
1583	    assert ingress ==  {

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_objects.py:1583:4
1582	    }
1583	    assert ingress ==  {
1584	        'kind': 'Ingress',
1585	        'metadata': {
1586	            'annotations': {
1587	                'hub.jupyter.org/proxy-data': '{"mykey": "myvalue"}',
1588	                'hub.jupyter.org/proxy-routespec': '/my-path',
1589	                'hub.jupyter.org/proxy-target': 'http://192.168.1.10:9000'},
1590	            'labels': {
1591	                'component': 'singleuser-server',
1592	                'heritage': 'jupyterhub',
1593	                'hub.jupyter.org/proxy-route': 'true'},
1594	            'name': 'jupyter-test'},
1595	        'spec': {
1596	            'rules': [
1597	                {'http': {
1598	                    'paths': [
1599	                        {
1600	                            'backend': {
1601	                                'serviceName': 'jupyter-test',
1602	                                'servicePort': 9000},
1603	                            'path': '/my-path'
1604	                        }
1605	                    ]}
1606	                }]
1607	            }
1608	        }

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:44:8
43	        spawner = KubeSpawner(hub=Hub(), config=c, _mock=True)
44	        assert spawner.hub.connect_ip == '10.0.1.1'
45	        assert spawner.fs_gid == 10

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:45:8
44	        assert spawner.hub.connect_ip == '10.0.1.1'
45	        assert spawner.fs_gid == 10
46	        assert spawner.extra_pod_config == extra_pod_config

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:46:8
45	        assert spawner.fs_gid == 10
46	        assert spawner.extra_pod_config == extra_pod_config
47	        # deprecated access gets the right values, too

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:48:8
47	        # deprecated access gets the right values, too
48	        assert spawner.singleuser_fs_gid == spawner.fs_gid
49	        assert spawner.singleuser_extra_pod_config == spawner.extra_pod_config

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:49:8
48	        assert spawner.singleuser_fs_gid == spawner.fs_gid
49	        assert spawner.singleuser_extra_pod_config == spawner.extra_pod_config
50	        assert spawner.image == 'abc:123'

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:50:8
49	        assert spawner.singleuser_extra_pod_config == spawner.extra_pod_config
50	        assert spawner.image == 'abc:123'
51	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:57:4
56	    spawner.singleuser_uid = 10
57	    assert spawner.uid == 10
58	    assert spawner.singleuser_uid == 10

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:58:4
57	    assert spawner.uid == 10
58	    assert spawner.singleuser_uid == 10
59	    spawner.uid = 20

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:60:4
59	    spawner.uid = 20
60	    assert spawner.uid == 20
61	    assert spawner.singleuser_uid == 20

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:61:4
60	    assert spawner.uid == 20
61	    assert spawner.singleuser_uid == 20
62	    spawner.image_spec = 'abc:latest'

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:63:4
62	    spawner.image_spec = 'abc:latest'
63	    assert spawner.image_spec == 'abc:latest'
64	    assert spawner.image == 'abc:latest'

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:64:4
63	    assert spawner.image_spec == 'abc:latest'
64	    assert spawner.image == 'abc:latest'
65	    spawner.image = 'abc:123'

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:66:4
65	    spawner.image = 'abc:123'
66	    assert spawner.image_spec == 'abc:123'
67	    assert spawner.image == 'abc:123'

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:67:4
66	    assert spawner.image_spec == 'abc:123'
67	    assert spawner.image == 'abc:123'
68	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:78:4
77	    spawner.uid = 10
78	    assert spawner.uid == 10
79	    spawner.uid = set_id

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:80:4
79	    spawner.uid = set_id
80	    assert spawner.uid == set_id
81	    spawner.uid = None

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:82:4
81	    spawner.uid = None
82	    assert spawner.uid == None
83	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:85:4
84	    spawner.gid = 20
85	    assert spawner.gid == 20
86	    spawner.gid = set_id

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:87:4
86	    spawner.gid = set_id
87	    assert spawner.gid == set_id
88	    spawner.gid = None

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:89:4
88	    spawner.gid = None
89	    assert spawner.gid == None
90	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:92:4
91	    spawner.fs_gid = 30
92	    assert spawner.fs_gid == 30
93	    spawner.fs_gid = set_id

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:94:4
93	    spawner.fs_gid = set_id
94	    assert spawner.fs_gid == set_id
95	    spawner.fs_gid = None

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:96:4
95	    spawner.fs_gid = None
96	    assert spawner.fs_gid == None
97	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:104:4
103	    status = await spawner.poll()
104	    assert isinstance(status, int)
105	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:111:4
110	    pod_names = [p.metadata.name for p in pods]
111	    assert "jupyter-%s" % spawner.user.name in pod_names
112	    # verify poll while running

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:114:4
113	    status = await spawner.poll()
114	    assert status is None
115	    # stop the pod

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:121:4
120	    pod_names = [p.metadata.name for p in pods]
121	    assert "jupyter-%s" % spawner.user.name not in pod_names
122	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:125:4
124	    status = await spawner.poll()
125	    assert isinstance(status, int)
126	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:133:4
132	    status = await spawner.poll()
133	    assert isinstance(status, int)
134	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:140:8
139	    async for progress in spawner.progress():
140	        assert 'progress' in progress
141	        assert isinstance(progress['progress'], int)

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:141:8
140	        assert 'progress' in progress
141	        assert isinstance(progress['progress'], int)
142	        assert 'message' in progress

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:142:8
141	        assert isinstance(progress['progress'], int)
142	        assert 'message' in progress
143	        assert isinstance(progress['message'], str)

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:143:8
142	        assert 'message' in progress
143	        assert isinstance(progress['message'], str)
144	        messages.append(progress['message'])

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:149:4
148	            json.dump(progress, devnull)
149	    assert 'Started container' in '\n'.join(messages)
150	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:187:4
186	    # and tests the return value's types
187	    assert isinstance(manifest, V1Pod)
188	    assert isinstance(manifest.spec.init_containers[0], V1Container)

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:188:4
187	    assert isinstance(manifest, V1Pod)
188	    assert isinstance(manifest.spec.init_containers[0], V1Container)
189	    assert isinstance(manifest.spec.init_containers[1], V1Container)

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:189:4
188	    assert isinstance(manifest.spec.init_containers[0], V1Container)
189	    assert isinstance(manifest.spec.init_containers[1], V1Container)
190	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:222:4
221	    spawner.user_options = spawner.options_from_form({'profile': [_test_profiles[1]['slug']]})
222	    assert spawner.user_options == {
223	        'profile': _test_profiles[1]['slug'],
224	    }
225	    # nothing should be loaded yet

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:226:4
225	    # nothing should be loaded yet
226	    assert spawner.cpu_limit is None
227	    await spawner.load_user_options()

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:229:8
228	    for key, value in _test_profiles[1]['kubespawner_override'].items():
229	        assert getattr(spawner, key) == value
230	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:240:4
239	    # nothing should be loaded yet
240	    assert spawner.cpu_limit is None
241	    await spawner.load_user_options()

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:243:8
242	    for key, value in _test_profiles[1]['kubespawner_override'].items():
243	        assert getattr(spawner, key) == value
244	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:252:4
251	    # nothing should be loaded yet
252	    assert spawner.cpu_limit is None
253	    await spawner.load_user_options()

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:255:8
254	    for key, value in _test_profiles[0]['kubespawner_override'].items():
255	        assert getattr(spawner, key) == value
256	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:269:4
268	
269	    assert spawner.pod_name == "jupyter-user"
270	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:284:4
283	
284	    assert spawner.pod_name == "jupyter-user--server"
285	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:299:4
298	
299	    assert spawner.pod_name == "jupyter-some-5fuser--test-2dserver-21"
300	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:310:4
309	
310	    assert spawner.pod_name == "prefix-some-5fuser-suffix"
311	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:326:4
325	    spawner = KubeSpawner(user=user1, orm_spawner=orm_spawner1, _mock=True)
326	    assert spawner.pod_name == "jupyter-user-2dhas-2ddash"
327	    named_spawner = KubeSpawner(user=user2, orm_spawner=orm_spawner2, _mock=True)

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:328:4
327	    named_spawner = KubeSpawner(user=user2, orm_spawner=orm_spawner2, _mock=True)
328	    assert named_spawner.pod_name == "jupyter-user-2dhas--2ddash"
329	    assert spawner.pod_name != named_spawner.pod_name

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_spawner.py:329:4
328	    assert named_spawner.pod_name == "jupyter-user-2dhas--2ddash"
329	    assert spawner.pod_name != named_spawner.pod_name

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_utils.py:21:4
20	    """Verifies fundamental behavior"""
21	    assert _get_k8s_model_attribute(V1PodSpec, "service_account") == "service_account"
22	    assert _get_k8s_model_attribute(V1PodSpec, "serviceAccount") == "service_account"

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_utils.py:22:4
21	    assert _get_k8s_model_attribute(V1PodSpec, "service_account") == "service_account"
22	    assert _get_k8s_model_attribute(V1PodSpec, "serviceAccount") == "service_account"
23	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_utils.py:44:4
43	    
44	    assert target == manually_updated_target
45	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_utils.py:56:4
55	    
56	    assert mock_locker.most_recent_warning.find("'notebook_container.name' current value: 'mock_name' is overridden with 'new_mock_name', which is the value of 'extra_container_config.name'") != -1
57	    assert mock_locker.warning_count == 1

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_utils.py:57:4
56	    assert mock_locker.most_recent_warning.find("'notebook_container.name' current value: 'mock_name' is overridden with 'new_mock_name', which is the value of 'extra_container_config.name'") != -1
57	    assert mock_locker.warning_count == 1
58	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_utils.py:75:4
74	    
75	    assert isinstance(v1_lifecycle_from_dict, V1Lifecycle)
76	    assert v1_lifecycle_from_dict.to_dict() == {

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_utils.py:76:4
75	    assert isinstance(v1_lifecycle_from_dict, V1Lifecycle)
76	    assert v1_lifecycle_from_dict.to_dict() == {
77	        'post_start': None,
78	        'pre_stop': {
79	            'exec': {
80	                'command': ['/bin/sh', 'test']
81	            }
82	        },
83	    }
84	

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_utils.py:88:4
87	
88	    assert isinstance(v1_lifecycle_from_model_object, V1Lifecycle)
89	    assert v1_lifecycle_from_model_object.to_dict() == {

--------------------------------------------------
>> Issue: [B101:assert_used] Use of assert detected. The enclosed code will be removed when compiling to optimised byte code.
   Severity: Low   Confidence: High
   CWE: CWE-703 (https://cwe.mitre.org/data/definitions/703.html)
   More Info: https://bandit.readthedocs.io/en/1.7.7/plugins/b101_assert_used.html
   Location: .\tests\test_utils.py:89:4
88	    assert isinstance(v1_lifecycle_from_model_object, V1Lifecycle)
89	    assert v1_lifecycle_from_model_object.to_dict() == {
90	        'post_start': None,
91	        'pre_stop': {
92	            'exec': {
93	                'command': ['/bin/sh', 'test']
94	            }
95	        },
96	    }

--------------------------------------------------

Code scanned:
	Total lines of code: 4775
	Total lines skipped (#nosec): 0
	Total potential issues skipped due to specifically being disabled (e.g., #nosec BXXX): 0

Run metrics:
	Total issues (by severity):
		Undefined: 0
		Low: 95
		Medium: 2
		High: 1
	Total issues (by confidence):
		Undefined: 0
		Low: 0
		Medium: 4
		High: 94
Files skipped (0):
