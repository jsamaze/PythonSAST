===========================================================
                                      .___ __  __   
          _________________  __ __  __| _/|__|/  |_ 
         / ___\_` __ \__  \ |  |  \/ __ | | \\_  __\
        / /_/  >  | \// __ \|  |  / /_/ | |  ||  |  
        \___  /|__|  (____  /____/\____ | |__||__|  
       /_____/            \/           \/           
              grep rough audit - static analysis tool
                  v3.5 written by @Wireghoul
=================================[justanotherhacker.com]===
[35m[K/tmp/synapse/docker/build_debian.sh[m[K[36m[K-[m[K[32m[K7[m[K[36m[K-[m[K# Get the codename from distro env
[35m[K/tmp/synapse/docker/build_debian.sh[m[K[36m[K:[m[K[32m[K8[m[K[36m[K:[m[KDIST=[01;31m[K`cut -d ':' -f2 <<< $distro`[m[K
[35m[K/tmp/synapse/docker/build_debian.sh[m[K[36m[K-[m[K[32m[K9[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/synapse/tests/rest/media/v1/test_url_preview.py[m[K[36m[K-[m[K[32m[K279[m[K[36m[K-[m[K
[35m[K/tmp/synapse/tests/rest/media/v1/test_url_preview.py[m[K[36m[K:[m[K[32m[K280[m[K[36m[K:[m[K    def test_ip[01;31m[Kaddr([m[Kself):
[35m[K/tmp/synapse/tests/rest/media/v1/test_url_preview.py[m[K[36m[K-[m[K[32m[K281[m[K[36m[K-[m[K        """
[36m[K##############################################[m[K
[35m[K/tmp/synapse/synapse/config/emailconfig.py[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K            # make sure it's valid
[35m[K/tmp/synapse/synapse/config/emailconfig.py[m[K[36m[K:[m[K[32m[K94[m[K[36m[K:[m[K            parsed = email.utils.parse[01;31m[Kaddr([m[Kself.email_notif_from)
[35m[K/tmp/synapse/synapse/config/emailconfig.py[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K            if parsed[1] == "":
[36m[K##############################################[m[K
[35m[K/tmp/synapse/synapse/handlers/account_validity.py[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K
[35m[K/tmp/synapse/synapse/handlers/account_validity.py[m[K[36m[K:[m[K[32m[K81[m[K[36m[K:[m[K            self._raw_from = email.utils.parse[01;31m[Kaddr([m[Kself._from_string)[1]
[35m[K/tmp/synapse/synapse/handlers/account_validity.py[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/synapse/synapse/handlers/account_validity.py[m[K[36m[K-[m[K[32m[K167[m[K[36m[K-[m[K        for address in addresses:
[35m[K/tmp/synapse/synapse/handlers/account_validity.py[m[K[36m[K:[m[K[32m[K168[m[K[36m[K:[m[K            raw_to = email.utils.parse[01;31m[Kaddr([m[Kaddress)[1]
[35m[K/tmp/synapse/synapse/handlers/account_validity.py[m[K[36m[K-[m[K[32m[K169[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/synapse/synapse/push/mailer.py[m[K[36m[K-[m[K[32m[K317[m[K[36m[K-[m[K
[35m[K/tmp/synapse/synapse/push/mailer.py[m[K[36m[K:[m[K[32m[K318[m[K[36m[K:[m[K        raw_from = email.utils.parse[01;31m[Kaddr([m[Kfrom_string)[1]
[35m[K/tmp/synapse/synapse/push/mailer.py[m[K[36m[K:[m[K[32m[K319[m[K[36m[K:[m[K        raw_to = email.utils.parse[01;31m[Kaddr([m[Kemail_address)[1]
[35m[K/tmp/synapse/synapse/push/mailer.py[m[K[36m[K-[m[K[32m[K320[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/synapse/contrib/purge_api/purge_remote_media.sh[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K###############################################################################
[35m[K/tmp/synapse/contrib/purge_api/purge_remote_media.sh[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K# sql "UPDATE users SET admin=1 [01;31m[KWHERE name LIKE '$[m[KADMIN'"
[35m[K/tmp/synapse/contrib/purge_api/purge_remote_media.sh[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/synapse/contrib/purge_api/purge_remote_media.sh[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K# or internally on the server locally, use this:
[35m[K/tmp/synapse/contrib/purge_api/purge_remote_media.sh[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[KTOKEN=$(sql "SELECT token FROM access_tokens [01;31m[KWHERE user_id='$ADMIN'[m[K ORDER BY id DESC LIMIT 1")
[35m[K/tmp/synapse/contrib/purge_api/purge_remote_media.sh[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/synapse/contrib/purge_api/purge_history.sh[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K# LAST_MESSAGES=1000
[35m[K/tmp/synapse/contrib/purge_api/purge_history.sh[m[K[36m[K:[m[K[32m[K50[m[K[36m[K:[m[K# SQL_GET_EVENT="SELECT event_id from events [01;31m[KWHERE type='m.room.message' AND room_id ='$ROOM' ORDER BY received_ts DESC LIMIT 1 offset $(($LAST_MESSAGES[m[K - 1))"
[35m[K/tmp/synapse/contrib/purge_api/purge_history.sh[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/synapse/contrib/purge_api/purge_history.sh[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K###################################################################################################
[35m[K/tmp/synapse/contrib/purge_api/purge_history.sh[m[K[36m[K:[m[K[32m[K59[m[K[36m[K:[m[K# psql -A -t --dbname=synapse -c "UPDATE users SET admin=1 [01;31m[KWHERE name LIKE '$[m[KADMIN'"
[35m[K/tmp/synapse/contrib/purge_api/purge_history.sh[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/synapse/contrib/purge_api/purge_history.sh[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K# or internally on the server locally, use this:
[35m[K/tmp/synapse/contrib/purge_api/purge_history.sh[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[KTOKEN=$(sql "SELECT token FROM access_tokens [01;31m[KWHERE user_id='$ADMIN'[m[K ORDER BY id DESC LIMIT 1")
[35m[K/tmp/synapse/contrib/purge_api/purge_history.sh[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[KAUTH="Authorization: Bearer $TOKEN"
[36m[K##############################################[m[K
[35m[K/tmp/synapse/contrib/purge_api/purge_history.sh[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K    # for postgres:
[35m[K/tmp/synapse/contrib/purge_api/purge_history.sh[m[K[36m[K:[m[K[32m[K96[m[K[36m[K:[m[K    sql "SELECT * FROM room_aliases [01;31m[KWHERE room_id='$ROOM'"[m[K
[35m[K/tmp/synapse/contrib/purge_api/purge_history.sh[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K    echo "get event..."
[35m[K/tmp/synapse/contrib/purge_api/purge_history.sh[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K    # for postgres:
[35m[K/tmp/synapse/contrib/purge_api/purge_history.sh[m[K[36m[K:[m[K[32m[K99[m[K[36m[K:[m[K    EVENT_ID=$(sql "SELECT event_id FROM events [01;31m[KWHERE type='m.room.message' AND received_ts<'$UNIX_TIMESTAMP' AND room_id='$ROOM'[m[K ORDER BY received_ts DESC LIMIT 1;")
[35m[K/tmp/synapse/contrib/purge_api/purge_history.sh[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K    if [ "$EVENT_ID" == "" ]; then
[36m[K##############################################[m[K
[35m[K/tmp/synapse/docs/MSC1711_certificates_FAQ.md[m[K[36m[K-[m[K[32m[K349[m[K[36m[K-[m[KSynapse will reload the keys and certificates when it receives a SIGHUP - for
[35m[K/tmp/synapse/docs/MSC1711_certificates_FAQ.md[m[K[36m[K:[m[K[32m[K350[m[K[36m[K:[m[Kexample [01;31m[K`kill -HUP $(cat homeserver.pid)`[m[K. Alternatively, simply restart
[35m[K/tmp/synapse/docs/MSC1711_certificates_FAQ.md[m[K[36m[K-[m[K[32m[K351[m[K[36m[K-[m[KSynapse, though this will result in downtime while it restarts.
[36m[K##############################################[m[K
[35m[K/tmp/synapse/scripts-dev/check_line_terminators.sh[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K# cd to the root of the repository
[35m[K/tmp/synapse/scripts-dev/check_line_terminators.sh[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[Kcd [01;31m[K`dirname $0`[m[K/..
[35m[K/tmp/synapse/scripts-dev/check_line_terminators.sh[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/synapse/scripts-dev/config-lint.sh[m[K[36m[K-[m[K[32m[K5[m[K[36m[K-[m[K# cd to the root of the repository
[35m[K/tmp/synapse/scripts-dev/config-lint.sh[m[K[36m[K:[m[K[32m[K6[m[K[36m[K:[m[Kcd [01;31m[K`dirname $0`[m[K/..
[35m[K/tmp/synapse/scripts-dev/config-lint.sh[m[K[36m[K-[m[K[32m[K7[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/synapse/scripts-dev/generate_sample_config[m[K[36m[K-[m[K[32m[K6[m[K[36m[K-[m[K
[35m[K/tmp/synapse/scripts-dev/generate_sample_config[m[K[36m[K:[m[K[32m[K7[m[K[36m[K:[m[Kcd [01;31m[K`dirname $0`[m[K/..
[35m[K/tmp/synapse/scripts-dev/generate_sample_config[m[K[36m[K-[m[K[32m[K8[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/synapse/scripts-dev/check-newsfragment[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K    # check that any modified newsfiles on this branch end with a full stop.
[35m[K/tmp/synapse/scripts-dev/check-newsfragment[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K    lastchar=[01;31m[K`tr -d '\n' < $f | tail -c 1`[m[K
[35m[K/tmp/synapse/scripts-dev/check-newsfragment[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K    if [ $lastchar != '.' -a $lastchar != '!' ]; then
[36m[K##############################################[m[K
[35m[K/tmp/synapse/CHANGES.md[m[K[36m[K-[m[K[32m[K284[m[K[36m[K-[m[K- Bump mypy-zope to 0.2.13 to fix "Cannot determine consistent method resolution order (MRO)" errors when running mypy a second time. ([\#9678](https://github.com/matrix-org/synapse/issues/9678))
[35m[K/tmp/synapse/CHANGES.md[m[K[36m[K:[m[K[32m[K285[m[K[36m[K:[m[K- Use interpreter from [01;31m[K`$PATH`[m[K via `/usr/bin/env` instead of absolute paths in various scripts. ([\#9689](https://github.com/matrix-org/synapse/issues/9689))
[35m[K/tmp/synapse/CHANGES.md[m[K[36m[K-[m[K[32m[K286[m[K[36m[K-[m[K- Make it possible to use `dmypy`. ([\#9692](https://github.com/matrix-org/synapse/issues/9692))
[36m[K##############################################[m[K
[35m[K/tmp/synapse/CHANGES.md[m[K[36m[K-[m[K[32m[K5325[m[K[36m[K-[m[K
[35m[K/tmp/synapse/CHANGES.md[m[K[36m[K:[m[K[32m[K5326[m[K[36m[K:[m[K-   Add explicit dependency on net[01;31m[Kaddr ([m[K[\#3488](https://github.com/matrix-org/synapse/issues/3488))
[35m[K/tmp/synapse/CHANGES.md[m[K[36m[K-[m[K[32m[K5327[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/synapse/.buildkite/scripts/test_synapse_port_db.sh[m[K[36m[K-[m[K[32m[K9[m[K[36m[K-[m[Kset -xe
[35m[K/tmp/synapse/.buildkite/scripts/test_synapse_port_db.sh[m[K[36m[K:[m[K[32m[K10[m[K[36m[K:[m[Kcd [01;31m[K`dirname $0`[m[K/../..
[35m[K/tmp/synapse/.buildkite/scripts/test_synapse_port_db.sh[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/synapse/debian/test/provision.sh[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K
[35m[K/tmp/synapse/debian/test/provision.sh[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[Kdeb=[01;31m[K`ls /debs/matrix-synapse-py3_*+$(lsb_release -cs)*.deb | sort | tail -n1`[m[K
[35m[K/tmp/synapse/debian/test/provision.sh[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/synapse/debian/build_virtualenv[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K# add a dependency on the right version of python to substvars.
[35m[K/tmp/synapse/debian/build_virtualenv[m[K[36m[K:[m[K[32m[K103[m[K[36m[K:[m[KPYPKG=[01;31m[K`basename $SNAKE`[m[K
[35m[K/tmp/synapse/debian/build_virtualenv[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[Kecho "synapse:pydepends=$PYPKG" >> debian/matrix-synapse-py3.substvars
