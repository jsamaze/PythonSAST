===========================================================
                                      .___ __  __   
          _________________  __ __  __| _/|__|/  |_ 
         / ___\_` __ \__  \ |  |  \/ __ | | \\_  __\
        / /_/  >  | \// __ \|  |  / /_/ | |  ||  |  
        \___  /|__|  (____  /____/\____ | |__||__|  
       /_____/            \/           \/           
              grep rough audit - static analysis tool
                  v3.5 written by @Wireghoul
=================================[justanotherhacker.com]===
[35m[K/tmp/posthog/ee/tasks/send_license_usage.py[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K        events_count = sync_execute(
[35m[K/tmp/posthog/ee/tasks/send_license_usage.py[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[K            "select count(1) from events [01;31m[Kwhere timestamp >= %(date_from)s and timestamp < %(date_to)s and not startsWith(event, '$$')",[m[K
[35m[K/tmp/posthog/ee/tasks/send_license_usage.py[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K            {"date_from": date_from, "date_to": date_to},
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/benchmarks/measure.sh[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K          query NOT LIKE '%query_log%'
[35m[K/tmp/posthog/ee/benchmarks/measure.sh[m[K[36m[K:[m[K[32m[K129[m[K[36m[K:[m[K          [01;31m[KAND query LIKE '%measure.sh:$[m[KRANDOM_QUERY_ID%'
[35m[K/tmp/posthog/ee/benchmarks/measure.sh[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K          AND type = 'QueryFinish'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/benchmarks/measure.sh[m[K[36m[K-[m[K[32m[K149[m[K[36m[K-[m[K      FROM system.query_log
[35m[K/tmp/posthog/ee/benchmarks/measure.sh[m[K[36m[K:[m[K[32m[K150[m[K[36m[K:[m[K      [01;31m[KWHERE query_id='$QUERY_ID'[m[K AND type = 'QueryFinish'
[35m[K/tmp/posthog/ee/benchmarks/measure.sh[m[K[36m[K-[m[K[32m[K151[m[K[36m[K-[m[K      LIMIT 1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/sql/events.py[m[K[36m[K-[m[K[32m[K276[m[K[36m[K-[m[KFROM events
[35m[K/tmp/posthog/ee/clickhouse/sql/events.py[m[K[36m[K:[m[K[32m[K277[m[K[36m[K:[m[K[01;31m[KWHERE events.team_id = %(team_id)s AND event = '$autocapture'[m[K
[35m[K/tmp/posthog/ee/clickhouse/sql/events.py[m[K[36m[K-[m[K[32m[K278[m[K[36m[K-[m[KGROUP BY tag_name, elements_chain
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/sql/events.py[m[K[36m[K-[m[K[32m[K285[m[K[36m[K-[m[KGET_CUSTOM_EVENTS = """
[35m[K/tmp/posthog/ee/clickhouse/sql/events.py[m[K[36m[K:[m[K[32m[K286[m[K[36m[K:[m[KSELECT DISTINCT event FROM events [01;31m[Kwhere team_id = %(team_id)s AND event NOT IN ['$autocapture', '$pageview', '$identify', '$pageleave', '$screen'][m[K
[35m[K/tmp/posthog/ee/clickhouse/sql/events.py[m[K[36m[K-[m[K[32m[K287[m[K[36m[K-[m[K"""
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/funnels/test/test_funnel_correlation.py[m[K[36m[K-[m[K[32m[K644[m[K[36m[K-[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/funnels/test/test_funnel_correlation.py[m[K[36m[K:[m[K[32m[K645[m[K[36m[K:[m[K        # test with [01;31m[K`$all`[m[K as property
[35m[K/tmp/posthog/ee/clickhouse/queries/funnels/test/test_funnel_correlation.py[m[K[36m[K-[m[K[32m[K646[m[K[36m[K-[m[K        # _run property correlation with filter on all properties
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K984[m[K[36m[K-[m[K                        OR event = '$screen'
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K985[m[K[36m[K:[m[K                        [01;31m[KOR NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K986[m[K[36m[K-[m[K                   AND timestamp >= '2012-01-01 00:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K1073[m[K[36m[K-[m[K                        OR event = '$screen'
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K1074[m[K[36m[K:[m[K                        [01;31m[KOR NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K1075[m[K[36m[K-[m[K                   AND timestamp >= '2012-01-01 00:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K1162[m[K[36m[K-[m[K                        OR event = '$screen'
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K1163[m[K[36m[K:[m[K                        [01;31m[KOR NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K1164[m[K[36m[K-[m[K                   AND timestamp >= '2012-01-01 00:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/bin/flamegraph.pl[m[K[36m[K-[m[K[32m[K1090[m[K[36m[K-[m[KINC
[35m[K/tmp/posthog/ee/clickhouse/bin/flamegraph.pl[m[K[36m[K:[m[K[32m[K1091[m[K[36m[K:[m[K$im->[01;31m[Kinclude($inc)[m[K;
[35m[K/tmp/posthog/ee/clickhouse/bin/flamegraph.pl[m[K[36m[K-[m[K[32m[K1092[m[K[36m[K-[m[K$im->filledRectangle(0, 0, $imagewidth, $imageheight, 'url(#background)');
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ButtonWindow.tsx[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K            >
[35m[K/tmp/posthog/frontend/src/toolbar/button/ButtonWindow.tsx[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K                <div className={[01;31m[K`toolbar-info-windows ${name}-button-window`[m[K}>
[35m[K/tmp/posthog/frontend/src/toolbar/button/ButtonWindow.tsx[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K                    <div className="toolbar-info-window-title">
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/icons/Flag.tsx[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K        <svg
[35m[K/tmp/posthog/frontend/src/toolbar/button/icons/Flag.tsx[m[K[36m[K:[m[K[32m[K12[m[K[36m[K:[m[K            className={[01;31m[K`posthog-toolbar-icon-flag${animated ? ' animated' : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/toolbar/button/icons/Flag.tsx[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[K            width="40"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/icons/Fire.tsx[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K        <svg
[35m[K/tmp/posthog/frontend/src/toolbar/button/icons/Fire.tsx[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K            className={[01;31m[K`posthog-toolbar-icon-fire${animated ? ' animated' : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/toolbar/button/icons/Fire.tsx[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K            width="24"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/DraggableButton.tsx[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K                    countFlagsOverridden > 0 ? (
[35m[K/tmp/posthog/frontend/src/toolbar/button/DraggableButton.tsx[m[K[36m[K:[m[K[32m[K81[m[K[36m[K:[m[K                        <span className="overridden-tag">{[01;31m[K`${countFlagsOverridden} overridden`[m[K}</span>
[35m[K/tmp/posthog/frontend/src/toolbar/button/DraggableButton.tsx[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K                    ) : null
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K                              left: 0,
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K:[m[K[32m[K112[m[K[36m[K:[m[K                              transform: [01;31m[K`rotate(${usedRotation}deg) translate(${usedDistance}px, 0px)`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[K                              transformOrigin: '0px 0px',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K-[m[K[32m[K116[m[K[36m[K-[m[K                              animation: animate
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K:[m[K[32m[K117[m[K[36m[K:[m[K                                  ? [01;31m[K`circle-spin-${animationId} ${animationDuration}s linear infinite`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K-[m[K[32m[K118[m[K[36m[K-[m[K                                  : '',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K                                  animation: animate
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K:[m[K[32m[K133[m[K[36m[K:[m[K                                      ? [01;31m[K`circle-spin-${animationId}-reverse ${animationDuration}s linear infinite`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K                                      : '',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K-[m[K[32m[K148[m[K[36m[K-[m[K                        <div
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K:[m[K[32m[K149[m[K[36m[K:[m[K                            className={[01;31m[K`circle-button${className ? `[m[K ${className}` : ''}`}
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K-[m[K[32m[K150[m[K[36m[K-[m[K                            style={{
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K                    color: 'white',
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K:[m[K[32m[K133[m[K[36m[K:[m[K                    transform: [01;31m[K`scale(${0.2 + 0.8 * extensionPercentage})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K                }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K152[m[K[36m[K-[m[K                            borderRadius: 10,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K:[m[K[32m[K153[m[K[36m[K:[m[K                            transform: [01;31m[K`scale(${0.2 + 0.8 * extensionPercentage})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K154[m[K[36m[K-[m[K                        }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K190[m[K[36m[K-[m[K                            transition: 'transform 0.2s, color 0.2s, background: 0.2s',
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K:[m[K[32m[K191[m[K[36m[K:[m[K                            transform: [01;31m[K`scale(${0.2 + 0.8 * inspectExtensionPercentage})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K192[m[K[36m[K-[m[K                            borderRadius,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K216[m[K[36m[K-[m[K                            background: heatmapEnabled ? '#FF9870' : '#FEE3DA',
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K:[m[K[32m[K217[m[K[36m[K:[m[K                            transform: [01;31m[K`scale(${0.2 + 0.8 * heatmapExtensionPercentage})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K                            borderRadius,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K250[m[K[36m[K-[m[K                                    padding: '0 4px',
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K:[m[K[32m[K251[m[K[36m[K:[m[K                                    transform: [01;31m[K`scale(${0.2 + 0.8 * heatmapExtensionPercentage})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K252[m[K[36m[K-[m[K                                    borderRadius: 7,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K276[m[K[36m[K-[m[K                            cursor: 'pointer',
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K:[m[K[32m[K277[m[K[36m[K:[m[K                            transform: [01;31m[K`scale(${0.2 + 0.8 * actionsExtensionPercentage})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K278[m[K[36m[K-[m[K                            background: buttonActionsVisible ? '#f1aa04' : '#fef5e2',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K311[m[K[36m[K-[m[K                                    padding: '0 4px',
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K:[m[K[32m[K312[m[K[36m[K:[m[K                                    transform: [01;31m[K`scale(${0.2 + 0.8 * actionsExtensionPercentage})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K313[m[K[36m[K-[m[K                                    borderRadius: 7,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K336[m[K[36m[K-[m[K                            cursor: 'pointer',
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K:[m[K[32m[K337[m[K[36m[K:[m[K                            transform: [01;31m[K`scale(${0.2 + 0.8 * featureFlagsExtensionPercentage})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K338[m[K[36m[K-[m[K                            background: flagsVisible ? '#94D674' : '#D6EBCC',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K                    const response = await toolbarFetch([01;31m[K`/api/element/stats/${encodeParams(params, '?')}`[m[K)
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K                    const results = await response.json()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K                        const selector = elementToSelector(event.elements[i], dataAttributes) || '*'
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K:[m[K[32m[K103[m[K[36m[K:[m[K                        combinedSelector = lastSelector ? [01;31m[K`${selector} > ${lastSelector}`[m[K : selector
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K-[m[K[32m[K143[m[K[36m[K-[m[K                                    // Skip it and try with the next one...
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K:[m[K[32m[K144[m[K[36m[K:[m[K                                    lastSelector = lastSelector ? [01;31m[K`* > ${lastSelector}`[m[K : '*'
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K-[m[K[32m[K145[m[K[36m[K-[m[K                                    continue
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K                    <HeatmapElement
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K:[m[K[32m[K59[m[K[36m[K:[m[K                        key={[01;31m[K`inspect-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K                        rect={rect}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K                    return (
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K:[m[K[32m[K82[m[K[36m[K:[m[K                        <React.Fragment key={[01;31m[K`heatmap-${index}`[m[K}>
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K                            <HeatmapElement
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K                                    cursor: 'pointer',
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K:[m[K[32m[K110[m[K[36m[K:[m[K                                    color: [01;31m[K`hsla(${getHeatMapHue(count || 0, highestClickCount)}, 20%, 12%, 1)`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K:[m[K[32m[K111[m[K[36m[K:[m[K                                    background: [01;31m[K`hsla(${getHeatMapHue(count || 0, highestClickCount)}, 100%, 62%, 1)`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K                                    boxShadow: `hsla(${getHeatMapHue(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K                            <HeatmapLabel
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K:[m[K[32m[K131[m[K[36m[K:[m[K                                key={[01;31m[K`label-${loopIndex}`[m[K}
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K                                rect={rect}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/elements/HeatmapElement.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K                position: 'absolute',
[35m[K/tmp/posthog/frontend/src/toolbar/elements/HeatmapElement.tsx[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K                top: [01;31m[K`${rect.top + window.pageYOffset}px`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/elements/HeatmapElement.tsx[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K                left: [01;31m[K`${rect.left + window.pageXOffset}px`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/elements/HeatmapElement.tsx[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K                width: [01;31m[K`${rect.right - rect.left}px`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/elements/HeatmapElement.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K                height: [01;31m[K`${rect.bottom - rect.top}px`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/elements/HeatmapElement.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                ...style,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/flags/featureFlagsLogic.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                    const response = await toolbarFetch(
[35m[K/tmp/posthog/frontend/src/toolbar/flags/featureFlagsLogic.ts[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K                        [01;31m[K`/api/projects/@current/feature_flags/my_flags${encodeParams(params, '?')}`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/flags/featureFlagsLogic.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/flags/featureFlagsLogic.ts[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K                    const response = await toolbarFetch(
[35m[K/tmp/posthog/frontend/src/toolbar/flags/featureFlagsLogic.ts[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[K                        [01;31m[K`/api/projects/@current/feature_flag_overrides/${overrideId}`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/flags/featureFlagsLogic.ts[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                        'DELETE'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K118[m[K[36m[K-[m[K                                                    <Radio key={variant.key} value={variant.key}>
[35m[K/tmp/posthog/frontend/src/toolbar/flags/FeatureFlags.tsx[m[K[36m[K:[m[K[32m[K119[m[K[36m[K:[m[K                                                        {[01;31m[K`${variant.key} - ${variant.name} (${variant.rollout_percentage}%)`[m[K}
[35m[K/tmp/posthog/frontend/src/toolbar/flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K120[m[K[36m[K-[m[K                                                    </Radio>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/toolbarLogic.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K            () => [selectors.rawApiURL],
[35m[K/tmp/posthog/frontend/src/toolbar/toolbarLogic.ts[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K            (apiURL) => [01;31m[K`${apiURL.endsWith('/') ? apiURL.replace(/\/+$/, '') : apiURL}`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/toolbarLogic.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K        ],
[35m[K/tmp/posthog/frontend/src/toolbar/toolbarLogic.ts[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K        jsURL: [() => [selectors.rawJsURL], (jsURL) => [01;31m[K`${jsURL.endsWith('/') ? jsURL.replace(/\/+$/, '') : jsURL}`[m[K],
[35m[K/tmp/posthog/frontend/src/toolbar/toolbarLogic.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K        isAuthenticated: [() => [selectors.temporaryToken], (temporaryToken) => !!temporaryToken],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/toolbarLogic.ts[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K            const encodedUrl = encodeURIComponent(window.location.href)
[35m[K/tmp/posthog/frontend/src/toolbar/toolbarLogic.ts[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K            window.location.href = [01;31m[K`${values.apiURL}/authorize_and_redirect/?redirect=${encodedUrl}`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/toolbarLogic.ts[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K            clearSessionToolbarToken()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/ActionsTab.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K                        <div style={{ textAlign: 'right' }}>
[35m[K/tmp/posthog/frontend/src/toolbar/actions/ActionsTab.tsx[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K                            <a href={[01;31m[K`${apiURL}${urls.actions()}`[m[K} target="_blank" rel="noopener noreferrer">
[35m[K/tmp/posthog/frontend/src/toolbar/actions/ActionsTab.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K                                View &amp; edit all actions <ExportOutlined />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/SelectorCount.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K        <small style={{ float: 'right', color: selectorError ? 'red' : '' }}>
[35m[K/tmp/posthog/frontend/src/toolbar/actions/SelectorCount.tsx[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K            {selectorError ? 'Invalid selector' : [01;31m[K`Matches ${matches} element${matches === 1 ? '' : 's'}`[m[K}
[35m[K/tmp/posthog/frontend/src/toolbar/actions/SelectorCount.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K        </small>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K166[m[K[36m[K-[m[K                response = await api.update(
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K:[m[K[32m[K167[m[K[36m[K:[m[K                    [01;31m[K`${apiURL}/api/projects/@current/actions/${selectedActionId}/?temporary_token=${temporaryToken}`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K168[m[K[36m[K-[m[K                    actionToSave
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K171[m[K[36m[K-[m[K                response = await api.create(
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K:[m[K[32m[K172[m[K[36m[K:[m[K                    [01;31m[K`${apiURL}/api/projects/@current/actions/?temporary_token=${temporaryToken}`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K173[m[K[36m[K-[m[K                    actionToSave
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K183[m[K[36m[K-[m[K                    label: 'Open in PostHog',
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K:[m[K[32m[K184[m[K[36m[K:[m[K                    action: () => window.open([01;31m[K`${apiURL}/projects/@current/actions/${response.id}`[m[K, '_blank'),
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K185[m[K[36m[K-[m[K                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K192[m[K[36m[K-[m[K                await api.delete(
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K:[m[K[32m[K193[m[K[36m[K:[m[K                    [01;31m[K`${apiURL}/api/projects/@current/actions/${selectedActionId}/?temporary_token=${temporaryToken}`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K194[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[Kexport function StepField({ field, step, item, label, caption }: StepFieldProps): JSX.Element {
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K    const selected = step && ((step as any)[[01;31m[K`${item}_selected`[m[K] as boolean)
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K    const fieldStyle = selected ? {} : { opacity: 0.5 }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K            <Form.Item style={{ margin: 0 }}>
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K                {item === 'href' && step?.href && <SelectorCount selector={[01;31m[K`a[href="${cssEscape(step.href)}"]`[m[K} />}
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K                {item === 'selector' && step?.selector && <SelectorCount selector={step.selector} />}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K                <Form.Item
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K                    name={[field.name, [01;31m[K`${item}_selected`[m[K]}
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K                    fieldKey={[field.fieldKey, [01;31m[K`${item}_selected`[m[K] as unknown as number}
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K                    valuePropName="checked"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K                <Form.Item
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K:[m[K[32m[K39[m[K[36m[K:[m[K                    name={[field.name, [01;31m[K`${item}_matching`[m[K]}
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K                    fieldKey={[field.fieldKey, [01;31m[K`${item}_matching`[m[K] as unknown as number}
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K                >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K169[m[K[36m[K-[m[K    if (step.url_matching === 'contains') {
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K170[m[K[36m[K:[m[K        return matchRuleShort(href, [01;31m[K`%${step.url}%`[m[K)
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K171[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K201[m[K[36m[K-[m[K    if (step.href && (step.href_selected || typeof step.href_selected === 'undefined')) {
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K202[m[K[36m[K:[m[K        selector += [01;31m[K`[href="${cssEscape(step.href)}"]`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K203[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K242[m[K[36m[K-[m[K            backgroundBlendMode: 'multiply',
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K243[m[K[36m[K:[m[K            background: [01;31m[K`hsla(240, 90%, 58%, ${opacity})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K244[m[K[36m[K:[m[K            boxShadow: [01;31m[K`hsla(240, 90%, 27%, 0.5) 0px 3px 10px ${hover ? 4 : 2}px`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K245[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K249[m[K[36m[K-[m[K            backgroundBlendMode: 'multiply',
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K250[m[K[36m[K:[m[K            background: [01;31m[K`hsla(4, 90%, 58%, ${opacity})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K251[m[K[36m[K:[m[K            boxShadow: [01;31m[K`hsla(4, 90%, 27%, 0.8) 0px 3px 10px ${hover ? 4 : 2}px`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K252[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K256[m[K[36m[K-[m[K            backgroundBlendMode: 'multiply',
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K257[m[K[36m[K:[m[K            background: [01;31m[K`hsla(97, 90%, 58%, ${opacity})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K258[m[K[36m[K:[m[K            boxShadow: [01;31m[K`hsla(97, 90%, 27%, 0.8) 0px 3px 10px ${hover ? 4 : 2}px`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K259[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K374[m[K[36m[K-[m[K    const params = { ...searchParams, temporary_token: toolbarLogic.values.temporaryToken }
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K375[m[K[36m[K:[m[K    const fullUrl = [01;31m[K`${toolbarLogic.values.apiURL}${pathname}${encodeParams(params, '?')}`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K376[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/ToolbarApp.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K                  styleLink.type = 'text/css'
[35m[K/tmp/posthog/frontend/src/toolbar/ToolbarApp.tsx[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K                  styleLink.href = [01;31m[K`${jsURL}/static/toolbar.css`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/ToolbarApp.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K                  styleLink.onload = () => setDidLoadStyles(true)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/TopBar/SitePopover.tsx[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K                <div className="SitePopover__main-info">
[35m[K/tmp/posthog/frontend/src/layout/navigation/TopBar/SitePopover.tsx[m[K[36m[K:[m[K[32m[K130[m[K[36m[K:[m[K                    <div>{license ? [01;31m[K`${identifierToHuman(license.plan)} plan`[m[K : 'Free plan'}</div>
[35m[K/tmp/posthog/frontend/src/layout/navigation/TopBar/SitePopover.tsx[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K                    {license &&
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/TopBar/SitePopover.tsx[m[K[36m[K-[m[K[32m[K199[m[K[36m[K-[m[K                    <Link
[35m[K/tmp/posthog/frontend/src/layout/navigation/TopBar/SitePopover.tsx[m[K[36m[K:[m[K[32m[K200[m[K[36m[K:[m[K                        href={[01;31m[K`https://posthog.com/blog/the-posthog-array-${latestVersion.replace(/\./g, '-')}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation/TopBar/SitePopover.tsx[m[K[36m[K-[m[K[32m[K201[m[K[36m[K-[m[K                        target="_blank"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K                icon: <IconSettings style={{ color: 'var(--muted-alt)' }} />,
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K:[m[K[32m[K94[m[K[36m[K:[m[K                tooltip: [01;31m[K`Go to ${team.name} settings`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K                onClick: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K-[m[K[32m[K99[m[K[36m[K-[m[K            }}
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K:[m[K[32m[K100[m[K[36m[K:[m[K            title={[01;31m[K`Switch to project ${team.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K-[m[K[32m[K101[m[K[36m[K-[m[K            type="stealth"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/OrganizationSwitcher.tsx[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/layout/navigation/OrganizationSwitcher.tsx[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K        <LemonTag className="AccessLevelIndicator" title={[01;31m[K`Your ${organization.name} organization access level`[m[K}>
[35m[K/tmp/posthog/frontend/src/layout/navigation/OrganizationSwitcher.tsx[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K            {(organization.membership_level ? membershipLevelToName.get(organization.membership_level) : null) || '?'}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/OrganizationSwitcher.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K            type="stealth"
[35m[K/tmp/posthog/frontend/src/layout/navigation/OrganizationSwitcher.tsx[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K            title={[01;31m[K`Switch to organization ${organization.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation/OrganizationSwitcher.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K            fullWidth
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBar.tsx[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K                type: isActiveSide ? 'highlighted' : isActive ? undefined : 'stealth',
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBar.tsx[m[K[36m[K:[m[K[32m[K72[m[K[36m[K:[m[K                'data-attr': sideAction.identifier ? [01;31m[K`menu-item-${sideAction.identifier.toLowerCase()}`[m[K : undefined,
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBar.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K            }}
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBar.tsx[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K            data-attr={[01;31m[K`menu-item-${identifier.toString().toLowerCase()}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBar.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K            {...buttonProps}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBar.tsx[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K            type={isActive ? 'highlighted' : 'stealth'}
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBar.tsx[m[K[36m[K:[m[K[32m[K83[m[K[36m[K:[m[K            data-attr={[01;31m[K`menu-item-${identifier.toString().toLowerCase()}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBar.tsx[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K            onClick={hideSideBarMobile}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBar.tsx[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K                        to={urls.persons()}
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBar.tsx[m[K[36m[K:[m[K[32m[K219[m[K[36m[K:[m[K                        title={[01;31m[K`Persons${showGroupsOptions ? ' & Groups' : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBar.tsx[m[K[36m[K-[m[K[32m[K220[m[K[36m[K-[m[K                    />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/Breadcrumbs/Breadcrumbs.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K            }}
[35m[K/tmp/posthog/frontend/src/layout/navigation/Breadcrumbs/Breadcrumbs.tsx[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K            data-attr={[01;31m[K`breadcrumb-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation/Breadcrumbs/Breadcrumbs.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K        >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/styles/global.scss[m[K[36m[K-[m[K[32m[K4[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/styles/global.scss[m[K[36m[K:[m[K[32m[K5[m[K[36m[K:[m[KFont weights: only `normal` (400), [01;31m[K`$medium`[m[K (500) or `bold` (700) should be used.
[35m[K/tmp/posthog/frontend/src/styles/global.scss[m[K[36m[K-[m[K[32m[K6[m[K[36m[K-[m[KNOTE: $medium is a SCSS var; not a keyword
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/loadPostHogJS.tsx[m[K[36m[K-[m[K[32m[K10[m[K[36m[K-[m[K            Sentry.captureException(
[35m[K/tmp/posthog/frontend/src/loadPostHogJS.tsx[m[K[36m[K:[m[K[32m[K11[m[K[36m[K:[m[K                new Error([01;31m[K`Failed with status ${status} while sending to PostHog. Message: ${statusText}`[m[K),
[35m[K/tmp/posthog/frontend/src/loadPostHogJS.tsx[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K                { tags: { status, statusText } }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K213[m[K[36m[K-[m[K                .actions()
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K:[m[K[32m[K214[m[K[36m[K:[m[K                .withQueryString(temporaryToken ? [01;31m[K`temporary_token=${temporaryToken}`[m[K : '')
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K215[m[K[36m[K-[m[K                .create({ data: actionData })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K223[m[K[36m[K-[m[K                .actionsDetail(actionId)
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K:[m[K[32m[K224[m[K[36m[K:[m[K                .withQueryString(temporaryToken ? [01;31m[K`temporary_token=${temporaryToken}`[m[K : '')
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K225[m[K[36m[K-[m[K                .update({ data: actionData })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K239[m[K[36m[K-[m[K                    parsePeopleParams(peopleParams, filters) +
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K:[m[K[32m[K240[m[K[36m[K:[m[K                        (searchTerm ? [01;31m[K`&search=${encodeURIComponent(searchTerm)}`[m[K : '')
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K241[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/experimental/NPSPrompt.tsx[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K                {[0, 1, 2].map((val) => (
[35m[K/tmp/posthog/frontend/src/lib/experimental/NPSPrompt.tsx[m[K[36m[K:[m[K[32m[K133[m[K[36m[K:[m[K                    <div className={[01;31m[K`pg-item${val <= step ? ' completed' : ''}`[m[K} key={val} />
[35m[K/tmp/posthog/frontend/src/lib/experimental/NPSPrompt.tsx[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K                ))}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/experimental/NPSPrompt.tsx[m[K[36m[K-[m[K[32m[K140[m[K[36m[K-[m[K        <>
[35m[K/tmp/posthog/frontend/src/lib/experimental/NPSPrompt.tsx[m[K[36m[K:[m[K[32m[K141[m[K[36m[K:[m[K            <div className={[01;31m[K`nps-prompt${hidden ? ' hide' : ''}`[m[K}>
[35m[K/tmp/posthog/frontend/src/lib/experimental/NPSPrompt.tsx[m[K[36m[K-[m[K[32m[K142[m[K[36m[K-[m[K                <span className="nps-dismiss" onClick={dismiss}>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/experimental/FeedbackCallCTA.tsx[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/lib/experimental/FeedbackCallCTA.tsx[m[K[36m[K:[m[K[32m[K97[m[K[36m[K:[m[K        <div className={[01;31m[K`nps-prompt${hidden ? ' hide' : ''}`[m[K}>
[35m[K/tmp/posthog/frontend/src/lib/experimental/FeedbackCallCTA.tsx[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K            <span className="nps-dismiss" onClick={() => reportAndDismiss('dismiss')}>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K    for (const attribute of dataAttributes) {
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K        const regex = new RegExp([01;31m[K`^attr__${attribute.split('*').map(escapeRegex).join('.*')}$`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K        const match = Object.keys(element.attributes).find((a) => regex.test(a))
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K    if (attribute) {
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K        selector += [01;31m[K`[${attribute}="${element.attributes[`[m[Kattr__${attribute}`]}"]`
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K        return selector
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K    if (element.attr_id) {
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K        selector += [01;31m[K`#${cssEscape(element.attr_id)}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K        return selector
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K            .filter((a) => a)
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K:[m[K[32m[K43[m[K[36m[K:[m[K            .map((a) => [01;31m[K`.${cssEscape(a)}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K            .join('')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K    if (element.href && element.tag_name === 'a') {
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K        selector += [01;31m[K`[href="${cssEscape(element.href)}"]`[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K    if (element.nth_child) {
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K:[m[K[32m[K50[m[K[36m[K:[m[K        selector += [01;31m[K`:nth-child(${parseInt(element.nth_child as any)})`[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K    if (element.nth_of_type) {
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K        selector += [01;31m[K`:nth-of-type(${parseInt(element.nth_of_type as any)})`[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K        }, [] as [string, any][])
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K130[m[K[36m[K:[m[K        .map(([key, val]) => [01;31m[K`${key}=${handleVal(val)}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K        .join('&')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K200[m[K[36m[K-[m[K}): void {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K201[m[K[36m[K:[m[K    api.update([01;31m[K`api/${props.endpoint}/${props.object.id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K202[m[K[36m[K-[m[K        ...props.object,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K211[m[K[36m[K-[m[K            {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K212[m[K[36m[K:[m[K                toastId: [01;31m[K`delete-item-${props.object.id}-${undo}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K213[m[K[36m[K-[m[K                button: undo
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K384[m[K[36m[K-[m[K    return type === 'cohort'
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K385[m[K[36m[K:[m[K        ? cohortsById[value]?.name || [01;31m[K`ID ${value}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K386[m[K[36m[K-[m[K        : (keyMapping[type === 'element' ? 'element' : 'event'][key]?.label || key) +
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K387[m[K[36m[K-[m[K              (isOperatorFlag(operator)
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K388[m[K[36m[K:[m[K                  ? [01;31m[K` ${allOperatorsMapping[operator]}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K389[m[K[36m[K-[m[K                  : ` ${(allOperatorsMapping[operator || 'exact'] || '?').split(' ')[0]} ${
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K398[m[K[36m[K-[m[K    } else if (['sum', 'avg', 'min', 'max', 'median', 'p90', 'p95', 'p99'].includes(action.math || '')) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K399[m[K[36m[K:[m[K        label += [01;31m[K` (${action.math} of ${action.math_property}) `[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K400[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K404[m[K[36m[K-[m[K                (property) =>
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K405[m[K[36m[K:[m[K                    [01;31m[K`${property.key ? `[m[K${property.key} ` : ''}${
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K406[m[K[36m[K-[m[K                        allOperatorsMapping[property.operator || 'exact'].split(' ')[0]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K656[m[K[36m[K-[m[K        if (event.elements?.[0]?.text) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K657[m[K[36m[K:[m[K            return [01;31m[K`${shortForm ? '' : 'with text '}"${event.elements[0].text}"`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K658[m[K[36m[K-[m[K        } else if (event.elements?.[0]?.attributes?.['attr__aria-label']) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K659[m[K[36m[K:[m[K            return [01;31m[K`${shortForm ? '' : 'with aria label '}"${event.elements[0].attributes['attr__aria-label']}"`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K660[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K707[m[K[36m[K-[m[K        getFormattedDate: (date: dayjs.Dayjs, format: string): string =>
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K708[m[K[36m[K:[m[K            [01;31m[K`${date.subtract(24, 'h').format(format)} - ${date.endOf('d').format(format)}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K709[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K712[m[K[36m[K-[m[K        getFormattedDate: (date: dayjs.Dayjs, format: string): string =>
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K713[m[K[36m[K:[m[K            [01;31m[K`${date.subtract(48, 'h').format(format)} - ${date.endOf('d').format(format)}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K714[m[K[36m[K-[m[K        inactive: true,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K718[m[K[36m[K-[m[K        getFormattedDate: (date: dayjs.Dayjs, format: string): string =>
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K719[m[K[36m[K:[m[K            [01;31m[K`${date.subtract(3, 'd').format(format)} - ${date.endOf('d').format(format)}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K720[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K723[m[K[36m[K-[m[K        getFormattedDate: (date: dayjs.Dayjs, format: string): string =>
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K724[m[K[36m[K:[m[K            [01;31m[K`${date.subtract(7, 'd').format(format)} - ${date.endOf('d').format(format)}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K725[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K728[m[K[36m[K-[m[K        getFormattedDate: (date: dayjs.Dayjs, format: string): string =>
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K729[m[K[36m[K:[m[K            [01;31m[K`${date.subtract(14, 'd').format(format)} - ${date.endOf('d').format(format)}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K730[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K733[m[K[36m[K-[m[K        getFormattedDate: (date: dayjs.Dayjs, format: string): string =>
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K734[m[K[36m[K:[m[K            [01;31m[K`${date.subtract(30, 'd').format(format)} - ${date.endOf('d').format(format)}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K735[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K738[m[K[36m[K-[m[K        getFormattedDate: (date: dayjs.Dayjs, format: string): string =>
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K739[m[K[36m[K:[m[K            [01;31m[K`${date.subtract(90, 'd').format(format)} - ${date.endOf('d').format(format)}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K740[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K743[m[K[36m[K-[m[K        getFormattedDate: (date: dayjs.Dayjs, format: string): string =>
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K744[m[K[36m[K:[m[K            [01;31m[K`${date.subtract(180, 'd').format(format)} - ${date.endOf('d').format(format)}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K745[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K748[m[K[36m[K-[m[K        getFormattedDate: (date: dayjs.Dayjs, format: string): string =>
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K749[m[K[36m[K:[m[K            [01;31m[K`${date.subtract(1, 'm').format(format)} - ${date.endOf('d').format(format)}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K750[m[K[36m[K-[m[K        inactive: true,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K754[m[K[36m[K-[m[K        getFormattedDate: (date: dayjs.Dayjs, format: string): string =>
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K755[m[K[36m[K:[m[K            [01;31m[K`${date.subtract(1, 'm').startOf('M').format(format)} - ${date.subtract(1, 'm').endOf('M').format(format)}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K756[m[K[36m[K-[m[K        inactive: true,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K760[m[K[36m[K-[m[K        getFormattedDate: (date: dayjs.Dayjs, format: string): string =>
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K761[m[K[36m[K:[m[K            [01;31m[K`${date.startOf('y').format(format)} - ${date.endOf('d').format(format)}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K762[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K768[m[K[36m[K-[m[Kexport function getFormattedLastWeekDate(lastDay: dayjs.Dayjs = dayjs()): string {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K769[m[K[36m[K:[m[K    return [01;31m[K`${lastDay.subtract(7, 'week').format(DATE_FORMAT)} - ${lastDay.endOf('d').format(DATE_FORMAT)}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K770[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K780[m[K[36m[K-[m[K    if (dayjs.isDayjs(dateFrom) && dayjs.isDayjs(dateTo)) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K781[m[K[36m[K:[m[K        return [01;31m[K`${dateFrom.format(dateFormat)} - ${dateTo.format(dateFormat)}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K782[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K787[m[K[36m[K-[m[K        return isDateFormatted
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K788[m[K[36m[K:[m[K            ? [01;31m[K`${dayjs(dateFrom, 'YYYY-MM-DD').format(dateFormat)} - ${dayjs(dateTo, 'YYYY-MM-DD').format(dateFormat)}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K789[m[K[36m[K:[m[K            : [01;31m[K`${dateFrom} - ${dateTo}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K790[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K797[m[K[36m[K-[m[K        if (days > 366) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K798[m[K[36m[K:[m[K            return isDateFormatted ? [01;31m[K`${dateFrom} - Today`[m[K : [01;31m[K`${formattedDateFrom} - ${formattedToday}}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K799[m[K[36m[K-[m[K        } else if (days > 0) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K800[m[K[36m[K:[m[K            return isDateFormatted ? [01;31m[K`${formattedDateFrom} - ${formattedToday}`[m[K : [01;31m[K`Last ${days} days`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K801[m[K[36m[K-[m[K        } else if (days === 0) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K803[m[K[36m[K-[m[K        } else {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K804[m[K[36m[K:[m[K            return isDateFormatted ? [01;31m[K`${formattedDateFrom} - `[m[K : [01;31m[K`Starting from ${dateFrom}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K805[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K824[m[K[36m[K-[m[K        navigator.clipboard.writeText(value)
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K825[m[K[36m[K:[m[K        lemonToast.info([01;31m[K`Copied ${description} to clipboard`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K826[m[K[36m[K-[m[K            icon: <IconCopy />,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K829[m[K[36m[K-[m[K    } catch (e) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K830[m[K[36m[K:[m[K        lemonToast.error([01;31m[K`Could not copy ${description} to clipboard: ${e}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K831[m[K[36m[K-[m[K        return false
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K847[m[K[36m[K-[m[Kexport function platformCommandControlKey(modifier: string): string {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K848[m[K[36m[K:[m[K    return [01;31m[K`${isMac() ? '⌘' : 'Ctrl + '}${modifier}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K849[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K984[m[K[36m[K-[m[K    const excess = Math.ceil((input.length - maxLength) / 2)
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K985[m[K[36m[K:[m[K    return [01;31m[K`${input.substring(0, middle - excess)}...${input.substring(middle + excess)}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K986[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1030[m[K[36m[K-[m[K    const form = count === 1 ? singular : plural
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K1031[m[K[36m[K:[m[K    return includeNumber ? [01;31m[K`${formatNumber ? count.toLocaleString() : count} ${form}`[m[K : form
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1032[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1097[m[K[36m[K-[m[K    const direction = offset > 0 ? 'ahead' : 'behind'
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K1098[m[K[36m[K:[m[K    return [01;31m[K`${absoluteOffset} ${hourForm} ${direction}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1099[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1124[m[K[36m[K-[m[K    if (originalColor.length !== 6) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K1125[m[K[36m[K:[m[K        console.warn([01;31m[K`Incorrectly formatted color string: ${hex}.`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1126[m[K[36m[K-[m[K        return { r: 0, g: 0, b: 0 }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1212[m[K[36m[K-[m[Kexport function setPageTitle(title: string): void {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K1213[m[K[36m[K:[m[K    document.title = title ? [01;31m[K`${title} • PostHog`[m[K : 'PostHog'
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1214[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/hooks/useEventListener.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K                console.warn(
[35m[K/tmp/posthog/frontend/src/lib/hooks/useEventListener.ts[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K                    [01;31m[K`Could not start listening to ${eventName} on ${(element as Element)?.localName ?? 'window'}!`[m[K
[35m[K/tmp/posthog/frontend/src/lib/hooks/useEventListener.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/logics.ts[m[K[36m[K-[m[K[32m[K7[m[K[36m[K-[m[K    if (!maybeTeamId) {
[35m[K/tmp/posthog/frontend/src/lib/utils/logics.ts[m[K[36m[K:[m[K[32m[K8[m[K[36m[K:[m[K        throw new Error([01;31m[K`Project ID is not known.${getAppContext()?.anonymous ? ' User is anonymous.' : ''}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/utils/logics.ts[m[K[36m[K-[m[K[32m[K9[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K605[m[K[36m[K-[m[K            for (const item of dashboard.items) {
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K:[m[K[32m[K606[m[K[36m[K:[m[K                const key = [01;31m[K`${item.filters?.insight?.toLowerCase() || InsightType.TRENDS}_count`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K607[m[K[36m[K-[m[K                if (!properties[key]) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K624[m[K[36m[K-[m[K            const action = activePanels.includes('bookmarklet') ? 'shown' : 'hidden'
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K:[m[K[32m[K625[m[K[36m[K:[m[K            posthog.capture([01;31m[K`ingestion bookmarklet panel ${action}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K626[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K676[m[K[36m[K-[m[K        reportPersonPropertyUpdated: async ({ action, totalProperties, oldPropertyType, newPropertyType }) => {
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K:[m[K[32m[K677[m[K[36m[K:[m[K            posthog.capture([01;31m[K`person property ${action}`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K678[m[K[36m[K-[m[K                old_property_type: oldPropertyType !== 'undefined' ? oldPropertyType : undefined,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K819[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K:[m[K[32m[K820[m[K[36m[K:[m[K            posthog.capture([01;31m[K`recording ${type}`[m[K, payload)
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K821[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K856[m[K[36m[K-[m[K            if (delay === 0) {
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K:[m[K[32m[K857[m[K[36m[K:[m[K                posthog.capture([01;31m[K`correlation${propertiesTable ? ' properties' : ''} viewed`[m[K, { filters })
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K858[m[K[36m[K-[m[K            } else {
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K:[m[K[32m[K859[m[K[36m[K:[m[K                posthog.capture([01;31m[K`correlation${propertiesTable ? ' properties' : ''} analyzed`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K860[m[K[36m[K-[m[K                    filters,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/randomAnimal.ts[m[K[36m[K-[m[K[32m[K293[m[K[36m[K-[m[Kexport function generateRandomAnimal(): string {
[35m[K/tmp/posthog/frontend/src/lib/utils/randomAnimal.ts[m[K[36m[K:[m[K[32m[K294[m[K[36m[K:[m[K    return [01;31m[K`${capitalizeFirstLetter(sampleOne(adjectives))} ${capitalizeFirstLetter(sampleOne(nouns))}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/randomAnimal.ts[m[K[36m[K-[m[K[32m[K295[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/RadioSelect/index.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                            <div
[35m[K/tmp/posthog/frontend/src/lib/components/RadioSelect/index.tsx[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                                className={[01;31m[K`radio-option${isSelected(option) ? ' active' : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/RadioSelect/index.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                                key={option.key}
[35m[K/tmp/posthog/frontend/src/lib/components/RadioSelect/index.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                                onClick={() => handleClick(option)}
[35m[K/tmp/posthog/frontend/src/lib/components/RadioSelect/index.tsx[m[K[36m[K:[m[K[32m[K77[m[K[36m[K:[m[K                                data-attr={[01;31m[K`radio-select-${identifier}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/RadioSelect/index.tsx[m[K[36m[K:[m[K[32m[K78[m[K[36m[K:[m[K                                data-detail={[01;31m[K`radio-select-${identifier}-${option.key}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/RadioSelect/index.tsx[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K                            >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/SeriesGlyph.tsx[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/lib/components/SeriesGlyph.tsx[m[K[36m[K:[m[K[32m[K14[m[K[36m[K:[m[K        <div className={[01;31m[K`graph-series-glyph ${variant || ''} ${className}`[m[K} style={style}>
[35m[K/tmp/posthog/frontend/src/lib/components/SeriesGlyph.tsx[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K            {children}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/InsightLabel/index.tsx[m[K[36m[K-[m[K[32m[K118[m[K[36m[K-[m[K                            background: seriesColor,
[35m[K/tmp/posthog/frontend/src/lib/components/InsightLabel/index.tsx[m[K[36m[K:[m[K[32m[K119[m[K[36m[K:[m[K                            boxShadow: [01;31m[K`0px 0px 0px 1px ${hexToRGBA(seriesColor, 0.5)}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/InsightLabel/index.tsx[m[K[36m[K-[m[K[32m[K120[m[K[36m[K-[m[K                            minWidth: iconSizePx,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/NotFound/index.tsx[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K                <Link
[35m[K/tmp/posthog/frontend/src/lib/components/NotFound/index.tsx[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[K                    to={[01;31m[K`https://posthog.com/support?utm_medium=in-product&utm_campaign=${object}-not-found`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/NotFound/index.tsx[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K                    target="_blank"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/EditableField/EditableField.tsx[m[K[36m[K-[m[K[32m[K179[m[K[36m[K-[m[K                                    onClick={() => setLocalIsEditing(true)}
[35m[K/tmp/posthog/frontend/src/lib/components/EditableField/EditableField.tsx[m[K[36m[K:[m[K[32m[K180[m[K[36m[K:[m[K                                    data-attr={[01;31m[K`edit-prop-${name}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/EditableField/EditableField.tsx[m[K[36m[K-[m[K[32m[K181[m[K[36m[K-[m[K                                    disabled={paywall}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/index.tsx[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K            // nth-child is 1-indexed. first column is fixed. last column width must be uncontrolled.
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/index.tsx[m[K[36m[K:[m[K[32m[K94[m[K[36m[K:[m[K            [01;31m[K`.ant-table-content colgroup col:nth-child(${index + 1 + Number(!!props.expandable)}):not(:last-child)`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/index.tsx[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K        )
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/index.tsx[m[K[36m[K:[m[K[32m[K96[m[K[36m[K:[m[K        col?.setAttribute('style', [01;31m[K`width: ${width}px;`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/index.tsx[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/index.tsx[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[K                const table = scrollWrapperRef.current?.querySelector('.ant-table table')
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/index.tsx[m[K[36m[K:[m[K[32m[K114[m[K[36m[K:[m[K                table?.setAttribute('style', [01;31m[K`width: ${headerWidth}px;`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/index.tsx[m[K[36m[K-[m[K[32m[K115[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/TableConfig.tsx[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K                    className={clsx(['column-display-item', { selected: !disabled, disabled: disabled }])}
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/TableConfig.tsx[m[K[36m[K:[m[K[32m[K83[m[K[36m[K:[m[K                    style={{ height: [01;31m[K`${rowItemHeight}px`[m[K }}
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/TableConfig.tsx[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K                >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/JSBookmarklet.tsx[m[K[36m[K-[m[K[32m[K7[m[K[36m[K-[m[Kexport function JSBookmarklet({ team }: { team: TeamBasicType }): JSX.Element {
[35m[K/tmp/posthog/frontend/src/lib/components/JSBookmarklet.tsx[m[K[36m[K:[m[K[32m[K8[m[K[36m[K:[m[K    const initCall = [01;31m[K`posthog.init('${team?.api_token}',{api_host:'${location.origin}', loaded: () => alert('Posthog is now tracking events!')})`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/JSBookmarklet.tsx[m[K[36m[K-[m[K[32m[K9[m[K[36m[K-[m[K    const href = `javascript:(function()%7Bif%20(window.posthog)%20%7Balert(%22Error%3A%20PostHog%20already%20is%20installed%20on%20this%20site%22)%7D%20else%20%7B!function(t%2Ce)%7Bvar%20o%2Cn%2Cp%2Cr%3Be.__SV%7C%7C(window.posthog%3De%2Ce._i%3D%5B%5D%2Ce.init%3Dfunction(i%2Cs%2Ca)%7Bfunction%20g(t%2Ce)%7Bvar%20o%3De.split(%22.%22)%3B2%3D%3Do.length%26%26(t%3Dt%5Bo%5B0%5D%5D%2Ce%3Do%5B1%5D)%2Ct%5Be%5D%3Dfunction()%7Bt.push(%5Be%5D.concat(Array.prototype.slice.call(arguments%2C0)))%7D%7D(p%3Dt.createElement(%22script%22)).type%3D%22text%2Fjavascript%22%2Cp.async%3D!0%2Cp.src%3Ds.api_host%2B%22%2Fstatic%2Farray.js%22%2C(r%3Dt.getElementsByTagName(%22script%22)%5B0%5D).parentNode.insertBefore(p%2Cr)%3Bvar%20u%3De%3Bfor(void%200!%3D%3Da%3Fu%3De%5Ba%5D%3D%5B%5D%3Aa%3D%22posthog%22%2Cu.people%3Du.people%7C%7C%5B%5D%2Cu.toString%3Dfunction(t)%7Bvar%20e%3D%22posthog%22%3Breturn%22posthog%22!%3D%3Da%26%26(e%2B%3D%22.%22%2Ba)%2Ct%7C%7C(e%2B%3D%22%20(stub)%22)%2Ce%7D%2Cu.people.toString%3Dfunction()%7Breturn%20u.toString(1)%2B%22.people%20(stub)%22%7D%2Co%3D%22capture%20identify%20alias%20people.set%20people.set_once%20set_config%20register%20register_once%20unregister%20opt_out_capturing%20has_opted_out_capturing%20opt_in_capturing%20reset%20isFeatureEnabled%20onFeatureFlags%22.split(%22%20%22)%2Cn%3D0%3Bn%3Co.length%3Bn%2B%2B)g(u%2Co%5Bn%5D)%3Be._i.push(%5Bi%2Cs%2Ca%5D)%7D%2Ce.__SV%3D1)%7D(document%2Cwindow.posthog%7C%7C%5B%5D)%3B${encodeURIComponent(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PayCard/PayCard.tsx[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K    const [shown, setShown] = useState(false)
[35m[K/tmp/posthog/frontend/src/lib/components/PayCard/PayCard.tsx[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[K    const storageKey = [01;31m[K`pay-gate-dismissed-${identifier}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PayCard/PayCard.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K    const { reportPayGateDismissed, reportPayGateShown } = useActions(eventUsageLogic)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PayCard/PayCard.tsx[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K                                <a
[35m[K/tmp/posthog/frontend/src/lib/components/PayCard/PayCard.tsx[m[K[36m[K:[m[K[32m[K67[m[K[36m[K:[m[K                                    href={[01;31m[K`${docsLink}?utm_medium=in-product&utm_campaign=${identifier}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PayCard/PayCard.tsx[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K                                    target="_blank"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ObjectTags/objectTagsLogic.ts[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K            if (values.tags?.includes(values.cleanedNewTag)) {
[35m[K/tmp/posthog/frontend/src/lib/components/ObjectTags/objectTagsLogic.ts[m[K[36m[K:[m[K[32m[K68[m[K[36m[K:[m[K                lemonToast.error([01;31m[K`Tag "${values.cleanedNewTag}" already is in the list`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/ObjectTags/objectTagsLogic.ts[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K                return
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ObjectTags/ObjectTags.tsx[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K                                <Select.Option
[35m[K/tmp/posthog/frontend/src/lib/components/ObjectTags/ObjectTags.tsx[m[K[36m[K:[m[K[32m[K133[m[K[36m[K:[m[K                                    key={[01;31m[K`${newTag}_${id}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/ObjectTags/ObjectTags.tsx[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K                                    value={newTag}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyNamesSelect/propertyNamesSelectLogic.ts[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K                              name: property,
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyNamesSelect/propertyNamesSelectLogic.ts[m[K[36m[K:[m[K[32m[K107[m[K[36m[K:[m[K                              highlightedNameParts: property.split(new RegExp([01;31m[K`(${query})`[m[K, 'gi')),
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyNamesSelect/propertyNamesSelectLogic.ts[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K                          }))
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PersonalAPIKeys/personalAPIKeysLogic.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K                deleteKey: async (key: PersonalAPIKeyType) => {
[35m[K/tmp/posthog/frontend/src/lib/components/PersonalAPIKeys/personalAPIKeysLogic.ts[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K                    await api.delete([01;31m[K`api/personal_api_keys/${key.id}/`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/PersonalAPIKeys/personalAPIKeysLogic.ts[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K                    return (values.keys as PersonalAPIKeyType[]).filter((filteredKey) => filteredKey.id != key.id)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PersonalAPIKeys/PersonalAPIKeys.tsx[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K            <Popconfirm
[35m[K/tmp/posthog/frontend/src/lib/components/PersonalAPIKeys/PersonalAPIKeys.tsx[m[K[36m[K:[m[K[32m[K80[m[K[36m[K:[m[K                title={[01;31m[K`Permanently delete key "${personalAPIKey.label}"?`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PersonalAPIKeys/PersonalAPIKeys.tsx[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K                okText="Delete Key"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Popup/Popup.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                      fn: ({ state }) => {
[35m[K/tmp/posthog/frontend/src/lib/components/Popup/Popup.tsx[m[K[36m[K:[m[K[32m[K77[m[K[36m[K:[m[K                          state.styles.popper.width = [01;31m[K`${state.rects.reference.width}px`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Popup/Popup.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                      },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Fade/Fade.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K        <div
[35m[K/tmp/posthog/frontend/src/lib/components/Fade/Fade.tsx[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K            className={[01;31m[K`fade-component-container${className ? `[m[K ${className}` : ''}`}
[35m[K/tmp/posthog/frontend/src/lib/components/Fade/Fade.tsx[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K            style={{ animation: [01;31m[K`${visible ? 'fadeComponentFadeIn' : 'fadeComponentFadeOut'} 0.3s`[m[K, ...style }}
[35m[K/tmp/posthog/frontend/src/lib/components/Fade/Fade.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K            onAnimationEnd={onAnimationEnd}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/SaveToDashboard/SaveToDashboardModal.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                        <Select.Option
[35m[K/tmp/posthog/frontend/src/lib/components/SaveToDashboard/SaveToDashboardModal.tsx[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K                            data-attr={[01;31m[K`add-to-dashboard-option-${idx}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/SaveToDashboard/SaveToDashboardModal.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                            key={dashboard.id}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K                                            }}
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K:[m[K[32m[K110[m[K[36m[K:[m[K                                            pageKey={[01;31m[K`trends-filters-${propertyGroupIndex}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K                                            taxonomicGroupTypes={taxonomicGroupTypes}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K            <LemonButton
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K:[m[K[32m[K128[m[K[36m[K:[m[K                data-attr={[01;31m[K`${pageKey}-add-filter-group`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K                className="mb mt"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K-[m[K[32m[K161[m[K[36m[K-[m[K                    <Row>
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K:[m[K[32m[K162[m[K[36m[K:[m[K                        <div className={[01;31m[K`condition-text ${value === FilterLogicalOperator.And ? 'selected' : ''}`[m[K}>
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K-[m[K[32m[K163[m[K[36m[K-[m[K                            {FilterLogicalOperator.And}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K-[m[K[32m[K174[m[K[36m[K-[m[K                    <Row>
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K:[m[K[32m[K175[m[K[36m[K:[m[K                        <div className={[01;31m[K`condition-text ${value === FilterLogicalOperator.Or ? 'selected' : ''}`[m[K}>
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K-[m[K[32m[K176[m[K[36m[K-[m[K                            {FilterLogicalOperator.Or}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/FilterRow.tsx[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K                                        >
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/FilterRow.tsx[m[K[36m[K:[m[K[32m[K129[m[K[36m[K:[m[K                                            {[01;31m[K`${item['alias']}::${item['regex']}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/FilterRow.tsx[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K                                        </FilterButton>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/TaxonomicPropertyFilter.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K}: PropertyFilterInternalProps): JSX.Element {
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/TaxonomicPropertyFilter.tsx[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K    const pageKey = useMemo(() => pageKeyInput || [01;31m[K`filter-${uniqueMemoizedIndex++}`[m[K, [pageKeyInput])
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/TaxonomicPropertyFilter.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K    const groupTypes = taxonomicGroupTypes || [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/TaxonomicPropertyFilter.tsx[m[K[36m[K-[m[K[32m[K142[m[K[36m[K-[m[K                            {filter?.type === 'cohort' ? (
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/TaxonomicPropertyFilter.tsx[m[K[36m[K:[m[K[32m[K143[m[K[36m[K:[m[K                                <div>{selectedCohortName || [01;31m[K`Cohort #${filter?.value}`[m[K}</div>
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/TaxonomicPropertyFilter.tsx[m[K[36m[K-[m[K[32m[K144[m[K[36m[K-[m[K                            ) : filter?.key ? (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/taxonomicPropertyFilterLogic.ts[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K    props: {} as TaxonomicPropertyFilterLogicProps,
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/taxonomicPropertyFilterLogic.ts[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[K    key: (props) => [01;31m[K`${props.pageKey}-${props.filterIndex}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/taxonomicPropertyFilterLogic.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/PropertySelect.tsx[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K                                <Select.Option
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/PropertySelect.tsx[m[K[36m[K:[m[K[32m[K99[m[K[36m[K:[m[K                                    key={[01;31m[K`${group.type}_${option.value}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/PropertySelect.tsx[m[K[36m[K:[m[K[32m[K100[m[K[36m[K:[m[K                                    value={[01;31m[K`${group.type}_${option.value}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/PropertySelect.tsx[m[K[36m[K-[m[K[32m[K101[m[K[36m[K-[m[K                                    type={group.type}
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/PropertySelect.tsx[m[K[36m[K:[m[K[32m[K102[m[K[36m[K:[m[K                                    data-attr={[01;31m[K`prop-filter-${group.type}-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/PropertySelect.tsx[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K                                >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/utils.ts[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K    if (filterType == 'group') {
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/utils.ts[m[K[36m[K:[m[K[32m[K65[m[K[36m[K:[m[K        return [01;31m[K`${TaxonomicFilterGroupType.GroupsPrefix}_${groupTypeIndex}`[m[K as TaxonomicFilterGroupType
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/utils.ts[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Table/utils.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K        tableScrollBreakpoint,
[35m[K/tmp/posthog/frontend/src/lib/components/Table/utils.tsx[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K        tableScrollX: isTableScrolling ? 'max-content' : [01;31m[K`${tableScrollBreakpoint}px`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/Table/utils.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/DefinitionPopupContents.tsx[m[K[36m[K-[m[K[32m[K298[m[K[36m[K-[m[K                            autoFocus
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/DefinitionPopupContents.tsx[m[K[36m[K:[m[K[32m[K299[m[K[36m[K:[m[K                            placeholder={[01;31m[K`Add a description for this ${singularType}.`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/DefinitionPopupContents.tsx[m[K[36m[K-[m[K[32m[K300[m[K[36m[K-[m[K                            value={localDefinition.description || ''}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/DefinitionPopupContents.tsx[m[K[36m[K-[m[K[32m[K471[m[K[36m[K-[m[K                        headerTitle={group.getPopupHeader?.(item)}
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/DefinitionPopupContents.tsx[m[K[36m[K:[m[K[32m[K472[m[K[36m[K:[m[K                        editHeaderTitle={[01;31m[K`Edit ${singularType}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/DefinitionPopupContents.tsx[m[K[36m[K-[m[K[32m[K473[m[K[36m[K-[m[K                        icon={icon}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K                    definition: mockActionDefinition as ActionType,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K                    url: [01;31m[K`api/projects/@current/actions/${mockActionDefinition.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K                    dispatchActions: [actionsModel, ['updateAction']],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K                    definition: mockEventDefinitions[0],
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K:[m[K[32m[K132[m[K[36m[K:[m[K                    url: [01;31m[K`api/projects/@current/event_definitions/${mockEventDefinitions[0].id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K-[m[K[32m[K133[m[K[36m[K-[m[K                    dispatchActions: [eventDefinitionsModel, ['updateEventDefinition']],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K-[m[K[32m[K137[m[K[36m[K-[m[K                    definition: mockEventDefinitions[1],
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K:[m[K[32m[K138[m[K[36m[K:[m[K                    url: [01;31m[K`api/projects/@current/event_definitions/${mockEventDefinitions[1].id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K-[m[K[32m[K139[m[K[36m[K-[m[K                    dispatchActions: [eventDefinitionsModel, ['updateEventDefinition']],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K-[m[K[32m[K148[m[K[36m[K-[m[K                    definition: mockEventPropertyDefinition as PropertyDefinition,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K:[m[K[32m[K149[m[K[36m[K:[m[K                    url: [01;31m[K`api/projects/@current/property_definitions/${mockEventPropertyDefinition.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K-[m[K[32m[K150[m[K[36m[K-[m[K                    dispatchActions: [propertyDefinitionsModel, ['updatePropertyDefinition']],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K-[m[K[32m[K157[m[K[36m[K-[m[K                {
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K:[m[K[32m[K158[m[K[36m[K:[m[K                    type: [01;31m[K`${TaxonomicFilterGroupType.GroupsPrefix}_0`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K-[m[K[32m[K159[m[K[36m[K-[m[K                    definition: mockGroup as CohortType,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K-[m[K[32m[K164[m[K[36m[K-[m[K                    definition: mockCohort as CohortType,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K:[m[K[32m[K165[m[K[36m[K:[m[K                    url: [01;31m[K`api/projects/@current/cohorts/${mockCohort.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K-[m[K[32m[K166[m[K[36m[K-[m[K                    dispatchActions: [cohortsModel, ['updateCohort']],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K-[m[K[32m[K269[m[K[36m[K-[m[K                {
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K:[m[K[32m[K270[m[K[36m[K:[m[K                    type: [01;31m[K`${TaxonomicFilterGroupType.GroupsPrefix}_0`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.test.ts[m[K[36m[K-[m[K[32m[K271[m[K[36m[K-[m[K                    url: urls.eventPropertyDefinition(mockDefinitionId),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/DefinitionPopup.tsx[m[K[36m[K-[m[K[32m[K200[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/DefinitionPopup.tsx[m[K[36m[K:[m[K[32m[K201[m[K[36m[K:[m[K        <div className="definition-popup-grid" style={{ gridTemplateColumns: [01;31m[K`repeat(${cols}, auto)`[m[K }}>
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/DefinitionPopup.tsx[m[K[36m[K-[m[K[32m[K202[m[K[36m[K-[m[K            {children}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.ts[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K                            const _action = definition as ActionType
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.ts[m[K[36m[K:[m[K[32m[K85[m[K[36m[K:[m[K                            definition = await api.update([01;31m[K`api/projects/@current/actions/${_action.id}`[m[K, _action)
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.ts[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                            actionsModel.findMounted()?.actions.updateAction(definition as ActionType)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.ts[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K                            const _event = definition as EventDefinition
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.ts[m[K[36m[K:[m[K[32m[K90[m[K[36m[K:[m[K                            definition = await api.update([01;31m[K`api/projects/@current/event_definitions/${_event.id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.ts[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K                                ..._event,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.ts[m[K[36m[K-[m[K[32m[K101[m[K[36m[K-[m[K                            definition = await api.update(
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.ts[m[K[36m[K:[m[K[32m[K102[m[K[36m[K:[m[K                                [01;31m[K`api/projects/@current/property_definitions/${_eventProperty.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.ts[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K                                _eventProperty
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.ts[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K                            const _cohort = definition as CohortType
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.ts[m[K[36m[K:[m[K[32m[K111[m[K[36m[K:[m[K                            definition = await api.update([01;31m[K`api/projects/@current/cohorts/${_cohort.id}`[m[K, _cohort)
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.ts[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K                            cohortsModel.findMounted()?.actions.updateCohort(definition as CohortType)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.ts[m[K[36m[K-[m[K[32m[K118[m[K[36m[K-[m[K                    // Disregard save attempts for any other types of taxonomy groups
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.ts[m[K[36m[K:[m[K[32m[K119[m[K[36m[K:[m[K                    lemonToast.success([01;31m[K`${capitalizeFirstLetter(values.singularType)} definition saved`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/definitionPopupLogic.ts[m[K[36m[K-[m[K[32m[K120[m[K[36m[K-[m[K                    // Update item in infinite list
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/ActionPopupInfo.tsx[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K                        <DefinitionPopup.Card
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/ActionPopupInfo.tsx[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[K                            title={[01;31m[K`Match group ${index + 1}: ${step.event && eventToHumanName(step.event)}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopup/ActionPopupInfo.tsx[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K                            value={
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PayGateMini/PayGateMini.tsx[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K            <div className="PayGateMini__cta">
[35m[K/tmp/posthog/frontend/src/lib/components/PayGateMini/PayGateMini.tsx[m[K[36m[K:[m[K[32m[K70[m[K[36m[K:[m[K                Upgrade to {gateVariant === 'add-card' ? 'a premium' : [01;31m[K`the ${capitalizeFirstLetter(planRequired)}`[m[K}{' '}
[35m[K/tmp/posthog/frontend/src/lib/components/PayGateMini/PayGateMini.tsx[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K                plan to gain {featureSummary.umbrella}.
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PayGateMini/PayGateMini.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                    gateVariant === 'contact-sales'
[35m[K/tmp/posthog/frontend/src/lib/components/PayGateMini/PayGateMini.tsx[m[K[36m[K:[m[K[32m[K77[m[K[36m[K:[m[K                        ? [01;31m[K`mailto:sales@posthog.com?subject=Inquiring about ${featureSummary.umbrella}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PayGateMini/PayGateMini.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                        : gateVariant === 'check-licensing'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.tsx[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K    props: {} as ActivityLogProps,
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.tsx[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K    key: ({ scope, id }) => [01;31m[K`activity/${scope}/${id || 'all'}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.tsx[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K    loaders: ({ values }) => ({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Annotations/AnnotationMarker.tsx[m[K[36m[K-[m[K[32m[K203[m[K[36m[K-[m[K                                                    <Tooltip
[35m[K/tmp/posthog/frontend/src/lib/components/Annotations/AnnotationMarker.tsx[m[K[36m[K:[m[K[32m[K204[m[K[36m[K:[m[K                                                        title={[01;31m[K`This annotation is shown on all charts in project ${currentTeam?.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/Annotations/AnnotationMarker.tsx[m[K[36m[K-[m[K[32m[K205[m[K[36m[K-[m[K                                                    >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Annotations/AnnotationMarker.tsx[m[K[36m[K-[m[K[32m[K209[m[K[36m[K-[m[K                                                    <Tooltip
[35m[K/tmp/posthog/frontend/src/lib/components/Annotations/AnnotationMarker.tsx[m[K[36m[K:[m[K[32m[K210[m[K[36m[K:[m[K                                                        title={[01;31m[K`This annotation is shown on all charts in organization ${currentOrganization?.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/Annotations/AnnotationMarker.tsx[m[K[36m[K-[m[K[32m[K211[m[K[36m[K-[m[K                                                    >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Annotations/annotationsLogic.ts[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K                const response = await api.get(
[35m[K/tmp/posthog/frontend/src/lib/components/Annotations/annotationsLogic.ts[m[K[36m[K:[m[K[32m[K49[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/annotations/?${toParams(params)}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Annotations/annotationsLogic.ts[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Annotations/annotationsLogic.ts[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Annotations/annotationsLogic.ts[m[K[36m[K:[m[K[32m[K104[m[K[36m[K:[m[K            await api.create([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/annotations`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/components/Annotations/annotationsLogic.ts[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K                content,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Annotations/annotationsLogic.ts[m[K[36m[K-[m[K[32m[K115[m[K[36m[K-[m[K                deleteWithUndo({
[35m[K/tmp/posthog/frontend/src/lib/components/Annotations/annotationsLogic.ts[m[K[36m[K:[m[K[32m[K116[m[K[36m[K:[m[K                    endpoint: [01;31m[K`projects/${teamLogic.values.currentTeamId}/annotations`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/Annotations/annotationsLogic.ts[m[K[36m[K-[m[K[32m[K117[m[K[36m[K-[m[K                    object: { name: 'Annotation', id },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyKeyInfo.tsx[m[K[36m[K-[m[K[32m[K610[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyKeyInfo.tsx[m[K[36m[K:[m[K[32m[K611[m[K[36m[K:[m[K    value = [01;31m[K`${value}`[m[K // convert to string
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyKeyInfo.tsx[m[K[36m[K-[m[K[32m[K612[m[K[36m[K-[m[K    let data = null
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyKeyInfo.tsx[m[K[36m[K-[m[K[32m[K617[m[K[36m[K-[m[K        if (data.description) {
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyKeyInfo.tsx[m[K[36m[K:[m[K[32m[K618[m[K[36m[K:[m[K            data.label = [01;31m[K`Initial ${data.label}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyKeyInfo.tsx[m[K[36m[K:[m[K[32m[K619[m[K[36m[K:[m[K            data.description = [01;31m[K`${data.description} Data from the first time this user was seen.`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyKeyInfo.tsx[m[K[36m[K-[m[K[32m[K620[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyKeyInfo.tsx[m[K[36m[K-[m[K[32m[K625[m[K[36m[K-[m[K            return {
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyKeyInfo.tsx[m[K[36m[K:[m[K[32m[K626[m[K[36m[K:[m[K                label: [01;31m[K`Feature: ${featureFlagKey}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyKeyInfo.tsx[m[K[36m[K:[m[K[32m[K627[m[K[36m[K:[m[K                description: [01;31m[K`Value for the feature flag "${featureFlagKey}" when this event was sent.`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyKeyInfo.tsx[m[K[36m[K-[m[K[32m[K628[m[K[36m[K-[m[K                examples: ['true', 'variant-1a'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyKeyInfo.tsx[m[K[36m[K-[m[K[32m[K644[m[K[36m[K-[m[K}: PropertyKeyInfoInterface): JSX.Element {
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyKeyInfo.tsx[m[K[36m[K:[m[K[32m[K645[m[K[36m[K:[m[K    value = [01;31m[K`${value}`[m[K // convert to string
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyKeyInfo.tsx[m[K[36m[K-[m[K[32m[K646[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyKeyInfo.tsx[m[K[36m[K-[m[K[32m[K684[m[K[36m[K-[m[K            overlayStyle={{ zIndex: 99999 }}
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyKeyInfo.tsx[m[K[36m[K:[m[K[32m[K685[m[K[36m[K:[m[K            overlayClassName={[01;31m[K`property-key-info-tooltip ${className || ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyKeyInfo.tsx[m[K[36m[K-[m[K[32m[K686[m[K[36m[K-[m[K            title={popoverTitle}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ExpandIcon.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K}: ExpandIconProps): JSX.Element {
[35m[K/tmp/posthog/frontend/src/lib/components/ExpandIcon.tsx[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K    const iconPrefix = [01;31m[K`${prefixCls}-row-expand-icon`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ExpandIcon.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K    return (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ExpandIcon.tsx[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K                className={clsx(iconPrefix, 'mr-05', {
[35m[K/tmp/posthog/frontend/src/lib/components/ExpandIcon.tsx[m[K[36m[K:[m[K[32m[K36[m[K[36m[K:[m[K                    [[01;31m[K`${iconPrefix}-spaced`[m[K]: !expandable,
[35m[K/tmp/posthog/frontend/src/lib/components/ExpandIcon.tsx[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K                    [[01;31m[K`${iconPrefix}-expanded`[m[K]: expandable && expanded,
[35m[K/tmp/posthog/frontend/src/lib/components/ExpandIcon.tsx[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K                    [[01;31m[K`${iconPrefix}-collapsed`[m[K]: expandable && !expanded,
[35m[K/tmp/posthog/frontend/src/lib/components/ExpandIcon.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                })}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/LemonRow/LemonRow.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                className,
[35m[K/tmp/posthog/frontend/src/lib/components/LemonRow/LemonRow.tsx[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                status && [01;31m[K`LemonRow--status-${status}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/LemonRow/LemonRow.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                compact && 'LemonRow--compact',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/LemonButton/LemonButton.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K            'LemonButton',
[35m[K/tmp/posthog/frontend/src/lib/components/LemonButton/LemonButton.tsx[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K            type !== 'default' && [01;31m[K`LemonButton--${type}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/LemonButton/LemonButton.tsx[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K            active && 'LemonButton--active',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PaginationControl/usePagination.ts[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K    /** Search param that will be used for storing and syncing the current page */
[35m[K/tmp/posthog/frontend/src/lib/components/PaginationControl/usePagination.ts[m[K[36m[K:[m[K[32m[K12[m[K[36m[K:[m[K    const currentPageParam = id ? [01;31m[K`${id}_page`[m[K : 'page'
[35m[K/tmp/posthog/frontend/src/lib/components/PaginationControl/usePagination.ts[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PaginationControl/PaginationControl.tsx[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K                {currentPageSize === 0
[35m[K/tmp/posthog/frontend/src/lib/components/PaginationControl/PaginationControl.tsx[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K                    ? [01;31m[K`No ${nouns[1]}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PaginationControl/PaginationControl.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                    : entryCount === null
[35m[K/tmp/posthog/frontend/src/lib/components/PaginationControl/PaginationControl.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K                    ? [01;31m[K`${currentPageSize} ${currentPageSize === 1 ? nouns[0] : nouns[1]} on this page`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PaginationControl/PaginationControl.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K                    : currentPageSize === 1
[35m[K/tmp/posthog/frontend/src/lib/components/PaginationControl/PaginationControl.tsx[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K                    ? [01;31m[K`${currentEndIndex} of ${entryCount} ${entryCount === 1 ? nouns[0] : nouns[1]}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PaginationControl/PaginationControl.tsx[m[K[36m[K:[m[K[32m[K43[m[K[36m[K:[m[K                    : [01;31m[K`${currentStartIndex + 1}-${currentEndIndex} of ${entryCount} ${nouns[1]}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PaginationControl/PaginationControl.tsx[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K            </span>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/RestrictedArea.tsx[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K        if (scopeAccessLevel === null) {
[35m[K/tmp/posthog/frontend/src/lib/components/RestrictedArea.tsx[m[K[36m[K:[m[K[32m[K49[m[K[36m[K:[m[K            return [01;31m[K`You don't have access to the current ${scope}.`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/RestrictedArea.tsx[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/RestrictedArea.tsx[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K            if (minimumAccessLevel === OrganizationMembershipLevel.Owner) {
[35m[K/tmp/posthog/frontend/src/lib/components/RestrictedArea.tsx[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K                return [01;31m[K`This area is restricted to the ${scope} owner.`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/RestrictedArea.tsx[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/lemonToast.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/lib/components/lemonToast.tsx[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K        <div className="flex-center" data-attr={[01;31m[K`${type}-toast`[m[K}>
[35m[K/tmp/posthog/frontend/src/lib/components/lemonToast.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K            <span style={{ flexGrow: 1 }}>{message}</span>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/lemonToast.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K        ? toastOptions
[35m[K/tmp/posthog/frontend/src/lib/components/lemonToast.tsx[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K        : { ...toastOptions, toastId: [01;31m[K`lemon-${Math.round(Math.random() * 10000000)}`[m[K }
[35m[K/tmp/posthog/frontend/src/lib/components/lemonToast.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/InsightCard/InsightCard.tsx[m[K[36m[K-[m[K[32m[K205[m[K[36m[K-[m[K              },
[35m[K/tmp/posthog/frontend/src/lib/components/InsightCard/InsightCard.tsx[m[K[36m[K:[m[K[32m[K206[m[K[36m[K:[m[K              exiting: { height: [01;31m[K`calc(${primaryHeight}px + 2rem /* margins */ + 1px /* border */)`[m[K },
[35m[K/tmp/posthog/frontend/src/lib/components/InsightCard/InsightCard.tsx[m[K[36m[K:[m[K[32m[K207[m[K[36m[K:[m[K              exited: { height: [01;31m[K`calc(${primaryHeight}px + 2rem /* margins */ + 1px /* border */)`[m[K },
[35m[K/tmp/posthog/frontend/src/lib/components/InsightCard/InsightCard.tsx[m[K[36m[K-[m[K[32m[K208[m[K[36m[K-[m[K          }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/InsightCard/InsightCard.tsx[m[K[36m[K-[m[K[32m[K539[m[K[36m[K-[m[K                        metaPrimaryHeight
[35m[K/tmp/posthog/frontend/src/lib/components/InsightCard/InsightCard.tsx[m[K[36m[K:[m[K[32m[K540[m[K[36m[K:[m[K                            ? { height: [01;31m[K`calc(100% - ${metaPrimaryHeight}px - 2rem /* margins */ - 1px /* border */)`[m[K }
[35m[K/tmp/posthog/frontend/src/lib/components/InsightCard/InsightCard.tsx[m[K[36m[K-[m[K[32m[K541[m[K[36m[K-[m[K                            : undefined
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TimezoneAware/index.tsx[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TimezoneAware/index.tsx[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K    const DATE_OUTPUT_FORMAT = !showSeconds ? BASE_OUTPUT_FORMAT : [01;31m[K`${BASE_OUTPUT_FORMAT}:ss`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TimezoneAware/index.tsx[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K    const timeStyle = showSeconds ? { minWidth: 192 } : undefined
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/SocialLoginButton/index.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K        <Button
[35m[K/tmp/posthog/frontend/src/lib/components/SocialLoginButton/index.tsx[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K            className={[01;31m[K`link-social-login ${provider}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/SocialLoginButton/index.tsx[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K            href={[01;31m[K`/login/${provider}/${queryString || ''}${extraParam}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/SocialLoginButton/index.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K            icon={SocialLoginIcon(provider)}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K-[m[K[32m[K216[m[K[36m[K-[m[K        const commonDivProps: React.HTMLProps<HTMLDivElement> = {
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K:[m[K[32m[K217[m[K[36m[K:[m[K            key: [01;31m[K`item_${rowIndex}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K            className: clsx(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K-[m[K[32m[K232[m[K[36m[K-[m[K                {...commonDivProps}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K:[m[K[32m[K233[m[K[36m[K:[m[K                data-attr={[01;31m[K`prop-filter-${listGroupType}-${rowIndex}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K-[m[K[32m[K234[m[K[36m[K-[m[K                onClick={() => selectItem(group, itemValue ?? null, item)}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K-[m[K[32m[K245[m[K[36m[K-[m[K                {...commonDivProps}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K:[m[K[32m[K246[m[K[36m[K:[m[K                className={[01;31m[K`${commonDivProps.className} expand-row`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K:[m[K[32m[K247[m[K[36m[K:[m[K                data-attr={[01;31m[K`expand-list-${listGroupType}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K-[m[K[32m[K248[m[K[36m[K-[m[K                onClick={expand}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K-[m[K[32m[K260[m[K[36m[K-[m[K                {...commonDivProps}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K:[m[K[32m[K261[m[K[36m[K:[m[K                className={[01;31m[K`${commonDivProps.className} skeleton-row`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K:[m[K[32m[K262[m[K[36m[K:[m[K                data-attr={[01;31m[K`prop-skeleton-${listGroupType}-${rowIndex}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K-[m[K[32m[K263[m[K[36m[K-[m[K            >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K    const taxonomicFilterLogicKey = useMemo(
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K        () => taxonomicFilterLogicKeyInput || [01;31m[K`taxonomic-filter-${uniqueMemoizedIndex++}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K        [taxonomicFilterLogicKeyInput]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                        data-attr="taxonomic-filter-searchfield"
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K                        placeholder={[01;31m[K`Search ${searchPlaceholder}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                        prefix={
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K        }
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K        return [01;31m[K`${eventDefinition.verified ? 'Verified' : 'Unverified'} Event`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K    props: {} as TaxonomicFilterLogicProps,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K    key: (props) => [01;31m[K`${props.taxonomicFilterLogicKey}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K    connect: {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K                    type: TaxonomicFilterGroupType.Events,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K                    endpoint: [01;31m[K`api/projects/${teamId}/event_definitions`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K                    getName: (eventDefinition: EventDefinition) => eventDefinition.name,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K159[m[K[36m[K-[m[K                    endpoint: combineUrl(
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K160[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${teamId}/property_definitions`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K161[m[K[36m[K-[m[K                        eventNames.length > 0 ? { event_names: eventNames } : {}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K164[m[K[36m[K-[m[K                        eventNames.length > 0
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K165[m[K[36m[K:[m[K                            ? combineUrl([01;31m[K`api/projects/${teamId}/property_definitions`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K166[m[K[36m[K-[m[K                                  event_names: eventNames,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K184[m[K[36m[K-[m[K                    type: TaxonomicFilterGroupType.NumericalEventProperties,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K185[m[K[36m[K:[m[K                    endpoint: combineUrl([01;31m[K`api/projects/${teamId}/property_definitions`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K186[m[K[36m[K-[m[K                        is_numerical: true,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K208[m[K[36m[K-[m[K                    value: 'cohorts',
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K209[m[K[36m[K:[m[K                    getName: (cohort: CohortType) => cohort.name || [01;31m[K`Cohort ${cohort.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K210[m[K[36m[K-[m[K                    getValue: (cohort: CohortType) => cohort.id,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K211[m[K[36m[K:[m[K                    getPopupHeader: (cohort: CohortType) => [01;31m[K`${cohort.is_static ? 'Static' : 'Dynamic'} Cohort`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K212[m[K[36m[K-[m[K                    getIcon: function _getIcon(): JSX.Element {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K221[m[K[36m[K-[m[K                    value: 'cohortsWithAllUsers',
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K222[m[K[36m[K:[m[K                    getName: (cohort: CohortType) => cohort.name || [01;31m[K`Cohort ${cohort.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K223[m[K[36m[K-[m[K                    getValue: (cohort: CohortType) => cohort.id,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K232[m[K[36m[K-[m[K                    type: TaxonomicFilterGroupType.PageviewUrls,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K233[m[K[36m[K:[m[K                    endpoint: [01;31m[K`api/projects/${teamId}/events/values/?key=$current_url`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K234[m[K[36m[K-[m[K                    searchAlias: 'value',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K242[m[K[36m[K-[m[K                    type: TaxonomicFilterGroupType.Screens,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K243[m[K[36m[K:[m[K                    endpoint: [01;31m[K`api/projects/${teamId}/events/values/?key=$screen_name`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K244[m[K[36m[K-[m[K                    searchAlias: 'value',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K283[m[K[36m[K-[m[K                groupTypes.map((type) => ({
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K284[m[K[36m[K:[m[K                    name: [01;31m[K`${capitalizeFirstLetter(aggregationLabel(type.group_type_index).singular)} properties`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K285[m[K[36m[K:[m[K                    searchPlaceholder: [01;31m[K`${aggregationLabel(type.group_type_index).singular} properties`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K286[m[K[36m[K:[m[K                    type: [01;31m[K`${TaxonomicFilterGroupType.GroupsPrefix}_${type.group_type_index}`[m[K as TaxonomicFilterGroupType,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K287[m[K[36m[K-[m[K                    logic: groupPropertiesModel,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K288[m[K[36m[K:[m[K                    value: [01;31m[K`groupProperties_${type.group_type_index}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K289[m[K[36m[K-[m[K                    valuesEndpoint: (key) =>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K348[m[K[36m[K-[m[K                        (name, index) =>
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K349[m[K[36m[K:[m[K                            [01;31m[K`${index !== 0 ? (index === searchGroupTypes.length - 1 ? ' or ' : ', ') : ''}${name}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K350[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteSelectResults.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K        <Tag
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteSelectResults.tsx[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K            data-attr={[01;31m[K`taxonomic-tab-${groupType}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteSelectResults.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K            className={clsx({ 'taxonomic-pill-active': isActive, 'taxonomic-count-zero': !canInteract })}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/infiniteListLogic.ts[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/infiniteListLogic.ts[m[K[36m[K:[m[K[32m[K67[m[K[36m[K:[m[K    key: (props) => [01;31m[K`${props.taxonomicFilterLogicKey}-${props.listGroupType}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/infiniteListLogic.ts[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/infiniteListLogic.ts[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K                    const searchParams = {
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/infiniteListLogic.ts[m[K[36m[K:[m[K[32m[K128[m[K[36m[K:[m[K                        [[01;31m[K`${values.group?.searchAlias || 'search'}`[m[K]: searchQuery,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/infiniteListLogic.ts[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K                        limit,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/TableRow.tsx[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K                    rowClassNameDetermined,
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/TableRow.tsx[m[K[36m[K:[m[K[32m[K44[m[K[36m[K:[m[K                    rowStatusDetermined && [01;31m[K`LemonTable__tr--status-${rowStatusDetermined}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/TableRow.tsx[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K                )}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/TableRow.tsx[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K                        <td
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/TableRow.tsx[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K                            key={[01;31m[K`LemonTable-td-${columnKeyOrIndex}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/TableRow.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                            className={column.className}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K    if (obligation && !columnKey) {
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K        throw new Error(`LemonTable: Column \`key\` or \`dataIndex\[01;31m[K` must be defined for ${obligation}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K    /** Search param that will be used for storing and syncing sorting */
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K:[m[K[32m[K105[m[K[36m[K:[m[K    const currentSortingParam = id ? [01;31m[K`${id}_order`[m[K : 'order'
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K120[m[K[36m[K-[m[K                    [currentSortingParam]: newSorting
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K:[m[K[32m[K121[m[K[36m[K:[m[K                        ? [01;31m[K`${newSorting.order === -1 ? '-' : ''}${newSorting.columnKey}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K                        : undefined,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K199[m[K[36m[K-[m[K                'LemonTable',
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K:[m[K[32m[K200[m[K[36m[K:[m[K                size && size !== 'middle' && [01;31m[K`LemonTable--${size}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K201[m[K[36m[K-[m[K                loading && 'LemonTable--loading',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K299[m[K[36m[K-[m[K                                        <TableRow
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K:[m[K[32m[K300[m[K[36m[K:[m[K                                            key={[01;31m[K`LemonTable-row-${rowKeyDetermined}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K301[m[K[36m[K-[m[K                                            record={record}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K326[m[K[36m[K-[m[K                                    <td colSpan={columns.length + Number(!!expandable)}>
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K:[m[K[32m[K327[m[K[36m[K:[m[K                                        {emptyState || [01;31m[K`No ${nouns[1]}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K328[m[K[36m[K-[m[K                                    </td>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HelpButton/HelpButton.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                <>
[35m[K/tmp/posthog/frontend/src/lib/components/HelpButton/HelpButton.tsx[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                    <a href={[01;31m[K`https://posthog.com/slack${HELP_UTM_TAGS}`[m[K} rel="noopener" target="_blank">
[35m[K/tmp/posthog/frontend/src/lib/components/HelpButton/HelpButton.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                        <LemonButton
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HelpButton/HelpButton.tsx[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[K                    {!contactOnly && (
[35m[K/tmp/posthog/frontend/src/lib/components/HelpButton/HelpButton.tsx[m[K[36m[K:[m[K[32m[K114[m[K[36m[K:[m[K                        <a href={[01;31m[K`https://posthog.com/docs${HELP_UTM_TAGS}`[m[K} rel="noopener" target="_blank">
[35m[K/tmp/posthog/frontend/src/lib/components/HelpButton/HelpButton.tsx[m[K[36m[K-[m[K[32m[K115[m[K[36m[K-[m[K                            <LemonButton
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ProfilePicture/ProfilePicture.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K        const emailHash = md5(email.trim().toLowerCase())
[35m[K/tmp/posthog/frontend/src/lib/components/ProfilePicture/ProfilePicture.tsx[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K        const gravatarUrl = [01;31m[K`https://www.gravatar.com/avatar/${emailHash}?s=96&d=404`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ProfilePicture/ProfilePicture.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K        pictureComponent = (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ProfilePicture/ProfilePicture.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K                onError={() => setDidImageError(true)}
[35m[K/tmp/posthog/frontend/src/lib/components/ProfilePicture/ProfilePicture.tsx[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K                title={title || [01;31m[K`This is ${email}'s Gravatar.`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/ProfilePicture/ProfilePicture.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K                alt=""
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PayGatePage/PayGatePage.tsx[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K                        type="primary"
[35m[K/tmp/posthog/frontend/src/lib/components/PayGatePage/PayGatePage.tsx[m[K[36m[K:[m[K[32m[K36[m[K[36m[K:[m[K                        data-attr={[01;31m[K`${featureKey}-upgrade`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PayGatePage/PayGatePage.tsx[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K                        className="LemonLinkButton"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PayGatePage/PayGatePage.tsx[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K                        type={hideUpgradeButton ? 'primary' : undefined}
[35m[K/tmp/posthog/frontend/src/lib/components/PayGatePage/PayGatePage.tsx[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K                        to={[01;31m[K`${docsLink}?utm_medium=in-product&utm_campaign=${featureKey}-upgrade-learn-more`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PayGatePage/PayGatePage.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                        target="_blank"
[35m[K/tmp/posthog/frontend/src/lib/components/PayGatePage/PayGatePage.tsx[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K                        data-attr={[01;31m[K`${featureKey}-learn-more`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PayGatePage/PayGatePage.tsx[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K                        className="LemonLinkButton"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K252[m[K[36m[K-[m[K                    actions.registerCommand({
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K:[m[K[32m[K253[m[K[36m[K:[m[K                        key: [01;31m[K`person-${person.distinct_ids[0]}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K254[m[K[36m[K-[m[K                        resolver: [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K256[m[K[36m[K-[m[K                                icon: UserOutlined,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K:[m[K[32m[K257[m[K[36m[K:[m[K                                display: [01;31m[K`View person ${input}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K258[m[K[36m[K-[m[K                                executor: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K293[m[K[36m[K-[m[K                    resolver: dashboards.map((dashboard: DashboardType) => ({
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K:[m[K[32m[K294[m[K[36m[K:[m[K                        key: [01;31m[K`dashboard_${dashboard.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K295[m[K[36m[K-[m[K                        icon: LineChartOutlined,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K:[m[K[32m[K296[m[K[36m[K:[m[K                        display: [01;31m[K`Go to Dashboard: ${dashboard.name}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K297[m[K[36m[K-[m[K                        executor: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K311[m[K[36m[K-[m[K                    if (command.prefixes) {
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K:[m[K[32m[K312[m[K[36m[K:[m[K                        array.push([new RegExp([01;31m[K`^\\s*(${command.prefixes.join('|')})(?:\\s+(.*)|$)`[m[K, 'i'), command])
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K313[m[K[36m[K-[m[K                    } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K599[m[K[36m[K-[m[K                                  icon: CalculatorOutlined,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K:[m[K[32m[K600[m[K[36m[K:[m[K                                  display: [01;31m[K`= ${result}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K601[m[K[36m[K-[m[K                                  guarantee: true,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K619[m[K[36m[K-[m[K                            icon: LinkOutlined,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K:[m[K[32m[K620[m[K[36m[K:[m[K                            display: [01;31m[K`Open ${url}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K:[m[K[32m[K621[m[K[36m[K:[m[K                            synonyms: [[01;31m[K`Visit ${url}`[m[K],
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K622[m[K[36m[K-[m[K                            executor: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K629[m[K[36m[K-[m[K                            icon: LinkOutlined,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K:[m[K[32m[K630[m[K[36m[K:[m[K                            display: [01;31m[K`Open ${argument}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K:[m[K[32m[K631[m[K[36m[K:[m[K                            synonyms: [[01;31m[K`Visit ${argument}`[m[K],
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K632[m[K[36m[K-[m[K                            executor: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K662[m[K[36m[K-[m[K                                    icon: KeyOutlined,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K:[m[K[32m[K663[m[K[36m[K:[m[K                                    display: [01;31m[K`Create Key "${argument}"`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K664[m[K[36m[K-[m[K                                    executor: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K689[m[K[36m[K-[m[K                                    icon: FundOutlined,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K:[m[K[32m[K690[m[K[36m[K:[m[K                                    display: [01;31m[K`Create Dashboard "${argument}"`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts[m[K[36m[K-[m[K[32m[K691[m[K[36m[K-[m[K                                    executor: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/CommandResults.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                    focused={result.index === activeResultIndex}
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/CommandResults.tsx[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K                    key={[01;31m[K`command-result-${result.index}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/CommandResults.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K                />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/icons.stories.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K                    render: function RenderName(name: string) {
[35m[K/tmp/posthog/frontend/src/lib/components/icons.stories.tsx[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K                        return <code>{[01;31m[K`<${name}/>`[m[K}</code>
[35m[K/tmp/posthog/frontend/src/lib/components/icons.stories.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K                    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.test.ts[m[K[36m[K-[m[K[32m[K546[m[K[36m[K-[m[K        testCases.forEach((testcase) => {
[35m[K/tmp/posthog/frontend/src/lib/utils.test.ts[m[K[36m[K:[m[K[32m[K547[m[K[36m[K:[m[K            it([01;31m[K`correctly maps ${testcase.propertyType} to operator options`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/lib/utils.test.ts[m[K[36m[K-[m[K[32m[K548[m[K[36m[K-[m[K                expect(chooseOperatorMap(testcase.propertyType)).toEqual(testcase.expected)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K    return [
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue + hueDiff}, ${saturation - 20}%, ${lightness + 40}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue + hueDiff}, ${saturation + 40}%, ${lightness + 20}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue + hueDiff}, ${saturation + 40}%, ${lightness - 20}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue - hueDiff}, ${saturation}%, ${lightness + 20}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K56[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue - hueDiff}, ${saturation}%, ${lightness - 20}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K57[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue - hueDiff}, ${saturation + 40}%, ${lightness + 20}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue - hueDiff}, ${saturation + 40}%, ${lightness - 20}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K59[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue - hueDiff * 6}, ${saturation}%, ${lightness}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue - hueDiff * 6}, ${saturation}%, ${lightness - 20}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K61[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue - hueDiff * 6}, ${saturation + 40}%, ${lightness + 40}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue + hueDiff * 6}, ${saturation}%, ${lightness}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue + hueDiff * 6}, ${saturation}%, ${lightness - 20}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue + hueDiff * 6}, ${saturation + 40}%, ${lightness + 40}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K65[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue - hueDiff * 9}, ${saturation}%, ${lightness}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue - hueDiff * 9}, ${saturation}%, ${lightness - 20}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K67[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue - hueDiff * 9}, ${saturation + 40}%, ${lightness + 40}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K68[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue + hueDiff * 9}, ${saturation}%, ${lightness}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue + hueDiff * 9}, ${saturation}%, ${lightness - 20}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K70[m[K[36m[K:[m[K        [01;31m[K`hsl(${hue + hueDiff * 9}, ${saturation + 40}%, ${lightness + 40}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K    ]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[Kexport const cssHSLA = (h: number, s: number, l: number, a: number = 1): string =>
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K92[m[K[36m[K:[m[K    [01;31m[K`hsla(${h % 360}, ${Math.max(0, Math.min(100, s))}%, ${Math.max(0, Math.min(100, l))}%, ${a})`[m[K
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K            if (injectLightColors) {
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K                colors.push([01;31m[K`${hex}${alpha}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K146[m[K[36m[K-[m[K        case 'dormant':
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K147[m[K[36m[K:[m[K            return getColorVar([01;31m[K`lifecycle-${status}${hover ? '-hover' : ''}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K148[m[K[36m[K-[m[K        default:
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/api.test.ts[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K            testCases.forEach((testCase) => {
[35m[K/tmp/posthog/frontend/src/lib/api.test.ts[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K                it([01;31m[K`when API is using verb ${verb} it normalizes ${testCase.url} to ${testCase.expected}`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/lib/api.test.ts[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K                    api[verb](testCase.url)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/stories/How to build a scene.stories.mdx[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[Kexport const urls = {
[35m[K/tmp/posthog/frontend/src/stories/How to build a scene.stories.mdx[m[K[36m[K:[m[K[32m[K114[m[K[36m[K:[m[K    dashboard: (id: string | number) => `/dashboard{id ? [01;31m[K`/${id}`[m[K : ''}`,
[35m[K/tmp/posthog/frontend/src/stories/How to build a scene.stories.mdx[m[K[36m[K-[m[K[32m[K115[m[K[36m[K-[m[K    dashboards: () => `/dashboard`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/stories/How to build a form.stories.mdx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K            {
[35m[K/tmp/posthog/frontend/src/stories/How to build a form.stories.mdx[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K                loadFeatureFlag: () => api.get([01;31m[K`api/projects/${values.currentTeamId}/feature_flags/${props.id}`[m[K),
[35m[K/tmp/posthog/frontend/src/stories/How to build a form.stories.mdx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K            },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/stories/How to build a form.stories.mdx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                const newFeatureFlag = updatedFlag.id
[35m[K/tmp/posthog/frontend/src/stories/How to build a form.stories.mdx[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K                    ? await api.update([01;31m[K`api/projects/${values.currentTeamId}/feature_flags/${updatedFlag.id}`[m[K, flag)
[35m[K/tmp/posthog/frontend/src/stories/How to build a form.stories.mdx[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K                    : await api.create([01;31m[K`api/projects/${values.currentTeamId}/feature_flags`[m[K, flag)
[35m[K/tmp/posthog/frontend/src/stories/How to build a form.stories.mdx[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K                breakpoint()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K        renameInsight: async ({ item }) => {
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K            prompt({ key: [01;31m[K`rename-insight-${item.short_id}`[m[K }).actions.prompt({
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                title: 'Rename insight',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K                    const updatedItem = await api.update(
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${item.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K                        {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K            const newItem = dashboardId ? { ...rest, dashboard: dashboardId, layouts } : { ...rest, layouts }
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K:[m[K[32m[K61[m[K[36m[K:[m[K            const addedItem = await api.create([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights`[m[K, newItem)
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K                const deletedItem = await api.update(
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K:[m[K[32m[K67[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${item.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K                    {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K                                const [restoredItem, removedItem] = await Promise.all([
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K:[m[K[32m[K86[m[K[36m[K:[m[K                                    api.update([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${item.id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K                                        deleted: false,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K                                    api.update(
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K:[m[K[32m[K90[m[K[36m[K:[m[K                                        [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${addedItem.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K                                        {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K                    button: {
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K:[m[K[32m[K106[m[K[36m[K:[m[K                        label: [01;31m[K`View ${dashboard.name}`[m[K,
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K                        action: () => router.actions.push(urls.dashboard(dashboard.id)),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/eventDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K                    const url = initial
[35m[K/tmp/posthog/frontend/src/models/eventDefinitionsModel.ts[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K                        ? [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/event_definitions/?limit=5000`[m[K
[35m[K/tmp/posthog/frontend/src/models/eventDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K                        : values.eventStorage.next
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/eventDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K        updateDescription: async ({ id, description, type }) => {
[35m[K/tmp/posthog/frontend/src/models/eventDefinitionsModel.ts[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K            const response = await api.update([01;31m[K`api/projects/@current/${type}_definitions/${id}`[m[K, { description })
[35m[K/tmp/posthog/frontend/src/models/eventDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K            if (type === 'event') {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/funnelsModel.ts[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K            deleteFunnel: async (funnelId: number) => {
[35m[K/tmp/posthog/frontend/src/models/funnelsModel.ts[m[K[36m[K:[m[K[32m[K39[m[K[36m[K:[m[K                await api.delete([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${funnelId}`[m[K)
[35m[K/tmp/posthog/frontend/src/models/funnelsModel.ts[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K                return values.funnels.filter((funnel) => funnel.id !== funnelId)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K                    if (values.groupsEnabled) {
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[K                        return await api.get([01;31m[K`api/projects/${values.currentTeamId}/groups_types`[m[K)
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K                        return await api.update(
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K                            [01;31m[K`/api/projects/${teamLogic.values.currentTeamId}/groups_types/update_metadata`[m[K,
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K                            payload
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K                    (groupType: GroupType) =>
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K                        [01;31m[K`${TaxonomicFilterGroupType.GroupsPrefix}_${groupType.group_type_index}`[m[K as TaxonomicFilterGroupType
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K                            singular: groupType.name_plural || groupType.group_type,
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[K                            plural: groupType.name_plural || [01;31m[K`${groupType.group_type}(s)`[m[K,
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/annotationsModel.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K            createGlobalAnnotation: async ({ insightNumericId, content, date_marker, created_at }) => {
[35m[K/tmp/posthog/frontend/src/models/annotationsModel.ts[m[K[36m[K:[m[K[32m[K36[m[K[36m[K:[m[K                await api.create([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/annotations`[m[K, {
[35m[K/tmp/posthog/frontend/src/models/annotationsModel.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K                    content,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/annotationsModel.ts[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                deleteWithUndo({
[35m[K/tmp/posthog/frontend/src/models/annotationsModel.ts[m[K[36m[K:[m[K[32m[K78[m[K[36m[K:[m[K                    endpoint: [01;31m[K`projects/${teamLogic.values.currentTeamId}/annotations`[m[K,
[35m[K/tmp/posthog/frontend/src/models/annotationsModel.ts[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K                    object: { name: 'Annotation', id },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/groupPropertiesModel.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K                    if (values.groupsEnabled) {
[35m[K/tmp/posthog/frontend/src/models/groupPropertiesModel.ts[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K                        return await api.get([01;31m[K`api/projects/${values.currentTeamId}/groups/property_definitions`[m[K)
[35m[K/tmp/posthog/frontend/src/models/groupPropertiesModel.ts[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K            id: id,
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K            name: name || [01;31m[K`#${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K            show: show || false,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K                    const { results } = await api.get([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/`[m[K)
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K                    return idToKey(results ?? [])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K                loadSharedDashboard: async ({ shareToken }) => {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K                    return await api.get([01;31m[K`api/shared_dashboards/${shareToken}`[m[K)
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                const response = (await api.update(
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K77[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                    payload
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K                    if (updatedAttribute === 'name') {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K88[m[K[36m[K:[m[K                        setPageTitle(response.name ? [01;31m[K`${response.name} • Dashboard`[m[K : 'Dashboard')
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K            setIsSharedDashboard: async ({ id, isShared }) =>
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K94[m[K[36m[K:[m[K                (await api.update([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/${id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K                    is_shared: isShared,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K            deleteDashboard: async ({ id }) =>
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K98[m[K[36m[K:[m[K                (await api.update([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/${id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K99[m[K[36m[K-[m[K                    deleted: true,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K101[m[K[36m[K-[m[K            restoreDashboard: async ({ id }) =>
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K102[m[K[36m[K:[m[K                (await api.update([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/${id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K                    deleted: false,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K            pinDashboard: async ({ id, source }) => {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K106[m[K[36m[K:[m[K                const response = (await api.update([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/${id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K                    pinned: true,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K            unpinDashboard: async ({ id, source }) => {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K113[m[K[36m[K:[m[K                const response = (await api.update([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/${id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K114[m[K[36m[K-[m[K                    pinned: false,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K119[m[K[36m[K-[m[K            duplicateDashboard: async ({ id, name, show }) => {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K120[m[K[36m[K:[m[K                const result = (await api.create([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/`[m[K, {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K121[m[K[36m[K-[m[K                    use_dashboard: id,
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K122[m[K[36m[K:[m[K                    name: [01;31m[K`${name} (Copy)`[m[K,
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K123[m[K[36m[K-[m[K                })) as DashboardType
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K].map((name, index) => ({
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K    id: [01;31m[K`uuid-${index}-foobar`[m[K,
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K    name: name || [01;31m[K`misc-${index}-generated`[m[K,
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K    description: [01;31m[K`${name || 'name generation'} is the best!`[m[K,
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K    query_usage_30_day: index * 3 + 1,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K    ...mockEventPropertyDefinition,
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K    id: [01;31m[K`uuid-${index}-foobar`[m[K,
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K:[m[K[32m[K65[m[K[36m[K:[m[K    name: name || [01;31m[K`misc-${index}-generated`[m[K,
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K    description: [01;31m[K`${name || 'name generation'} is the best!`[m[K,
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K    is_event_property: (name || '').includes('$'),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/secondaryMetricsLogic.ts[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K                loadExperiments: async () => {
[35m[K/tmp/posthog/frontend/src/scenes/experiments/secondaryMetricsLogic.ts[m[K[36m[K:[m[K[32m[K68[m[K[36m[K:[m[K                    const response = await api.get([01;31m[K`api/projects/${values.currentTeamId}/experiments`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/experiments/secondaryMetricsLogic.ts[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K                    return response.results as Experiment[]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/secondaryMetricsLogic.ts[m[K[36m[K-[m[K[32m[K150[m[K[36m[K-[m[K            const createdInsight: InsightModel = await api.create(
[35m[K/tmp/posthog/frontend/src/scenes/experiments/secondaryMetricsLogic.ts[m[K[36m[K:[m[K[32m[K151[m[K[36m[K:[m[K                [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/experiments/secondaryMetricsLogic.ts[m[K[36m[K-[m[K[32m[K152[m[K[36m[K-[m[K                newInsight
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.test.ts[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                },
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.test.ts[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K                [[01;31m[K`/api/projects/:team/experiments/${RUNNING_EXP_ID}/results`[m[K]: {
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.test.ts[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K                    filters: { breakdown: '$feature/test-experiment', breakdown_type: 'event', insight: 'TRENDS' },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.test.ts[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                },
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.test.ts[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K                [[01;31m[K`/api/projects/:team/experiments/${RUNNING_FUNNEL_EXP_ID}/results`[m[K]: {
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.test.ts[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K                    filters: { breakdown: '$feature/test-experiment', breakdown_type: 'event', insight: 'FUNNELS' },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentsLogic.ts[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K                    const response = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentsLogic.ts[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${values.currentTeamId}/experiments?${filter ? filter : ''}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentsLogic.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentsLogic.ts[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K                deleteExperiment: async (id: number) => {
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentsLogic.ts[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K                    await api.delete([01;31m[K`api/projects/${values.currentTeamId}/experiments/${id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentsLogic.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                    lemonToast.info('Experiment removed')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentWorkflow.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K                <Col
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentWorkflow.tsx[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K                    className={[01;31m[K`full-width exp-workflow-step ${workflowValidateStepCompleted ? 'step-completed' : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentWorkflow.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K                    onClick={() => setWorkflowValidateStepCompleted(!workflowValidateStepCompleted)}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentWorkflow.tsx[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K                <Col
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentWorkflow.tsx[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K                    className={[01;31m[K`full-width exp-workflow-step ${workflowLaunchStepCompleted ? 'step-completed' : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentWorkflow.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K                    onClick={() => setWorkflowLaunchStepCompleted(!workflowLaunchStepCompleted)}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K-[m[K[32m[K270[m[K[36m[K-[m[K                                                            <Form
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K:[m[K[32m[K271[m[K[36m[K:[m[K                                                                key={[01;31m[K`${variant}-${idx}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K-[m[K[32m[K272[m[K[36m[K-[m[K                                                                initialValues={{
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K-[m[K[32m[K279[m[K[36m[K-[m[K                                                                <Row
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K:[m[K[32m[K280[m[K[36m[K:[m[K                                                                    key={[01;31m[K`${variant}-${idx}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K-[m[K[32m[K281[m[K[36m[K-[m[K                                                                    className={`feature-flag-variant ${
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K-[m[K[32m[K323[m[K[36m[K-[m[K                                                                            className="ph-ignore-input"
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K:[m[K[32m[K324[m[K[36m[K:[m[K                                                                            placeholder={[01;31m[K`example-variant-${idx + 1}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K-[m[K[32m[K325[m[K[36m[K-[m[K                                                                            autoComplete="off"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K-[m[K[32m[K611[m[K[36m[K-[m[K                                        style={{ paddingRight: 8 }}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K:[m[K[32m[K612[m[K[36m[K:[m[K                                        title={[01;31m[K`${experimentData?.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K-[m[K[32m[K613[m[K[36m[K-[m[K                                        buttons={
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K                                        }}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K:[m[K[32m[K104[m[K[36m[K:[m[K                                        tipFormatter={(value) => [01;31m[K`${value}%`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K                                    />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K                                    defaultValue={5}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K:[m[K[32m[K111[m[K[36m[K:[m[K                                    formatter={(value) => [01;31m[K`${value}%`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K                                    style={{ margin: '0 16px' }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K-[m[K[32m[K123[m[K[36m[K-[m[K                )}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K:[m[K[32m[K124[m[K[36m[K:[m[K                <Row className={[01;31m[K`experiment-preview-row ${experiment?.start_date ? 'mr' : ''}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K                    {experimentInsightType === InsightType.TRENDS ? (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/SecondaryMetrics.tsx[m[K[36m[K-[m[K[32m[K200[m[K[36m[K-[m[K                                        }}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/SecondaryMetrics.tsx[m[K[36m[K:[m[K[32m[K201[m[K[36m[K:[m[K                                        typeKey={[01;31m[K`funnel-preview-${idx}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/SecondaryMetrics.tsx[m[K[36m[K-[m[K[32m[K202[m[K[36m[K-[m[K                                        mathAvailability={MathAvailability.None}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/SecondaryMetrics.tsx[m[K[36m[K-[m[K[32m[K232[m[K[36m[K-[m[K                                        }}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/SecondaryMetrics.tsx[m[K[36m[K:[m[K[32m[K233[m[K[36m[K:[m[K                                        typeKey={[01;31m[K`trend-preview-${idx}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/SecondaryMetrics.tsx[m[K[36m[K-[m[K[32m[K234[m[K[36m[K-[m[K                                        buttonCopy="Add graph series"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K                return <div>{duration !== undefined ? [01;31m[K`${duration} day${duration > 1 ? 's' : ''}`[m[K : 'N.A'}</div>
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K            },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K                            <>
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K:[m[K[32m[K92[m[K[36m[K:[m[K                                <LemonButton type="stealth" to={urls.experiment([01;31m[K`${experiment.id}`[m[K)} compact fullWidth>
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K                                    View
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K-[m[K[32m[K99[m[K[36m[K-[m[K                                    onClick={() => deleteExperiment(experiment.id as number)}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K:[m[K[32m[K100[m[K[36m[K:[m[K                                    data-attr={[01;31m[K`experiment-${experiment.id}-dropdown-remove`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K-[m[K[32m[K101[m[K[36m[K-[m[K                                    fullWidth
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K            <CodeSnippet language={Language.JavaScript}>
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K                {[01;31m[K`posthog.feature_flags.override({'${experiment?.feature_flag_key}': '${currentVariant}'})`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K            </CodeSnippet>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K                                    {
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K128[m[K[36m[K:[m[K                                        key: [01;31m[K`test_group_${state.parameters.feature_flag_variants.length}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K                                        rollout_percentage: newRolloutPercentages[newRolloutPercentages.length - 1],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K201[m[K[36m[K-[m[K                    response = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K202[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${values.currentTeamId}/experiments/${props.experimentId}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K203[m[K[36m[K-[m[K                        {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K                } else {
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K219[m[K[36m[K:[m[K                    response = await api.create([01;31m[K`api/projects/${values.currentTeamId}/experiments`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K220[m[K[36m[K-[m[K                        ...values.newExperimentData,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K238[m[K[36m[K-[m[K                actions.addToExperiments(response)
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K239[m[K[36m[K:[m[K                lemonToast.success([01;31m[K`Experiment ${isUpdate ? 'updated' : 'created'}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K240[m[K[36m[K-[m[K                    button: {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K278[m[K[36m[K-[m[K            const createdInsight: InsightModel = await api.create(
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K279[m[K[36m[K:[m[K                [01;31m[K`api/projects/${values.currentTeamId}/insights`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K280[m[K[36m[K-[m[K                newInsight
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K344[m[K[36m[K-[m[K                            const response = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K345[m[K[36m[K:[m[K                                [01;31m[K`api/projects/${values.currentTeamId}/experiments/${props.experimentId}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K346[m[K[36m[K-[m[K                            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K351[m[K[36m[K-[m[K                            } else {
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K352[m[K[36m[K:[m[K                                lemonToast.error([01;31m[K`Failed to load experiment ${props.experimentId}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K353[m[K[36m[K:[m[K                                throw new Error([01;31m[K`Failed to load experiment ${props.experimentId}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K354[m[K[36m[K-[m[K                            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K360[m[K[36m[K-[m[K                    const response: Experiment = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K361[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${values.currentTeamId}/experiments/${props.experimentId}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K362[m[K[36m[K-[m[K                        update
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K373[m[K[36m[K-[m[K                        const response = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K374[m[K[36m[K:[m[K                            [01;31m[K`api/projects/${values.currentTeamId}/experiments/${props.experimentId}/results`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K375[m[K[36m[K-[m[K                        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K395[m[K[36m[K-[m[K                                const secResults = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K396[m[K[36m[K:[m[K                                    [01;31m[K`api/projects/${values.currentTeamId}/experiments/${props.experimentId}/secondary_results?id=${index}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K397[m[K[36m[K-[m[K                                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortMatchingCriteriaSection/MatchCriteriaSelector.tsx[m[K[36m[K-[m[K[32m[K151[m[K[36m[K-[m[K                event_id: undefined,
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortMatchingCriteriaSection/MatchCriteriaSelector.tsx[m[K[36m[K:[m[K[32m[K152[m[K[36m[K:[m[K                label: findActionName(id) || [01;31m[K`Action #${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortMatchingCriteriaSection/MatchCriteriaSelector.tsx[m[K[36m[K-[m[K[32m[K153[m[K[36m[K-[m[K            })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortLogic.ts[m[K[36m[K-[m[K[32m[K174[m[K[36m[K-[m[K            lemonToast.success('Cohort saved. Please wait up to a few minutes for it to be calculated', {
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortLogic.ts[m[K[36m[K:[m[K[32m[K175[m[K[36m[K:[m[K                toastId: [01;31m[K`cohort-saved-${key}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortLogic.ts[m[K[36m[K-[m[K[32m[K176[m[K[36m[K-[m[K            })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/Cohorts.tsx[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K        exportCohortPersons: ({ id }) => {
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/Cohorts.tsx[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[K            window.open([01;31m[K`/api/person.csv?cohort=${id}`[m[K, '_blank')
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/Cohorts.tsx[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K115[m[K[36m[K-[m[K            .append('title')
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K:[m[K[32m[K116[m[K[36m[K:[m[K            .text((d: PathNodeData) => [01;31m[K`${stripHTTP(d.name)}\n${d.value.toLocaleString()}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K117[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K142[m[K[36m[K-[m[K            .attr('d', Sankey.sankeyLinkHorizontal())
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K:[m[K[32m[K143[m[K[36m[K:[m[K            .attr('id', (d: PathNodeData) => [01;31m[K`path-${d.index}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K144[m[K[36m[K-[m[K            .attr('stroke-width', (d: PathNodeData) => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K147[m[K[36m[K-[m[K            .on('mouseover', (data: PathNodeData) => {
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K:[m[K[32m[K148[m[K[36m[K:[m[K                svg.select([01;31m[K`#path-${data.index}`[m[K).attr('stroke', 'blue')
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K149[m[K[36m[K-[m[K                if (data?.source?.targetLinks.length === 0) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K156[m[K[36m[K-[m[K                    _node?.targetLinks.forEach((_link: PathTargetLink) => {
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K:[m[K[32m[K157[m[K[36m[K:[m[K                        svg.select([01;31m[K`#path-${_link.index}`[m[K).attr('stroke', 'blue')
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K158[m[K[36m[K-[m[K                        nodesToColor.push(_link.source)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K228[m[K[36m[K-[m[K        const elements = document
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K:[m[K[32m[K229[m[K[36m[K:[m[K            ?.getElementById([01;31m[K`'${insight?.short_id || DEFAULT_PATHS_ID}'`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K230[m[K[36m[K-[m[K            ?.querySelectorAll(`.paths svg`)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K266[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K:[m[K[32m[K267[m[K[36m[K:[m[K        <div className="paths-container" id={[01;31m[K`'${insight?.short_id || DEFAULT_PATHS_ID}'`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K268[m[K[36m[K-[m[K            <div ref={canvas} className="paths" data-attr="paths-viz">
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K420[m[K[36m[K-[m[K                                            alignItems: 'center',
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K:[m[K[32m[K421[m[K[36m[K:[m[K                                            display: [01;31m[K`${pathItemCard.visible ? 'flex' : 'none'}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K422[m[K[36m[K-[m[K                                        }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K432[m[K[36m[K-[m[K                                                }}
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K:[m[K[32m[K433[m[K[36m[K:[m[K                                            >{[01;31m[K`0${pathItemCard.name[0]}`[m[K}</span>{' '}
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K434[m[K[36m[K-[m[K                                            <span style={{ fontSize: 12, fontWeight: 600 }}>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/sceneLogic.ts[m[K[36m[K-[m[K[32m[K331[m[K[36m[K-[m[K                } else if (defaultExport) {
[35m[K/tmp/posthog/frontend/src/scenes/sceneLogic.ts[m[K[36m[K:[m[K[32m[K332[m[K[36m[K:[m[K                    console.warn([01;31m[K`Scene ${scene} not yet converted to use SceneExport!`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/sceneLogic.ts[m[K[36m[K-[m[K[32m[K333[m[K[36m[K-[m[K                    loadedScene = {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/sceneLogic.ts[m[K[36m[K-[m[K[32m[K339[m[K[36m[K-[m[K                } else {
[35m[K/tmp/posthog/frontend/src/scenes/sceneLogic.ts[m[K[36m[K:[m[K[32m[K340[m[K[36m[K:[m[K                    console.warn([01;31m[K`Scene ${scene} not yet converted to use SceneExport!`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/sceneLogic.ts[m[K[36m[K-[m[K[32m[K341[m[K[36m[K-[m[K                    loadedScene = {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/toolbar-launch/ToolbarLaunch.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K            <div className="footer-caption">
[35m[K/tmp/posthog/frontend/src/scenes/toolbar-launch/ToolbarLaunch.tsx[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K                Make sure you're using the <Link to={[01;31m[K`${urls.projectSettings()}#snippet`[m[K}>HTML snippet</Link> or the
[35m[K/tmp/posthog/frontend/src/scenes/toolbar-launch/ToolbarLaunch.tsx[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K                latest <code>posthog-js</code> version.
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/toolbar-launch/authorizedUrlsLogic.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K    path: (key) => ['lib', 'components', 'AppEditorLink', 'appUrlsLogic', key],
[35m[K/tmp/posthog/frontend/src/scenes/toolbar-launch/authorizedUrlsLogic.ts[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K    key: (props) => [01;31m[K`${props.pageKey}${props.actionId}`[m[K || 'global',
[35m[K/tmp/posthog/frontend/src/scenes/toolbar-launch/authorizedUrlsLogic.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K    props: {} as {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/toolbar-launch/authorizedUrlsLogic.ts[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                const result = (
[35m[K/tmp/posthog/frontend/src/scenes/toolbar-launch/authorizedUrlsLogic.ts[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K                    await api.get([01;31m[K`api/projects/${values.currentTeamId}/insights/trend/?${toParams(params)}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/toolbar-launch/authorizedUrlsLogic.ts[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                ).result as TrendResult[]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/groups/groupLogic.ts[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K                    const params = { group_type_index: values.groupTypeIndex, group_key: values.groupKey }
[35m[K/tmp/posthog/frontend/src/scenes/groups/groupLogic.ts[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K                    const url = [01;31m[K`api/projects/${values.currentTeamId}/groups/find?${toParams(params)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/groups/groupLogic.ts[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K                    return await api.get(url)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/groups/relatedGroupsLogic.ts[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K    },
[35m[K/tmp/posthog/frontend/src/scenes/groups/relatedGroupsLogic.ts[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[K    key: (props) => [01;31m[K`${props.groupTypeIndex ?? 'person'}-${props.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/groups/relatedGroupsLogic.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/groups/groupsListLogic.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                        url =
[35m[K/tmp/posthog/frontend/src/scenes/groups/groupsListLogic.ts[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K                            url || [01;31m[K`api/projects/${values.currentTeamId}/groups/?group_type_index=${values.currentTab}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/groups/groupsListLogic.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K                        return await api.get(url)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/groups/Group.tsx[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K                    <EventsTable
[35m[K/tmp/posthog/frontend/src/scenes/groups/Group.tsx[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K                        pageKey={[01;31m[K`${groupTypeIndex}::${groupKey}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/groups/Group.tsx[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K                        fixedFilters={{
[35m[K/tmp/posthog/frontend/src/scenes/groups/Group.tsx[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K                            properties: [{ key: [01;31m[K`$group_${groupTypeIndex}`[m[K, value: groupKey }],
[35m[K/tmp/posthog/frontend/src/scenes/groups/Group.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                        }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/groups/Group.tsx[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                            <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/groups/Group.tsx[m[K[36m[K:[m[K[32m[K87[m[K[36m[K:[m[K                                title={[01;31m[K`People and groups that have shared events with this ${groupTypeName} in the last 90 days.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/groups/Group.tsx[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K                            >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.test.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K    arrayToExpectedValues.forEach(([array, expected]) => {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.test.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K        it([01;31m[K`expect mean and deviation for array=${array} to equal ${expected}`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.test.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K            const [mean, stdDev] = getMeanAndStandardDeviation(array)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.test.ts[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K    windows.forEach(({ expected, ...w }) => {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.test.ts[m[K[36m[K:[m[K[32m[K142[m[K[36m[K:[m[K        it([01;31m[K`get start date of conversion window ${w.funnel_window_interval} ${w.funnel_window_interval_unit}s`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.test.ts[m[K[36m[K-[m[K[32m[K143[m[K[36m[K-[m[K            expect(getIncompleteConversionWindowStartDate(w, frozenStartDate).toISOString()).toEqual(expected)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.test.ts[m[K[36m[K-[m[K[32m[K482[m[K[36m[K-[m[K        expect(api.create).toBeCalledWith(
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.test.ts[m[K[36m[K:[m[K[32m[K483[m[K[36m[K:[m[K            [01;31m[K`api/projects/${MOCK_TEAM_ID}/insights/funnel/`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.test.ts[m[K[36m[K-[m[K[32m[K484[m[K[36m[K-[m[K            expect.objectContaining({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K-[m[K[32m[K194[m[K[36m[K-[m[K                        const results: Omit<FunnelCorrelation, 'result_type'>[] = (
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K:[m[K[32m[K195[m[K[36m[K:[m[K                            await api.create([01;31m[K`api/projects/${values.currentTeamId}/insights/funnel/correlation`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K-[m[K[32m[K196[m[K[36m[K-[m[K                                ...values.apiParams,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K-[m[K[32m[K229[m[K[36m[K-[m[K                        const results: Omit<FunnelCorrelation, 'result_type'>[] = (
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K:[m[K[32m[K230[m[K[36m[K:[m[K                            await api.create([01;31m[K`api/projects/${values.currentTeamId}/insights/funnel/correlation`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K-[m[K[32m[K231[m[K[36m[K-[m[K                                ...values.apiParams,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K-[m[K[32m[K255[m[K[36m[K-[m[K                    const results: Omit<FunnelCorrelation, 'result_type'>[] = (
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K:[m[K[32m[K256[m[K[36m[K:[m[K                        await api.create([01;31m[K`api/projects/${values.currentTeamId}/insights/funnel/correlation`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K-[m[K[32m[K257[m[K[36m[K-[m[K                            ...values.apiParams,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K-[m[K[32m[K507[m[K[36m[K-[m[K                        count,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K:[m[K[32m[K508[m[K[36m[K:[m[K                        label: percent === 0 ? '' : [01;31m[K`${formatDisplayPercentage(percent)}%`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K-[m[K[32m[K509[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K-[m[K[32m[K999[m[K[36m[K-[m[K            () => [(_, props) => props],
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K:[m[K[32m[K1000[m[K[36m[K:[m[K            (props): string => [01;31m[K`correlation-${keyForInsightLogicProps('insight_funnel')(props)}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K-[m[K[32m[K1001[m[K[36m[K-[m[K        ],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K-[m[K[32m[K1370[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K:[m[K[32m[K1371[m[K[36m[K:[m[K        [visibilitySensorLogic({ id: [01;31m[K`${values.correlationPropKey}-properties`[m[K }).actionTypes.setVisible]: async (
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelLogic.ts[m[K[36m[K-[m[K[32m[K1372[m[K[36m[K-[m[K            {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K        {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K:[m[K[32m[K109[m[K[36m[K:[m[K            title: [01;31m[K`Conversion rate (from step ${humanizeOrder(previousOrder)})`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K            value: formatDisplayPercentage(breakdown.conversionRates.fromPrevious) + '%',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K118[m[K[36m[K-[m[K        {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K:[m[K[32m[K119[m[K[36m[K:[m[K            title: [01;31m[K`Dropoff rate (from step ${humanizeOrder(previousOrder)})`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K120[m[K[36m[K-[m[K            value: formatDisplayPercentage(1 - breakdown.conversionRates.fromPrevious) + '%',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K237[m[K[36m[K-[m[K    if (step.type === 'actions') {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K:[m[K[32m[K238[m[K[36m[K:[m[K        return [01;31m[K`${step.type}/${step.action_id}/${step.order}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K239[m[K[36m[K-[m[K    } else {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K240[m[K[36m[K-[m[K        const breakdownValues = getBreakdownStepValues({ breakdown: key, breakdown_value: key }, -1).breakdown_value
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K:[m[K[32m[K241[m[K[36m[K:[m[K        return [01;31m[K`${step.type}/${step.action_id}/${step.order}/${breakdownValues.join('_')}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K242[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K253[m[K[36m[K-[m[K    let result = await api.create(
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K:[m[K[32m[K254[m[K[36m[K:[m[K        [01;31m[K`api/projects/${teamId}/insights/funnel/${refresh ? '?refresh=true' : ''}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K255[m[K[36m[K-[m[K        bodyParams
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K259[m[K[36m[K-[m[K        await wait()
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K:[m[K[32m[K260[m[K[36m[K:[m[K        result = await api.create([01;31m[K`api/projects/${teamId}/insights/funnel`[m[K, bodyParams)
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K261[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K298[m[K[36m[K-[m[K        return {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K:[m[K[32m[K299[m[K[36m[K:[m[K            rowKey: [01;31m[K`${breakdownStep.breakdown.join('_')}_${index}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K300[m[K[36m[K-[m[K            breakdown: breakdownStep.breakdown,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K306[m[K[36m[K-[m[K        return {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K:[m[K[32m[K307[m[K[36m[K:[m[K            rowKey: [01;31m[K`${breakdownStep.breakdown}_${index}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K308[m[K[36m[K-[m[K            breakdown: [breakdownStep.breakdown],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K139[m[K[36m[K-[m[K                ref={barRef}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K140[m[K[36m[K:[m[K                className={[01;31m[K`funnel-bar ${getSeriesPositionName(breakdownIndex, breakdownMaxIndex)}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K                style={{
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K142[m[K[36m[K:[m[K                    flex: [01;31m[K`${percentage} 1 0`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K143[m[K[36m[K-[m[K                    cursor: cursorType,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K154[m[K[36m[K-[m[K                        ref={labelRef}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K155[m[K[36m[K:[m[K                        className={[01;31m[K`funnel-bar-percentage ${labelPosition}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K156[m[K[36m[K-[m[K                        title={
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K157[m[K[36m[K:[m[K                            name ? [01;31m[K`${capitalizeFirstLetter(aggregationTargetLabel.plural)} who did ${name}`[m[K : undefined
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K158[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K268[m[K[36m[K-[m[K                disabled={disabled}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K269[m[K[36m[K:[m[K                title={[01;31m[K`Average of time elapsed for each ${aggregationTargetLabel.singular} between completing this step and starting the next one.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K270[m[K[36m[K-[m[K            >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K332[m[K[36m[K-[m[K                        <div className="funnel-series-container">
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K333[m[K[36m[K:[m[K                            <div className={[01;31m[K`funnel-series-linebox ${showLineBefore ? 'before' : ''}`[m[K} />
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K334[m[K[36m[K-[m[K                            {filters.funnel_order_type === StepOrderValue.UNORDERED ? (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K340[m[K[36m[K-[m[K                            )}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K341[m[K[36m[K:[m[K                            <div className={[01;31m[K`funnel-series-linebox ${showLineAfter ? 'after' : ''}`[m[K} />
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K342[m[K[36m[K-[m[K                        </div>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K356[m[K[36m[K-[m[K                            </div>
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K357[m[K[36m[K:[m[K                            <div className={[01;31m[K`funnel-step-metadata funnel-time-metadata ${FunnelLayout.horizontal}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K358[m[K[36m[K-[m[K                                {step.average_conversion_time && step.average_conversion_time >= 0 + Number.EPSILON ? (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K375[m[K[36m[K-[m[K                                                <Bar
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K376[m[K[36m[K:[m[K                                                    key={[01;31m[K`${breakdown.action_id}-${step.breakdown_value}-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K377[m[K[36m[K-[m[K                                                    isBreakdown={true}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K467[m[K[36m[K-[m[K                                            style={{
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K468[m[K[36m[K:[m[K                                                flex: [01;31m[K`${1 - breakdownSum / basisStep.count} 1 0`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K469[m[K[36m[K-[m[K                                                cursor: `${!dashboardItemId ? 'pointer' : ''}`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K532[m[K[36m[K-[m[K                                            style={{
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K533[m[K[36m[K:[m[K                                                flex: [01;31m[K`${1 - step.conversionRates.fromBasisStep} 1 0`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K534[m[K[36m[K-[m[K                                                cursor: `${!dashboardItemId ? 'pointer' : ''}`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelLineGraph.tsx[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K                renderCount: (count) => {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelLineGraph.tsx[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K                    return [01;31m[K`${count}%`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelLineGraph.tsx[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelCanvasLabel.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K                          <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelCanvasLabel.tsx[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K                              title={[01;31m[K`Overall conversion rate for all ${aggregationTargetLabel.plural} on the entire funnel.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelCanvasLabel.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K                          >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelCanvasLabel.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                          <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelCanvasLabel.tsx[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K                              title={[01;31m[K`Average (arithmetic mean) of the total time each ${aggregationTargetLabel.singular} spent in the entire funnel.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelCanvasLabel.tsx[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K                          >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/ShareModal.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                        <CodeSnippet language={Language.HTML}>
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/ShareModal.tsx[m[K[36m[K:[m[K[32m[K77[m[K[36m[K:[m[K                            {[01;31m[K`<iframe width="100%" height="100%" frameborder="0" src="${shareLink}?embedded" />`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/ShareModal.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                        </CodeSnippet>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/ShareModal.tsx[m[K[36m[K-[m[K[32m[K146[m[K[36m[K-[m[K                                                value={user.uuid}
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/ShareModal.tsx[m[K[36m[K:[m[K[32m[K147[m[K[36m[K:[m[K                                                title={[01;31m[K`${user.first_name} (${user.email})`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/ShareModal.tsx[m[K[36m[K-[m[K[32m[K148[m[K[36m[K-[m[K                                            >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/newDashboardLogic.ts[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                const result: DashboardType = await api.create(
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/newDashboardLogic.ts[m[K[36m[K:[m[K[32m[K51[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/newDashboardLogic.ts[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K                    {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[K                        const apiUrl = props.shareToken
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K:[m[K[32m[K114[m[K[36m[K:[m[K                            ? [01;31m[K`api/shared_dashboards/${props.shareToken}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K-[m[K[32m[K115[m[K[36m[K-[m[K                            : `api/projects/${teamLogic.values.currentTeamId}/dashboards/${props.id}/?${toParams({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K-[m[K[32m[K119[m[K[36m[K-[m[K                        actions.setDates(dashboard.filters.date_from, dashboard.filters.date_to, false)
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K:[m[K[32m[K120[m[K[36m[K:[m[K                        setPageTitle(dashboard.name ? [01;31m[K`${dashboard.name} • Dashboard`[m[K : 'Dashboard')
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K-[m[K[32m[K121[m[K[36m[K-[m[K                        return dashboard
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K-[m[K[32m[K544[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K:[m[K[32m[K545[m[K[36m[K:[m[K            await api.update([01;31m[K`api/projects/${values.currentTeamId}/insights/layouts`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K-[m[K[32m[K546[m[K[36m[K-[m[K                items:
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K-[m[K[32m[K557[m[K[36m[K-[m[K        updateItemColor: async ({ insightNumericId, color }) => {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K:[m[K[32m[K558[m[K[36m[K:[m[K            return api.update([01;31m[K`api/projects/${values.currentTeamId}/insights/${insightNumericId}`[m[K, { color })
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K-[m[K[32m[K559[m[K[36m[K-[m[K        },
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K-[m[K[32m[K560[m[K[36m[K-[m[K        removeItem: async ({ insightNumericId }) => {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K:[m[K[32m[K561[m[K[36m[K:[m[K            return api.update([01;31m[K`api/projects/${values.currentTeamId}/insights/${insightNumericId}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K-[m[K[32m[K562[m[K[36m[K-[m[K                dashboard: null,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K-[m[K[32m[K632[m[K[36m[K-[m[K            await breakpoint(200)
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K:[m[K[32m[K633[m[K[36m[K:[m[K            await api.update([01;31m[K`api/projects/${values.currentTeamId}/dashboards/${props.id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.ts[m[K[36m[K-[m[K[32m[K634[m[K[36m[K-[m[K                filters: values.filters,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/DashboardHeader.tsx[m[K[36m[K-[m[K[32m[K285[m[K[36m[K-[m[K                name: collaborator.user.first_name,
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/DashboardHeader.tsx[m[K[36m[K:[m[K[32m[K286[m[K[36m[K:[m[K                title: [01;31m[K`${collaborator.user.first_name} (${privilegeLevelToName[collaborator.level]})`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/DashboardHeader.tsx[m[K[36m[K-[m[K[32m[K287[m[K[36m[K-[m[K            }))}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K        triggerMigration: async ({ migrationId }) => {
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K:[m[K[32m[K130[m[K[36m[K:[m[K            const res = await api.create([01;31m[K`/api/async_migrations/${migrationId}/trigger`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K            if (res.success) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K138[m[K[36m[K-[m[K        resumeMigration: async ({ migrationId }) => {
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K:[m[K[32m[K139[m[K[36m[K:[m[K            const res = await api.create([01;31m[K`/api/async_migrations/${migrationId}/resume`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K140[m[K[36m[K-[m[K            if (res.success) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K147[m[K[36m[K-[m[K        rollbackMigration: async ({ migrationId }) => {
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K:[m[K[32m[K148[m[K[36m[K:[m[K            const res = await api.create([01;31m[K`/api/async_migrations/${migrationId}/rollback`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K149[m[K[36m[K-[m[K            if (res.success) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K156[m[K[36m[K-[m[K        forceStopMigration: async ({ migrationId }) => {
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K:[m[K[32m[K157[m[K[36m[K:[m[K            const res = await api.create([01;31m[K`/api/async_migrations/${migrationId}/force_stop`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K158[m[K[36m[K-[m[K            if (res.success) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K165[m[K[36m[K-[m[K        forceStopMigrationWithoutRollback: async ({ migrationId }) => {
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K:[m[K[32m[K166[m[K[36m[K:[m[K            const res = await api.create([01;31m[K`/api/async_migrations/${migrationId}/force_stop_without_rollback`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K167[m[K[36m[K-[m[K            if (res.success) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K176[m[K[36m[K-[m[K            try {
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K:[m[K[32m[K177[m[K[36m[K:[m[K                await api.update([01;31m[K`/api/instance_settings/${settingKey}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K178[m[K[36m[K-[m[K                    value: newValue,
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K179[m[K[36m[K-[m[K                })
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K:[m[K[32m[K180[m[K[36m[K:[m[K                lemonToast.success([01;31m[K`Instance setting ${settingKey} updated`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K181[m[K[36m[K-[m[K                actions.loadAsyncMigrationSettings()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K187[m[K[36m[K-[m[K            try {
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K:[m[K[32m[K188[m[K[36m[K:[m[K                const errorsForMigration = await api.get([01;31m[K`api/async_migrations/${migrationId}/errors`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K189[m[K[36m[K-[m[K                actions.loadAsyncMigrationErrorsSuccess(migrationId, errorsForMigration)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/systemStatusLogic.ts[m[K[36m[K-[m[K[32m[K217[m[K[36m[K-[m[K                try {
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/systemStatusLogic.ts[m[K[36m[K:[m[K[32m[K218[m[K[36m[K:[m[K                    await api.update([01;31m[K`api/instance_settings/${key}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/systemStatusLogic.ts[m[K[36m[K-[m[K[32m[K219[m[K[36m[K-[m[K                        value,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/staffUsersLogic.ts[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K                            async (userUuid) =>
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/staffUsersLogic.ts[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K                                (await api.update([01;31m[K`api/users/${userUuid}`[m[K, { is_staff: true })) as UserType
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/staffUsersLogic.ts[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K                        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/staffUsersLogic.ts[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K                deleteStaffUser: async ({ userUuid }) => {
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/staffUsersLogic.ts[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K                    await api.update([01;31m[K`api/users/${userUuid}`[m[K, { is_staff: false })
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/staffUsersLogic.ts[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                    if (values.user?.uuid === userUuid) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/AnalyzeQueryModal.tsx[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                                className="embedded-svg-wrapper"
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/AnalyzeQueryModal.tsx[m[K[36m[K:[m[K[32m[K51[m[K[36m[K:[m[K                                href={[01;31m[K`data:image/svg+xml;utf8,${encodeURIComponent(value)}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/AnalyzeQueryModal.tsx[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K                                dangerouslySetInnerHTML={{ __html: value }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/StaffUsersTab.tsx[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K                                        ) : (
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/StaffUsersTab.tsx[m[K[36m[K:[m[K[32m[K83[m[K[36m[K:[m[K                                            [01;31m[K`Are you sure you want to remove ${user.first_name} as a Staff User?`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/StaffUsersTab.tsx[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K                                        )}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/StaffUsersTab.tsx[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K                                value={user.uuid}
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/StaffUsersTab.tsx[m[K[36m[K:[m[K[32m[K130[m[K[36m[K:[m[K                                title={[01;31m[K`${user.first_name} (${user.email})`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/StaffUsersTab.tsx[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K                            >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/DeadLetterQueue/deadLetterQueueLogic.ts[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K            if (offset) {
[35m[K/tmp/posthog/frontend/src/scenes/instance/DeadLetterQueue/deadLetterQueueLogic.ts[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K                const res = await api.get([01;31m[K`api/dead_letter_queue/${key}?offset=${offset}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/instance/DeadLetterQueue/deadLetterQueueLogic.ts[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K                actions.addRowsToMetric(key, res.subrows.rows)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/Licenses/logic.ts[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K                        lemonToast.success(
[35m[K/tmp/posthog/frontend/src/scenes/instance/Licenses/logic.ts[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K                            [01;31m[K`Activated license – you can now use all features of the ${license.plan} plan`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/Licenses/logic.ts[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K                        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K                installPlugin: async ({ pluginUrl, pluginType }) => {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K113[m[K[36m[K:[m[K                    const url = pluginType === 'local' ? [01;31m[K`file:${pluginUrl}`[m[K : pluginUrl
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K114[m[K[36m[K-[m[K                    const response = await api.create(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K                    await api.delete([01;31m[K`api/organizations/@current/plugins/${editingPlugin.id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K                    capturePluginEvent(`plugin uninstalled`, editingPlugin)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K                    const { plugins } = values
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K133[m[K[36m[K:[m[K                    const response = await api.update([01;31m[K`api/organizations/@current/plugins/${id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K                        name,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K                updatePlugin: async ({ id }) => {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K142[m[K[36m[K:[m[K                    const response = await api.create([01;31m[K`api/organizations/@current/plugins/${id}/upgrade`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K143[m[K[36m[K-[m[K                    capturePluginEvent(`plugin updated`, response)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K158[m[K[36m[K-[m[K                patchPlugin: async ({ id, pluginChanges }) => {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K159[m[K[36m[K:[m[K                    const response = await api.update([01;31m[K`api/organizations/@current/plugins/${id}`[m[K, pluginChanges)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K160[m[K[36m[K-[m[K                    return { ...values.plugins, [id]: response }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K191[m[K[36m[K-[m[K                    if (editingPlugin.pluginConfig.id) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K192[m[K[36m[K:[m[K                        response = await api.update([01;31m[K`api/plugin_config/${editingPlugin.pluginConfig.id}`[m[K, formData)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K193[m[K[36m[K-[m[K                    } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K198[m[K[36m[K-[m[K                    if (editingPlugin.pluginConfig.enabled !== response.enabled) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K199[m[K[36m[K:[m[K                        capturePluginEvent([01;31m[K`plugin ${response.enabled ? 'enabled' : 'disabled'}`[m[K, editingPlugin)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K200[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K210[m[K[36m[K-[m[K                        if (plugin) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K211[m[K[36m[K:[m[K                            capturePluginEvent([01;31m[K`plugin ${enabled ? 'enabled' : 'disabled'}`[m[K, plugin)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K212[m[K[36m[K-[m[K                        }
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K213[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K214[m[K[36m[K:[m[K                    const response = await api.update([01;31m[K`api/plugin_config/${id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K215[m[K[36m[K-[m[K                        enabled,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K221[m[K[36m[K-[m[K                    const { pluginConfigs } = values
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K222[m[K[36m[K:[m[K                    const response = await api.update([01;31m[K`api/plugin_config/${id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K223[m[K[36m[K-[m[K                        error: null,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K651[m[K[36m[K-[m[K                try {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K652[m[K[36m[K:[m[K                    const updates = await api.get([01;31m[K`api/organizations/@current/plugins/${plugin.id}/check_for_updates`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K653[m[K[36m[K-[m[K                    actions.setUpdateStatus(plugin.id, updates.plugin.tag, updates.plugin.latest_tag)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K691[m[K[36m[K-[m[K                    const { value: posthogApiKey }: PersonalAPIKeyType = await api.create('api/personal_api_keys/', {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K692[m[K[36m[K:[m[K                        label: [01;31m[K`Plugin: ${editingPlugin.name}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K693[m[K[36m[K-[m[K                    })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/MetricsDrawer.tsx[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K            width={'min(90vw, 80rem)'}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/MetricsDrawer.tsx[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K            title={`Plugin Metrics${!!showingMetricsPlugin ? [01;31m[K`: ${showingMetricsPlugin.name}`[m[K : ''}`}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/MetricsDrawer.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K            placement="left"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/LogsDrawer.tsx[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K            width={'min(90vw, 80rem)'}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/LogsDrawer.tsx[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[K            title={[01;31m[K`Viewing Plugin Logs: ${lastShownLogsPlugin?.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/LogsDrawer.tsx[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K            placement="left"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginCard.tsx[m[K[36m[K-[m[K[32m[K101[m[K[36m[K-[m[K            style={{ width: '100%', marginBottom: 20 }}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginCard.tsx[m[K[36m[K:[m[K[32m[K102[m[K[36m[K:[m[K            className={[01;31m[K`plugins-scene-plugin-card-col${rearranging ? `[m[K rearranging` : ''}`}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginCard.tsx[m[K[36m[K:[m[K[32m[K103[m[K[36m[K:[m[K            data-attr={[01;31m[K`plugin-card-${pluginConfig ? 'installed' : 'available'}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginCard.tsx[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K        >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginCard.tsx[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K                        <DragColumn>
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginCard.tsx[m[K[36m[K:[m[K[32m[K109[m[K[36m[K:[m[K                            <div className={[01;31m[K`arrow${order === 1 ? ' hide' : ''}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginCard.tsx[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K                                <DownOutlined />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginCard.tsx[m[K[36m[K-[m[K[32m[K116[m[K[36m[K-[m[K                            </div>
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginCard.tsx[m[K[36m[K:[m[K[32m[K117[m[K[36m[K:[m[K                            <div className={[01;31m[K`arrow${order === maxOrder ? ' hide' : ''}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginCard.tsx[m[K[36m[K-[m[K[32m[K118[m[K[36m[K-[m[K                                <DownOutlined />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginImage.tsx[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K            const { user, repo } = parseGithubRepoURL(url)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginImage.tsx[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[K            setState({ ...state, image: [01;31m[K`https://raw.githubusercontent.com/${user}/${repo}/main/logo.png`[m[K })
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginImage.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginImage.tsx[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K                height: pixelSize,
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginImage.tsx[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K                backgroundImage: [01;31m[K`url(${state.image})`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginImage.tsx[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K                backgroundSize: 'contain',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K    if (url.match(/^https:\/\/(www.|)github.com\//)) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K        compareUrl = [01;31m[K`${url}/compare/${tag}...${latestTag}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K    if (url.match(/^https:\/\/(www.|)gitlab.com\//)) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx[m[K[36m[K:[m[K[32m[K21[m[K[36m[K:[m[K        compareUrl = [01;31m[K`${url}/-/compare/${tag}...${latestTag}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginLogs.tsx[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K                    {pluginLogsBackground.length
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginLogs.tsx[m[K[36m[K:[m[K[32m[K101[m[K[36m[K:[m[K                        ? [01;31m[K`Load ${pluralize(pluginLogsBackground.length, 'newer entry', 'newer entries')}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginLogs.tsx[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K                        : 'No new entries'}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginLogs.tsx[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K                    >
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginLogs.tsx[m[K[36m[K:[m[K[32m[K123[m[K[36m[K:[m[K                        {isThereMoreToLoad ? [01;31m[K`Load up to ${LOGS_PORTION_LIMIT} older entries`[m[K : 'No older entries'}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginLogs.tsx[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K                    </Button>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/installed/sections/DisabledPluginsSection.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K                            )}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/installed/sections/DisabledPluginsSection.tsx[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K                            {[01;31m[K` Installed plugins (${filteredDisabledPlugins.length})`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/installed/sections/DisabledPluginsSection.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K                        </>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/installed/sections/EnabledPluginsSection.tsx[m[K[36m[K-[m[K[32m[K169[m[K[36m[K-[m[K                        {sectionsOpen.includes(PluginSection.Enabled) ? <CaretDownOutlined /> : <CaretRightOutlined />}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/installed/sections/EnabledPluginsSection.tsx[m[K[36m[K:[m[K[32m[K170[m[K[36m[K:[m[K                        {[01;31m[K` Enabled plugins (${filteredEnabledPlugins.length})`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/installed/sections/EnabledPluginsSection.tsx[m[K[36m[K-[m[K[32m[K171[m[K[36m[K-[m[K                        {rearranging && sectionsOpen.includes(PluginSection.Enabled) && (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/installed/sections/UpgradeSection.tsx[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K                            )}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/installed/sections/UpgradeSection.tsx[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K                            {[01;31m[K` Plugins to update (${filteredPluginsNeedingUpdates.length})`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/installed/sections/UpgradeSection.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                        </>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/repository/RepositoryTab.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                                            )}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/repository/RepositoryTab.tsx[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K                                            {[01;31m[K` Official Plugins (${officialPlugins.length})`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/repository/RepositoryTab.tsx[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K                                        </>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/repository/RepositoryTab.tsx[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K                                            )}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/repository/RepositoryTab.tsx[m[K[36m[K:[m[K[32m[K96[m[K[36m[K:[m[K                                            {[01;31m[K` Community Plugins (${communityPlugins.length})`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/repository/RepositoryTab.tsx[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K                                        </>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/PluginJobConfiguration.tsx[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K                okText={'Run job now'}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/PluginJobConfiguration.tsx[m[K[36m[K:[m[K[32m[K80[m[K[36m[K:[m[K                title={[01;31m[K`Configuring job '${jobName}'`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/PluginJobConfiguration.tsx[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K            >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K    key: (props) => {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K        return [01;31m[K`${props.pluginId}_${props.jobName}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K            try {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K:[m[K[32m[K70[m[K[36m[K:[m[K                await api.create([01;31m[K`api/plugin_config/${props.pluginConfigId}/job`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K                    job: {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K            } catch (error) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K:[m[K[32m[K77[m[K[36m[K:[m[K                lemonToast.error([01;31m[K`Enqueuing job "${props.jobName}" failed`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                return
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginSource.tsx[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K    if (event.properties) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginSource.tsx[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[K        event.properties['hello'] = \[01;31m[K`Hello \${config.name}\`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginSource.tsx[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginSource.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[Kexport function setupPlugin (meta) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginSource.tsx[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K    console.log(\[01;31m[K`The date is \${new Date().toDateString()}\`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginSource.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginSource.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K    const randomSpanishWord = data.body.Word
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginSource.tsx[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K    console.log(\[01;31m[K`¡\${randomSpanishWord.toUpperCase()}!\`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginSource.tsx[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K}`
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginSource.tsx[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K            width={'min(90vw, 64rem)'}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginSource.tsx[m[K[36m[K:[m[K[32m[K91[m[K[36m[K:[m[K            title={[01;31m[K`Coding Plugin: ${editingPlugin?.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginSource.tsx[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K            placement="left"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginDrawer.tsx[m[K[36m[K-[m[K[32m[K312[m[K[36m[K-[m[K                            {getConfigSchemaArray(editingPlugin.config_schema).map((fieldConfig, index) => (
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginDrawer.tsx[m[K[36m[K:[m[K[32m[K313[m[K[36m[K:[m[K                                <React.Fragment key={fieldConfig.key || [01;31m[K`__key__${index}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginDrawer.tsx[m[K[36m[K-[m[K[32m[K314[m[K[36m[K-[m[K                                    {fieldConfig.markdown && (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/utils.ts[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K            if (value && !value.saved) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/utils.ts[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K                formData.append([01;31m[K`add_attachment[${key}]`[m[K, value)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/utils.ts[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/frontend/src/scenes/plugins/utils.ts[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K            if (!value && editingPlugin.pluginConfig.config?.[key]) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/utils.ts[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K                formData.append([01;31m[K`remove_attachment[${key}]`[m[K, 'true')
[35m[K/tmp/posthog/frontend/src/scenes/plugins/utils.ts[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/Person.tsx[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K                title="Person not found"
[35m[K/tmp/posthog/frontend/src/scenes/persons/Person.tsx[m[K[36m[K:[m[K[32m[K93[m[K[36m[K:[m[K                caption={urlId ? [01;31m[K`There's no person matching distinct ID "${urlId}".`[m[K : undefined}
[35m[K/tmp/posthog/frontend/src/scenes/persons/Person.tsx[m[K[36m[K-[m[K[32m[K94[m[K[36m[K-[m[K            />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/Person.tsx[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K                            onConfirm={deletePerson}
[35m[K/tmp/posthog/frontend/src/scenes/persons/Person.tsx[m[K[36m[K:[m[K[32m[K108[m[K[36m[K:[m[K                            okText={[01;31m[K`Yes, delete ${asDisplay(person)}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/persons/Person.tsx[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K                            cancelText="No, cancel"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/MergeSplitPerson.tsx[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K            className="merge-split-person"
[35m[K/tmp/posthog/frontend/src/scenes/persons/MergeSplitPerson.tsx[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[K            okText={[01;31m[K`${capitalizeFirstLetter(activity)} persons`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/persons/MergeSplitPerson.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K            onOk={execute}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonPageHeader.tsx[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K            <PageHeader
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonPageHeader.tsx[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K                title={[01;31m[K`Persons${showGroupsOptions ? ' & Groups' : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonPageHeader.tsx[m[K[36m[K:[m[K[32m[K14[m[K[36m[K:[m[K                caption={[01;31m[K`A catalog of your product's end users${showGroupsOptions ? ' and groups' : ''}.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonPageHeader.tsx[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K            />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonHeader.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonHeader.tsx[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K    return customIdentifier ? customIdentifier : [01;31m[K`User ${displayId}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonHeader.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonHeader.tsx[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K            ) : (
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonHeader.tsx[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K                <Link to={href} data-attr={[01;31m[K`goto-person-email-${props.person?.distinct_ids?.[0]}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonHeader.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                    {content}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K        }
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K        return props.cohort ? [01;31m[K`cohort_${props.cohort}`[m[K : 'scene'
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K            (listFilters): string =>
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K:[m[K[32m[K135[m[K[36m[K:[m[K                props.cohort ? [01;31m[K`/api/cohort/${props.cohort}/persons.csv?`[m[K : api.person.determineCSVUrl(listFilters),
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K-[m[K[32m[K136[m[K[36m[K-[m[K        ],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K-[m[K[32m[K178[m[K[36m[K-[m[K                actions.setPerson(person) // To update the UI immediately while the request is being processed
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K:[m[K[32m[K179[m[K[36m[K:[m[K                const response = await api.update([01;31m[K`api/person/${person.id}`[m[K, person)
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K-[m[K[32m[K180[m[K[36m[K-[m[K                actions.setPerson(response)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K-[m[K[32m[K204[m[K[36m[K-[m[K                        if (props.cohort) {
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K:[m[K[32m[K205[m[K[36m[K:[m[K                            url = [01;31m[K`api/cohort/${props.cohort}/persons/?${toParams(values.listFilters)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K-[m[K[32m[K206[m[K[36m[K-[m[K                        } else {
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K:[m[K[32m[K207[m[K[36m[K:[m[K                            url = [01;31m[K`api/person/?${toParams(values.listFilters)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K-[m[K[32m[K208[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K-[m[K[32m[K217[m[K[36m[K-[m[K                loadPerson: async ({ id }): Promise<PersonType | null> => {
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K:[m[K[32m[K218[m[K[36m[K:[m[K                    const response = await api.get([01;31m[K`api/person/?distinct_id=${id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K-[m[K[32m[K219[m[K[36m[K-[m[K                    const person = response.results[0] || (null as PersonType | null)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K-[m[K[32m[K233[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K:[m[K[32m[K234[m[K[36m[K:[m[K                    const response = await api.get([01;31m[K`api/person/cohorts/?person_id=${values.person?.id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K-[m[K[32m[K235[m[K[36m[K-[m[K                    return response.results
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K-[m[K[32m[K245[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K:[m[K[32m[K246[m[K[36m[K:[m[K                    await api.delete([01;31m[K`api/person/${values.person.id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.ts[m[K[36m[K-[m[K[32m[K247[m[K[36m[K-[m[K                    return true
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/CurrentPlan.tsx[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K                            </h3>
[35m[K/tmp/posthog/frontend/src/scenes/billing/CurrentPlan.tsx[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K                            <Link target="_blank" to={[01;31m[K`https://posthog.com/pricing#plan-${plan.key}?${UTM_TAGS}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/billing/CurrentPlan.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K                                More plan details <IconOpenInNew />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingSubscribed.tsx[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K                    block
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingSubscribed.tsx[m[K[36m[K:[m[K[32m[K97[m[K[36m[K:[m[K                    href={[01;31m[K`https://app.posthog.com/billing/setup?session_id=${sessionId}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingSubscribed.tsx[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K                >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingEnrollment.tsx[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[K    const loadPlanDetail = async (key: string): Promise<void> => {
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingEnrollment.tsx[m[K[36m[K:[m[K[32m[K14[m[K[36m[K:[m[K        const response = await fetch([01;31m[K`/api/plans/${key}/template/`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingEnrollment.tsx[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K        if (response.ok) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/CurrentUsage.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                                <div className="bill-amount">
[35m[K/tmp/posthog/frontend/src/scenes/billing/CurrentUsage.tsx[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K                                    {[01;31m[K`$${billing?.current_bill_amount?.toLocaleString()}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/CurrentUsage.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K                                </div>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/CurrentUsage.tsx[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K                        Your organization has used{' '}
[35m[K/tmp/posthog/frontend/src/scenes/billing/CurrentUsage.tsx[m[K[36m[K:[m[K[32m[K49[m[K[36m[K:[m[K                        <Tooltip title={[01;31m[K`${billing.current_usage.toLocaleString()} events`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/billing/CurrentUsage.tsx[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                            <b>{compactNumber(billing.current_usage)}</b>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/PersonsModal.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K            isInitialLoad ? (
[35m[K/tmp/posthog/frontend/src/scenes/trends/PersonsModal.tsx[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K                [01;31m[K`Loading ${aggregationTargetLabel.plural}…`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/PersonsModal.tsx[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K            ) : filters.shown_as === 'Stickiness' ? (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/PersonsModal.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                    {Math.abs(people?.funnelStep ?? 0)} • <PropertyKeyInfo value={people?.label || ''} disablePopover />{' '}
[35m[K/tmp/posthog/frontend/src/scenes/trends/PersonsModal.tsx[m[K[36m[K:[m[K[32m[K77[m[K[36m[K:[m[K                    {!!people?.breakdown_value ? [01;31m[K`• ${people.breakdown_value}`[m[K : ''}
[35m[K/tmp/posthog/frontend/src/scenes/trends/PersonsModal.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                </>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/PersonsModal.tsx[m[K[36m[K-[m[K[32m[K183[m[K[36m[K-[m[K                                                    value={dataPoint.id}
[35m[K/tmp/posthog/frontend/src/scenes/trends/PersonsModal.tsx[m[K[36m[K:[m[K[32m[K184[m[K[36m[K:[m[K                                                    key={[01;31m[K`${dataPoint.action?.id}${dataPoint.breakdown_value}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/trends/PersonsModal.tsx[m[K[36m[K-[m[K[32m[K185[m[K[36m[K-[m[K                                                >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K279[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K:[m[K[32m[K280[m[K[36m[K:[m[K                const searchTermParam = searchTerm ? [01;31m[K`&search=${encodeURIComponent(searchTerm)}`[m[K : ''
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K281[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K283[m[K[36m[K-[m[K                    const cleanedParams = cleanFilters(filters)
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K:[m[K[32m[K284[m[K[36m[K:[m[K                    actors = await api.create([01;31m[K`api/person/funnel/correlation/?${searchTermParam}`[m[K, cleanedParams)
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K285[m[K[36m[K-[m[K                } else if (filters.insight === InsightType.LIFECYCLE) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K289[m[K[36m[K-[m[K                    )
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K:[m[K[32m[K290[m[K[36m[K:[m[K                    actors = await api.get([01;31m[K`api/person/lifecycle/?${filterParams}${searchTermParam}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K291[m[K[36m[K-[m[K                } else if (filters.insight === InsightType.STICKINESS) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K295[m[K[36m[K-[m[K                    )
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K:[m[K[32m[K296[m[K[36m[K:[m[K                    actors = await api.get([01;31m[K`api/person/stickiness/?${filterParams}${searchTermParam}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K297[m[K[36m[K-[m[K                } else if (funnelStep || filters.funnel_viz_type === FunnelVizType.Trends) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K326[m[K[36m[K-[m[K                    actors = await api.create(
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K:[m[K[32m[K327[m[K[36m[K:[m[K                        [01;31m[K`api/person/funnel/?${includeRecordingsParam}${funnelParams}${searchTermParam}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K328[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K337[m[K[36m[K-[m[K                    actors = await api.create(
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K:[m[K[32m[K338[m[K[36m[K:[m[K                        [01;31m[K`api/person/path/?${includeRecordingsParam}${searchTermParam}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K339[m[K[36m[K-[m[K                        cleanedParams
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K343[m[K[36m[K-[m[K                    const pathsParams = {
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K:[m[K[32m[K344[m[K[36m[K:[m[K                        url: [01;31m[K`api/person/path/paths/?${pathParams}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K345[m[K[36m[K-[m[K                        funnelStep,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K464[m[K[36m[K-[m[K                lemonToast.success('Cohort saved', {
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K:[m[K[32m[K465[m[K[36m[K:[m[K                    toastId: [01;31m[K`cohort-saved-${cohort.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/trends/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K466[m[K[36m[K-[m[K                    button: {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/Trends.tsx[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K                        showTotalCount
[35m[K/tmp/posthog/frontend/src/scenes/trends/Trends.tsx[m[K[36m[K:[m[K[32m[K59[m[K[36m[K:[m[K                        filterKey={[01;31m[K`trends_${view}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/trends/Trends.tsx[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K                        canEditSeriesNameInline={insightMode === ItemMode.Edit}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/mathsLogic.tsx[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K    if (math === 'unique_group') {
[35m[K/tmp/posthog/frontend/src/scenes/trends/mathsLogic.tsx[m[K[36m[K:[m[K[32m[K219[m[K[36m[K:[m[K        return [01;31m[K`unique_group::${groupTypeIndex}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/mathsLogic.tsx[m[K[36m[K-[m[K[32m[K220[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/mathsLogic.tsx[m[K[36m[K-[m[K[32m[K252[m[K[36m[K-[m[K                        {
[35m[K/tmp/posthog/frontend/src/scenes/trends/mathsLogic.tsx[m[K[36m[K:[m[K[32m[K253[m[K[36m[K:[m[K                            name: [01;31m[K`Unique ${aggregationLabel(groupType.group_type_index).plural}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/trends/mathsLogic.tsx[m[K[36m[K:[m[K[32m[K254[m[K[36m[K:[m[K                            shortName: [01;31m[K`unique ${aggregationLabel(groupType.group_type_index).plural}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/trends/mathsLogic.tsx[m[K[36m[K-[m[K[32m[K255[m[K[36m[K-[m[K                            description: (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K177[m[K[36m[K-[m[K                                object: insight,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K:[m[K[32m[K178[m[K[36m[K:[m[K                                endpoint: [01;31m[K`projects/${currentTeamId}/insights`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K179[m[K[36m[K-[m[K                                callback: loadInsights,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K301[m[K[36m[K-[m[K                                    onClick={() => renameInsight(insight)}
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K:[m[K[32m[K302[m[K[36m[K:[m[K                                    data-attr={[01;31m[K`insight-item-${insight.short_id}-dropdown-rename`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K303[m[K[36m[K-[m[K                                    fullWidth
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K309[m[K[36m[K-[m[K                                    onClick={() => duplicateInsight(insight)}
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K:[m[K[32m[K310[m[K[36m[K:[m[K                                    data-attr={[01;31m[K`insight-item-${insight.short_id}-dropdown-duplicate`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K311[m[K[36m[K-[m[K                                    fullWidth
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K321[m[K[36m[K-[m[K                                            object: insight,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K:[m[K[32m[K322[m[K[36m[K:[m[K                                            endpoint: [01;31m[K`projects/${currentTeamId}/insights`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K323[m[K[36m[K-[m[K                                            callback: loadInsights,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K325[m[K[36m[K-[m[K                                    }
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K:[m[K[32m[K326[m[K[36m[K:[m[K                                    data-attr={[01;31m[K`insight-item-${insight.short_id}-dropdown-remove`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K327[m[K[36m[K-[m[K                                    fullWidth
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K467[m[K[36m[K-[m[K                                    order: newSorting
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K:[m[K[32m[K468[m[K[36m[K:[m[K                                        ? [01;31m[K`${newSorting.order === -1 ? '-' : ''}${newSorting.columnKey}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K469[m[K[36m[K-[m[K                                        : undefined,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                const response = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/?${toParams(params)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K                        const insight: InsightModel = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K:[m[K[32m[K82[m[K[36m[K:[m[K                            [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${filters.search}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K                        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K                const response = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K:[m[K[32m[K104[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${insight.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K                    {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K232[m[K[36m[K-[m[K        duplicateInsight: async ({ insight }) => {
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K:[m[K[32m[K233[m[K[36m[K:[m[K            await api.create([01;31m[K`api/projects/${values.currentTeamId}/insights`[m[K, insight)
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K234[m[K[36m[K-[m[K            actions.loadInsights()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K271[m[K[36m[K-[m[K                    const { short_id }: InsightModel = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K:[m[K[32m[K272[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${insightNumericId}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K273[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K278[m[K[36m[K-[m[K                } catch (e) {
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K:[m[K[32m[K279[m[K[36m[K:[m[K                    lemonToast.error([01;31m[K`Insight ID ${insightNumericId} couldn't be retrieved`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K280[m[K[36m[K-[m[K                    router.actions.push(urls.savedInsights())
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.test.ts[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K        id: id || 1,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.test.ts[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K        name: [01;31m[K`${string} ${id || 1}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.test.ts[m[K[36m[K:[m[K[32m[K14[m[K[36m[K:[m[K        short_id: [01;31m[K`ii${id || 1}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.test.ts[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K        order: 0,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/passwordResetLogic.ts[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K                    try {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/passwordResetLogic.ts[m[K[36m[K:[m[K[32m[K43[m[K[36m[K:[m[K                        await api.get([01;31m[K`api/reset/${uuid}/?token=${token}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/authentication/passwordResetLogic.ts[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K                        return { success: true, token, uuid }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/passwordResetLogic.ts[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                    try {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/passwordResetLogic.ts[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K                        await api.create([01;31m[K`api/reset/${values.validatedResetToken.uuid}/`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/passwordResetLogic.ts[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                            password,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K                    try {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K                        return await api.get([01;31m[K`api/signup/${id}/`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                    } catch (e: any) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K                    return await api.create([01;31m[K`api/signup/${values.invite.id}/`[m[K, payload)
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K        acceptInviteSuccess: async (_, breakpoint) => {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K:[m[K[32m[K78[m[K[36m[K:[m[K            lemonToast.success([01;31m[K`You have joined ${values.invite?.organization_name}! Taking you to PostHog now…`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K            await breakpoint(2000) // timeout for the user to read the toast
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K                className="plain-link"
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K                href={[01;31m[K`https://posthog.com?${UTM_TAGS}&utm_message=invalid-invite`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K                rel="noopener"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                className="plain-link"
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K                href={[01;31m[K`https://posthog.com/slack?${UTM_TAGS}&utm_message=invalid-invite`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                rel="noopener"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K123[m[K[36m[K-[m[K            title: 'Oops! We could not validate this invite link',
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K:[m[K[32m[K124[m[K[36m[K:[m[K            detail: [01;31m[K`${error?.detail} There was an issue with your invite link, please try again in a few seconds. If the problem persists, contact us.`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K            actions: user ? <BackToPostHog /> : <HelperLinks />,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K263[m[K[36m[K-[m[K                            <h1 className="page-title">
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K:[m[K[32m[K264[m[K[36m[K:[m[K                                Hello{invite?.first_name ? [01;31m[K` ${invite.first_name}`[m[K : ''}! You've been invited to join
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K265[m[K[36m[K-[m[K                            </h1>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K279[m[K[36m[K-[m[K                            title="Continue with a provider"
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K:[m[K[32m[K280[m[K[36m[K:[m[K                            caption={[01;31m[K`Remember to log in with ${invite?.target_email}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K:[m[K[32m[K281[m[K[36m[K:[m[K                            queryString={invite ? [01;31m[K`?invite_id=${invite.id}`[m[K : ''}
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K282[m[K[36m[K-[m[K                        />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K383[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K:[m[K[32m[K384[m[K[36m[K:[m[K        <div className={[01;31m[K`invite-signup${user ? ' authenticated' : ''}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K385[m[K[36m[K-[m[K            <ErrorView />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/Login.stories.tsx[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K        // change the URL
[35m[K/tmp/posthog/frontend/src/scenes/authentication/Login.stories.tsx[m[K[36m[K:[m[K[32m[K65[m[K[36m[K:[m[K        router.actions.push([01;31m[K`${urls.login()}?error_code=improperly_configured_sso`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/authentication/Login.stories.tsx[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K    }, [])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K-[m[K[32m[K8[m[K[36m[K-[m[Kexport function WelcomeLogo({ view }: { view?: string }): JSX.Element {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K:[m[K[32m[K9[m[K[36m[K:[m[K    const UTM_TAGS = [01;31m[K`utm_campaign=in-product&utm_tag=${view || 'welcome'}-header`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K-[m[K[32m[K10[m[K[36m[K-[m[K    const { preflight } = useValues(preflightLogic)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K        <a href={[01;31m[K`https://posthog.com?${UTM_TAGS}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K            <div className="header-logo">
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K                    src={preflight?.demo ? demoLogo : preflight?.cloud ? cloudLogo : defaultLogo}
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K                    alt={[01;31m[K`PostHog${preflight?.cloud ? ' Cloud' : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K                />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K            ['/bla', '/bla'],
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K            [[01;31m[K`${origin}/bla`[m[K, '/bla'],
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K            [`http://some-other.origin/bla`, '/bla'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K        for (const [next, result] of matches) {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K            it([01;31m[K`for next param "${next}" it returns "${result}"`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K                router.actions.push(next ? [01;31m[K`${origin}/?next=${encodeURIComponent(next)}`[m[K : origin)
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K                handleLoginRedirect()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K        it('should throw an exception on redirecting to a different origin', () => {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K:[m[K[32m[K49[m[K[36m[K:[m[K            router.actions.push([01;31m[K`${origin}/login?next=//google.com`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K            expect(() => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/Signup.tsx[m[K[36m[K-[m[K[32m[K206[m[K[36m[K-[m[K                                    agree to our{' '}
[35m[K/tmp/posthog/frontend/src/scenes/authentication/Signup.tsx[m[K[36m[K:[m[K[32m[K207[m[K[36m[K:[m[K                                    <a href={[01;31m[K`https://posthog.com/terms?${UTM_TAGS}`[m[K} target="_blank" rel="noopener">
[35m[K/tmp/posthog/frontend/src/scenes/authentication/Signup.tsx[m[K[36m[K-[m[K[32m[K208[m[K[36m[K-[m[K                                        Terms of Service
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/Signup.tsx[m[K[36m[K-[m[K[32m[K210[m[K[36m[K-[m[K                                    and{' '}
[35m[K/tmp/posthog/frontend/src/scenes/authentication/Signup.tsx[m[K[36m[K:[m[K[32m[K211[m[K[36m[K:[m[K                                    <a href={[01;31m[K`https://posthog.com/privacy?${UTM_TAGS}`[m[K} target="_blank" rel="noopener">
[35m[K/tmp/posthog/frontend/src/scenes/authentication/Signup.tsx[m[K[36m[K-[m[K[32m[K212[m[K[36m[K-[m[K                                        Privacy Policy
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/Login.tsx[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K                                        onClick={() =>
[35m[K/tmp/posthog/frontend/src/scenes/authentication/Login.tsx[m[K[36m[K:[m[K[32m[K129[m[K[36m[K:[m[K                                            (window.location.href = [01;31m[K`/login/${precheckResponse.sso_enforcement}/`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/authentication/Login.tsx[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K                                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K163[m[K[36m[K-[m[K                        previous: null,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K164[m[K[36m[K:[m[K                        next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/event_definitions?limit=50&offset=50`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K165[m[K[36m[K-[m[K                    }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K231[m[K[36m[K-[m[K                        count: 50,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K232[m[K[36m[K:[m[K                        next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/event_definitions?limit=50&offset=50`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K233[m[K[36m[K-[m[K                    }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K237[m[K[36m[K-[m[K            await expectLogic(logic, () => {
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K238[m[K[36m[K:[m[K                logic.actions.loadEventDefinitions([01;31m[K`api/projects/${MOCK_TEAM_ID}/event_definitions?limit=50&offset=50`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K239[m[K[36m[K-[m[K            })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K244[m[K[36m[K-[m[K                        count: 6,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K245[m[K[36m[K:[m[K                        previous: [01;31m[K`api/projects/${MOCK_TEAM_ID}/event_definitions?limit=50`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K246[m[K[36m[K-[m[K                        next: null,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K257[m[K[36m[K-[m[K                        count: 50,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K258[m[K[36m[K:[m[K                        next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/event_definitions?limit=50&offset=50`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K259[m[K[36m[K-[m[K                    }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K298[m[K[36m[K-[m[K                            current: propertiesStartingUrl,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K299[m[K[36m[K:[m[K                            next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=5&offset=5`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K300[m[K[36m[K-[m[K                        }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K308[m[K[36m[K-[m[K                        }),
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K309[m[K[36m[K:[m[K                        [[01;31m[K`api/projects/${MOCK_TEAM_ID}/events?event=event1&limit=1&orderBy=%5B%22-timestamp%22%5D`[m[K]:
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K310[m[K[36m[K-[m[K                            partial(mockEvent.properties),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K317[m[K[36m[K-[m[K                2,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K318[m[K[36m[K:[m[K                [01;31m[K`api/projects/${MOCK_TEAM_ID}/events?event=event1&limit=1&orderBy=%5B%22-timestamp%22%5D`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K319[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K351[m[K[36m[K-[m[K                            ),
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K352[m[K[36m[K:[m[K                            next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=5&offset=5`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K353[m[K[36m[K-[m[K                        }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K366[m[K[36m[K-[m[K                            count: 5,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K367[m[K[36m[K:[m[K                            next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=5&offset=5`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K368[m[K[36m[K-[m[K                        }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K375[m[K[36m[K-[m[K                    eventDefinition,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K376[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=5&offset=5`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K377[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K383[m[K[36m[K-[m[K                            count: 3,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K384[m[K[36m[K:[m[K                            previous: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=5`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K385[m[K[36m[K-[m[K                            next: null,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K398[m[K[36m[K-[m[K                            count: 5,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K399[m[K[36m[K:[m[K                            next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=5&offset=5`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K400[m[K[36m[K-[m[K                        }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx[m[K[36m[K-[m[K[32m[K138[m[K[36m[K-[m[K            <LemonTable
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx[m[K[36m[K:[m[K[32m[K139[m[K[36m[K:[m[K                id={[01;31m[K`event-properties-definition-table-${definition.id}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx[m[K[36m[K-[m[K[32m[K140[m[K[36m[K-[m[K                data-attr="event-properties-definition-nested-table"
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K                columns={columns}
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx[m[K[36m[K:[m[K[32m[K142[m[K[36m[K:[m[K                className={[01;31m[K`event-properties-definition-table-${definition.id}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx[m[K[36m[K-[m[K[32m[K143[m[K[36m[K-[m[K                dataSource={eventPropertiesCacheMap?.[definition.id]?.results ?? []}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[Kexport function createDefinitionKey(event?: EventDefinition, property?: PropertyDefinition): string {
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts[m[K[36m[K:[m[K[32m[K39[m[K[36m[K:[m[K    return [01;31m[K`${event?.id ?? 'event'}-${property?.id ?? 'property'}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts[m[K[36m[K-[m[K[32m[K147[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts[m[K[36m[K:[m[K[32m[K148[m[K[36m[K:[m[K                    const currentUrl = [01;31m[K`${normalizeEventDefinitionEndpointUrl(url)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts[m[K[36m[K-[m[K[32m[K149[m[K[36m[K-[m[K                    cache.apiCache = {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts[m[K[36m[K-[m[K[32m[K220[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts[m[K[36m[K:[m[K[32m[K221[m[K[36m[K:[m[K                    const currentUrl = [01;31m[K`${normalizePropertyDefinitionEndpointUrl(url)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts[m[K[36m[K-[m[K[32m[K222[m[K[36m[K-[m[K                    cache.apiCache = {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.ts[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.ts[m[K[36m[K:[m[K[32m[K96[m[K[36m[K:[m[K                    const currentUrl = [01;31m[K`${normalizePropertyDefinitionEndpointUrl(url)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.ts[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K                    cache.apiCache = {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K                        previous: null,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K108[m[K[36m[K:[m[K                        next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=50&offset=50`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K                    }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K175[m[K[36m[K-[m[K                        count: 50,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K176[m[K[36m[K:[m[K                        next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=50&offset=50`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K177[m[K[36m[K-[m[K                    }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K182[m[K[36m[K-[m[K                logic.actions.loadEventPropertyDefinitions(
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K183[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=50&offset=50`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K184[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K190[m[K[36m[K-[m[K                        count: 6,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K191[m[K[36m[K:[m[K                        previous: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=50`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K192[m[K[36m[K-[m[K                        next: null,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K203[m[K[36m[K-[m[K                        count: 50,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K204[m[K[36m[K:[m[K                        next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=50&offset=50`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K205[m[K[36m[K-[m[K                    }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K-[m[K[32m[K191[m[K[36m[K-[m[K                <a
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K:[m[K[32m[K192[m[K[36m[K:[m[K                    href={[01;31m[K`${learnMoreLink}#autocapture-based-actions`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K-[m[K[32m[K193[m[K[36m[K-[m[K                    target="_blank"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K-[m[K[32m[K227[m[K[36m[K-[m[K                        <Tooltip title="Click here to learn more about supported selectors">
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K:[m[K[32m[K228[m[K[36m[K:[m[K                            <a href={[01;31m[K`${learnMoreLink}#matching-selectors`[m[K} target="_blank" rel="noopener">
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K-[m[K[32m[K229[m[K[36m[K-[m[K                                <InfoCircleOutlined style={{ marginLeft: 4 }} />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K-[m[K[32m[K284[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K:[m[K[32m[K285[m[K[36m[K:[m[K        <div className={[01;31m[K`type-switcher${step.event === undefined ? ' unselected' : ''}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K-[m[K[32m[K286[m[K[36m[K-[m[K            <Radio.Group
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/actions/actionEditLogic.ts[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K                            // Below works because `detail` in the format:
[35m[K/tmp/posthog/frontend/src/scenes/actions/actionEditLogic.ts[m[K[36m[K:[m[K[32m[K83[m[K[36m[K:[m[K                            // [01;31m[K`This project already has an action with this name, ID ${errorActionId}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/actions/actionEditLogic.ts[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K                            actions.actionAlreadyExists(response.detail.split(' ').pop())
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionEdit.tsx[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K                        maxLength={400} // Sync with action model
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionEdit.tsx[m[K[36m[K:[m[K[32m[K82[m[K[36m[K:[m[K                        data-attr={[01;31m[K`action-name-${id ? 'edit' : 'create'}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionEdit.tsx[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K                        saveButtonText="Set"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/actions/Action.tsx[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K                        fetchMonths={3}
[35m[K/tmp/posthog/frontend/src/scenes/actions/Action.tsx[m[K[36m[K:[m[K[32m[K68[m[K[36m[K:[m[K                        pageKey={[01;31m[K`action-${id}-${JSON.stringify(fixedFilters)}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/actions/Action.tsx[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K                    />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K    dashboard: (id: string | number, highlightInsightId?: string) =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K        combineUrl([01;31m[K`/dashboard/${id}`[m[K, highlightInsightId ? { highlightInsightId } : {}).url,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[K    sharedDashboard: (shareToken: string) => [01;31m[K`/shared_dashboard/${shareToken}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K    createAction: () => `/data-management/actions/new`, // TODO: For consistency, this should be `/action/new`
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[K    action: (id: string | number) => [01;31m[K`/data-management/actions/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K    actions: () => '/data-management/actions',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K    eventDefinitions: () => '/data-management/events',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K    eventDefinition: (id: string | number) => [01;31m[K`/data-management/events/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K    eventPropertyDefinitions: () => '/data-management/event-properties',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K    eventPropertyDefinition: (id: string | number) => [01;31m[K`/data-management/event-properties/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K    events: () => '/events',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K        combineUrl('/insights/new', dashboardId ? { dashboard: dashboardId } : {}, filters ? { filters } : {}).url,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K    insightEdit: (id: InsightShortId) => [01;31m[K`/insights/${id}/edit`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K    insightView: (id: InsightShortId) => [01;31m[K`/insights/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K    savedInsights: () => '/insights',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K    sessionRecordings: () => '/recordings',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K36[m[K[36m[K:[m[K    person: (id: string, encode: boolean = true) => (encode ? [01;31m[K`/person/${encodeURIComponent(id)}`[m[K : [01;31m[K`/person/${id}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K    persons: () => '/persons',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K    groups: (groupTypeIndex: string) => [01;31m[K`/groups/${groupTypeIndex}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K    // :TRICKY: Note that groupKey is provided by user. We need to override urlPatternOptions for kea-router.
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K    group: (groupTypeIndex: string | number, groupKey: string, encode: boolean = true) =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K        [01;31m[K`/groups/${groupTypeIndex}/${encode ? encodeURIComponent(groupKey) : groupKey}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K    cohort: (id: string | number) => [01;31m[K`/cohorts/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K    cohorts: () => '/cohorts',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K44[m[K[36m[K:[m[K    experiment: (id: string | number) => [01;31m[K`/experiments/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K    experiments: () => '/experiments',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K    featureFlags: () => '/feature_flags',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K    featureFlag: (id: string | number) => [01;31m[K`/feature_flags/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K    annotations: () => '/annotations',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K    passwordReset: () => '/reset',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K    passwordResetComplete: (userUuid: string, token: string) => [01;31m[K`/reset/${userUuid}/${token}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K    preflight: () => '/preflight',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K    signup: () => '/signup',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K    inviteSignup: (id: string) => [01;31m[K`/signup/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K    ingestion: () => '/ingestion',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.ts[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.ts[m[K[36m[K:[m[K[32m[K57[m[K[36m[K:[m[K                    const patchedTeam = (await api.update([01;31m[K`api/projects/${values.currentTeam.id}`[m[K, payload)) as TeamType
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.ts[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K                    userLogic.actions.loadUser()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.ts[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                    } else {
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.ts[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K                        message = [01;31m[K`${parseUpdatedAttributeName(updatedAttribute)} updated successfully!`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.ts[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.ts[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K                createTeam: async (name: string): Promise<TeamType> => await api.create('api/projects/', { name }),
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.ts[m[K[36m[K:[m[K[32m[K82[m[K[36m[K:[m[K                resetToken: async () => await api.update([01;31m[K`api/projects/${values.currentTeamId}/reset_token`[m[K, {}),
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.ts[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K            },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.ts[m[K[36m[K-[m[K[32m[K117[m[K[36m[K-[m[K            try {
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.ts[m[K[36m[K:[m[K[32m[K118[m[K[36m[K:[m[K                await api.delete([01;31m[K`api/projects/${team.id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.ts[m[K[36m[K-[m[K[32m[K119[m[K[36m[K-[m[K                location.reload()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/annotations/logic.ts[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K                const response = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/annotations/logic.ts[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/annotations/?${toParams({ order: '-updated_at' })}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/annotations/logic.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/annotations/logic.ts[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K        updateAnnotation: async ({ id, content }) => {
[35m[K/tmp/posthog/frontend/src/scenes/annotations/logic.ts[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K            await api.update([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/annotations/${id}`[m[K, { content })
[35m[K/tmp/posthog/frontend/src/scenes/annotations/logic.ts[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K            actions.loadAnnotations()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/annotations/logic.ts[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K        restoreAnnotation: async ({ id }) => {
[35m[K/tmp/posthog/frontend/src/scenes/annotations/logic.ts[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[K            await api.update([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/annotations/${id}`[m[K, { deleted: false })
[35m[K/tmp/posthog/frontend/src/scenes/annotations/logic.ts[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K            actions.loadAnnotations()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/annotations/logic.ts[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K            deleteWithUndo({
[35m[K/tmp/posthog/frontend/src/scenes/annotations/logic.ts[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K                endpoint: [01;31m[K`projects/${teamLogic.values.currentTeamId}/annotations`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/annotations/logic.ts[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K                object: { name: 'Annotation', id },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K210[m[K[36m[K-[m[K                            type: taxonomicFilterGroupTypeToEntityType(taxonomicGroup.type) || undefined,
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K211[m[K[36m[K:[m[K                            id: [01;31m[K`${changedValue}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K212[m[K[36m[K-[m[K                            name: item?.name,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K253[m[K[36m[K-[m[K            }}
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K254[m[K[36m[K:[m[K            className={[01;31m[K`row-action-btn show-filters${visible ? ' visible' : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K255[m[K[36m[K:[m[K            data-attr={[01;31m[K`show-prop-filter-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K256[m[K[36m[K-[m[K            title="Show filters"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K271[m[K[36m[K-[m[K            className={`row-action-btn show-rename`}
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K272[m[K[36m[K:[m[K            data-attr={[01;31m[K`show-prop-rename-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K273[m[K[36m[K-[m[K            title="Rename graph series"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K287[m[K[36m[K-[m[K            className={'row-action-btn'}
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K288[m[K[36m[K:[m[K            data-attr={[01;31m[K`show-prop-duplicate-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K289[m[K[36m[K-[m[K            title="Duplicate graph series"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K300[m[K[36m[K-[m[K            className="row-action-btn delete"
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K301[m[K[36m[K:[m[K            data-attr={[01;31m[K`delete-prop-filter-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K302[m[K[36m[K-[m[K            title="Delete graph series"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K321[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K322[m[K[36m[K:[m[K            <Row gutter={8} align="middle" className={[01;31m[K`${!horizontalUI ? 'mt' : ''} ${rowClassName}`[m[K} wrap={!fullWidth}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K323[m[K[36m[K-[m[K                {renderRow ? (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K372[m[K[36m[K-[m[K                                {horizontalUI && <Col>counted by</Col>}
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K373[m[K[36m[K:[m[K                                <Col style={{ maxWidth: [01;31m[K`calc(50% - 16px${showSeriesIndicator ? ' - 32px' : ''})`[m[K }}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K374[m[K[36m[K-[m[K                                    <MathSelector
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K387[m[K[36m[K-[m[K                                            style={{
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K388[m[K[36m[K:[m[K                                                maxWidth: [01;31m[K`calc(50% - 16px${showSeriesIndicator ? ' - 32px' : ''})`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K389[m[K[36m[K-[m[K                                            }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K455[m[K[36m[K-[m[K            {visible && (
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K456[m[K[36m[K:[m[K                <div className={[01;31m[K`mr property-filter-wrapper ${propertyFilterWrapperClassName}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K457[m[K[36m[K-[m[K                    <PropertyFilters
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K458[m[K[36m[K:[m[K                        pageKey={[01;31m[K`${index}-${value}-filter`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K459[m[K[36m[K-[m[K                        propertyFilters={filter.properties}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K517[m[K[36m[K-[m[K            onChange={(value) => onMathSelect(index, value)}
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K518[m[K[36m[K:[m[K            data-attr={[01;31m[K`math-selector-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K519[m[K[36m[K-[m[K            dropdownMatchSelectWidth={false}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K525[m[K[36m[K-[m[K                    return (
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K526[m[K[36m[K:[m[K                        <Select.Option key={key} value={key} data-attr={[01;31m[K`math-${key}-${index}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K527[m[K[36m[K-[m[K                            <Tooltip
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K562[m[K[36m[K-[m[K                        return (
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K563[m[K[36m[K:[m[K                            <Select.Option key={key} value={key} data-attr={[01;31m[K`math-${key}-${index}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K564[m[K[36m[K-[m[K                                <Tooltip
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/RenameModal.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/RenameModal.tsx[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K    const title = [01;31m[K`Rename ${view === InsightType.FUNNELS ? 'funnel step' : 'graph series'}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/RenameModal.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/entityFilterLogic.ts[m[K[36m[K-[m[K[32m[K261[m[K[36m[K-[m[K                const filter = { id: null, name: null, type: EntityTypes.NEW_ENTITY, order: values.localFilters.length }
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/entityFilterLogic.ts[m[K[36m[K:[m[K[32m[K262[m[K[36m[K:[m[K                actions.setLocalFilters({ [[01;31m[K`${EntityTypes.NEW_ENTITY}`[m[K]: [filter] })
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/entityFilterLogic.ts[m[K[36m[K-[m[K[32m[K263[m[K[36m[K-[m[K                actions.selectFilter({ ...filter, index: 0 })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/Sortable.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K        return (
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/Sortable.tsx[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K            <div className={[01;31m[K`draggable-action-filter ${dragHandleVisible ? 'drag-handle-visible' : ''}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/ActionFilter/Sortable.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K                {dragHandleVisible ? <DragHandle /> : <span style={{ marginLeft: 4 }} />}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/ToggleButtonChartFilter.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K            label: 'Conversion steps',
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/ToggleButtonChartFilter.tsx[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K            description: [01;31m[K`Track ${aggregationTargetLabel.plural} progress between steps of the funnel`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/ToggleButtonChartFilter.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K            icon: <FunnelPlotOutlined />,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/ToggleButtonChartFilter.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K            label: 'Time to convert',
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/ToggleButtonChartFilter.tsx[m[K[36m[K:[m[K[32m[K39[m[K[36m[K:[m[K            description: [01;31m[K`Track how long it takes for ${aggregationTargetLabel.plural} to convert`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/ToggleButtonChartFilter.tsx[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K            icon: <ClockCircleOutlined />,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepsPicker.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K            return stepFilter ? (
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepsPicker.tsx[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K                <Select.Option key={stepIndex} value={stepIndex} label={[01;31m[K`Step ${stepIndex + 1}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepsPicker.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K                    <div style={{ display: 'flex', flexDirection: 'row' }}>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelConversionWindowFilter.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K    const options = Object.keys(TIME_INTERVAL_BOUNDS).map((unit) => ({
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelConversionWindowFilter.tsx[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K        label: pluralize(conversionWindow.funnel_window_interval ?? 7, unit, [01;31m[K`${unit}s`[m[K, false),
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelConversionWindowFilter.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K        value: unit,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K                                        <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K:[m[K[32m[K101[m[K[36m[K:[m[K                                            title={[01;31m[K`True positive (TP) - Percentage of users who ${action} and completed the funnel.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K                                        >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K123[m[K[36m[K-[m[K                                            <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K:[m[K[32m[K124[m[K[36m[K:[m[K                                                title={[01;31m[K`False negative (FN) - Percentage of users who ${action} and did not complete the funnel.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K                                            >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K148[m[K[36m[K-[m[K                                            <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K:[m[K[32m[K149[m[K[36m[K:[m[K                                                title={[01;31m[K`False positive (FP) - Percentage of users who did not ${action} and completed the funnel.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K150[m[K[36m[K-[m[K                                            >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K160[m[K[36m[K-[m[K                                            <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K:[m[K[32m[K161[m[K[36m[K:[m[K                                                title={[01;31m[K`True negative (TN) - Percentage of users who did not ${action} and did not complete the funnel.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K162[m[K[36m[K-[m[K                                            >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K188[m[K[36m[K-[m[K                                    <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K:[m[K[32m[K189[m[K[36m[K:[m[K                                        title={[01;31m[K`Positive correlation means this ${actor} is correlated with a successful conversion.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K190[m[K[36m[K-[m[K                                    >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K197[m[K[36m[K-[m[K                                    <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K:[m[K[32m[K198[m[K[36m[K:[m[K                                        title={[01;31m[K`Negative correlation means this ${actor} is correlated with an unsuccessful conversion (user dropped off).`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K199[m[K[36m[K-[m[K                                    >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K214[m[K[36m[K-[m[K                            >
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K:[m[K[32m[K215[m[K[36m[K:[m[K                                <Tooltip title={[01;31m[K`This ${actor} has ${correlationScoreStrength} correlation.`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K216[m[K[36m[K-[m[K                                    <span style={{ cursor: 'pointer' }}>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelPropertyCorrelationTable.tsx[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K    return stepsWithCount.length > 1 ? (
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelPropertyCorrelationTable.tsx[m[K[36m[K:[m[K[32m[K133[m[K[36m[K:[m[K        <VisibilitySensor offset={150} id={[01;31m[K`${correlationPropKey}-properties`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelPropertyCorrelationTable.tsx[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K            <div className="funnel-correlation-table">
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelPropertyCorrelationTable.tsx[m[K[36m[K-[m[K[32m[K217[m[K[36m[K-[m[K                    <Column
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelPropertyCorrelationTable.tsx[m[K[36m[K:[m[K[32m[K218[m[K[36m[K:[m[K                        title={[01;31m[K`${capitalizeFirstLetter(aggregationTargetLabel.singular)} property`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelPropertyCorrelationTable.tsx[m[K[36m[K-[m[K[32m[K219[m[K[36m[K-[m[K                        key="propertName"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepTable.tsx[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K                                    cohorts,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepTable.tsx[m[K[36m[K:[m[K[32m[K130[m[K[36m[K:[m[K                                    isOnlySeries ? [01;31m[K`Unique ${aggregationTargetLabel.plural}`[m[K : breakdown.breakdown_value
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepTable.tsx[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K                                )}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepTable.tsx[m[K[36m[K-[m[K[32m[K272[m[K[36m[K-[m[K                                        <UserDeleteOutlined
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepTable.tsx[m[K[36m[K:[m[K[32m[K273[m[K[36m[K:[m[K                                            title={[01;31m[K`Unique ${aggregationTargetLabel.plural} who dropped off on this step`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepTable.tsx[m[K[36m[K-[m[K[32m[K274[m[K[36m[K-[m[K                                        />{' '}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepTable.tsx[m[K[36m[K-[m[K[32m[K549[m[K[36m[K-[m[K                      return clsx(
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepTable.tsx[m[K[36m[K:[m[K[32m[K550[m[K[36m[K:[m[K                          [01;31m[K`funnel-steps-table-row-${index}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepTable.tsx[m[K[36m[K-[m[K[32m[K551[m[K[36m[K-[m[K                          index === 2 && 'funnel-table-cell',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelExclusionsFilter.tsx[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K            wrap={false}
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelExclusionsFilter.tsx[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K            style={{ margin: [01;31m[K`${isVertical ? 4 : 0}px 0`[m[K, paddingLeft: 4, width: isVertical ? '100%' : 'auto' }}
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelExclusionsFilter.tsx[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K        >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelExclusionsFilter.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                    .map((stepIndex) => (
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelExclusionsFilter.tsx[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K                        <Select.Option key={stepIndex} value={stepIndex} label={[01;31m[K`Step ${stepIndex + 1}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelExclusionsFilter.tsx[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K                            Step {stepIndex + 1}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelExclusionsFilter.tsx[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K                    .map((stepIndex) => (
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelExclusionsFilter.tsx[m[K[36m[K:[m[K[32m[K92[m[K[36m[K:[m[K                        <Select.Option key={stepIndex} value={stepIndex} label={[01;31m[K`Step ${stepIndex + 1}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelExclusionsFilter.tsx[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K                            Step {stepIndex + 1}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelExclusionsFilter.tsx[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K        <Row wrap={false} align={isVertical ? 'top' : 'middle'} style={{ width: '100%' }}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelExclusionsFilter.tsx[m[K[36m[K:[m[K[32m[K125[m[K[36m[K:[m[K            <Col style={{ padding: [01;31m[K`${isVertical ? 5 : 0}px 8px`[m[K }}>{seriesIndicator}</Col>
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelExclusionsFilter.tsx[m[K[36m[K-[m[K[32m[K126[m[K[36m[K-[m[K            <Col flex="auto">
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBreakdown.tsx[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K    const [, height] = useSize(ref)
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBreakdown.tsx[m[K[36m[K:[m[K[32m[K44[m[K[36m[K:[m[K    const barWidth = [01;31m[K`calc(${100 / (currentStep?.nested_breakdown?.length ?? 1)}% - 2px)`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBreakdown.tsx[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBreakdown.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K                    {
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBreakdown.tsx[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K                        title: [01;31m[K`Conversion rate (from step ${humanizeOrder(previousStep.order)})`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBreakdown.tsx[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K                        value: formatDisplayPercentage(breakdown.conversionRates.fromPrevious) + '%',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBreakdown.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                    {
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBreakdown.tsx[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K                        title: [01;31m[K`Dropoff rate (from step ${humanizeOrder(previousStep.order)})`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBreakdown.tsx[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                        value: formatDisplayPercentage(1 - breakdown.conversionRates.fromPrevious) + '%',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBreakdown.tsx[m[K[36m[K-[m[K[32m[K114[m[K[36m[K-[m[K                                                ? ''
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBreakdown.tsx[m[K[36m[K:[m[K[32m[K115[m[K[36m[K:[m[K                                                : [01;31m[K` • ${breakdownValues.breakdown.join(',')}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBreakdown.tsx[m[K[36m[K-[m[K[32m[K116[m[K[36m[K-[m[K                                        </div>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBinsPicker.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K    ...Array.from(Array.from(Array(MAX + 1).keys()), (v) => ({
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBinsPicker.tsx[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K        label: [01;31m[K`${v} bins`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBinsPicker.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K        value: v,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/TrendTab/TrendTab.tsx[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K                        setFilters={(payload: Partial<FilterType>): void => setFilters(payload)}
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/TrendTab/TrendTab.tsx[m[K[36m[K:[m[K[32m[K65[m[K[36m[K:[m[K                        typeKey={[01;31m[K`trends_${view}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/TrendTab/TrendTab.tsx[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K                        buttonCopy="Add graph series"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[Kconst showDateFilter = {
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx[m[K[36m[K:[m[K[32m[K61[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.TRENDS}`[m[K]: true,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.STICKINESS}`[m[K]: true,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.LIFECYCLE}`[m[K]: true,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.FUNNELS}`[m[K]: true,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx[m[K[36m[K:[m[K[32m[K65[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.RETENTION}`[m[K]: false,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.PATHS}`[m[K]: true,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[Kconst showComparePrevious = {
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx[m[K[36m[K:[m[K[32m[K70[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.TRENDS}`[m[K]: true,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.STICKINESS}`[m[K]: true,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx[m[K[36m[K:[m[K[32m[K72[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.LIFECYCLE}`[m[K]: false,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.FUNNELS}`[m[K]: false,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.RETENTION}`[m[K]: false,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.PATHS}`[m[K]: false,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/PathTab/PathStepPicker.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K    const options: StepOption[] = Array.from(Array.from(Array.from(Array(MAX + 1).keys()).slice(MIN)), (v) => ({
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/PathTab/PathStepPicker.tsx[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K        label: [01;31m[K`${v} Steps`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTabs/PathTab/PathStepPicker.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K        value: v,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/BreakdownFilter/TaxonomicBreakdownFilter.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                          if (!breakdown_type) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/BreakdownFilter/TaxonomicBreakdownFilter.tsx[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K                              console.error(new Error([01;31m[K`Unknown breakdown_type: "${breakdown_type}"`[m[K))
[35m[K/tmp/posthog/frontend/src/scenes/insights/BreakdownFilter/TaxonomicBreakdownFilter.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K                          } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/BreakdownFilter/TaxonomicBreakdownFilter.tsx[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K                  {isAllCohort(t) && <PropertyKeyInfo value={'All Users'} />}
[35m[K/tmp/posthog/frontend/src/scenes/insights/BreakdownFilter/TaxonomicBreakdownFilter.tsx[m[K[36m[K:[m[K[32m[K91[m[K[36m[K:[m[K                  {isCohort(t) && <PropertyKeyInfo value={cohortsById[t]?.name || [01;31m[K`Cohort ${t}`[m[K} />}
[35m[K/tmp/posthog/frontend/src/scenes/insights/BreakdownFilter/TaxonomicBreakdownFilter.tsx[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K              </Tag>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/InsightTooltip.tsx[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K                    columns.push({
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/InsightTooltip.tsx[m[K[36m[K:[m[K[32m[K94[m[K[36m[K:[m[K                        key: [01;31m[K`series-column-data-${colIdx}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/InsightTooltip.tsx[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K                        className: 'datum-counts-column',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/LEGACY_InsightTooltip.tsx[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/LEGACY_InsightTooltip.tsx[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K        <div className={[01;31m[K`inner-tooltip${bodyLines.length > 1 ? ' multiple' : ''}`[m[K} style={{ maxWidth: 300 }}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/LEGACY_InsightTooltip.tsx[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K            {!hideHeader && (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/insightTooltipUtils.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K    if (dayInput !== undefined && day.isValid()) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/insightTooltipUtils.tsx[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K        const formatString = [01;31m[K`DD MMM YYYY${interval === 'hour' ? ' HH:00' : ''}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/insightTooltipUtils.tsx[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K        return day.format(formatString)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/insightTooltipUtils.tsx[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K        }
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/insightTooltipUtils.tsx[m[K[36m[K:[m[K[32m[K109[m[K[36m[K:[m[K        const datumKey = [01;31m[K`${s.breakdown_value}-${s.compare_label}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/insightTooltipUtils.tsx[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K        if (datumKey in flattenedData) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/RetentionDatePicker.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K                        use12Hours
[35m[K/tmp/posthog/frontend/src/scenes/insights/RetentionDatePicker.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K                        format={filters.period === 'Hour' ? [01;31m[K`MMM D${yearSuffix}, h a`[m[K : [01;31m[K`MMM D${yearSuffix}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/RetentionDatePicker.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                        value={filters.date_to ? dayjs(filters.date_to) : undefined}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/histogramUtils.ts[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K            x: isVertical
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/histogramUtils.ts[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K                ? [01;31m[K`translate(0,${_height - INITIAL_CONFIG.margin.bottom})`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/histogramUtils.ts[m[K[36m[K:[m[K[32m[K72[m[K[36m[K:[m[K                : [01;31m[K`translate(${INITIAL_CONFIG.margin.left},0)`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/histogramUtils.ts[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K            y: isVertical ? [01;31m[K`translate(${INITIAL_CONFIG.margin.left},0)`[m[K : [01;31m[K`translate(0,${INITIAL_CONFIG.margin.top})`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/histogramUtils.ts[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K            yGrid: isVertical
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/histogramUtils.ts[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K                ? [01;31m[K`translate(${INITIAL_CONFIG.margin.left - INITIAL_CONFIG.spacing.yLabel},0)`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/histogramUtils.ts[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K                : [01;31m[K`translate(0,${INITIAL_CONFIG.margin.top})`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/histogramUtils.ts[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K            if (v === -2) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/Histogram.tsx[m[K[36m[K:[m[K[32m[K57[m[K[36m[K:[m[K                return [01;31m[K`<${label}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K            if (v === -1) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/Histogram.tsx[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K                return [01;31m[K`>=${label}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K                        .append('svg:svg')
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/Histogram.tsx[m[K[36m[K:[m[K[32m[K106[m[K[36m[K:[m[K                        .attr('viewBox', [01;31m[K`0 0 ${config.inner.width} ${config.inner.height}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K                        .attr('width', '100%')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K                // update dimensions
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/Histogram.tsx[m[K[36m[K:[m[K[32m[K112[m[K[36m[K:[m[K                parentNode.select('svg').attr('viewBox', [01;31m[K`0 0 ${config.width} ${config.height}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K156[m[K[36m[K-[m[K                                .call((g) =>
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/Histogram.tsx[m[K[36m[K:[m[K[32m[K157[m[K[36m[K:[m[K                                    g.selectAll('.tick text').attr('dx', isVertical ? [01;31m[K`-${config.spacing.yLabel}`[m[K : 0)
[35m[K/tmp/posthog/frontend/src/scenes/insights/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K158[m[K[36m[K-[m[K                                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K    breakdownIndexTestCases.forEach((testCase) => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K:[m[K[32m[K85[m[K[36m[K:[m[K        it([01;31m[K`can add a breakdown_group_type_index of ${testCase.filters.breakdown_group_type_index} when breakdown type is ${testCase.filters.breakdown_type}`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K            const cleanedFilters = cleanFilters(testCase.filters as Partial<FilterType>)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K-[m[K[32m[K205[m[K[36m[K-[m[K        const featureFlags = {}
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K:[m[K[32m[K206[m[K[36m[K:[m[K        featureFlags[[01;31m[K`${FEATURE_FLAGS.BREAKDOWN_BY_MULTIPLE_PROPERTIES}`[m[K] = true
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K-[m[K[32m[K207[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.ts[m[K[36m[K-[m[K[32m[K259[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.ts[m[K[36m[K:[m[K[32m[K260[m[K[36m[K:[m[K    throw new Error([01;31m[K`Unknown insight type "${filters.insight}" given to cleanFilters`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.ts[m[K[36m[K-[m[K[32m[K261[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/__mocks__/createInsightScene.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K                        results: [
[35m[K/tmp/posthog/frontend/src/scenes/insights/__mocks__/createInsightScene.tsx[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K                            { ...insight, short_id: [01;31m[K`${insight.short_id}${count}`[m[K, id: (insight.id ?? 0) + 1 + count },
[35m[K/tmp/posthog/frontend/src/scenes/insights/__mocks__/createInsightScene.tsx[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K                        ],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/__mocks__/createInsightScene.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K        useEffect(() => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/__mocks__/createInsightScene.tsx[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K            router.actions.push([01;31m[K`/insights/${insight.short_id}${count}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/__mocks__/createInsightScene.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K        }, [])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K159[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K160[m[K[36m[K:[m[K                    lemonToast.error([01;31m[K`Insight "${shortId}" not found`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K161[m[K[36m[K:[m[K                    throw new Error([01;31m[K`Insight "${shortId}" not found`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K162[m[K[36m[K-[m[K                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K180[m[K[36m[K-[m[K                    const response = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K181[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${values.insight.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K182[m[K[36m[K-[m[K                        insight
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K                    const response = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K219[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${values.insight.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K220[m[K[36m[K-[m[K                        metadata
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K273[m[K[36m[K-[m[K                            response = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K274[m[K[36m[K:[m[K                                [01;31m[K`api/projects/${currentTeamId}/insights/retention/?${toParams(params)}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K275[m[K[36m[K-[m[K                                cache.abortController.signal
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K279[m[K[36m[K-[m[K                        } else if (insight === InsightType.PATHS) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K280[m[K[36m[K:[m[K                            response = await api.create([01;31m[K`api/projects/${currentTeamId}/insights/path`[m[K, params)
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K281[m[K[36m[K-[m[K                        } else {
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K282[m[K[36m[K:[m[K                            throw new Error([01;31m[K`Can not load insight of type ${insight}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K283[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K692[m[K[36m[K-[m[K                ? await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K693[m[K[36m[K:[m[K                      [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${insightNumericId}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K694[m[K[36m[K-[m[K                      insightRequest
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K695[m[K[36m[K-[m[K                  )
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K696[m[K[36m[K:[m[K                : await api.create([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/`[m[K, insightRequest)
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K697[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K701[m[K[36m[K-[m[K            )
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K702[m[K[36m[K:[m[K            lemonToast.success([01;31m[K`Insight saved${dashboard ? ' & added to dashboard' : ''}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K703[m[K[36m[K-[m[K                button: {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K727[m[K[36m[K-[m[K                placeholder: 'Please enter the new name',
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K728[m[K[36m[K:[m[K                value: [01;31m[K`${values.insight.name || values.insight.derived_name} (copy)`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K729[m[K[36m[K-[m[K                error: 'You must enter a name',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K733[m[K[36m[K-[m[K        saveAsNamingSuccess: async ({ name }) => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K734[m[K[36m[K:[m[K            const insight: InsightModel = await api.create([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K735[m[K[36m[K-[m[K                name,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K738[m[K[36m[K-[m[K            })
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K739[m[K[36m[K:[m[K            lemonToast.info([01;31m[K`You're now working on a copy of ${values.insight.name ?? values.insight.derived_name}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K740[m[K[36m[K-[m[K            actions.setInsight(insight, { fromPersistentApi: true })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K760[m[K[36m[K-[m[K                    ...values.hiddenLegendKeys,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K761[m[K[36m[K:[m[K                    [[01;31m[K`${index}`[m[K]: currentIsHidden ? undefined : true,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K762[m[K[36m[K-[m[K                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/Insight.tsx[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K    const insightTab = {
[35m[K/tmp/posthog/frontend/src/scenes/insights/Insight.tsx[m[K[36m[K:[m[K[32m[K105[m[K[36m[K:[m[K        [[01;31m[K`${InsightType.TRENDS}`[m[K]: <TrendTab view={InsightType.TRENDS} />,
[35m[K/tmp/posthog/frontend/src/scenes/insights/Insight.tsx[m[K[36m[K:[m[K[32m[K106[m[K[36m[K:[m[K        [[01;31m[K`${InsightType.STICKINESS}`[m[K]: <TrendTab view={InsightType.STICKINESS} />,
[35m[K/tmp/posthog/frontend/src/scenes/insights/Insight.tsx[m[K[36m[K:[m[K[32m[K107[m[K[36m[K:[m[K        [[01;31m[K`${InsightType.LIFECYCLE}`[m[K]: <TrendTab view={InsightType.LIFECYCLE} />,
[35m[K/tmp/posthog/frontend/src/scenes/insights/Insight.tsx[m[K[36m[K:[m[K[32m[K108[m[K[36m[K:[m[K        [[01;31m[K`${InsightType.FUNNELS}`[m[K]: <FunnelTab />,
[35m[K/tmp/posthog/frontend/src/scenes/insights/Insight.tsx[m[K[36m[K:[m[K[32m[K109[m[K[36m[K:[m[K        [[01;31m[K`${InsightType.RETENTION}`[m[K]: <RetentionTab />,
[35m[K/tmp/posthog/frontend/src/scenes/insights/Insight.tsx[m[K[36m[K:[m[K[32m[K110[m[K[36m[K:[m[K        [[01;31m[K`${InsightType.PATHS}`[m[K]: <PathTab />,
[35m[K/tmp/posthog/frontend/src/scenes/insights/Insight.tsx[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K    }[activeView]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightContainer.tsx[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[Kconst VIEW_MAP = {
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightContainer.tsx[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.TRENDS}`[m[K]: <TrendInsight view={InsightType.TRENDS} />,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightContainer.tsx[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.STICKINESS}`[m[K]: <TrendInsight view={InsightType.STICKINESS} />,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightContainer.tsx[m[K[36m[K:[m[K[32m[K36[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.LIFECYCLE}`[m[K]: <TrendInsight view={InsightType.LIFECYCLE} />,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightContainer.tsx[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.FUNNELS}`[m[K]: <FunnelInsight />,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightContainer.tsx[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.RETENTION}`[m[K]: <RetentionContainer />,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightContainer.tsx[m[K[36m[K:[m[K[32m[K39[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.PATHS}`[m[K]: <Paths />,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightContainer.tsx[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightContainer.tsx[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K                        showTotalCount
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightContainer.tsx[m[K[36m[K:[m[K[32m[K130[m[K[36m[K:[m[K                        filterKey={activeView === InsightType.TRENDS ? [01;31m[K`trends_${activeView}`[m[K : ''}
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightContainer.tsx[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K                        canEditSeriesNameInline={activeView === InsightType.TRENDS && insightMode === ItemMode.Edit}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/FunnelCorrelation.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                identifier={AvailableFeature.CORRELATION_ANALYSIS}
[35m[K/tmp/posthog/frontend/src/scenes/insights/FunnelCorrelation.tsx[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K                title={[01;31m[K`Get a deeper understanding of why your ${aggregationTargetLabel.plural} are not converting`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/FunnelCorrelation.tsx[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K                caption={[01;31m[K`Correlation analysis automatically finds signals for why ${aggregationTargetLabel.plural} are converting or dropping off.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/FunnelCorrelation.tsx[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K            />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K    // Return custom name. If that doesn't exist then the name, then the id, then just null.
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K39[m[K[36m[K:[m[K    return (isCustom ? customName : null) ?? name ?? (filter?.id ? [01;31m[K`${filter?.id}`[m[K : null)
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K                            ...changedKeys,
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K                            ...extractObjectDiffKeys(oldValue[idx], event, [01;31m[K`event_${idx}_`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                            ...changedKeys,
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                            ...extractObjectDiffKeys(oldValue[idx], action, [01;31m[K`action_${idx}_`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K            } else {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K79[m[K[36m[K:[m[K                changedKeys[[01;31m[K`changed_${prefix}${key}`[m[K] = oldValue
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K120[m[K[36m[K-[m[Kexport async function getInsightId(shortId: InsightShortId): Promise<number | undefined> {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K121[m[K[36m[K:[m[K    return (await api.get([01;31m[K`api/projects/${getCurrentTeamId()}/insights/?short_id=${encodeURIComponent(shortId)}`[m[K))
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K        .results[0]?.id
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K164[m[K[36m[K-[m[K                            ? cohortsById[cohortId]?.name
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K165[m[K[36m[K:[m[K                            : [01;31m[K`ID ${cohortId}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K166[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K194[m[K[36m[K-[m[K            summary =
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K195[m[K[36m[K:[m[K                [01;31m[K`Retention of ${aggregationLabel(filters.aggregation_group_type_index, true).plural}`[m[K +
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K196[m[K[36m[K:[m[K                [01;31m[K` based on doing ${getDisplayNameFromEntityFilter((filters.target_entity || {}) as EntityFilter)}`[m[K +
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K197[m[K[36m[K:[m[K                [01;31m[K` ${retentionOptions[filters.retention_type || RETENTION_FIRST_TIME]} and returning with `[m[K +
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K198[m[K[36m[K-[m[K                (areTargetAndReturningIdentical
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K203[m[K[36m[K-[m[K            // Sync format with PathsSummary in InsightDetails
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K204[m[K[36m[K:[m[K            summary = [01;31m[K`User paths based on ${humanizePathsEventTypes(filters).join(' and ')}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K205[m[K[36m[K-[m[K            if (filters.start_point) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K206[m[K[36m[K:[m[K                summary += [01;31m[K` starting at ${filters.start_point}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K207[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K208[m[K[36m[K-[m[K            if (filters.end_point) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K209[m[K[36m[K:[m[K                summary += [01;31m[K`${filters.start_point ? ' and' : ''} ending at ${filters.end_point}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K210[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K215[m[K[36m[K-[m[K                case InsightType.LIFECYCLE:
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K216[m[K[36m[K:[m[K                    summary = [01;31m[K`User lifecycle based on ${getDisplayNameFromEntityFilter(localFilters[0])}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K217[m[K[36m[K-[m[K                    break
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K226[m[K[36m[K-[m[K                        .map((filter) => getDisplayNameFromEntityFilter(filter))
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K227[m[K[36m[K:[m[K                        .join([01;31m[K` ${linkSymbol} `[m[K)} ${
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K228[m[K[36m[K-[m[K                        aggregationLabel(filters.aggregation_group_type_index, true).singular
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K238[m[K[36m[K-[m[K                    if (filters.breakdown_type) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K239[m[K[36m[K:[m[K                        summary += [01;31m[K` by ${summarizeBreakdown(filters, aggregationLabel, cohortsById)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K240[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K249[m[K[36m[K-[m[K                                ).singular
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K250[m[K[36m[K:[m[K                                return [01;31m[K`${actor} stickiness based on ${getDisplayNameFromEntityFilter(localFilter)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K251[m[K[36m[K-[m[K                            })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K275[m[K[36m[K-[m[K                            if (filters.formula) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K276[m[K[36m[K:[m[K                                series = [01;31m[K`${alphabet[localFilterIndex].toUpperCase()}. ${series}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K277[m[K[36m[K-[m[K                            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K288[m[K[36m[K-[m[K                    if (filters.formula) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K:[m[K[32m[K289[m[K[36m[K:[m[K                        summary = [01;31m[K`${filters.formula} on ${summary}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.ts[m[K[36m[K-[m[K[32m[K290[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightCommandLogic.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K                            icon: RiseOutlined,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightCommandLogic.ts[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K                            display: [01;31m[K`Set Time Range to ${key}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightCommandLogic.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                            executor: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightsTable/InsightsTable.tsx[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K        <BindLogic logic={trendsLogic} props={insightProps}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightsTable/InsightsTable.tsx[m[K[36m[K:[m[K[32m[K57[m[K[36m[K:[m[K            <InsightsTable showTotalCount filterKey={[01;31m[K`dashboard_${insightProps.dashboardItemId}`[m[K} embedded />
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightsTable/InsightsTable.tsx[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K        </BindLogic>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightsTable/InsightsTable.tsx[m[K[36m[K-[m[K[32m[K219[m[K[36m[K-[m[K                },
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightsTable/InsightsTable.tsx[m[K[36m[K:[m[K[32m[K220[m[K[36m[K:[m[K                key: [01;31m[K`data[${index}]`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightsTable/InsightsTable.tsx[m[K[36m[K-[m[K[32m[K221[m[K[36m[K-[m[K                sorter: (a, b) => a.data[index] - b.data[index],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K    paramsToExpected.forEach(([filter, isCustom, expected]) => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K        it([01;31m[K`expect "${expected}" for Filter<custom_name="${filter.custom_name}", name="${filter.name}", id="${filter.id}">`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K            expect(getDisplayNameFromEntityFilter(filter, isCustom)).toEqual(expected)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K-[m[K[32m[K101[m[K[36m[K-[m[K    testCases.forEach(([testName, oldFilter, newFilter, prefix, expected]) => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K:[m[K[32m[K102[m[K[36m[K:[m[K        it([01;31m[K`expect ${JSON.stringify(expected)} for ${testName}`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K            expect(extractObjectDiffKeys(oldFilter, newFilter, prefix)).toEqual(expected)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/LineGraph/LineGraph.tsx[m[K[36m[K-[m[K[32m[K547[m[K[36m[K-[m[K                                      const fixedValue = numVal < 1 ? numVal.toFixed(2) : numVal.toFixed(0)
[35m[K/tmp/posthog/frontend/src/scenes/insights/LineGraph/LineGraph.tsx[m[K[36m[K:[m[K[32m[K548[m[K[36m[K:[m[K                                      return [01;31m[K`${fixedValue}%`[m[K // convert it to percentage
[35m[K/tmp/posthog/frontend/src/scenes/insights/LineGraph/LineGraph.tsx[m[K[36m[K-[m[K[32m[K549[m[K[36m[K-[m[K                                  },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/sharedUtils.test.ts[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K    testCases.forEach((testCase) => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/sharedUtils.test.ts[m[K[36m[K:[m[K[32m[K21[m[K[36m[K:[m[K        it([01;31m[K`for ${JSON.stringify(testCase.in)} returns ${JSON.stringify(testCase.expect)}`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/sharedUtils.test.ts[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K            expect(func(testCase.in)).toEqual(testCase.expect)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K                                },
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K                                endpoint: [01;31m[K`projects/${currentTeamId}/insights`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K                                callback: deleteCallback,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K272[m[K[36m[K-[m[Kconst SAVED_INSIGHTS_COPY = {
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K:[m[K[32m[K273[m[K[36m[K:[m[K    [[01;31m[K`${SavedInsightsTabs.All}`[m[K]: {
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K274[m[K[36m[K-[m[K        title: 'There are no insights $CONDITION.',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K276[m[K[36m[K-[m[K    },
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K:[m[K[32m[K277[m[K[36m[K:[m[K    [[01;31m[K`${SavedInsightsTabs.Yours}`[m[K]: {
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K278[m[K[36m[K-[m[K        title: "You haven't created insights $CONDITION.",
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K280[m[K[36m[K-[m[K    },
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K:[m[K[32m[K281[m[K[36m[K:[m[K    [[01;31m[K`${SavedInsightsTabs.Favorites}`[m[K]: {
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K282[m[K[36m[K-[m[K        title: 'There are no favorited insights $CONDITION.',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K306[m[K[36m[K-[m[K                        ? searchString
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K:[m[K[32m[K307[m[K[36m[K:[m[K                            ? title.replace('$CONDITION', [01;31m[K`matching "${searchString}"`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K308[m[K[36m[K-[m[K                            : title.replace('$CONDITION', `matching these filters`)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K    useEffect(() => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K        router.actions.push([01;31m[K`/insights/${insight.short_id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K    }, [])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K    useEffect(() => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K        router.actions.push([01;31m[K`/insights/${insight.short_id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K    }, [])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K    useEffect(() => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K:[m[K[32m[K65[m[K[36m[K:[m[K        router.actions.push([01;31m[K`/insights/${insight.short_id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K        window.setTimeout(() => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionTableLogic.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[Kexport const retentionOptionDescriptions = {
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionTableLogic.ts[m[K[36m[K:[m[K[32m[K36[m[K[36m[K:[m[K    [[01;31m[K`${RETENTION_RECURRING}`[m[K]: 'A user will belong to any cohort where they have performed the event in its Period 0.',
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionTableLogic.ts[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K    [[01;31m[K`${RETENTION_FIRST_TIME}`[m[K]:
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionTableLogic.ts[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K        'A user will only belong to the cohort for which they performed the event for the first time.',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionTableLogic.ts[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K                const urlParams = toParams({ ...values.filters, selected_interval: rowIndex })
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionTableLogic.ts[m[K[36m[K:[m[K[32m[K70[m[K[36m[K:[m[K                const res = await api.get([01;31m[K`api/person/retention/?${urlParams}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionTableLogic.ts[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K                return res
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionTableLogic.ts[m[K[36m[K-[m[K[32m[K136[m[K[36m[K-[m[K                        id: datasetIndex,
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionTableLogic.ts[m[K[36m[K:[m[K[32m[K137[m[K[36m[K:[m[K                        days: retentionPercentages.map((_, index) => [01;31m[K`${filters.period} ${index}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionTableLogic.ts[m[K[36m[K:[m[K[32m[K138[m[K[36m[K:[m[K                        labels: retentionPercentages.map((_, index) => [01;31m[K`${filters.period} ${index}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionTableLogic.ts[m[K[36m[K-[m[K[32m[K139[m[K[36m[K-[m[K                        count: 0,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/retention/RetentionLineGraph.tsx[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K                    renderCount: (count) => {
[35m[K/tmp/posthog/frontend/src/scenes/retention/RetentionLineGraph.tsx[m[K[36m[K:[m[K[32m[K65[m[K[36m[K:[m[K                        return [01;31m[K`${roundToDecimal(count)}%`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/retention/RetentionLineGraph.tsx[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K                    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/retention/RetentionTable.tsx[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K            ...Array.from(Array(maxIntervalsCount).keys()).map((index: number) => ({
[35m[K/tmp/posthog/frontend/src/scenes/retention/RetentionTable.tsx[m[K[36m[K:[m[K[32m[K70[m[K[36m[K:[m[K                key: [01;31m[K`period::${index}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/retention/RetentionTable.tsx[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K                title: [01;31m[K`${period} ${index}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/retention/RetentionTable.tsx[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K                render: (row: RetentionTablePayload) => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/retention/RetentionTable.tsx[m[K[36m[K-[m[K[32m[K136[m[K[36m[K-[m[K    const percentageBasisForColor = periodZero ? 100 : _percentage // So that Period 0 is always shown consistently
[35m[K/tmp/posthog/frontend/src/scenes/retention/RetentionTable.tsx[m[K[36m[K:[m[K[32m[K137[m[K[36m[K:[m[K    const backgroundColor = [01;31m[K`hsl(212, 63%, ${30 + (100 - percentageBasisForColor) * 0.65}%)`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/retention/RetentionTable.tsx[m[K[36m[K-[m[K[32m[K138[m[K[36m[K-[m[K    const color = percentageBasisForColor >= 65 ? 'hsl(0, 0%, 80%)' : undefined
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/CreateProjectModal.tsx[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K                currentOrganization
[35m[K/tmp/posthog/frontend/src/scenes/project/CreateProjectModal.tsx[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[K                    ? [01;31m[K`You cannot create a project in ${currentOrganization.name}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/CreateProjectModal.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                    : 'You cannot create a project'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/CreateProjectModal.tsx[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                title ||
[35m[K/tmp/posthog/frontend/src/scenes/project/CreateProjectModal.tsx[m[K[36m[K:[m[K[32m[K87[m[K[36m[K:[m[K                (currentOrganization ? [01;31m[K`Creating a project in ${currentOrganization.name}`[m[K : 'Creating a project')
[35m[K/tmp/posthog/frontend/src/scenes/project/CreateProjectModal.tsx[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K    const isImplicit = member.organization_level >= OrganizationMembershipLevel.Admin
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K    const levelName = membershipLevelToName.get(member.level) ?? [01;31m[K`unknown (${member.level})`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K    const disallowedReason = isImplicit
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K        ? [01;31m[K`This user is a member of the project implicitly due to being an organization ${levelName}.`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K        : getReasonForAccessLevelChangeProhibition(myMembershipLevel, user, member, allowedLevels)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                    {allowedLevels.map((listLevel) => (
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                        <Menu.Item key={[01;31m[K`${member.user.uuid}-level-${listLevel}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                            <a href="#" onClick={generateHandleClick(listLevel)} data-test-level={listLevel}>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K                    ? 'Leave'
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K:[m[K[32m[K112[m[K[36m[K:[m[K                    : [01;31m[K`Remove ${member.user.first_name} (${member.user.email}) from`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[K            } project ${currentTeam?.name}?`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K161[m[K[36m[K-[m[K            render: (_, member) =>
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K:[m[K[32m[K162[m[K[36m[K:[m[K                member.user.uuid == user.uuid ? [01;31m[K`${member.user.first_name} (me)`[m[K : member.user.first_name,
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K163[m[K[36m[K-[m[K            sorter: (a, b) => a.user.first_name.localeCompare(b.user.first_name),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/DangerZone.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K            title="Delete the project and its data?"
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/DangerZone.tsx[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K            okText={[01;31m[K`Delete ${currentTeam ? currentTeam.name : 'the current project'}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/DangerZone.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K            okType="danger"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/GroupAnalytics.tsx[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K                            groupType.name_plural ||
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/GroupAnalytics.tsx[m[K[36m[K:[m[K[32m[K61[m[K[36m[K:[m[K                            [01;31m[K`${groupType.group_type}(s)`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/GroupAnalytics.tsx[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K            loadMembers: async () => {
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K                return await api.get([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/explicit_members/`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K            },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                    userUuids.map((userUuid) =>
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K                        api.create([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/explicit_members/`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K                            user_uuid: userUuid,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                lemonToast.success(
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K                    [01;31m[K`Added ${newMembers.length} members${newMembers.length !== 1 && 's'} to the project.`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K            removeMember: async ({ member }: { member: BaseMemberType }) => {
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K                await api.delete([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/explicit_members/${member.user.uuid}/`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                lemonToast.success(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K                            ? 'Left'
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K:[m[K[32m[K57[m[K[36m[K:[m[K                            : [01;31m[K`Removed ${member.user.first_name} (${member.user.email}) from`[m[K}{' '}
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K                        the project.
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K159[m[K[36m[K-[m[K        changeUserAccessLevel: async ({ user, newLevel }) => {
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K:[m[K[32m[K160[m[K[36m[K:[m[K            await api.update([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/explicit_members/${user.uuid}/`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K161[m[K[36m[K-[m[K                level: newLevel,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/AddMembersModal.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K            <Modal
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/AddMembersModal.tsx[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K                title={[01;31m[K`Adding members${currentTeam?.name ? `[m[K to project ${currentTeam.name}` : ''}`}
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/AddMembersModal.tsx[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K                okText="Add members to project"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/AddMembersModal.tsx[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K                                    value={member.user.uuid}
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/AddMembersModal.tsx[m[K[36m[K:[m[K[32m[K83[m[K[36m[K:[m[K                                    title={[01;31m[K`${member.user.first_name} (${member.user.email})`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/AddMembersModal.tsx[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K                                    disabled={!!member.level}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[Kconst createSnapshotEndpoint = (id: number): string => [01;31m[K`api/projects/${MOCK_TEAM_ID}/session_recordings/${id}/snapshots`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[Kconst EVENTS_SESSION_RECORDING_SNAPSHOTS_ENDPOINT_REGEX = new RegExp(
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K    [01;31m[K`api/projects/${MOCK_TEAM_ID}/session_recordings/\\d/snapshots`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[Kconst EVENTS_SESSION_RECORDING_META_ENDPOINT = [01;31m[K`api/projects/${MOCK_TEAM_ID}/session_recordings`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[Kconst EVENTS_SESSION_RECORDING_EVENTS_ENDPOINT = [01;31m[K`api/projects/${MOCK_TEAM_ID}/events`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K-[m[K[32m[K246[m[K[36m[K-[m[K        it('fetch all events and sort by player time', async () => {
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K:[m[K[32m[K247[m[K[36m[K:[m[K            const firstNext = [01;31m[K`${EVENTS_SESSION_RECORDING_EVENTS_ENDPOINT}?person_id=1&before=2021-10-28T17:45:12.128000Z&after=2021-10-28T16:45:05Z`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K-[m[K[32m[K248[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K-[m[K[32m[K280[m[K[36m[K-[m[K        it('server error mid-fetch', async () => {
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K:[m[K[32m[K281[m[K[36m[K:[m[K            const firstNext = [01;31m[K`${EVENTS_SESSION_RECORDING_EVENTS_ENDPOINT}?person_id=1&before=2021-10-28T17:45:12.128000Z&after=2021-10-28T16:45:05Z`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K-[m[K[32m[K282[m[K[36m[K-[m[K            silenceKeaLoadersErrors()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K-[m[K[32m[K369[m[K[36m[K-[m[K            const snapshotUrl = createSnapshotEndpoint(1)
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K:[m[K[32m[K370[m[K[36m[K:[m[K            const firstNext = [01;31m[K`${snapshotUrl}/?offset=200&limit=200`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K-[m[K[32m[K371[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K-[m[K[32m[K416[m[K[36m[K-[m[K            const snapshotUrl = createSnapshotEndpoint(1)
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K:[m[K[32m[K417[m[K[36m[K:[m[K            const firstNext = [01;31m[K`${snapshotUrl}/?offset=200&limit=200`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.test.ts[m[K[36m[K-[m[K[32m[K418[m[K[36m[K-[m[K            silenceKeaLoadersErrors()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx[m[K[36m[K-[m[K[32m[K135[m[K[36m[K-[m[K                            }}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx[m[K[36m[K:[m[K[32m[K136[m[K[36m[K:[m[K                            typeKey={isPersonPage ? [01;31m[K`person-${personUUID}`[m[K : 'session-recordings'}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx[m[K[36m[K-[m[K[32m[K137[m[K[36m[K-[m[K                            mathAvailability={MathAvailability.None}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx[m[K[36m[K-[m[K[32m[K166[m[K[36m[K-[m[K                                popoverPlacement="bottomRight"
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx[m[K[36m[K:[m[K[32m[K167[m[K[36m[K:[m[K                                pageKey={isPersonPage ? [01;31m[K`person-${personUUID}`[m[K : 'session-recordings'}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx[m[K[36m[K-[m[K[32m[K168[m[K[36m[K-[m[K                                taxonomicGroupTypes={[
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx[m[K[36m[K-[m[K[32m[K232[m[K[36m[K-[m[K                            initialFilter={durationFilter}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx[m[K[36m[K:[m[K[32m[K233[m[K[36m[K:[m[K                            pageKey={isPersonPage ? [01;31m[K`person-${personUUID}`[m[K : 'session-recordings'}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx[m[K[36m[K-[m[K[32m[K234[m[K[36m[K-[m[K                        />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K                    const startTime = performance.now()
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts[m[K[36m[K:[m[K[32m[K106[m[K[36m[K:[m[K                    const response = await api.get([01;31m[K`api/projects/${values.currentTeamId}/session_recordings?${params}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K                    const loadTimeMs = performance.now() - startTime
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Console.tsx[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K            <div
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Console.tsx[m[K[36m[K:[m[K[32m[K21[m[K[36m[K:[m[K                className={[01;31m[K`log-line level-${log.level}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Console.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K                key={index}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Seekbar.tsx[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K            style={{
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Seekbar.tsx[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K                left: [01;31m[K`calc(${event.percentageOfRecordingDuration}% - 2px)`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Seekbar.tsx[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K            }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Seekbar.tsx[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K                        <div
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Seekbar.tsx[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K                            key={[01;31m[K`${segment.windowId}-${segment.startTimeEpochMs}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Seekbar.tsx[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K                            className={clsx('activity-section', !segment.isActive && 'inactive-section')}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Seekbar.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                <div className="slider-bar" />
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Seekbar.tsx[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                <div className="thumb" ref={thumbRef} style={{ transform: [01;31m[K`translateX(${thumbLeftPos}px)`[m[K }} />
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Seekbar.tsx[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K                <div className="current-bar" style={{ width: [01;31m[K`${Math.max(thumbLeftPos, 0)}px`[m[K }} />
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Seekbar.tsx[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K                <div className="buffer-bar" style={{ width: [01;31m[K`calc(${bufferPercent}% - 2px)`[m[K }} />
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Seekbar.tsx[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K            </div>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/PlayerFrame.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/PlayerFrame.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K        player.replayer.wrapper.style.transform = [01;31m[K`scale(${scale})`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/PlayerFrame.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K        frameRef.current.style.paddingLeft = `${(width - replayDimensions.width * scale) / 2}px`
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/PlayerFrame.tsx[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K        frameRef.current.style.paddingTop = `${(height - replayDimensions.height * scale) / 2}px`
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/PlayerFrame.tsx[m[K[36m[K:[m[K[32m[K43[m[K[36m[K:[m[K        frameRef.current.style.marginBottom = [01;31m[K`-${height - replayDimensions.height * scale}px`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/PlayerFrame.tsx[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/PlayerEvents.tsx[m[K[36m[K-[m[K[32m[K159[m[K[36m[K-[m[K                            height: currentEventsBoxSizeAndPosition.height,
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/PlayerEvents.tsx[m[K[36m[K:[m[K[32m[K160[m[K[36m[K:[m[K                            transform: [01;31m[K`translateY(${currentEventsBoxSizeAndPosition.top}px)`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/PlayerEvents.tsx[m[K[36m[K-[m[K[32m[K161[m[K[36m[K-[m[K                        }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/icons.tsx[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/icons.tsx[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[K        <div onClick={onClick} className={[01;31m[K`rrweb-controller-icon ${className}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/icons.tsx[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K            {children}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Timestamp.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K                overlayInnerStyle={{ minHeight: 'auto' }}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Timestamp.tsx[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K                overlay={[01;31m[K`Back ${jumpTimeMs / 1000}s (← left arrow)`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Timestamp.tsx[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K            >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Timestamp.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K                overlayInnerStyle={{ minHeight: 'auto' }}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Timestamp.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K                overlay={[01;31m[K`Forward ${jumpTimeMs / 1000}s (→ right arrow)`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/Timestamp.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K            >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/eventsListLogic.test.ts[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K        Object.entries(nanInputs).forEach(([key, value]) => {
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/eventsListLogic.test.ts[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K            it([01;31m[K`NaN case: ${key}`[m[K, async () => {
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/eventsListLogic.test.ts[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                await expectLogic(logic, async () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K-[m[K[32m[K123[m[K[36m[K-[m[K        ...e,
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K:[m[K[32m[K124[m[K[36m[K:[m[K        queryValue: [01;31m[K`${getKeyMapping(e.event, 'event')?.label ?? e.event ?? ''} ${eventToDescription(e)}`[m[K.replace(
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K            /['"]+/g,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K-[m[K[32m[K255[m[K[36m[K-[m[K                const response = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K:[m[K[32m[K256[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${values.currentTeamId}/session_recordings/${sessionRecordingId}?${params}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K-[m[K[32m[K257[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K-[m[K[32m[K309[m[K[36m[K-[m[K                // Use `url` if there is a `next` url to fetch
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K:[m[K[32m[K310[m[K[36m[K:[m[K                const apiUrl = url || [01;31m[K`api/projects/${values.currentTeamId}/events?${toParams(values.eventsApiParams)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K-[m[K[32m[K311[m[K[36m[K-[m[K                const response = await api.get(apiUrl)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K-[m[K[32m[K436[m[K[36m[K-[m[K                                        const fileNameFromURL = new URL(parsedTraceURL).pathname.split('/').slice(-1)[0]
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K:[m[K[32m[K437[m[K[36m[K:[m[K                                        parsedTraceString = [01;31m[K`${fileNameFromURL}:${lineNumbers}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K-[m[K[32m[K438[m[K[36m[K-[m[K                                    } catch (e) {
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K-[m[K[32m[K439[m[K[36m[K-[m[K                                        // If we can't parse the URL, fall back to this line number
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K:[m[K[32m[K440[m[K[36m[K:[m[K                                        parsedTraceString = [01;31m[K`:${lineNumbers}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K-[m[K[32m[K441[m[K[36m[K-[m[K                                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K-[m[K[32m[K443[m[K[36m[K-[m[K                                    // Case with line number only
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K:[m[K[32m[K444[m[K[36m[K:[m[K                                    parsedTraceString = [01;31m[K`:${lineNumbers}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingLogic.ts[m[K[36m[K-[m[K[32m[K445[m[K[36m[K-[m[K                                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/ingestionLogic.ts[m[K[36m[K-[m[K[32m[K185[m[K[36m[K-[m[K    if (framework) {
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/ingestionLogic.ts[m[K[36m[K:[m[K[32m[K186[m[K[36m[K:[m[K        url += [01;31m[K`/${framework.toLowerCase()}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/ingestionLogic.ts[m[K[36m[K-[m[K[32m[K187[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx[m[K[36m[K-[m[K[32m[K99[m[K[36m[K-[m[K                        !popconfirmProps ? (
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx[m[K[36m[K:[m[K[32m[K100[m[K[36m[K:[m[K                            <LemonButton key={[01;31m[K`snippet-action-${index}`[m[K} onClick={callback} title={title} />
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx[m[K[36m[K-[m[K[32m[K101[m[K[36m[K-[m[K                        ) : (
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx[m[K[36m[K:[m[K[32m[K102[m[K[36m[K:[m[K                            <Popconfirm key={[01;31m[K`snippet-action-${index}`[m[K} {...popconfirmProps} onConfirm={callback}>
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K                                <LemonButton icon={icon} title={title} />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/iOSInstructions.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K        <CodeSnippet language={Language.ObjectiveC}>
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/iOSInstructions.tsx[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K            {[01;31m[K`#import <PostHog/PHGPostHog.h>\n#import <PostHog/PHGPostHogConfiguration.h>\n\nPHGPostHogConfiguration *configuration = [PHGPostHogConfiguration configurationWithApiKey:@"${currentTeam?.api_token}" host:@"${window.location.origin}"];\n\nconfiguration.captureApplicationLifecycleEvents = YES; // Record certain application events automatically!\nconfiguration.recordScreenViews = YES; // Record screen views automatically!\n\n[PHGPostHog setupWithConfiguration:configuration];`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/iOSInstructions.tsx[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K        </CodeSnippet>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/iOSInstructions.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K        <CodeSnippet language={Language.Swift}>
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/iOSInstructions.tsx[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K            {[01;31m[K`import PostHog\n\nlet configuration = PHGPostHogConfiguration(apiKey: "${currentTeam?.api_token}", host: "${window.location.origin}")\n\nconfiguration.captureApplicationLifecycleEvents = true; // Record certain application events automatically!\nconfiguration.recordScreenViews = true; // Record screen views automatically!\n\nPHGPostHog.setup(with: configuration)\nlet posthog = PHGPostHog.shared()`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/iOSInstructions.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K        </CodeSnippet>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/JavaScriptInstructions.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K                '',
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/JavaScriptInstructions.tsx[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K                [01;31m[K`posthog.init('${currentTeam?.api_token}', { api_host: '${window.location.origin}' })`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/JavaScriptInstructions.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K            ].join('\n')}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/CardContainer.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K                        )}
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/CardContainer.tsx[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K                        {[01;31m[K`Step ${index + 1} ${totalSteps ? 'of' : ''} ${totalSteps ? totalSteps : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/CardContainer.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K                    </Row>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organizationLogic.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                    const updatedOrganization = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/organizationLogic.tsx[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                        [01;31m[K`api/organizations/${values.currentOrganization.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/organizationLogic.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                        payload
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organizationLogic.tsx[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K            try {
[35m[K/tmp/posthog/frontend/src/scenes/organizationLogic.tsx[m[K[36m[K:[m[K[32m[K93[m[K[36m[K:[m[K                await api.delete([01;31m[K`api/organizations/${organization.id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organizationLogic.tsx[m[K[36m[K-[m[K[32m[K94[m[K[36m[K-[m[K                location.reload()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K    setTimeout(
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K        () => document.querySelector<HTMLElement>([01;31m[K`.variant-form-list input[data-key-index="${index}"]`[m[K)?.focus(),
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K        50
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K146[m[K[36m[K-[m[K                                            <a
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K:[m[K[32m[K147[m[K[36m[K:[m[K                                                href={[01;31m[K`https://posthog.com/docs/features/feature-flags${UTM_TAGS}#feature-flag-persistence`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K148[m[K[36m[K-[m[K                                                target="_blank"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K328[m[K[36m[K-[m[K                                                        className="ph-ignore-input"
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K:[m[K[32m[K329[m[K[36m[K:[m[K                                                        placeholder={[01;31m[K`example-variant-${index + 1}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K330[m[K[36m[K-[m[K                                                        autoComplete="off"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K469[m[K[36m[K-[m[K                        {featureFlag.filters.groups.map((group, index) => (
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K:[m[K[32m[K470[m[K[36m[K:[m[K                            <Col span={24} md={24} key={[01;31m[K`${index}-${featureFlag.filters.groups.length}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K471[m[K[36m[K-[m[K                                {index > 0 && (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K258[m[K[36m[K-[m[K                if (props.id && props.id !== 'new') {
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K259[m[K[36m[K:[m[K                    return await api.get([01;31m[K`api/projects/${values.currentTeamId}/feature_flags/${props.id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K260[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K266[m[K[36m[K-[m[K                if (!updatedFlag.id) {
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K267[m[K[36m[K:[m[K                    return await api.create([01;31m[K`api/projects/${values.currentTeamId}/feature_flags`[m[K, flag)
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K268[m[K[36m[K-[m[K                } else {
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K269[m[K[36m[K-[m[K                    return await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K270[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${values.currentTeamId}/feature_flags/${updatedFlag.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K271[m[K[36m[K-[m[K                        flag
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K284[m[K[36m[K-[m[K            deleteWithUndo({
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K285[m[K[36m[K:[m[K                endpoint: [01;31m[K`projects/${values.currentTeamId}/feature_flags`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K286[m[K[36m[K-[m[K                object: { name: featureFlag.name, id: featureFlag.id },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagsLogic.ts[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K            loadFeatureFlags: async () => {
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagsLogic.ts[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K                const response = await api.get([01;31m[K`api/projects/${values.currentTeamId}/feature_flags/`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagsLogic.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K                return response.results as FeatureFlagType[]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagsLogic.ts[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K            updateFeatureFlag: async ({ id, payload }: { id: number; payload: Partial<FeatureFlagType> }) => {
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagsLogic.ts[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K                const response = await api.update([01;31m[K`api/projects/${values.currentTeamId}/feature_flags/${id}`[m[K, payload)
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagsLogic.ts[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K                return [...values.featureFlags].map((flag) => (flag.id === response.id ? response : flag))
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/activityDescriptions.tsx[m[K[36m[K-[m[K[32m[K168[m[K[36m[K-[m[K                    return [
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/activityDescriptions.tsx[m[K[36m[K:[m[K[32m[K169[m[K[36m[K:[m[K                        isntFirst && <div key={[01;31m[K`${index}-a`[m[K}>,&nbsp;</div>,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/activityDescriptions.tsx[m[K[36m[K:[m[K[32m[K170[m[K[36m[K:[m[K                        isLast && atLeastThree && <div key={[01;31m[K`${index}-b`[m[K}>and&nbsp;</div>,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/activityDescriptions.tsx[m[K[36m[K:[m[K[32m[K171[m[K[36m[K:[m[K                        <div key={[01;31m[K`${index}-c`[m[K}>{part}</div>,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/activityDescriptions.tsx[m[K[36m[K-[m[K[32m[K172[m[K[36m[K-[m[K                    ]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K                    rel="noopener"
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K                    href={[01;31m[K`https://posthog.com/docs/integrations/js-integration${UTM_TAGS}#feature-flags`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K                >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K                    rel="noopener"
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K                    href={[01;31m[K`https://posthog.com/docs/integrations/python-integration${UTM_TAGS}#feature-flags`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K                Need more information?{' '}
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[K                <a target="_blank" rel="noopener" href={[01;31m[K`https://posthog.com/docs/api/feature-flags${UTM_TAGS}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                    Check the docs <IconOpenInNew />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K            render: function RenderActive(_, featureFlag: FeatureFlagType) {
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K                const switchId = [01;31m[K`feature-flag-${featureFlag.id}-switch`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                return (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K117[m[K[36m[K-[m[K                                        breakdown_type: 'event',
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K:[m[K[32m[K118[m[K[36m[K:[m[K                                        breakdown: [01;31m[K`$feature/${featureFlag.key}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K119[m[K[36m[K-[m[K                                    })}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K                                            deleteWithUndo({
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K:[m[K[32m[K132[m[K[36m[K:[m[K                                                endpoint: [01;31m[K`projects/${currentTeamId}/feature_flags`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K133[m[K[36m[K-[m[K                                                object: { name: featureFlag.key, id: featureFlag.id },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K263[m[K[36m[K-[m[K        } else if (rollout_percentage !== null) {
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K:[m[K[32m[K264[m[K[36m[K:[m[K            return [01;31m[K`${rollout_percentage}% of all users`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K265[m[K[36m[K-[m[K        } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K269[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K:[m[K[32m[K270[m[K[36m[K:[m[K    return [01;31m[K`${groups.length} groups`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K271[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/performance/WebPerformance.tsx[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K    const right = 100 - (end / max) * 100
[35m[K/tmp/posthog/frontend/src/scenes/performance/WebPerformance.tsx[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K    const blockSides = { left: [01;31m[K`${left}%`[m[K, right: [01;31m[K`${right}%`[m[K }
[35m[K/tmp/posthog/frontend/src/scenes/performance/WebPerformance.tsx[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/performance/WebPerformance.tsx[m[K[36m[K-[m[K[32m[K143[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/performance/WebPerformance.tsx[m[K[36m[K:[m[K[32m[K144[m[K[36m[K:[m[K        const textPosition = { left: [01;31m[K`${100 - right + 1}%`[m[K, right: [01;31m[K`${right}%`[m[K }
[35m[K/tmp/posthog/frontend/src/scenes/performance/WebPerformance.tsx[m[K[36m[K-[m[K[32m[K145[m[K[36m[K-[m[K        return (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/performance/WebPerformance.tsx[m[K[36m[K-[m[K[32m[K216[m[K[36m[K-[m[K                className={clsx(['vertical-marker', { 'in-front': bringToFront }])}
[35m[K/tmp/posthog/frontend/src/scenes/performance/WebPerformance.tsx[m[K[36m[K:[m[K[32m[K217[m[K[36m[K:[m[K                style={{ left: [01;31m[K`${left}%`[m[K, backgroundColor: color }}
[35m[K/tmp/posthog/frontend/src/scenes/performance/WebPerformance.tsx[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K            />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/performance/WebPerformance.tsx[m[K[36m[K-[m[K[32m[K310[m[K[36m[K-[m[K                        const url = new URL(currentURL)
[35m[K/tmp/posthog/frontend/src/scenes/performance/WebPerformance.tsx[m[K[36m[K:[m[K[32m[K311[m[K[36m[K:[m[K                        urlOrScene = { short: [01;31m[K`${url.origin}${url.pathname}`[m[K, full: url.toString() }
[35m[K/tmp/posthog/frontend/src/scenes/performance/WebPerformance.tsx[m[K[36m[K-[m[K[32m[K312[m[K[36m[K-[m[K                    } catch (e) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/performance/WebPerformance.tsx[m[K[36m[K-[m[K[32m[K347[m[K[36m[K-[m[K                    <div>
[35m[K/tmp/posthog/frontend/src/scenes/performance/WebPerformance.tsx[m[K[36m[K:[m[K[32m[K348[m[K[36m[K:[m[K                        <Button data-attr={[01;31m[K`view-waterfall-button-${pageViewEvent.id}`[m[K} icon={<EyeOutlined />}>
[35m[K/tmp/posthog/frontend/src/scenes/performance/WebPerformance.tsx[m[K[36m[K-[m[K[32m[K349[m[K[36m[K-[m[K                            View waterfall chart
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/eventsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K429[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/eventsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K430[m[K[36m[K:[m[K                    expect(logic.values.exportUrl.startsWith([01;31m[K`/api/projects/${MOCK_TEAM_ID}/events.csv`[m[K)).toBe(true)
[35m[K/tmp/posthog/frontend/src/scenes/events/eventsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K431[m[K[36m[K-[m[K                    expect(getUrlParameters(logic.values.exportUrl)).toEqual({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/eventsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K442[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/eventsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K443[m[K[36m[K:[m[K                    expect(logic.values.exportUrl.startsWith([01;31m[K`/api/projects/${MOCK_TEAM_ID}/events.csv`[m[K)).toBe(true)
[35m[K/tmp/posthog/frontend/src/scenes/events/eventsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K444[m[K[36m[K-[m[K                    expect(getUrlParameters(logic.values.exportUrl)).toEqual({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/eventsTableLogic.ts[m[K[36m[K-[m[K[32m[K318[m[K[36m[K-[m[K                }
[35m[K/tmp/posthog/frontend/src/scenes/events/eventsTableLogic.ts[m[K[36m[K:[m[K[32m[K319[m[K[36m[K:[m[K                return api.get([01;31m[K`api/projects/${values.currentTeamId}/events/?${toParams(params)}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/events/eventsTableLogic.ts[m[K[36m[K-[m[K[32m[K320[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/eventsTableLogic.ts[m[K[36m[K-[m[K[32m[K393[m[K[36m[K-[m[K            try {
[35m[K/tmp/posthog/frontend/src/scenes/events/eventsTableLogic.ts[m[K[36m[K:[m[K[32m[K394[m[K[36m[K:[m[K                apiResponse = await api.get([01;31m[K`api/projects/${values.currentTeamId}/events/?${urlParams}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/events/eventsTableLogic.ts[m[K[36m[K-[m[K[32m[K395[m[K[36m[K-[m[K            } catch (e) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/eventsTableLogic.ts[m[K[36m[K-[m[K[32m[K415[m[K[36m[K-[m[K        fetchOrPollFailure: ({ error }: { error: ApiError }) => {
[35m[K/tmp/posthog/frontend/src/scenes/events/eventsTableLogic.ts[m[K[36m[K:[m[K[32m[K416[m[K[36m[K:[m[K            lemonToast.error([01;31m[K`There was a problem fetching your events: ${error.statusText}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/events/eventsTableLogic.ts[m[K[36m[K-[m[K[32m[K417[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/EventsTable.tsx[m[K[36m[K-[m[K[32m[K435[m[K[36m[K-[m[K                          eventFilter ? (
[35m[K/tmp/posthog/frontend/src/scenes/events/EventsTable.tsx[m[K[36m[K:[m[K[32m[K436[m[K[36m[K:[m[K                            [01;31m[K`No events matching filters found in the last ${months} months!`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/EventsTable.tsx[m[K[36m[K-[m[K[32m[K437[m[K[36m[K-[m[K                        ) : (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/UsageDisabledWarning.tsx[m[K[36m[K-[m[K[32m[K8[m[K[36m[K-[m[K            showIcon
[35m[K/tmp/posthog/frontend/src/scenes/events/UsageDisabledWarning.tsx[m[K[36m[K:[m[K[32m[K9[m[K[36m[K:[m[K            message={[01;31m[K`${tab} are not enabled for your instance.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/events/UsageDisabledWarning.tsx[m[K[36m[K-[m[K[32m[K10[m[K[36m[K-[m[K            description={
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/EventElements.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K                    &lt;{element.tag_name}
[35m[K/tmp/posthog/frontend/src/scenes/events/EventElements.tsx[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K                    {element.attr_id && [01;31m[K` id="${element.attr_id}"`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/events/EventElements.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K                    {Object.entries(element.attributes).map(([key, value]) => (
[35m[K/tmp/posthog/frontend/src/scenes/events/EventElements.tsx[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K                        <span key={key}>{[01;31m[K` ${key.replace('attr__', '')}="${value}"`[m[K}</span>
[35m[K/tmp/posthog/frontend/src/scenes/events/EventElements.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K                    ))}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[K    if (element.attr_id) {
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K:[m[K[32m[K14[m[K[36m[K:[m[K        return [01;31m[K`[id="${element.attr_id}"] > ${parts}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K                        const clickedTagName = event.elements[0].tag_name
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K:[m[K[32m[K70[m[K[36m[K:[m[K                        selector = [01;31m[K`${selector} > ${clickedTagName || '*'}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K    } else if (event.event === '$pageview') {
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K:[m[K[32m[K80[m[K[36m[K:[m[K        actionData.name = [01;31m[K`Pageview on ${new URL(event.properties.$current_url).pathname}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K    } else {
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K:[m[K[32m[K82[m[K[36m[K:[m[K        actionData.name = [01;31m[K`${event.event} event`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K                    centered: true,
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K                    title: [01;31m[K`Transfer organization ownership to ${member.user.first_name}?`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K:[m[K[32m[K49[m[K[36m[K:[m[K                    content: [01;31m[K`You will no longer be the owner of ${user.organization?.name}. After the transfer you will become an administrator.`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                    icon: <SwapOutlined />,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K        >
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K:[m[K[32m[K68[m[K[36m[K:[m[K            {membershipLevelToName.get(member.level) ?? [01;31m[K`unknown (${member.level})`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K        </Button>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K                    {allowedLevels.map((listLevel) => (
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K:[m[K[32m[K84[m[K[36m[K:[m[K                        <Menu.Item key={[01;31m[K`${member.user.uuid}-level-${listLevel}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K                            <a href="#" onClick={generateHandleClick(listLevel)} data-test-level={listLevel}>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K        Modal.confirm({
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K:[m[K[32m[K129[m[K[36m[K:[m[K            title: [01;31m[K`${member.user.uuid == user.uuid ? 'Leave' : `[m[KRemove ${member.user.first_name} from`} organization ${
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K                user.organization?.name
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K183[m[K[36m[K-[m[K            render: (_, member) =>
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K:[m[K[32m[K184[m[K[36m[K:[m[K                member.user.uuid == user.uuid ? [01;31m[K`${member.user.first_name} (me)`[m[K : member.user.first_name,
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K185[m[K[36m[K-[m[K            sorter: (a, b) => a.user.first_name.localeCompare(b.user.first_name),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[Kfunction InviteLinkComponent(id: string, invite: OrganizationInviteType): JSX.Element {
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K    const url = new URL([01;31m[K`/signup/${id}`[m[K, document.baseURI).href
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K    return invite.is_expired ? (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K                        : Modal.confirm({
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K                              title: [01;31m[K`Do you want to cancel the invite for ${invite.target_email}?`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K                              icon: <ExclamationCircleOutlined />,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K                        {invite.target_email}
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K                        {invite.first_name ? [01;31m[K` (${invite.first_name})`[m[K : ''}
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                    </div>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/DangerZone.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K            title="Delete the entire organization?"
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/DangerZone.tsx[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K            okText={[01;31m[K`Delete ${currentOrganization ? currentOrganization.name : 'the current organization'}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/DangerZone.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K            onOk={currentOrganization ? () => deleteOrganization(currentOrganization) : undefined}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/invitesLogic.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K            deleteInvite: async (invite: OrganizationInviteType) => {
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/invitesLogic.tsx[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K                await api.delete([01;31m[K`api/organizations/@current/invites/${invite.id}/`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/invitesLogic.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K                preflightLogic.actions.loadPreflight() // Make sure licensed_users_available is updated
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K                <Input
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K                    placeholder={[01;31m[K`${name.toLowerCase()}@posthog.com`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K                    type="email"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K        <Modal
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K:[m[K[32m[K101[m[K[36m[K:[m[K            title={[01;31m[K`Inviting team members${user?.organization ? ' to ' + user?.organization?.name : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K            visible={visible}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K            onOk={inviteTeamMembers}
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K:[m[K[32m[K108[m[K[36m[K:[m[K            okText={validInvitesCount ? [01;31m[K`Invite ${pluralize(validInvitesCount, 'team member')}`[m[K : 'Invite team members'}
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K            destroyOnClose
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/bulkInviteLogic.ts[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K            const inviteCount = values.invitedTeamMembers.length
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/bulkInviteLogic.ts[m[K[36m[K:[m[K[32m[K78[m[K[36m[K:[m[K            lemonToast.success([01;31m[K`Invited ${inviteCount} new team member${inviteCount === 1 ? '' : 's'}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/bulkInviteLogic.ts[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K            organizationLogic.actions.loadCurrentOrganization()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K                deleteInvite: async (invite: OrganizationInviteType) => {
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K:[m[K[32m[K98[m[K[36m[K:[m[K                    await api.delete([01;31m[K`api/organizations/@current/invites/${invite.id}/`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K-[m[K[32m[K99[m[K[36m[K-[m[K                    preflightLogic.actions.loadPreflight() // Make sure licensed_users_available is updated
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K:[m[K[32m[K100[m[K[36m[K:[m[K                    lemonToast.success([01;31m[K`Invite for ${invite.target_email} has been canceled`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K-[m[K[32m[K101[m[K[36m[K-[m[K                    return values.invites.filter((thisInvite) => thisInvite.id !== invite.id)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K            const inviteCount = values.invitedTeamMembersInternal.length
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K:[m[K[32m[K109[m[K[36m[K:[m[K            lemonToast.success([01;31m[K`Invited ${inviteCount} new team member${inviteCount === 1 ? '' : 's'}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K            organizationLogic.actions.loadCurrentOrganization()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K-[m[K[32m[K116[m[K[36m[K-[m[K                // If email service is not available, take user to org settings page to copy invite(s) link(s)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K:[m[K[32m[K117[m[K[36m[K:[m[K                router.actions.push([01;31m[K`${urls.organizationSettings()}#invites`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K-[m[K[32m[K118[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/VerifyDomainModal.tsx[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K    const { setVerifyModal, verifyDomain } = useActions(verifiedDomainsLogic)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/VerifyDomainModal.tsx[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K    const challengeName = [01;31m[K`_posthog-challenge.${domainBeingVerified?.domain}.`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/VerifyDomainModal.tsx[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K    return (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K                loadVerifiedDomains: async () =>
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K                    (await api.get([01;31m[K`api/organizations/${values.currentOrganization?.id}/domains`[m[K))
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K                        .results as OrganizationDomainType[],
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K                addVerifiedDomain: async (domain: string) => {
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K:[m[K[32m[K56[m[K[36m[K:[m[K                    const response = await api.create([01;31m[K`api/organizations/${values.currentOrganization?.id}/domains`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K                        domain,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                deleteVerifiedDomain: async (id: string) => {
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K                    await api.delete([01;31m[K`api/organizations/${values.currentOrganization?.id}/domains/${id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                    return [...values.verifiedDomains.filter((domain) => domain.id !== id)]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K                    const response = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K:[m[K[32m[K72[m[K[36m[K:[m[K                        [01;31m[K`api/organizations/${values.currentOrganization?.id}/domains/${payload.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                        { ...payload, id: undefined }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K                    const response = (await api.create(
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K:[m[K[32m[K81[m[K[36m[K:[m[K                        [01;31m[K`api/organizations/${values.currentOrganization?.id}/domains/${values.verifyModal}/verify`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K                    )) as OrganizationDomainType
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/VerifiedDomains.tsx[m[K[36m[K-[m[K[32m[K194[m[K[36m[K-[m[K                                        Modal.confirm({
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/VerifiedDomains.tsx[m[K[36m[K:[m[K[32m[K195[m[K[36m[K:[m[K                                            title: [01;31m[K`Remove ${domain}?`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/VerifiedDomains.tsx[m[K[36m[K-[m[K[32m[K196[m[K[36m[K-[m[K                                            icon: null,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/membersLogic.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K            removeMember: async (member: OrganizationMemberType) => {
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/membersLogic.tsx[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K                await api.delete([01;31m[K`api/organizations/@current/members/${member.user.uuid}/`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/membersLogic.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K                lemonToast.success(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/membersLogic.tsx[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K        changeMemberAccessLevel: async ({ member, level }) => {
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/membersLogic.tsx[m[K[36m[K:[m[K[32m[K59[m[K[36m[K:[m[K            await api.update([01;31m[K`api/organizations/@current/members/${member.user.uuid}/`[m[K, { level })
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/membersLogic.tsx[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K            lemonToast.success(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K    const jsFile =
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K70[m[K[36m[K:[m[K        relativeFiles.length > 0 ? [01;31m[K`"${relativeFiles.find((e) => e.endsWith('.js'))}"`[m[K : [01;31m[K`"${entry}.js?t=${buildId}"`[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K    const cssFile =
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K72[m[K[36m[K:[m[K        relativeFiles.length > 0 ? [01;31m[K`${relativeFiles.find((e) => e.endsWith('.css'))}`[m[K : [01;31m[K`${entry}.css?t=${buildId}`[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K221[m[K[36m[K-[m[K        // convert "/a/something.tsx" --> "/a/something-"
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K222[m[K[36m[K:[m[K        const searchString = [01;31m[K`${outfile.replace(/\.[^/]+$/, '')}-`[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K223[m[K[36m[K-[m[K        // find if we built a .js or .css file that matches
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K270[m[K[36m[K-[m[K        if (buildCount === 1) {
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K271[m[K[36m[K:[m[K            console.log([01;31m[K`🧱 Building${name ? `[m[K "${name}"` : ''}`)
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K272[m[K[36m[K-[m[K            try {
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K273[m[K[36m[K-[m[K                result = await build({ ...commonConfig, ..._config })
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K274[m[K[36m[K:[m[K                console.log([01;31m[K`🥇 Built${name ? `[m[K "${name}"` : ''} in ${(new Date() - time) / 1000}s`)
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K275[m[K[36m[K-[m[K            } catch (error) {
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K276[m[K[36m[K:[m[K                console.log([01;31m[K`🛑 Building${name ? `[m[K "${name}"` : ''} failed in ${(new Date() - time) / 1000}s`)
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K277[m[K[36m[K-[m[K                process.exit(1) // must exit since with result === null, result.rebuild() won't work
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K281[m[K[36m[K-[m[K                result = await result.rebuild()
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K282[m[K[36m[K:[m[K                console.log([01;31m[K`🔄 Rebuilt${name ? `[m[K "${name}"` : ''} in ${(new Date() - time) / 1000}s`)
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K283[m[K[36m[K-[m[K            } catch (e) {
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K284[m[K[36m[K:[m[K                console.log([01;31m[K`🛑 Rebuilding${name ? `[m[K "${name}"` : ''} failed in ${(new Date() - time) / 1000}s`)
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K285[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K323[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K324[m[K[36m[K:[m[K    console.log([01;31m[K`🍱 Starting server at http://${host}:${port}`[m[K)
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K325[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K341[m[K[36m[K-[m[K        if (e.code === 'EADDRINUSE') {
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K342[m[K[36m[K:[m[K            console.error([01;31m[K`🛑 http://${host}:${port} is already in use. Trying another port.`[m[K)
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K343[m[K[36m[K-[m[K        } else {
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K344[m[K[36m[K:[m[K            console.error([01;31m[K`🛑 ${e}`[m[K)
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K345[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/setup.ts[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K        if (!row.team_id) {
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/setup.ts[m[K[36m[K:[m[K[32m[K108[m[K[36m[K:[m[K            console.error([01;31m[K`🔴 PluginConfig(id=${row.id}) without team_id!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/setup.ts[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K            continue
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/setup.ts[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K    if (count > 0) {
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/setup.ts[m[K[36m[K:[m[K[32m[K142[m[K[36m[K:[m[K        status.info('🔌', [01;31m[K`Loaded ${count} scheduled tasks`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/setup.ts[m[K[36m[K-[m[K[32m[K143[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K                        pluginConfig,
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K                        [01;31m[K`Could not load posthog config at "${configPath}" for ${pluginDigest(plugin)}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K                    pluginConfig,
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K                    [01;31m[K`No "main" config key or "index.js" file found for ${pluginDigest(plugin)}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K:[m[K[32m[K50[m[K[36m[K:[m[K            void pluginConfig.vm?.initialize!(indexJs, [01;31m[K`local ${pluginDigest(plugin)} from "${pluginPath}"!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K            return true
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K                    pluginConfig.vm?.failInitialization!()
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K:[m[K[32m[K61[m[K[36m[K:[m[K                    await processError(server, pluginConfig, [01;31m[K`Can not load plugin.json for ${pluginDigest(plugin)}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K                    return false
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K                pluginConfig.vm?.failInitialization!()
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K                await processError(server, pluginConfig, [01;31m[K`Could not load index.js for ${pluginDigest(plugin)}!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K                pluginConfig,
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K:[m[K[32m[K83[m[K[36m[K:[m[K                [01;31m[K`Tried using undownloaded remote ${pluginDigest(plugin)}, which is not supported!`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K                                type: PluginLogEntryType.Info,
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K:[m[K[32m[K21[m[K[36m[K:[m[K                                message: [01;31m[K`Plugin unloaded (instance ID ${server.instanceId}).`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K                                instanceId: server.instanceId,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                                type: PluginLogEntryType.Error,
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K                                message: [01;31m[K`Plugin failed to unload (instance ID ${server.instanceId}).`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K                                instanceId: server.instanceId,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K                    type: PluginLogEntryType.Info,
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K                    message: [01;31m[K`Plugin unloaded (instance ID ${server.instanceId}).`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K                    instanceId: server.instanceId,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K                }
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K:[m[K[32m[K106[m[K[36m[K:[m[K                pluginsSucceeded.push([01;31m[K`${pluginConfig.plugin?.name} (${pluginConfig.id})`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K            } catch (error) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K                })
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K:[m[K[32m[K113[m[K[36m[K:[m[K                pluginsFailed.push([01;31m[K`${pluginConfig.plugin?.name} (${pluginConfig.id})`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K114[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K        if (onEvent || onSnapshot) {
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K:[m[K[32m[K128[m[K[36m[K:[m[K            pluginsDeferred.push([01;31m[K`${pluginConfig.plugin?.name} (${pluginConfig.id})`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K157[m[K[36m[K-[m[K            throw new Error(
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K:[m[K[32m[K158[m[K[36m[K:[m[K                [01;31m[K`Task "${taskName}" not found for plugin "${pluginConfig?.plugin?.name}" with config id ${pluginConfig}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K159[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K    status.info('🧵', [01;31m[K`Starting Piscina worker thread ${threadId}…`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K        } else {
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K:[m[K[32m[K49[m[K[36m[K:[m[K            response = { error: [01;31m[K`Worker task "${task}" not found in: ${Object.keys(workerTasks).join(', ')}`[m[K }
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K        }
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K        hub.statsd?.timing([01;31m[K`piscina_task.${task}`[m[K, timer)
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K        if (task === 'runJob') {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/console.ts[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K        if (determineNodeEnv() === NodeEnv.Development) {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/console.ts[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K            status.info('👉', [01;31m[K`${type} in ${pluginDigest(pluginConfig.plugin!, pluginConfig.team_id)}:`[m[K, ...args)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/console.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/api.ts[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K        const headers = {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/api.ts[m[K[36m[K:[m[K[32m[K72[m[K[36m[K:[m[K            Authorization: [01;31m[K`Bearer ${apiKey}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/api.ts[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K            ...(method === ApiMethod.Post ? { 'Content-Type': 'application/json' } : {}),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/jobs.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[Kexport function durationToMs(duration: number, unit: string): number {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/jobs.ts[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K    unit = [01;31m[K`${unit}${unit.endsWith('s') ? '' : 's'}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/jobs.ts[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K    if (typeof durations[unit] === 'undefined') {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/jobs.ts[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K        throw new Error([01;31m[K`Unknown time unit: ${unit}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/jobs.ts[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/storage.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K        await server.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/storage.ts[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K            'DELETE FROM posthog_pluginstorage [01;31m[KWHERE "plugin_config_id"=$1 AND "key"=$2',[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/storage.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K            [pluginConfig.id, key],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/posthog.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[Kexport function createPosthog(server: Hub, pluginConfig: PluginConfig): DummyPostHog {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/posthog.ts[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K    const distinctId = pluginConfig.plugin?.name || [01;31m[K`plugin-id-${pluginConfig.plugin_id}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/posthog.ts[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/posthog.ts[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K            const partitionKeyHash = crypto.createHash('sha256')
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/posthog.ts[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K            partitionKeyHash.update([01;31m[K`${data.team_id}:${data.distinct_id}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/posthog.ts[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K            const partitionKey = partitionKeyHash.digest('hex')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K                    label: 'autogen',
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K                    value: [01;31m[K`phx_${generateRandomToken(32)}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K                    created_at: new Date(),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K            const userResult = await this.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K                [01;31m[K`SELECT id FROM posthog_user WHERE current_organization_id = $1 AND email LIKE $2`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K                [organizationId, [01;31m[K`%@${POSTHOG_BOT_USER_EMAIL_DOMAIN}`[m[K],
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K                'fetchPluginsUser'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K                const botUserEmailId = Math.round(Math.random() * 100000000)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K                const botUserEmail = [01;31m[K`${botUserEmailId}@${POSTHOG_BOT_USER_EMAIL_DOMAIN}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                const personalApiKeyResult = await this.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K                    'SELECT value FROM posthog_personalapikey [01;31m[KWHERE user_id = $1',[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K                    [userId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/test-utils.ts[m[K[36m[K-[m[K[32m[K8[m[K[36m[K-[m[K        log: (...args: any[]): void => {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/test-utils.ts[m[K[36m[K:[m[K[32m[K9[m[K[36m[K:[m[K            fs.appendFileSync(consoleFile, [01;31m[K`${JSON.stringify(args)}\n`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/test-utils.ts[m[K[36m[K-[m[K[32m[K10[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/cache.ts[m[K[36m[K-[m[K[32m[K6[m[K[36m[K-[m[Kexport function createCache(server: Hub, pluginId: number, teamId: number): CacheExtension {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/cache.ts[m[K[36m[K:[m[K[32m[K7[m[K[36m[K:[m[K    const getKey = (key: string) => [01;31m[K`@plugin/${pluginId}/${typeof teamId === 'undefined' ? '@all' : teamId}/${key}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/cache.ts[m[K[36m[K-[m[K[32m[K8[m[K[36m[K-[m[K    return {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/export-events.ts[m[K[36m[K-[m[K[32m[K123[m[K[36m[K-[m[K                    hub.statsd?.increment('plugin.export_events.retry_enqueued', {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/export-events.ts[m[K[36m[K:[m[K[32m[K124[m[K[36m[K:[m[K                        retry: [01;31m[K`${payload.retriesPerformedSoFar + 1}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/export-events.ts[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K                        plugin: pluginConfig.plugin?.name ?? '?',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/export-events.ts[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K                        '☠️',
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/export-events.ts[m[K[36m[K:[m[K[32m[K132[m[K[36m[K:[m[K                        [01;31m[K`Dropped PluginConfig ${pluginConfig.id} batch ${payload.batchId} after retrying ${payload.retriesPerformedSoFar} times`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/export-events.ts[m[K[36m[K-[m[K[32m[K133[m[K[36m[K-[m[K                    )
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/export-events.ts[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K                    hub.statsd?.increment('plugin.export_events.retry_dropped', {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/export-events.ts[m[K[36m[K:[m[K[32m[K135[m[K[36m[K:[m[K                        retry: [01;31m[K`${payload.retriesPerformedSoFar}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/export-events.ts[m[K[36m[K-[m[K[32m[K136[m[K[36m[K-[m[K                        plugin: pluginConfig.plugin?.name ?? '?',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K                const batchId = await meta.utils.cursor.increment(BATCH_ID_CURSOR_KEY)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K:[m[K[32m[K93[m[K[36m[K:[m[K                createLog([01;31m[K`Restarting export after noticing inactivity. Batch ID: ${batchId}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K-[m[K[32m[K94[m[K[36m[K-[m[K                await meta.jobs
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K-[m[K[32m[K328[m[K[36m[K-[m[K            .join('')
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K:[m[K[32m[K329[m[K[36m[K:[m[K        createLog([01;31m[K`Export progress: ${progressBarCompleted}${progressBarRemaining}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K-[m[K[32m[K330[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K-[m[K[32m[K343[m[K[36m[K-[m[K            pluginConfig,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K:[m[K[32m[K344[m[K[36m[K:[m[K            message: [01;31m[K`(${hub.instanceId}) ${message}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K-[m[K[32m[K345[m[K[36m[K-[m[K            source: PluginLogEntrySource.System,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/utils.ts[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K            FROM events
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/utils.ts[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K            [01;31m[KWHERE team_id = ${teamId}`)[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/utils.ts[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K        const min = clickhouseFetchTimestampsResult.data[0].min
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/utils.ts[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K        const postgresFetchTimestampsResult = await db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/utils.ts[m[K[36m[K:[m[K[32m[K80[m[K[36m[K:[m[K            [01;31m[K`SELECT min(timestamp), max(timestamp) FROM posthog_event WHERE team_id = $1`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/utils.ts[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K            [teamId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/utils.ts[m[K[36m[K-[m[K[32m[K115[m[K[36m[K-[m[K        SELECT * FROM events 
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/utils.ts[m[K[36m[K:[m[K[32m[K116[m[K[36m[K:[m[K        [01;31m[KWHERE team_id = ${teamId}[m[K 
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/utils.ts[m[K[36m[K-[m[K[32m[K117[m[K[36m[K-[m[K        AND _timestamp >= '${chTimestampLower}' 
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/utils.ts[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K        const postgresFetchEventsResult = await db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/utils.ts[m[K[36m[K:[m[K[32m[K133[m[K[36m[K:[m[K            [01;31m[K`SELECT * FROM posthog_event WHERE team_id = $1 AND timestamp >= $2 AND timestamp < $3 ORDER BY id LIMIT $4 OFFSET $5`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/utils.ts[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K            [teamId, timestampLowerBound.toISOString(), timestampUpperBound.toISOString(), eventsPerRun, offset],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/replace-imports.ts[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K                        throw new Error(
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/replace-imports.ts[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[K                            [01;31m[K`Cannot import '${importSource}'! This package is not provided by PostHog in plugins.`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/replace-imports.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K                        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/replace-imports.ts[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                            throw new Error(
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/replace-imports.ts[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K                                [01;31m[K`Cannot import '${importSource}'! This package is not provided by PostHog in plugins.`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/replace-imports.ts[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/index.ts[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K    if (!code) {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/index.ts[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K        throw new Error([01;31m[K`Babel transform gone wrong! Could not process the following code:\n${rawCode}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/index.ts[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K                    await this.createLogEntry([01;31m[K`Plugin loaded (instance ID ${this.hub.instanceId}).`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K127[m[K[36m[K:[m[K                    status.info('🔌', [01;31m[K`Loaded ${logInfo}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K                    await this.inferPluginCapabilities(vm)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K158[m[K[36m[K-[m[K            ? pluginDigest(this.pluginConfig.plugin)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K159[m[K[36m[K:[m[K            : [01;31m[K`pluginConfig with ID '${this.pluginConfig.id}'`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K160[m[K[36m[K-[m[K        try {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K161[m[K[36m[K:[m[K            await vm?.run([01;31m[K`${this.vmResponseVariable}.methods.setupPlugin?.()`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K162[m[K[36m[K-[m[K            this.ready = true
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K163[m[K[36m[K:[m[K            await this.createLogEntry([01;31m[K`setupPlugin completed successfully (instance ID ${this.hub.instanceId}).`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K164[m[K[36m[K:[m[K            status.info('🔌', [01;31m[K`setupPlugin completed successfully for ${logInfo}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K165[m[K[36m[K-[m[K            void clearError(this.hub, this.pluginConfig)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K170[m[K[36m[K-[m[K                    INITIALIZATION_RETRY_BASE_MS
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K171[m[K[36m[K:[m[K                const nextRetrySeconds = [01;31m[K`${nextRetryMs / 1000} s`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K172[m[K[36m[K:[m[K                status.warn('⚠️', [01;31m[K`setupPlugin failed for ${logInfo}. Retrying in ${nextRetrySeconds}.`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K173[m[K[36m[K-[m[K                await this.createLogEntry(
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K174[m[K[36m[K:[m[K                    [01;31m[K`setupPlugin failed (instance ID ${this.hub.instanceId}). Retrying in ${nextRetrySeconds}.`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K175[m[K[36m[K-[m[K                    PluginLogEntryType.Error
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K184[m[K[36m[K-[m[K                await this.processVmSetupError(error, failureContextMessage)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K185[m[K[36m[K:[m[K                throw new SetupPluginError([01;31m[K`setupPlugin failed for ${logInfo}. ${failureContextMessage}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K186[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K201[m[K[36m[K-[m[K        void processError(this.hub, this.pluginConfig, error)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K202[m[K[36m[K:[m[K        additionalContext = additionalContext ?? [01;31m[K`Error: ${error.message}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K203[m[K[36m[K-[m[K        await this.createLogEntry(
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K204[m[K[36m[K:[m[K            [01;31m[K`Plugin failed to load (instance ID ${this.hub.instanceId}). ${additionalContext}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K205[m[K[36m[K-[m[K            PluginLogEntryType.Error
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K211[m[K[36m[K-[m[K        if (!this.pluginConfig.plugin) {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K212[m[K[36m[K:[m[K            throw new Error([01;31m[K`'PluginConfig missing plugin: ${this.pluginConfig}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K213[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/utils.ts[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K    return await db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/worker/vm/utils.ts[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K        'SELECT * FROM posthog_pluginstorage [01;31m[KWHERE "plugin_config_id"=$1 AND "key"=$2[m[K LIMIT 1',
[35m[K/tmp/posthog/plugin-server/src/worker/vm/utils.ts[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K        [pluginConfigId, key],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/vm.ts[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K                    }`
[35m[K/tmp/posthog/plugin-server/src/worker/vm/vm.ts[m[K[36m[K:[m[K[32m[K84[m[K[36m[K:[m[K                    reject(new TimeoutError(message, [01;31m[K`${name}`[m[K))
[35m[K/tmp/posthog/plugin-server/src/worker/vm/vm.ts[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K                }, timeout * 1000)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/vm.ts[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K    // Only place this after functions whose names match /^__[a-zA-Z0-9]+$/
[35m[K/tmp/posthog/plugin-server/src/worker/vm/vm.ts[m[K[36m[K:[m[K[32m[K125[m[K[36m[K:[m[K    const pluginConfigIdentifier = [01;31m[K`__PluginConfig_${pluginConfig.id}_${hub.pluginConfigSecrets.get(pluginConfig.id)}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/vm.ts[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K    const responseVar = [01;31m[K`__pluginDetails${randomBytes(64).toString('hex')}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/vm.ts[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K    if (webhookType === WebhookType.Slack) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K        userMarkdown = [01;31m[K`<${siteUrl}/person/${event.distinct_id}|${userName}>`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K    } else {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K44[m[K[36m[K:[m[K        userMarkdown = [01;31m[K`[${userName}](${siteUrl}/person/${event.distinct_id})`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K    if (webhookType === WebhookType.Slack) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K        actionMarkdown = [01;31m[K`<${siteUrl}/action/${action.id}|${actionName}>`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K    } else {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K        actionMarkdown = [01;31m[K`[${actionName}](${siteUrl}/action/${action.id})`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K        } else {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K87[m[K[36m[K:[m[K            const propertyName = [01;31m[K`$${tokenParts[1]}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K            const property = event.properties?.[propertyName]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K137[m[K[36m[K-[m[K        const [actionName, actionMarkdown] = getActionDetails(action, siteUrl, webhookType)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K138[m[K[36m[K:[m[K        messageText = [01;31m[K`⚠ Error: There are one or more formatting errors in the message template for action "${actionName}".`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K139[m[K[36m[K:[m[K        messageMarkdown = [01;31m[K`*⚠ Error: There are one or more formatting errors in the message template for action "${actionMarkdown}".*`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K140[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                wasCachedAlready
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K:[m[K[32m[K51[m[K[36m[K:[m[K                    ? [01;31m[K`Refetched action ID ${actionId} (team ID ${teamId}) from DB`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K                    : [01;31m[K`Fetched new action ID ${actionId} (team ID ${teamId}) from DB`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K                '🍿',
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[K                [01;31m[K`Tried to fetch action ID ${actionId} (team ID ${teamId}) from DB, but it wasn't found in DB, so deleted from cache instead`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                '🍿',
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K                [01;31m[K`Tried to fetch action ID ${actionId} (team ID ${teamId}) from DB, but it wasn't found in DB or cache, so did nothing instead`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K        if (wasCachedAlready) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K            status.info('🍿', [01;31m[K`Deleted action ID ${actionId} (team ID ${teamId}) from cache`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K            delete this.actionCache[teamId][actionId]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                '🍿',
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K:[m[K[32m[K78[m[K[36m[K:[m[K                [01;31m[K`Tried to delete action ID ${actionId} (team ID ${teamId}) from cache, but it wasn't found in cache, so did nothing instead`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/ingest-event.ts[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K            } catch (dlqError) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/ingest-event.ts[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K                status.info('🔔', [01;31m[K`Errored trying to add event ${event.event} to dead letter queue. Error: ${dlqError}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/ingest-event.ts[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K                Sentry.captureException(e, { extra: { event } })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/groups.ts[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K            // :TODO: Update event column instead
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/groups.ts[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[K            properties[[01;31m[K`$group_${columnIndex}`[m[K] = groupIdentifier
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/groups.ts[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/person-manager.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K    async isNewPerson(db: DB, teamId: number, distinctId: string): Promise<boolean> {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/person-manager.ts[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K        const key = [01;31m[K`${teamId}::${distinctId}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/person-manager.ts[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K        if (this.personSeen.get(key)) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/person-manager.ts[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K        const pdiSelectResult = await db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/person-manager.ts[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K            'SELECT COUNT(*) AS pdicount FROM posthog_persondistinctid [01;31m[KWHERE team_id = $1 AND distinct_id = $2',[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/person-manager.ts[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K            [teamId, distinctId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K        if (!UUID.validateString(eventUuid, false)) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K:[m[K[32m[K104[m[K[36m[K:[m[K            throw new Error([01;31m[K`Not a valid UUID: "${eventUuid}"`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K239[m[K[36m[K-[m[K            throw new Error(
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K:[m[K[32m[K240[m[K[36m[K:[m[K                [01;31m[K`Could not find person with distinct id "${distinctId}" in team "${teamId}" to update properties`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K241[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K268[m[K[36m[K-[m[K        if (!personFound) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K:[m[K[32m[K269[m[K[36m[K:[m[K            throw new Error([01;31m[K`Could not find person with distinct id "${distinctId}" in team "${teamId}" to identify`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K270[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K364[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K:[m[K[32m[K365[m[K[36m[K:[m[K            console.debug([01;31m[K`Failed to merge ${dId1} and ${dId2}, error ${error}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K366[m[K[36m[K-[m[K            await this.mergeNew(dId1, dId2, teamId, timestamp, retriesLeft - 1)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K531[m[K[36m[K-[m[K                await this.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K:[m[K[32m[K532[m[K[36m[K:[m[K                    'UPDATE posthog_cohortpeople SET person_id = $1 [01;31m[KWHERE person_id = $2',[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K533[m[K[36m[K-[m[K                    [mergeInto.id, otherPerson.id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K591[m[K[36m[K-[m[K        if (!team) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K:[m[K[32m[K592[m[K[36m[K:[m[K            throw new Error([01;31m[K`No team found with ID ${teamId}. Can't ingest event.`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K593[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K        default:
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K:[m[K[32m[K78[m[K[36m[K:[m[K            throw new Error([01;31m[K`Operator ${operator} is not supported in castingCompare!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K-[m[K[32m[K375[m[K[36m[K-[m[K        if (isNaN(cohortId)) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K:[m[K[32m[K376[m[K[36m[K:[m[K            throw new Error([01;31m[K`Can't match against invalid cohort ID value "${filter.value}!"`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K-[m[K[32m[K377[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K-[m[K[32m[K534[m[K[36m[K-[m[K            for (const [key, value] of Object.entries(requirements.attributes)) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K:[m[K[32m[K535[m[K[36m[K:[m[K                if (attributes[[01;31m[K`attr__${key}`[m[K] !== value) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K-[m[K[32m[K536[m[K[36m[K-[m[K                    return false
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/properties-updater.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K            throw new Error(
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/properties-updater.ts[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K                [01;31m[K`Could not find person with distinct id "${distinctId}" in team "${teamId}" to update props`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/properties-updater.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/utils.ts[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K    if (error instanceof Error) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/utils.ts[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[K        errorMessage += [01;31m[K`Error: ${error.message}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/utils.ts[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K                    await this.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K:[m[K[32m[K131[m[K[36m[K:[m[K                        [01;31m[K`UPDATE posthog_eventdefinition SET last_seen_at=$1 WHERE team_id=$2 AND name=$3`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K                        [DateTime.now(), team.id, event],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K153[m[K[36m[K-[m[K                await this.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K:[m[K[32m[K154[m[K[36m[K:[m[K                    [01;31m[K`INSERT INTO posthog_eventproperty (event, property, team_id) VALUES ($1, $2, $3) ON CONFLICT DO NOTHING`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K155[m[K[36m[K-[m[K                    [event, property, team.id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K185[m[K[36m[K-[m[K            await this.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K:[m[K[32m[K186[m[K[36m[K:[m[K                [01;31m[K`UPDATE posthog_team SET ingested_event = $1 WHERE id = $2`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K187[m[K[36m[K-[m[K                [true, team.id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K192[m[K[36m[K-[m[K            const organizationMembers = await this.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K:[m[K[32m[K193[m[K[36m[K:[m[K                'SELECT distinct_id FROM posthog_user JOIN posthog_organizationmembership ON posthog_user.id = posthog_organizationmembership.user_id [01;31m[KWHERE organization_id = $1',[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K194[m[K[36m[K-[m[K                [team.organization_id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K            const eventNames = await this.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K:[m[K[32m[K219[m[K[36m[K:[m[K                'SELECT name FROM posthog_eventdefinition [01;31m[KWHERE team_id = $1',[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K220[m[K[36m[K-[m[K                [teamId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K228[m[K[36m[K-[m[K            const eventProperties = await this.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K:[m[K[32m[K229[m[K[36m[K:[m[K                'SELECT name, property_type FROM posthog_propertydefinition [01;31m[KWHERE team_id = $1',[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K230[m[K[36m[K-[m[K                [teamId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K252[m[K[36m[K-[m[K                const eventProperties = await this.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K:[m[K[32m[K253[m[K[36m[K:[m[K                    'SELECT property FROM posthog_eventproperty [01;31m[KWHERE team_id = $1 AND event = $2',[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K254[m[K[36m[K-[m[K                    [teamId, event],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/config/config.ts[m[K[36m[K-[m[K[32m[K160[m[K[36m[K-[m[K    return Object.entries(getConfigHelp())
[35m[K/tmp/posthog/plugin-server/src/config/config.ts[m[K[36m[K:[m[K[32m[K161[m[K[36m[K:[m[K        .map(([variable, description]) => [01;31m[K`${spaces}- ${variable} - ${description}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/config/config.ts[m[K[36m[K-[m[K[32m[K162[m[K[36m[K-[m[K        .join('\n')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K-[m[K[32m[K7[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K8[m[K[36m[K:[m[Kexport const KAFKA_EVENTS = [01;31m[K`clickhouse_events_proto${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K9[m[K[36m[K:[m[Kexport const KAFKA_PERSON = [01;31m[K`clickhouse_person${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K10[m[K[36m[K:[m[Kexport const KAFKA_PERSON_UNIQUE_ID = [01;31m[K`clickhouse_person_unique_id${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K11[m[K[36m[K:[m[Kexport const KAFKA_PERSON_DISTINCT_ID = [01;31m[K`clickhouse_person_distinct_id${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K12[m[K[36m[K:[m[Kexport const KAFKA_SESSION_RECORDING_EVENTS = [01;31m[K`clickhouse_session_recording_events${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[Kexport const KAFKA_EVENTS_PLUGIN_INGESTION = [01;31m[K`events_plugin_ingestion${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K14[m[K[36m[K:[m[Kexport const KAFKA_PLUGIN_LOG_ENTRIES = [01;31m[K`plugin_log_entries${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[Kexport const KAFKA_EVENTS_DEAD_LETTER_QUEUE = [01;31m[K`events_dead_letter_queue${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[Kexport const KAFKA_GROUPS = [01;31m[K`clickhouse_groups${suffix}`[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/pubsub.ts[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K        })
[35m[K/tmp/posthog/plugin-server/src/utils/pubsub.ts[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K        status.info('👀', [01;31m[K`Pub-sub started for channels: ${channels.join(', ')}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/pubsub.ts[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/pubsub.ts[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K        this.redis = null
[35m[K/tmp/posthog/plugin-server/src/utils/pubsub.ts[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K        status.info('🛑', [01;31m[K`Pub-sub stopped for channels: ${Object.keys(this.taskMap).join(', ')}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/pubsub.ts[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K    await hub.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K:[m[K[32m[K61[m[K[36m[K:[m[K        'UPDATE posthog_plugin SET capabilities = ($1) [01;31m[KWHERE id = $2',[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K        [capabilities, pluginConfig.plugin_id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K    await hub.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K        'UPDATE posthog_plugin SET metrics = ($1) [01;31m[KWHERE id = $2',[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K        [metrics, pluginConfig.plugin_id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K    await hub.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K:[m[K[32m[K81[m[K[36m[K:[m[K        'UPDATE posthog_pluginconfig SET error = $1 [01;31m[KWHERE id = $2',[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K        [pluginError, typeof pluginConfig === 'object' ? pluginConfig?.id : pluginConfig],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K    await hub.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K:[m[K[32m[K99[m[K[36m[K:[m[K        [01;31m[K`UPDATE posthog_pluginconfig SET enabled='f' WHERE id=$1 AND enabled='t'`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K        [pluginConfigId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K186[m[K[36m[K-[m[K            // Annotate query string to give context when looking at DB logs
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K187[m[K[36m[K:[m[K            queryString = [01;31m[K`/* plugin-server:${tag} */ ${queryString}`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K188[m[K[36m[K-[m[K            try {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K250[m[K[36m[K-[m[K                    async () => await client.get(key),
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K251[m[K[36m[K:[m[K                    [01;31m[K`Waited 5 sec to get redis key: ${key}, retrying once!`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K252[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K453[m[K[36m[K-[m[K        } else {
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K454[m[K[36m[K:[m[K            throw new Error([01;31m[K`Can't fetch persons for database: ${database}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K455[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K572[m[K[36m[K-[m[K            update
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K573[m[K[36m[K:[m[K        ).map((field, index) => [01;31m[K`"${sanitizeSqlIdentifier(field)}" = $${index + 1}`[m[K)} [01;31m[KWHERE id = $${[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K574[m[K[36m[K-[m[K            Object.values(update).length + 1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K579[m[K[36m[K-[m[K        if (updateResult.rows.length == 0) {
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K580[m[K[36m[K:[m[K            throw new Error([01;31m[K`Person with team_id="${person.team_id}" and uuid="${person.uuid} couldn't be updated`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K581[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K619[m[K[36m[K-[m[K            version = COALESCE(version, 0)::numeric + 1
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K620[m[K[36m[K:[m[K        [01;31m[KWHERE id = $5[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K621[m[K[36m[K-[m[K        RETURNING version`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K640[m[K[36m[K-[m[K    public async deletePerson(person: Person, client: PoolClient): Promise<ProducerRecord[]> {
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K641[m[K[36m[K:[m[K        await client.query('DELETE FROM posthog_person [01;31m[KWHERE team_id = $1 AND id = $2',[m[K [person.team_id, person.id])
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K642[m[K[36m[K-[m[K        const kafkaMessages = []
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K679[m[K[36m[K-[m[K                        FINAL
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K680[m[K[36m[K:[m[K                        [01;31m[KWHERE person_id='${escapeClickHouseString(person.uuid)}'[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K681[m[K[36m[K-[m[K                          AND team_id='${person.team_id}'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K687[m[K[36m[K-[m[K            const result = await this.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K688[m[K[36m[K:[m[K                'SELECT * FROM posthog_persondistinctid [01;31m[KWHERE person_id=$1 AND team_id=$2[m[K ORDER BY id',
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K689[m[K[36m[K-[m[K                [person.id, person.team_id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K693[m[K[36m[K-[m[K        } else {
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K694[m[K[36m[K:[m[K            throw new Error([01;31m[K`Can't fetch persons for database: ${database}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K695[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K772[m[K[36m[K-[m[K                    SET person_id = $1, version = COALESCE(version, 0)::numeric + 1
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K773[m[K[36m[K:[m[K                    [01;31m[KWHERE person_id = $2[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K774[m[K[36m[K-[m[K                      AND team_id = $3
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K846[m[K[36m[K-[m[K        const insertResult = await this.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K847[m[K[36m[K:[m[K            [01;31m[K`INSERT INTO posthog_cohort (name, description, deleted, groups, team_id, created_at, created_by_id, is_calculating, last_calculation,errors_calculating, is_static, version, pending_version) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING *;`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K848[m[K[36m[K-[m[K            [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K885[m[K[36m[K-[m[K        const psqlResult = await this.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K886[m[K[36m[K:[m[K            [01;31m[K`SELECT EXISTS (SELECT 1 FROM posthog_cohortpeople WHERE cohort_id = $1 AND person_id = $2);`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K887[m[K[36m[K-[m[K            [cohortId, person.id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K894[m[K[36m[K-[m[K        const insertResult = await this.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K895[m[K[36m[K:[m[K            [01;31m[K`INSERT INTO posthog_cohortpeople (cohort_id, person_id, version) VALUES ($1, $2, $3) RETURNING *;`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K896[m[K[36m[K-[m[K            [cohortId, personId, version],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K964[m[K[36m[K-[m[K                await this.clickhouseQuery(
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K965[m[K[36m[K:[m[K                    [01;31m[K`SELECT elements_chain FROM events WHERE uuid='${escapeClickHouseString((event as any).uuid)}'`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K966[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1213[m[K[36m[K-[m[K            await this.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1214[m[K[36m[K:[m[K                [01;31m[K`SELECT * FROM posthog_action WHERE id = $1 AND deleted = FALSE`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1215[m[K[36m[K-[m[K                [id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1222[m[K[36m[K-[m[K        const steps: ActionStep[] = (
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1223[m[K[36m[K:[m[K            await this.postgresQuery([01;31m[K`SELECT * FROM posthog_actionstep WHERE action_id = $1`[m[K, [id], 'fetchActionSteps')
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1224[m[K[36m[K-[m[K        ).rows
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1238[m[K[36m[K-[m[K    public async registerActionMatch(eventId: Event['id'], actions: Action[]): Promise<void> {
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1239[m[K[36m[K:[m[K        const valuesClause = actions.map((action, index) => [01;31m[K`($1, $${index + 2})`[m[K).join(', ')
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1240[m[K[36m[K-[m[K        await this.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1241[m[K[36m[K:[m[K            [01;31m[K`INSERT INTO posthog_action_events (event_id, action_id) VALUES ${valuesClause}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1242[m[K[36m[K-[m[K            [eventId, ...actions.map((action) => action.id)],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1250[m[K[36m[K-[m[K        const selectResult = await this.postgresQuery<RawOrganization>(
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1251[m[K[36m[K:[m[K            [01;31m[K`SELECT * FROM posthog_organization WHERE id = $1`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1252[m[K[36m[K-[m[K            [organizationId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1261[m[K[36m[K-[m[K        const selectResult = await this.postgresQuery<Team>(
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1262[m[K[36m[K:[m[K            [01;31m[K`SELECT * FROM posthog_team WHERE id = $1`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1263[m[K[36m[K-[m[K            [teamId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1273[m[K[36m[K-[m[K            FROM posthog_asyncmigration
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1274[m[K[36m[K:[m[K            [01;31m[KWHERE name = $1[m[K AND status = 2
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1275[m[K[36m[K-[m[K            `,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1314[m[K[36m[K-[m[K            SELECT * FROM ee_hook
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1315[m[K[36m[K:[m[K            [01;31m[KWHERE team_id = $1 AND event = $2 ${filterByResource ? 'AND resource_id = $3'[m[K : ''}`,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1316[m[K[36m[K-[m[K            filterByResource ? [teamId, event, resourceId] : [teamId, event],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1322[m[K[36m[K-[m[K    public async deleteRestHook(hookId: Hook['id']): Promise<void> {
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1323[m[K[36m[K:[m[K        await this.postgresQuery([01;31m[K`DELETE FROM ee_hook WHERE id = $1`[m[K, [hookId], 'deleteRestHook')
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1324[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1397[m[K[36m[K-[m[K        const { rows } = await this.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1398[m[K[36m[K:[m[K            [01;31m[K`SELECT * FROM posthog_grouptypemapping WHERE team_id = $1`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1399[m[K[36m[K-[m[K            [teamId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1430[m[K[36m[K-[m[K            UNION
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1431[m[K[36m[K:[m[K            SELECT group_type_index, 0 AS is_insert FROM posthog_grouptypemapping [01;31m[KWHERE team_id = $1 AND group_type = $2[m[K;
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1432[m[K[36m[K-[m[K            `,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1452[m[K[36m[K-[m[K    ): Promise<Group | undefined> {
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1453[m[K[36m[K:[m[K        let queryString = [01;31m[K`SELECT * FROM posthog_group WHERE team_id = $1 AND group_type_index = $2 AND group_key = $3`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1454[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1531[m[K[36m[K-[m[K            version = $8
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1532[m[K[36m[K:[m[K            [01;31m[KWHERE team_id = $1 AND group_key = $2 AND group_type_index = $3[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1533[m[K[36m[K-[m[K            `,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1588[m[K[36m[K-[m[K            await this.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1589[m[K[36m[K:[m[K                'SELECT * from posthog_team [01;31m[KWHERE organization_id = (SELECT id from posthog_organization WHERE plugins_access_level = $1)',[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1590[m[K[36m[K-[m[K                [OrganizationPluginsAccessLevel.ROOT],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1603[m[K[36m[K-[m[K                await this.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1604[m[K[36m[K:[m[K                    'SELECT public_jobs FROM posthog_plugin [01;31m[KWHERE id = $1[m[K FOR UPDATE',
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1605[m[K[36m[K-[m[K                    [pluginId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1618[m[K[36m[K-[m[K                await this.postgresQuery(
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1619[m[K[36m[K:[m[K                    'UPDATE posthog_plugin SET public_jobs = $1 [01;31m[KWHERE id = $2',[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1620[m[K[36m[K-[m[K                    [JSON.stringify(publicJobs), pluginId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/hub.ts[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                '🪵',
[35m[K/tmp/posthog/plugin-server/src/utils/db/hub.ts[m[K[36m[K:[m[K[32m[K87[m[K[36m[K:[m[K                [01;31m[K`Sending metrics to StatsD at ${serverConfig.STATSD_HOST}:${serverConfig.STATSD_PORT}, prefix: "${serverConfig.STATSD_PREFIX}"`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/hub.ts[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/hub.ts[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K        kafka = new Kafka({
[35m[K/tmp/posthog/plugin-server/src/utils/db/hub.ts[m[K[36m[K:[m[K[32m[K142[m[K[36m[K:[m[K            clientId: [01;31m[K`plugin-server-v${version}-${instanceId}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/db/hub.ts[m[K[36m[K-[m[K[32m[K143[m[K[36m[K-[m[K            brokers: serverConfig.KAFKA_HOSTS.split(','),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K            for (const single_class of element.attr_class) {
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K                el_string += [01;31m[K`.${single_class.replace(/"/g, '')}`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K        el_string += Object.entries(attributes)
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K            .map(([key, value]) => [01;31m[K`${key}="${value}"`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K            .join('')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K        if (Array.isArray(obj)) {
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K            return [01;31m[K`[${obj.map(jsonDumps).join(', ')}]`[m[K // space after comma
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K        } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K                .sort() // must sort the keys of the object!
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K:[m[K[32m[K80[m[K[36m[K:[m[K                .map((k) => [01;31m[K`${jsonDumps(k)}: ${jsonDumps(obj[k])}`[m[K) // space after ':'
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K                .join(', ')}}` // space after ','
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K-[m[K[32m[K184[m[K[36m[K-[m[K    return setTimeout(() => {
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K:[m[K[32m[K185[m[K[36m[K:[m[K        console.log([01;31m[K`⌛⌛⌛ ${message}`[m[K, context)
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K-[m[K[32m[K186[m[K[36m[K-[m[K        Sentry.captureMessage(message, context ? { extra: context } : undefined)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K-[m[K[32m[K208[m[K[36m[K-[m[K        .filter(([key, value]) => combinedParams.has(key))
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K:[m[K[32m[K209[m[K[36m[K:[m[K        .map(([key, value]) => [[01;31m[K`$initial_${key.replace('$', '')}`[m[K, value])
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K-[m[K[32m[K210[m[K[36m[K-[m[K    if (Object.keys(maybeSet).length > 0) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K-[m[K[32m[K223[m[K[36m[K-[m[K        Array.from(Array(numberOfColumns).keys())
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K:[m[K[32m[K224[m[K[36m[K:[m[K            .map((x) => [01;31m[K`$${x + 1 + rowNumber * numberOfColumns}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K-[m[K[32m[K225[m[K[36m[K-[m[K            .join(', ') +
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/plugin-metrics.ts[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K            const posthog = createPosthog(hub, config)
[35m[K/tmp/posthog/plugin-server/src/utils/plugin-metrics.ts[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K            await posthog.capture([01;31m[K`$$plugin_metrics`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/utils/plugin-metrics.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                ...pluginConfigMetrics.metrics,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/celery/broker.ts[m[K[36m[K-[m[K[32m[K196[m[K[36m[K-[m[K        if (rawMsg['content-type'] !== 'application/json') {
[35m[K/tmp/posthog/plugin-server/src/utils/celery/broker.ts[m[K[36m[K:[m[K[32m[K197[m[K[36m[K:[m[K            throw new Error([01;31m[K`queue ${queue} item: unsupported content type ${rawMsg['content-type']}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/celery/broker.ts[m[K[36m[K-[m[K[32m[K198[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/celery/broker.ts[m[K[36m[K-[m[K[32m[K200[m[K[36m[K-[m[K        if (rawMsg.properties.body_encoding !== 'base64') {
[35m[K/tmp/posthog/plugin-server/src/utils/celery/broker.ts[m[K[36m[K:[m[K[32m[K201[m[K[36m[K:[m[K            throw new Error([01;31m[K`queue ${queue} item: unsupported body encoding ${rawMsg.properties.body_encoding}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/celery/broker.ts[m[K[36m[K-[m[K[32m[K202[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/celery/broker.ts[m[K[36m[K-[m[K[32m[K204[m[K[36m[K-[m[K        if (rawMsg['content-encoding'] !== 'utf-8') {
[35m[K/tmp/posthog/plugin-server/src/utils/celery/broker.ts[m[K[36m[K:[m[K[32m[K205[m[K[36m[K:[m[K            throw new Error([01;31m[K`queue ${queue} item: unsupported content encoding ${rawMsg['content-encoding']}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/celery/broker.ts[m[K[36m[K-[m[K[32m[K206[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K}: RedlockOptions): Promise<() => Promise<void>> {
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K    status.info('⏰', [01;31m[K`Starting redlock "${resource}" ...`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K        }
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K        status.error('🔴', [01;31m[K`Redlock "${resource}" client error occurred:\n`[m[K, error)
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K        Sentry.captureException(error, { extra: { resource } })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K:[m[K[32m[K56[m[K[36m[K:[m[K            status.info('🔒', [01;31m[K`Redlock "${resource}" acquired!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K                } catch (error) {
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K                    status.error('🔴', [01;31m[K`Redlock cannot extend lock "${resource}":\n`[m[K, error)
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K                    Sentry.captureException(error, { extra: { resource } })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K                Sentry.captureException(error, { extra: { resource } })
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K:[m[K[32m[K85[m[K[36m[K:[m[K                status.error('🔴', [01;31m[K`Redlock "${resource}" error:\n`[m[K, error)
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K        if (weHaveTheLock) {
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K:[m[K[32m[K94[m[K[36m[K:[m[K            status.info('🔓', [01;31m[K`Releasing redlock "${resource}"`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/redlock.ts[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/metrics.ts[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/metrics.ts[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K    statsd?.increment([01;31m[K`${metricName}.total`[m[K, tags)
[35m[K/tmp/posthog/plugin-server/src/utils/metrics.ts[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K    try {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K    setTimeout(() => {
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K        status.error('⏲', [01;31m[K`Plugin server still running after ${GRACEFUL_EXIT_PERIOD_SECONDS} s, killing it forcefully!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K        process.exit(1)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K72[m[K[36m[K:[m[K            if (header.name == [01;31m[K`${rootPath}/${file}`[m[K) {
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                stream.on('data', (chunk) => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K        const root = zipEntries[0].entryName
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K107[m[K[36m[K:[m[K        fileData = zip.getEntry([01;31m[K`${root}${file}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K    } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K        const root = rootPathArray.join('/')
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K113[m[K[36m[K:[m[K        fileData = zip.getEntry([01;31m[K`${root}/${file}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K114[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K184[m[K[36m[K-[m[K            if (candidate.byteLength !== 16) {
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K185[m[K[36m[K:[m[K                throw new Error([01;31m[K`UUID must be built from exactly 16 bytes, but you provided ${candidate.byteLength}!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K186[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K330[m[K[36m[K-[m[K        default:
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K331[m[K[36m[K:[m[K            throw new Error([01;31m[K`Unrecognized timestamp format ${timestampFormat}!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K332[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K368[m[K[36m[K-[m[K    const indentation = stringsConcat.match(/^\n([ ]*)/)?.[1].length ?? 0
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K369[m[K[36m[K:[m[K    const dedentedCode = stringsConcat.replace(new RegExp([01;31m[K`^[ ]{${indentation}}`[m[K, 'gm'), '')
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K370[m[K[36m[K-[m[K    return dedentedCode.trim()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K382[m[K[36m[K-[m[K    } catch (error) {
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K383[m[K[36m[K:[m[K        Sentry.captureMessage([01;31m[K`Had to run twice: ${errorMessage}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K384[m[K[36m[K-[m[K        // try one more time
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K424[m[K[36m[K-[m[K    if (teamId) {
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K425[m[K[36m[K:[m[K        extras.push([01;31m[K`team ID ${teamId}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K426[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K427[m[K[36m[K:[m[K    extras.push([01;31m[K`organization ID ${plugin.organization_id}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K428[m[K[36m[K-[m[K    if (plugin.is_global) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K430[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K431[m[K[36m[K:[m[K    return [01;31m[K`plugin ${plugin.name} ID ${plugin.id} (${extras.join(' - ')})`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K432[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K566[m[K[36m[K-[m[K                  throw new Error(
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K567[m[K[36m[K:[m[K                      [01;31m[K`Key "${key}" has more than one matching value, which is not allowed in flat groupBy!`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K568[m[K[36m[K-[m[K                  )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K625[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K626[m[K[36m[K:[m[K    return [01;31m[K`${lowercaseLetters.join('')}${uppercaseLetters.join('')}`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K627[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/status.ts[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K            const prefix = this.mode ?? (threadId ? threadId.toString().padStart(4, '_') : 'MAIN')
[35m[K/tmp/posthog/plugin-server/src/utils/status.ts[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K            const logMessage = [01;31m[K`(${prefix}) ${icon} ${singleMessage}`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/status.ts[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K            this.logger[type](logMessage)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K    server.listen(HTTP_SERVER_PORT, () => {
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K        status.info('🩺', [01;31m[K`Status server listening on port ${HTTP_SERVER_PORT}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K    })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K    const brotliContents = await response.buffer()
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[K    status.info('✅', [01;31m[K`Downloaded ${filename} of ${prettyBytes(brotliContents.byteLength)}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K        `
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K:[m[K[32m[K84[m[K[36m[K:[m[K        DELETE FROM posthog_pluginattachment [01;31m[KWHERE key = $1 AND id != $2[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K    `,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K    )
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K:[m[K[32m[K89[m[K[36m[K:[m[K    status.info('💾', [01;31m[K`Saved ${filename} into the database`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K        serverInstance.mmdb = mmdb
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K:[m[K[32m[K135[m[K[36m[K:[m[K        status.info('💉', [01;31m[K`Injected fresh ${MMDB_ATTACHMENT_KEY}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K136[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K154[m[K[36m[K-[m[K        SELECT * FROM posthog_pluginattachment
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K:[m[K[32m[K155[m[K[36m[K:[m[K        [01;31m[KWHERE key = $1[m[K AND plugin_config_id IS NULL AND team_id IS NULL
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K156[m[K[36m[K-[m[K        ORDER BY file_name ASC
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K161[m[K[36m[K-[m[K    if (!readResults.rowCount) {
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K:[m[K[32m[K162[m[K[36m[K:[m[K        status.info('⬇️', [01;31m[K`Fetching ${MMDB_ATTACHMENT_KEY} for the first time`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K163[m[K[36m[K-[m[K        if (onlyBackground) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K175[m[K[36m[K-[m[K    if (!mmdbRow.contents) {
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K:[m[K[32m[K176[m[K[36m[K:[m[K        throw new Error([01;31m[K`${MMDB_ATTACHMENT_KEY} attachment ID ${mmdbRow.id} has no file contents!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K177[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K181[m[K[36m[K-[m[K        throw new Error(
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K:[m[K[32m[K182[m[K[36m[K:[m[K            [01;31m[K`${MMDB_ATTACHMENT_KEY} attachment ID ${mmdbRow.id} has an invalid filename! ${MMDB_ATTACHMENT_KEY} filename must include an ISO date`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K183[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K275[m[K[36m[K-[m[K            const port = (mmdbServer.address() as AddressInfo).port
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K:[m[K[32m[K276[m[K[36m[K:[m[K            status.info('👂', [01;31m[K`Internal MMDB server listening on port ${port}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/services/mmdb.ts[m[K[36m[K-[m[K[32m[K277[m[K[36m[K-[m[K            clearTimeout(rejectTimeout)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/job-queue-manager.ts[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K            } else {
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/job-queue-manager.ts[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K                throw new Error([01;31m[K`Unknown job queue "${queue}"`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/job-queue-manager.ts[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/job-queue-manager.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K                    await jobQueue.connectProducer()
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/job-queue-manager.ts[m[K[36m[K:[m[K[32m[K36[m[K[36m[K:[m[K                    status.info('🚶', [01;31m[K`Connected to job queue producer "${jobQueueType}"`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/job-queue-manager.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K                } catch (error) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/job-queue-manager.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K                        error,
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/job-queue-manager.ts[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K                        [01;31m[K`Can not start job queue producer "${jobQueueType}": ${error.message}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/job-queue-manager.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/redlocked/s3-queue.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K        const [day, time] = date.split('T')
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/redlocked/s3-queue.ts[m[K[36m[K:[m[K[32m[K36[m[K[36m[K:[m[K        const dayTime = [01;31m[K`${day.split('-').join('')}-${time.split(':').join('')}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/redlocked/s3-queue.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K        const suffix = randomBytes(8).toString('hex')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/redlocked/s3-queue.ts[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K            Bucket: this.serverConfig.JOB_QUEUE_S3_BUCKET_NAME,
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/redlocked/s3-queue.ts[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K            Key: [01;31m[K`${this.serverConfig.JOB_QUEUE_S3_PREFIX || ''}${day}/${dayTime}-${suffix}.json.gz`[m[K,
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/redlocked/s3-queue.ts[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K            Body: gzipSync(Buffer.from(JSON.stringify(retry), 'utf8')),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/redlocked/s3-queue.ts[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K            .filter(({ Key }) => {
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/redlocked/s3-queue.ts[m[K[36m[K:[m[K[32m[K98[m[K[36m[K:[m[K                // Key: [01;31m[K`${this.serverConfig.JOB_QUEUE_S3_PREFIX || ''}${day}/${dayTime}-${suffix}.json.gz`[m[K,
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/redlocked/s3-queue.ts[m[K[36m[K-[m[K[32m[K99[m[K[36m[K-[m[K                const filename = (Key || '').substring(this.serverConfig.JOB_QUEUE_S3_PREFIX.length).split('/')[1]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/redlocked/s3-queue.ts[m[K[36m[K-[m[K[32m[K142[m[K[36m[K-[m[K    private async testS3Connection(s3Wrapper: S3Wrapper): Promise<void> {
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/redlocked/s3-queue.ts[m[K[36m[K:[m[K[32m[K143[m[K[36m[K:[m[K        const filename = [01;31m[K`${this.serverConfig.JOB_QUEUE_S3_PREFIX || ''}CONNTEST/${new UUIDT()}.test`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/redlocked/s3-queue.ts[m[K[36m[K-[m[K[32m[K144[m[K[36m[K-[m[K        await s3Wrapper.listObjectsV2({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/local/fs-queue.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K    enqueue(job: EnqueuedJob): Promise<void> | void {
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/local/fs-queue.ts[m[K[36m[K:[m[K[32m[K36[m[K[36m[K:[m[K        fs.appendFileSync(this.filename, [01;31m[K`${JSON.stringify(job)}\n`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/local/fs-queue.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/local/fs-queue.ts[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K            const oldQueue = queue.filter((element) => element.timestamp >= timestamp)
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/local/fs-queue.ts[m[K[36m[K:[m[K[32m[K57[m[K[36m[K:[m[K            fs.writeFileSync(this.filename, [01;31m[K`${oldQueue.map((q) => JSON.stringify(q)).join('\n')}\n`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/job-queues/local/fs-queue.ts[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/pluginsServer.ts[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/main/pluginsServer.ts[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K    status.info('ℹ️', [01;31m[K`${serverConfig.WORKER_CONCURRENCY} workers, ${serverConfig.TASKS_PER_WORKER} tasks per worker`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/pluginsServer.ts[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/pluginsServer.ts[m[K[36m[K-[m[K[32m[K207[m[K[36m[K-[m[K                for (const [key, value] of Object.entries(getPiscinaStats(piscina))) {
[35m[K/tmp/posthog/plugin-server/src/main/pluginsServer.ts[m[K[36m[K:[m[K[32m[K208[m[K[36m[K:[m[K                    hub!.statsd?.gauge([01;31m[K`piscina.${key}`[m[K, value)
[35m[K/tmp/posthog/plugin-server/src/main/pluginsServer.ts[m[K[36m[K-[m[K[32m[K209[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/pluginsServer.ts[m[K[36m[K-[m[K[32m[K241[m[K[36m[K-[m[K                    Sentry.captureMessage(
[35m[K/tmp/posthog/plugin-server/src/main/pluginsServer.ts[m[K[36m[K:[m[K[32m[K242[m[K[36m[K:[m[K                        [01;31m[K`Plugin Server has not ingested events for over ${serverConfig.STALENESS_RESTART_SECONDS} seconds! Rebooting.`[m[K,
[35m[K/tmp/posthog/plugin-server/src/main/pluginsServer.ts[m[K[36m[K-[m[K[32m[K243[m[K[36m[K-[m[K                        {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/pluginsServer.ts[m[K[36m[K-[m[K[32m[K247[m[K[36m[K-[m[K                    console.log(
[35m[K/tmp/posthog/plugin-server/src/main/pluginsServer.ts[m[K[36m[K:[m[K[32m[K248[m[K[36m[K:[m[K                        [01;31m[K`Plugin Server has not ingested events for over ${serverConfig.STALENESS_RESTART_SECONDS} seconds! Rebooting.`[m[K,
[35m[K/tmp/posthog/plugin-server/src/main/pluginsServer.ts[m[K[36m[K-[m[K[32m[K249[m[K[36m[K-[m[K                        extra
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/ingest-event.ts[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                func: (event) => workerMethods[isSnapshot ? 'onSnapshot' : 'onEvent'](event),
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/ingest-event.ts[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K                statsKey: [01;31m[K`kafka_queue.single_${isSnapshot ? 'on_snapshot' : 'on_event'}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/ingest-event.ts[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K                timeoutMessage: [01;31m[K`After 30 seconds still running ${isSnapshot ? 'onSnapshot' : 'onEvent'}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/ingest-event.ts[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K            }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/ingest-event.ts[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K    } finally {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/ingest-event.ts[m[K[36m[K:[m[K[32m[K113[m[K[36m[K:[m[K        server.statsd?.increment([01;31m[K`${statsKey}_total`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/ingest-event.ts[m[K[36m[K-[m[K[32m[K114[m[K[36m[K-[m[K        server.statsd?.timing(statsKey, timer)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/ingest-event.ts[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K            `Processed ${messageCounter} events${
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/ingest-event.ts[m[K[36m[K:[m[K[32m[K129[m[K[36m[K:[m[K                messageLogDate === 0 ? '' : [01;31m[K` in ${Math.round((now - messageLogDate) / 10) / 100}s`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/ingest-event.ts[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K            }`
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K                if (!isRunning() || isStale()) {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K                    status.info('🚪', [01;31m[K`Bailing out of a batch of ${batch.messages.length} events`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K                        isRunning: isRunning(),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K            this.consumer.on(this.consumer.events.CRASH, ({ payload: { error } }) => reject(error))
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K:[m[K[32m[K88[m[K[36m[K:[m[K            status.info('⏬', [01;31m[K`Connecting Kafka consumer to ${this.pluginsServer.KAFKA_HOSTS}...`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K            this.wasConsumerRan = true
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K                        this.pluginsServer.statsd?.increment('kafka_queue_each_batch_failed_events', eventCount)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K:[m[K[32m[K104[m[K[36m[K:[m[K                        status.info('💀', [01;31m[K`Kafka batch of ${eventCount} events failed!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K                        if (error.type === 'UNKNOWN_MEMBER_ID') {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K166[m[K[36m[K-[m[K        consumer.on(GROUP_JOIN, ({ payload: { groupId } }) => {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K:[m[K[32m[K167[m[K[36m[K:[m[K            status.info('✅', [01;31m[K`Kafka consumer joined group ${groupId}!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K168[m[K[36m[K-[m[K        })
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K169[m[K[36m[K-[m[K        consumer.on(CRASH, ({ payload: { error, groupId } }) => {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K:[m[K[32m[K170[m[K[36m[K:[m[K            status.error('⚠️', [01;31m[K`Kafka consumer group ${groupId} crashed:\n`[m[K, error)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K171[m[K[36m[K-[m[K            Sentry.captureException(error)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/celery-queue.ts[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K            const result = this.broker.subscribe(queue, onMessage)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/celery-queue.ts[m[K[36m[K:[m[K[32m[K111[m[K[36m[K:[m[K            status.info('✅', [01;31m[K`Celery worker subscribed to ${Object.keys(this.handlers).join(', ')}!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/celery-queue.ts[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K            return result
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/celery-queue.ts[m[K[36m[K-[m[K[32m[K170[m[K[36m[K-[m[K            if (!handler) {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/celery-queue.ts[m[K[36m[K:[m[K[32m[K171[m[K[36m[K:[m[K                throw new Error([01;31m[K`Missing process handler for task ${taskName}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/celery-queue.ts[m[K[36m[K-[m[K[32m[K172[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/celery-queue.ts[m[K[36m[K-[m[K[32m[K174[m[K[36m[K-[m[K            console.debug(
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/celery-queue.ts[m[K[36m[K:[m[K[32m[K175[m[K[36m[K:[m[K                [01;31m[K`celery.node Received task: ${taskName}[${taskId}], args: ${args}, kwargs: ${JSON.stringify(kwargs)}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/celery-queue.ts[m[K[36m[K-[m[K[32m[K176[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/celery-queue.ts[m[K[36m[K-[m[K[32m[K181[m[K[36m[K-[m[K                console.debug(
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/celery-queue.ts[m[K[36m[K:[m[K[32m[K182[m[K[36m[K:[m[K                    [01;31m[K`celery.node Task ${taskName}[${taskId}] succeeded in ${diff[0] + diff[1] / 1e9}s: ${result}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/celery-queue.ts[m[K[36m[K-[m[K[32m[K183[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/healthcheck.ts[m[K[36m[K-[m[K[32m[K9[m[K[36m[K-[m[K        if (ping) {
[35m[K/tmp/posthog/plugin-server/src/healthcheck.ts[m[K[36m[K:[m[K[32m[K10[m[K[36m[K:[m[K            status.info('💚', [01;31m[K`Redis key @posthog-plugin-server/ping found with value ${ping}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/healthcheck.ts[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K            return true
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/index.ts[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/index.ts[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[Kstatus.info('⚡', [01;31m[K`@posthog/plugin-server v${version}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/index.ts[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/index.ts[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K    case AlternativeMode.Help:
[35m[K/tmp/posthog/plugin-server/src/index.ts[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K        status.info('⚙️', [01;31m[K`Supported configuration environment variables:\n${formatConfigHelp(7)}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/index.ts[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K        break
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/console.test.ts[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K        const method = type.toLowerCase() as keyof ConsoleExtension
[35m[K/tmp/posthog/plugin-server/tests/worker/console.test.ts[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K        describe([01;31m[K`console#${method}`[m[K, () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/console.test.ts[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K            it('leaves an empty entry in the database', async () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/action-manager.test.ts[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K        await hub.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/action-manager.test.ts[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K            [01;31m[K`UPDATE posthog_actionstep SET properties = jsonb_set(properties, '{0,key}', '"baz"') WHERE id = $1`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/action-manager.test.ts[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K            [ACTION_STEP_ID],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/action-manager.test.ts[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/action-manager.test.ts[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K        await hub.db.postgresQuery([01;31m[K`UPDATE posthog_action SET deleted = TRUE WHERE id = $1`[m[K, [ACTION_ID], 'testKey')
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/action-manager.test.ts[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/properties-updater.test.ts[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K            const selectResult = await db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/properties-updater.test.ts[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K                [01;31m[K`SELECT * FROM posthog_person WHERE team_id = $1 AND id = $2`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/properties-updater.test.ts[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K                [teamId, personId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K            await hub.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K:[m[K[32m[K80[m[K[36m[K:[m[K                [01;31m[K`INSERT INTO posthog_eventdefinition (id, name, volume_30_day, query_usage_30_day, team_id, created_at) VALUES ($1, $2, $3, $4, $5, NOW())`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K                [new UUIDT().toString(), '$pageview', 3, 2, 2],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K            await hub.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K:[m[K[32m[K85[m[K[36m[K:[m[K                [01;31m[K`INSERT INTO posthog_eventdefinition (id, name, team_id, created_at, last_seen_at) VALUES ($1, $2, $3, NOW(), $4)`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                [new UUIDT().toString(), 'another_test_event', 2, '2014-03-23T23:23:23Z'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K            await hub.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K:[m[K[32m[K90[m[K[36m[K:[m[K                [01;31m[K`INSERT INTO posthog_propertydefinition (id, name, is_numerical, volume_30_day, query_usage_30_day, team_id) VALUES ($1, $2, $3, $4, $5, $6)`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K                [new UUIDT().toString(), 'property_name', false, null, null, 2],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K94[m[K[36m[K-[m[K            await hub.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K:[m[K[32m[K95[m[K[36m[K:[m[K                [01;31m[K`INSERT INTO posthog_propertydefinition (id, name, is_numerical, volume_30_day, query_usage_30_day, team_id) VALUES ($1, $2, $3, $4, $5, $6)`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K                [new UUIDT().toString(), 'numeric_prop', true, null, null, 2],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K99[m[K[36m[K-[m[K            await hub.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K:[m[K[32m[K100[m[K[36m[K:[m[K                [01;31m[K`INSERT INTO posthog_eventproperty (event, property, team_id) VALUES ($1, $2, $3)`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K101[m[K[36m[K-[m[K                ['new-event', 'numeric_prop', 2],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K232[m[K[36m[K-[m[K            expect(postgresQuery).toHaveBeenCalledWith(
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K:[m[K[32m[K233[m[K[36m[K:[m[K                'UPDATE posthog_eventdefinition SET last_seen_at=$1 [01;31m[KWHERE team_id=$2 AND name=$3',[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K234[m[K[36m[K-[m[K                [DateTime.now(), 2, 'another_test_event'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K279[m[K[36m[K-[m[K            await hub.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K:[m[K[32m[K280[m[K[36m[K:[m[K                [01;31m[K`INSERT INTO posthog_eventdefinition (id, name, volume_30_day, query_usage_30_day, team_id) VALUES ($1, $2, NULL, NULL, $3) ON CONFLICT DO NOTHING`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K281[m[K[36m[K-[m[K                [new UUIDT().toString(), '$foobar', 2],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K391[m[K[36m[K-[m[K            boolTestCases.forEach((testcase) => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K:[m[K[32m[K392[m[K[36m[K:[m[K                it([01;31m[K`identifies ${testcase} as a boolean`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K393[m[K[36m[K-[m[K                    await teamManager.updateEventNamesAndProperties(teamId, 'another_test_event', {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K412[m[K[36m[K-[m[K            notBoolTestCases.forEach((testcase) => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K:[m[K[32m[K413[m[K[36m[K:[m[K                it([01;31m[K`does not identify ${testcase} as a boolean`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K414[m[K[36m[K-[m[K                    await teamManager.updateEventNamesAndProperties(teamId, 'another_test_event', {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K534[m[K[36m[K-[m[K            unixTimestampTestCases.forEach((testcase) => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K:[m[K[32m[K535[m[K[36m[K:[m[K                it([01;31m[K`with key ${testcase.propertyKey} matches ${testcase.date} as ${testcase.expectedPropertyType}`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K536[m[K[36m[K-[m[K                    const properties: Record<string, string | number> = {}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K662[m[K[36m[K-[m[K            dateTimeFormatTestCases.forEach((testcase) => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K:[m[K[32m[K663[m[K[36m[K:[m[K                it([01;31m[K`matches ${testcase.date} as DateTime`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K664[m[K[36m[K-[m[K                    const properties: Record<string, string> = {}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K692[m[K[36m[K-[m[K                    SELECT property_type from posthog_propertydefinition
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K:[m[K[32m[K693[m[K[36m[K:[m[K                    [01;31m[Kwhere name=$1[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K694[m[K[36m[K-[m[K                `,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K714[m[K[36m[K-[m[K                    SELECT property_type from posthog_propertydefinition
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K:[m[K[32m[K715[m[K[36m[K:[m[K                    [01;31m[Kwhere name=$1[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/team-manager.test.ts[m[K[36m[K-[m[K[32m[K716[m[K[36m[K-[m[K                `,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/postgres/worker.test.ts[m[K[36m[K-[m[K[32m[K144[m[K[36m[K-[m[K                    REDIS_POOL_MAX_SIZE: 3,
[35m[K/tmp/posthog/plugin-server/tests/postgres/worker.test.ts[m[K[36m[K:[m[K[32m[K145[m[K[36m[K:[m[K                    PLUGINS_CELERY_QUEUE: [01;31m[K`test-plugins-celery-queue-${new UUIDT()}`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/postgres/worker.test.ts[m[K[36m[K:[m[K[32m[K146[m[K[36m[K:[m[K                    CELERY_DEFAULT_QUEUE: [01;31m[K`test-celery-default-queue-${new UUIDT()}`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/postgres/worker.test.ts[m[K[36m[K-[m[K[32m[K147[m[K[36m[K-[m[K                    LOG_LEVEL: LogLevel.Debug,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/postgres/worker.test.ts[m[K[36m[K-[m[K[32m[K283[m[K[36m[K-[m[K            mocked(runPluginTask).mockImplementation((server, task, taskType, pluginId) =>
[35m[K/tmp/posthog/plugin-server/tests/postgres/worker.test.ts[m[K[36m[K:[m[K[32m[K284[m[K[36m[K:[m[K                Promise.resolve([01;31m[K`${task} for ${pluginId}`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/postgres/worker.test.ts[m[K[36m[K-[m[K[32m[K285[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/postgres/vm.test.ts[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K    const vmResponse = createPluginConfigVM(hub, pluginConfig, indexJs)
[35m[K/tmp/posthog/plugin-server/tests/postgres/vm.test.ts[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K    await vmResponse.vm.run([01;31m[K`${vmResponse.vmResponseVariable}.methods.setupPlugin?.()`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/postgres/vm.test.ts[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K    return vmResponse
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/postgres/vm.test.ts[m[K[36m[K-[m[K[32m[K1113[m[K[36m[K-[m[K                        exportEventsBufferSeconds: '1',
[35m[K/tmp/posthog/plugin-server/tests/postgres/vm.test.ts[m[K[36m[K:[m[K[32m[K1114[m[K[36m[K:[m[K                        exportEventsToIgnore: [01;31m[K`${defaultEvent.event},otherEvent`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/postgres/vm.test.ts[m[K[36m[K-[m[K[32m[K1115[m[K[36m[K-[m[K                    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/postgres/vm.timeout.test.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K    const vmResponse = createPluginConfigVM(hub, pluginConfig, indexJs)
[35m[K/tmp/posthog/plugin-server/tests/postgres/vm.timeout.test.ts[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K    await vmResponse.vm.run([01;31m[K`${vmResponse.vmResponseVariable}.methods.setupPlugin?.()`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/postgres/vm.timeout.test.ts[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K    return vmResponse
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/postgres/teardown.test.ts[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K        await hub.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/tests/postgres/teardown.test.ts[m[K[36m[K:[m[K[32m[K110[m[K[36m[K:[m[K            'update posthog_pluginconfig set updated_at = now() [01;31m[Kwhere id = $1',[m[K
[35m[K/tmp/posthog/plugin-server/tests/postgres/teardown.test.ts[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K            [pluginConfig39.id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/mmdb.test.ts[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K                content_type: 'vnd.maxmind.maxmind-db',
[35m[K/tmp/posthog/plugin-server/tests/mmdb.test.ts[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[K                file_name: [01;31m[K`GeoLite2-City-${DateTime.local().toISODate()}.mmdb.br`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/mmdb.test.ts[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K                file_size: mmdbBrotliContents.byteLength,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K    const keys = Object.keys(object)
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K123[m[K[36m[K:[m[K        .map((key) => [01;31m[K`"${key}"`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K        .join(',')
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K    const params = Object.keys(object)
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K        .map((_, i) => [01;31m[K`\$${i + 1}`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K        .join(',')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K135[m[K[36m[K-[m[K    try {
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K136[m[K[36m[K:[m[K        await db.query([01;31m[K`INSERT INTO ${table} (${keys}) VALUES (${params})`[m[K, values)
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K137[m[K[36m[K-[m[K    } catch (error) {
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K138[m[K[36m[K:[m[K        console.error([01;31m[K`Error on table ${table} when inserting object:\n`[m[K, object, '\n', error)
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K139[m[K[36m[K-[m[K        throw error
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K156[m[K[36m[K-[m[K        last_name: 'User',
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K157[m[K[36m[K:[m[K        email: [01;31m[K`test${userId}@posthog.com`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K158[m[K[36m[K:[m[K        distinct_id: [01;31m[K`plugin_test_user_distinct_id_${userId}`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K159[m[K[36m[K-[m[K        is_staff: false,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K205[m[K[36m[K-[m[K        is_demo: false,
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K206[m[K[36m[K:[m[K        api_token: [01;31m[K`THIS IS NOT A TOKEN FOR TEAM ${teamId}`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K207[m[K[36m[K-[m[K        test_account_filters: [],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K249[m[K[36m[K-[m[K    try {
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K250[m[K[36m[K:[m[K        const response = await db.query('SELECT * FROM posthog_pluginconfig [01;31m[KWHERE id = $1',[m[K [id])
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K251[m[K[36m[K-[m[K        error = response.rows[0]['error']
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/plugins.ts[m[K[36m[K-[m[K[32m[K137[m[K[36m[K-[m[K    return [
[35m[K/tmp/posthog/plugin-server/tests/helpers/plugins.ts[m[K[36m[K:[m[K[32m[K138[m[K[36m[K:[m[K        { ...plugin60, url: [01;31m[K`file:${folder}`[m[K, archive: null },
[35m[K/tmp/posthog/plugin-server/tests/helpers/plugins.ts[m[K[36m[K-[m[K[32m[K139[m[K[36m[K-[m[K        () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/kafka.ts[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K    const kafka = new Kafka({
[35m[K/tmp/posthog/plugin-server/tests/helpers/kafka.ts[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K        clientId: [01;31m[K`plugin-server-test-${new UUIDT()}`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/helpers/kafka.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K        brokers: (config.KAFKA_HOSTS || '').split(','),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/kafka.ts[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/kafka.ts[m[K[36m[K:[m[K[32m[K72[m[K[36m[K:[m[K        console.info([01;31m[K`awaiting ${delayMs} ms before disconnecting`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/helpers/kafka.ts[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K        await delay(delayMs)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/plugins.test.ts[m[K[36m[K-[m[K[32m[K418[m[K[36m[K-[m[K            pluginConfigs.get(39)!,
[35m[K/tmp/posthog/plugin-server/tests/plugins.test.ts[m[K[36m[K:[m[K[32m[K419[m[K[36m[K:[m[K            [01;31m[K`Can not load plugin.json for plugin test-maxmind-plugin ID ${plugin60.id} (organization ID ${commonOrganizationId})`[m[K
[35m[K/tmp/posthog/plugin-server/tests/plugins.test.ts[m[K[36m[K-[m[K[32m[K420[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/plugins.test.ts[m[K[36m[K-[m[K[32m[K466[m[K[36m[K-[m[K            pluginConfigs.get(39)!,
[35m[K/tmp/posthog/plugin-server/tests/plugins.test.ts[m[K[36m[K:[m[K[32m[K467[m[K[36m[K:[m[K            [01;31m[K`Tried using undownloaded remote plugin test-maxmind-plugin ID ${plugin60.id} (organization ID ${commonOrganizationId} - global), which is not supported!`[m[K
[35m[K/tmp/posthog/plugin-server/tests/plugins.test.ts[m[K[36m[K-[m[K[32m[K468[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/jobs.test.ts[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K        if (new Date().valueOf() - start > timeout) {
[35m[K/tmp/posthog/plugin-server/tests/jobs.test.ts[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K            console.error([01;31m[K`Did not find ${number} console logs:`[m[K, testConsole.read())
[35m[K/tmp/posthog/plugin-server/tests/jobs.test.ts[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K            throw new Error([01;31m[K`Did not get ${number} console logs within ${timeout / 1000} seconds`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/jobs.test.ts[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/jobs.test.ts[m[K[36m[K-[m[K[32m[K320[m[K[36m[K-[m[K            const [day, time] = date.split('T')
[35m[K/tmp/posthog/plugin-server/tests/jobs.test.ts[m[K[36m[K:[m[K[32m[K321[m[K[36m[K:[m[K            const dayTime = [01;31m[K`${day.split('-').join('')}-${time.split(':').join('')}`[m[K
[35m[K/tmp/posthog/plugin-server/tests/jobs.test.ts[m[K[36m[K-[m[K[32m[K322[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/jobs.test.ts[m[K[36m[K-[m[K[32m[K331[m[K[36m[K-[m[K            mS3WrapperInstance.listObjectsV2.mockReturnValue({
[35m[K/tmp/posthog/plugin-server/tests/jobs.test.ts[m[K[36m[K:[m[K[32m[K332[m[K[36m[K:[m[K                Contents: [{ Key: [01;31m[K`prefix/${day}/${dayTime}-deadbeef.json.gz`[m[K }],
[35m[K/tmp/posthog/plugin-server/tests/jobs.test.ts[m[K[36m[K-[m[K[32m[K333[m[K[36m[K-[m[K            })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/jobs.test.ts[m[K[36m[K-[m[K[32m[K346[m[K[36m[K-[m[K                Bucket: 'bucket-name',
[35m[K/tmp/posthog/plugin-server/tests/jobs.test.ts[m[K[36m[K:[m[K[32m[K347[m[K[36m[K:[m[K                Key: [01;31m[K`prefix/${day}/${dayTime}-deadbeef.json.gz`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/jobs.test.ts[m[K[36m[K-[m[K[32m[K348[m[K[36m[K-[m[K            })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/shared/db.test.ts[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K        const selectResult = await db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/tests/shared/db.test.ts[m[K[36m[K:[m[K[32m[K68[m[K[36m[K:[m[K            [01;31m[K`SELECT * FROM posthog_person WHERE team_id = $1 AND id = $2`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/shared/db.test.ts[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K            [teamId, personId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/shared/db.test.ts[m[K[36m[K-[m[K[32m[K286[m[K[36m[K-[m[K            const publicJobs = (
[35m[K/tmp/posthog/plugin-server/tests/shared/db.test.ts[m[K[36m[K:[m[K[32m[K287[m[K[36m[K:[m[K                await db.postgresQuery('SELECT public_jobs FROM posthog_plugin [01;31m[KWHERE id = $1',[m[K [88], 'testPublicJob1')
[35m[K/tmp/posthog/plugin-server/tests/shared/db.test.ts[m[K[36m[K-[m[K[32m[K288[m[K[36m[K-[m[K            ).rows[0].public_jobs
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/shared/db.test.ts[m[K[36m[K-[m[K[32m[K299[m[K[36m[K-[m[K            const publicJobs = (
[35m[K/tmp/posthog/plugin-server/tests/shared/db.test.ts[m[K[36m[K:[m[K[32m[K300[m[K[36m[K:[m[K                await db.postgresQuery('SELECT public_jobs FROM posthog_plugin [01;31m[KWHERE id = $1',[m[K [88], 'testPublicJob1')
[35m[K/tmp/posthog/plugin-server/tests/shared/db.test.ts[m[K[36m[K-[m[K[32m[K301[m[K[36m[K-[m[K            ).rows[0].public_jobs
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/shared/process-event.ts[m[K[36m[K-[m[K[32m[K172[m[K[36m[K-[m[K        // clear the webhook redis cache
[35m[K/tmp/posthog/plugin-server/tests/shared/process-event.ts[m[K[36m[K:[m[K[32m[K173[m[K[36m[K:[m[K        const hooksCacheKey = [01;31m[K`@posthog/plugin-server/hooks/${team.id}`[m[K
[35m[K/tmp/posthog/plugin-server/tests/shared/process-event.ts[m[K[36m[K-[m[K[32m[K174[m[K[36m[K-[m[K        await redis.del(hooksCacheKey)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/shared/process-event.ts[m[K[36m[K-[m[K[32m[K325[m[K[36m[K-[m[K             SET ingested_event = $1
[35m[K/tmp/posthog/plugin-server/tests/shared/process-event.ts[m[K[36m[K:[m[K[32m[K326[m[K[36m[K:[m[K             [01;31m[KWHERE id = $2`,[m[K
[35m[K/tmp/posthog/plugin-server/tests/shared/process-event.ts[m[K[36m[K-[m[K[32m[K327[m[K[36m[K-[m[K            [true, team.id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/shared/process-event.ts[m[K[36m[K-[m[K[32m[K1167[m[K[36m[K-[m[K        await hub.db.postgresQuery(
[35m[K/tmp/posthog/plugin-server/tests/shared/process-event.ts[m[K[36m[K:[m[K[32m[K1168[m[K[36m[K:[m[K            [01;31m[K`UPDATE posthog_team SET ingested_event = $1 WHERE id = $2`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/shared/process-event.ts[m[K[36m[K-[m[K[32m[K1169[m[K[36m[K-[m[K            [false, team.id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K-[m[K[32m[K143[m[K[36m[K-[m[K        expect(hub.db.postgresQuery).toHaveBeenCalledWith(
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K:[m[K[32m[K144[m[K[36m[K:[m[K            'UPDATE posthog_pluginconfig SET error = $1 [01;31m[KWHERE id = $2',[m[K
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K-[m[K[32m[K145[m[K[36m[K-[m[K            [null, pluginConfig39.id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K-[m[K[32m[K151[m[K[36m[K-[m[K        expect(hub.db.postgresQuery).toHaveBeenCalledWith(
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K:[m[K[32m[K152[m[K[36m[K:[m[K            'UPDATE posthog_pluginconfig SET error = $1 [01;31m[KWHERE id = $2',[m[K
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K-[m[K[32m[K153[m[K[36m[K-[m[K            [pluginError, pluginConfig39.id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K-[m[K[32m[K163[m[K[36m[K-[m[K            expect(hub.db.postgresQuery).toHaveBeenCalledWith(
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K:[m[K[32m[K164[m[K[36m[K:[m[K                [01;31m[K`UPDATE posthog_pluginconfig SET enabled='f' WHERE id=$1 AND enabled='t'`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K-[m[K[32m[K165[m[K[36m[K-[m[K                [39],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/http-server.test.ts[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/tests/http-server.test.ts[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K        http.get([01;31m[K`http://localhost:${HTTP_SERVER_PORT}/_ready`[m[K, (res) => {
[35m[K/tmp/posthog/plugin-server/tests/http-server.test.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K            const { statusCode } = res
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/benchmarks/postgres/e2e.celery.benchmark.ts[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/benchmarks/postgres/e2e.celery.benchmark.ts[m[K[36m[K:[m[K[32m[K83[m[K[36m[K:[m[K        const n = (n: number) => [01;31m[K`${Math.round(n * 100) / 100}`[m[K
[35m[K/tmp/posthog/plugin-server/benchmarks/postgres/e2e.celery.benchmark.ts[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K        console.log(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/benchmarks/postgres/ingestion.benchmark.ts[m[K[36m[K-[m[K[32m[K118[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/plugin-server/benchmarks/postgres/ingestion.benchmark.ts[m[K[36m[K:[m[K[32m[K119[m[K[36m[K:[m[K            result[[01;31m[K`${threads} thread${threads === 1 ? '' : 's'}`[m[K] = Math.round(
[35m[K/tmp/posthog/plugin-server/benchmarks/postgres/ingestion.benchmark.ts[m[K[36m[K-[m[K[32m[K120[m[K[36m[K-[m[K                1000 / ((performance.now() - startTime) / events / rounds)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/benchmarks/postgres/helpers/log.ts[m[K[36m[K-[m[K[32m[K2[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/benchmarks/postgres/helpers/log.ts[m[K[36m[K:[m[K[32m[K3[m[K[36m[K:[m[Kconst roundToTwo = (n: number) => [01;31m[K`${Math.round(n * 100) / 100}`[m[K
[35m[K/tmp/posthog/plugin-server/benchmarks/postgres/helpers/log.ts[m[K[36m[K-[m[K[32m[K4[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/benchmarks/postgres/update-person-properties.benchmark.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K    for (let i = 0; i < target; ++i) {
[35m[K/tmp/posthog/plugin-server/benchmarks/postgres/update-person-properties.benchmark.ts[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K        const propName = [01;31m[K`property_${i}`[m[K
[35m[K/tmp/posthog/plugin-server/benchmarks/postgres/update-person-properties.benchmark.ts[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K        startingProperties[propName] = 'this is my initial value'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/benchmarks/vm/worker.benchmark.ts[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K                }
[35m[K/tmp/posthog/plugin-server/benchmarks/vm/worker.benchmark.ts[m[K[36m[K:[m[K[32m[K125[m[K[36m[K:[m[K                result[[01;31m[K`${threads} thread${threads === 1 ? '' : 's'}`[m[K] = Math.round(
[35m[K/tmp/posthog/plugin-server/benchmarks/vm/worker.benchmark.ts[m[K[36m[K-[m[K[32m[K126[m[K[36m[K-[m[K                    1000 / ((performance.now() - startTime) / events / rounds)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/benchmarks/clickhouse/e2e.timeout.benchmark.ts[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/benchmarks/clickhouse/e2e.timeout.benchmark.ts[m[K[36m[K:[m[K[32m[K81[m[K[36m[K:[m[K        const n = (n: number) => [01;31m[K`${Math.round(n * 100) / 100}`[m[K
[35m[K/tmp/posthog/plugin-server/benchmarks/clickhouse/e2e.timeout.benchmark.ts[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K        console.log(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/benchmarks/clickhouse/e2e.kafka.benchmark.ts[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/benchmarks/clickhouse/e2e.kafka.benchmark.ts[m[K[36m[K:[m[K[32m[K80[m[K[36m[K:[m[K        const n = (n: number) => [01;31m[K`${Math.round(n * 100) / 100}`[m[K
[35m[K/tmp/posthog/plugin-server/benchmarks/clickhouse/e2e.kafka.benchmark.ts[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K        console.log(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/management/commands/partition.py[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K                cursor.execute(
[35m[K/tmp/posthog/posthog/management/commands/partition.py[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K                    """DO $$ BEGIN IF (SELECT exists(select * from pg_proc [01;31m[Kwhere proname = \'create_partitions\')) THEN PERFORM create_partitions(%s); END IF; END $$""",[m[K
[35m[K/tmp/posthog/posthog/management/commands/partition.py[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                    [elements],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/celery.py[m[K[36m[K-[m[K[32m[K284[m[K[36m[K-[m[K        cursor.execute(
[35m[K/tmp/posthog/posthog/celery.py[m[K[36m[K:[m[K[32m[K285[m[K[36m[K:[m[K            "DO $$ BEGIN IF (SELECT exists(select * from pg_proc [01;31m[Kwhere proname = 'update_partitions')) THEN PERFORM update_partitions(); END IF; END $$"[m[K
[35m[K/tmp/posthog/posthog/celery.py[m[K[36m[K-[m[K[32m[K286[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/migrations/0194_set_property_type_for_time.py[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K        set property_type = 'DateTime', property_type_format='unix_timestamp'
[35m[K/tmp/posthog/posthog/migrations/0194_set_property_type_for_time.py[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K        [01;31m[Kwhere name = '$time'[m[K
[35m[K/tmp/posthog/posthog/migrations/0194_set_property_type_for_time.py[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K            """,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/migrations/0194_set_property_type_for_time.py[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K        set property_type = null, property_type_format=null
[35m[K/tmp/posthog/posthog/migrations/0194_set_property_type_for_time.py[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[K        [01;31m[Kwhere name = '$time'[m[K
[35m[K/tmp/posthog/posthog/migrations/0194_set_property_type_for_time.py[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K                    """,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/api/documentation.py[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K    key = serializers.CharField(
[35m[K/tmp/posthog/posthog/api/documentation.py[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K        help_text="Key of the property you're filtering on. For example `email` or [01;31m[K`$current_url`[m[K", required=True
[35m[K/tmp/posthog/posthog/api/documentation.py[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/api/documentation.py[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[Kclass FilterEventSerializer(serializers.Serializer):
[35m[K/tmp/posthog/posthog/api/documentation.py[m[K[36m[K:[m[K[32m[K128[m[K[36m[K:[m[K    id = serializers.CharField(help_text="Name of the event to filter on. For example [01;31m[K`$pageview`[m[K or `user sign up`.")
[35m[K/tmp/posthog/posthog/api/documentation.py[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K    properties = PropertySerializer(many=True, required=False)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/api/insight_serializers.py[m[K[36m[K-[m[K[32m[K160[m[K[36m[K-[m[Kclass FunnelExclusionSerializer(serializers.Serializer):
[35m[K/tmp/posthog/posthog/api/insight_serializers.py[m[K[36m[K:[m[K[32m[K161[m[K[36m[K:[m[K    id = serializers.CharField(help_text="Name of the event to filter on. For example [01;31m[K`$pageview`[m[K or `user sign up`.")
[35m[K/tmp/posthog/posthog/api/insight_serializers.py[m[K[36m[K-[m[K[32m[K162[m[K[36m[K-[m[K    properties = PropertySerializer(required=False, help_text=property_help_text)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/api/event.py[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K                OpenApiTypes.STR,
[35m[K/tmp/posthog/posthog/api/event.py[m[K[36m[K:[m[K[32m[K88[m[K[36m[K:[m[K                description="Filter list by event. For example `user sign up` or [01;31m[K`$pageview`[m[K.",
[35m[K/tmp/posthog/posthog/api/event.py[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K            ),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/bin/docker-worker-celery[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K    --concurrency*)
[35m[K/tmp/posthog/bin/docker-worker-celery[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K      export WEB_CONCURRENCY=[01;31m[K`echo $1 | sed -e 's/^[^=]*=//g'`[m[K
[35m[K/tmp/posthog/bin/docker-worker-celery[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K      shift
