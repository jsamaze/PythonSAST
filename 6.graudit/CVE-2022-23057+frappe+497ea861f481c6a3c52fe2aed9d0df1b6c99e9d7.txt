===========================================================
                                      .___ __  __   
          _________________  __ __  __| _/|__|/  |_ 
         / ___\_` __ \__  \ |  |  \/ __ | | \\_  __\
        / /_/  >  | \// __ \|  |  / /_/ | |  ||  |  
        \___  /|__|  (____  /____/\____ | |__||__|  
       /_____/            \/           \/           
              grep rough audit - static analysis tool
                  v3.5 written by @Wireghoul
=================================[justanotherhacker.com]===
[35m[K/tmp/frappe/.github/helper/semgrep_rules/security.yml[m[K[36m[K-[m[K[32m[K4[m[K[36m[K-[m[K  - pattern-not: eval("...")
[35m[K/tmp/frappe/.github/helper/semgrep_rules/security.yml[m[K[36m[K:[m[K[32m[K5[m[K[36m[K:[m[K  - pattern: [01;31m[Keval(...)[m[K
[35m[K/tmp/frappe/.github/helper/semgrep_rules/security.yml[m[K[36m[K-[m[K[32m[K6[m[K[36m[K-[m[K  message: |
[36m[K##############################################[m[K
[35m[K/tmp/frappe/.github/helper/semgrep_rules/security.py[m[K[36m[K-[m[K[32m[K2[m[K[36m[K-[m[K	# ruleid: frappe-codeinjection-eval
[35m[K/tmp/frappe/.github/helper/semgrep_rules/security.py[m[K[36m[K:[m[K[32m[K3[m[K[36m[K:[m[K	[01;31m[Keval(input)[m[K
[35m[K/tmp/frappe/.github/helper/semgrep_rules/security.py[m[K[36m[K-[m[K[32m[K4[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/event_streaming/doctype/document_type_mapping/document_type_mapping.py[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K			if value.startswith('eval:'):
[35m[K/tmp/frappe/frappe/event_streaming/doctype/document_type_mapping/document_type_mapping.py[m[K[36m[K:[m[K[32m[K105[m[K[36m[K:[m[K				val = frappe.safe_[01;31m[Keval(value[5:], None, dict(doc=doc)[m[K)
[35m[K/tmp/frappe/frappe/event_streaming/doctype/document_type_mapping/document_type_mapping.py[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K				filters[key] = val
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/event_streaming/doctype/event_consumer/event_consumer.py[m[K[36m[K-[m[K[32m[K204[m[K[36m[K-[m[K			else:
[35m[K/tmp/frappe/frappe/event_streaming/doctype/event_consumer/event_consumer.py[m[K[36m[K:[m[K[32m[K205[m[K[36m[K:[m[K				return frappe.safe_[01;31m[Keval(condition, frappe._dict(doc=doc)[m[K)
[35m[K/tmp/frappe/frappe/event_streaming/doctype/event_consumer/event_consumer.py[m[K[36m[K-[m[K[32m[K206[m[K[36m[K-[m[K	except Exception as e:
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/automation/doctype/assignment_rule/assignment_rule.py[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K
[35m[K/tmp/frappe/frappe/automation/doctype/assignment_rule/assignment_rule.py[m[K[36m[K:[m[K[32m[K129[m[K[36m[K:[m[K	def safe_[01;31m[Keval(self, fieldname, doc)[m[K:
[35m[K/tmp/frappe/frappe/automation/doctype/assignment_rule/assignment_rule.py[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K		try:
[35m[K/tmp/frappe/frappe/automation/doctype/assignment_rule/assignment_rule.py[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K			if self.get(fieldname):
[35m[K/tmp/frappe/frappe/automation/doctype/assignment_rule/assignment_rule.py[m[K[36m[K:[m[K[32m[K132[m[K[36m[K:[m[K				return frappe.safe_[01;31m[Keval(self.get(fieldname)[m[K, None, doc)
[35m[K/tmp/frappe/frappe/automation/doctype/assignment_rule/assignment_rule.py[m[K[36m[K-[m[K[32m[K133[m[K[36m[K-[m[K		except Exception as e:
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/email/email_body.py[m[K[36m[K-[m[K[32m[K188[m[K[36m[K-[m[K			self.set_header('X-Original-From', self.sender)
[35m[K/tmp/frappe/frappe/email/email_body.py[m[K[36m[K:[m[K[32m[K189[m[K[36m[K:[m[K			sender_name, sender_email = parse_[01;31m[Kaddr([m[Kself.sender)
[35m[K/tmp/frappe/frappe/email/email_body.py[m[K[36m[K:[m[K[32m[K190[m[K[36m[K:[m[K			self.sender = email.utils.format[01;31m[Kaddr([m[K(str(Header(sender_name or self.email_account.name, 'utf-8')), self.email_account.email_id))
[35m[K/tmp/frappe/frappe/email/email_body.py[m[K[36m[K-[m[K[32m[K191[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/email/email_body.py[m[K[36m[K-[m[K[32m[K194[m[K[36m[K-[m[K			self.set_header('X-Original-From', self.sender)
[35m[K/tmp/frappe/frappe/email/email_body.py[m[K[36m[K:[m[K[32m[K195[m[K[36m[K:[m[K			sender_name, sender_email = parse_[01;31m[Kaddr([m[Kself.sender)
[35m[K/tmp/frappe/frappe/email/email_body.py[m[K[36m[K:[m[K[32m[K196[m[K[36m[K:[m[K			self.sender = email.utils.format[01;31m[Kaddr([m[K(str(Header(self.email_account.name, 'utf-8')), sender_email))
[35m[K/tmp/frappe/frappe/email/email_body.py[m[K[36m[K-[m[K[32m[K197[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K			try:
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K				frappe.safe_[01;31m[Keval(self.condition, None, get_context(temp_doc.as_dict()[m[K))
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K			except Exception:
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K:[m[K[32m[K109[m[K[36m[K:[m[K			if self.condition and not frappe.safe_[01;31m[Keval(self.condition, None, get_context(doc)[m[K):
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K				continue
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K-[m[K[32m[K202[m[K[36m[K-[m[K		if self.sender and self.sender_email:
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K:[m[K[32m[K203[m[K[36m[K:[m[K			sender = format[01;31m[Kaddr([m[K(self.sender, self.sender_email))
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K-[m[K[32m[K204[m[K[36m[K-[m[K		frappe.sendmail(recipients = recipients,
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K-[m[K[32m[K235[m[K[36m[K-[m[K			if recipient.condition:
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K:[m[K[32m[K236[m[K[36m[K:[m[K				if not frappe.safe_[01;31m[Keval(recipient.condition, None, context)[m[K:
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K-[m[K[32m[K237[m[K[36m[K-[m[K					continue
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K-[m[K[32m[K283[m[K[36m[K-[m[K			if recipient.condition:
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K:[m[K[32m[K284[m[K[36m[K:[m[K				if not frappe.safe_[01;31m[Keval(recipient.condition, None, context)[m[K:
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K-[m[K[32m[K285[m[K[36m[K-[m[K					continue
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K-[m[K[32m[K386[m[K[36m[K-[m[K		if alert.condition:
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K:[m[K[32m[K387[m[K[36m[K:[m[K			if not frappe.safe_[01;31m[Keval(alert.condition, None, context)[m[K:
[35m[K/tmp/frappe/frappe/email/doctype/notification/notification.py[m[K[36m[K-[m[K[32m[K388[m[K[36m[K-[m[K				return
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/email/doctype/email_group/email_group.py[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K			try:
[35m[K/tmp/frappe/frappe/email/doctype/email_group/email_group.py[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K				email = parse_[01;31m[Kaddr([m[Kuser.get(email_field))[1] if user.get(email_field) else None
[35m[K/tmp/frappe/frappe/email/doctype/email_group/email_group.py[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K				if email:
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/email/doctype/newsletter/newsletter.py[m[K[36m[K-[m[K[32m[K151[m[K[36m[K-[m[K	from frappe.model.naming import get_default_naming_series
[35m[K/tmp/frappe/frappe/email/doctype/newsletter/newsletter.py[m[K[36m[K:[m[K[32m[K152[m[K[36m[K:[m[K	full_name, email_id = parse_[01;31m[Kaddr([m[Kemail_id)
[35m[K/tmp/frappe/frappe/email/doctype/newsletter/newsletter.py[m[K[36m[K-[m[K[32m[K153[m[K[36m[K-[m[K	if frappe.db.get_value("Lead", {"email_id": email_id}):
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/email/receive.py[m[K[36m[K-[m[K[32m[K416[m[K[36m[K-[m[K
[35m[K/tmp/frappe/frappe/email/receive.py[m[K[36m[K:[m[K[32m[K417[m[K[36m[K:[m[K		self.from_real_name = parse_[01;31m[Kaddr([m[K_from_email)[0] if "@" in _from_email else _from_email
[35m[K/tmp/frappe/frappe/email/receive.py[m[K[36m[K-[m[K[32m[K418[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/email/smtp.py[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K	if sender:
[35m[K/tmp/frappe/frappe/email/smtp.py[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K		sender_email_id = parse_[01;31m[Kaddr([m[Ksender)[1]
[35m[K/tmp/frappe/frappe/email/smtp.py[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/email/smtp.py[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K				email_account.password = email_account.get_password(raise_exception=raise_exception)
[35m[K/tmp/frappe/frappe/email/smtp.py[m[K[36m[K:[m[K[32m[K98[m[K[36m[K:[m[K			email_account.default_sender = email.utils.format[01;31m[Kaddr([m[K(email_account.name, email_account.get("email_id")))
[35m[K/tmp/frappe/frappe/email/smtp.py[m[K[36m[K-[m[K[32m[K99[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/tests/test_safe_exec.py[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K
[35m[K/tmp/frappe/frappe/tests/test_safe_exec.py[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K	def test_safe_[01;31m[Keval(self)[m[K:
[35m[K/tmp/frappe/frappe/tests/test_safe_exec.py[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K		self.assertEqual(frappe.safe_eval('1+1'), 2)
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/data_migration/doctype/data_migration_mapping/data_migration_mapping.py[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K		if self.condition:
[35m[K/tmp/frappe/frappe/data_migration/doctype/data_migration_mapping/data_migration_mapping.py[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K			return frappe.safe_[01;31m[Keval(self.condition, get_safe_globals()[m[K)
[35m[K/tmp/frappe/frappe/data_migration/doctype/data_migration_mapping/data_migration_mapping.py[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/data_migration/doctype/data_migration_mapping/data_migration_mapping.py[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K	if field_name.startswith('eval:'):
[35m[K/tmp/frappe/frappe/data_migration/doctype/data_migration_mapping/data_migration_mapping.py[m[K[36m[K:[m[K[32m[K67[m[K[36m[K:[m[K		value = frappe.safe_[01;31m[Keval(field_name[5:], get_safe_globals()[m[K)
[35m[K/tmp/frappe/frappe/data_migration/doctype/data_migration_mapping/data_migration_mapping.py[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K	elif field_name[0] in ('"', "'"):
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/installer.py[m[K[36m[K-[m[K[32m[K515[m[K[36m[K-[m[K				line = line.strip().lstrip(head).rstrip(";").strip()
[35m[K/tmp/frappe/frappe/installer.py[m[K[36m[K:[m[K[32m[K516[m[K[36m[K:[m[K				app_rows = frappe.safe_[01;31m[Keval(line)[m[K
[35m[K/tmp/frappe/frappe/installer.py[m[K[36m[K-[m[K[32m[K517[m[K[36m[K-[m[K				# check if iterable consists of tuples before trying to transform
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/model/workflow.py[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K	else:
[35m[K/tmp/frappe/frappe/model/workflow.py[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K		return frappe.safe_[01;31m[Keval(transition.condition, get_workflow_safe_globals()[m[K, dict(doc=doc.as_dict()))
[35m[K/tmp/frappe/frappe/model/workflow.py[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/utils/user.py[m[K[36m[K-[m[K[32m[K248[m[K[36m[K-[m[K	else:
[35m[K/tmp/frappe/frappe/utils/user.py[m[K[36m[K:[m[K[32m[K249[m[K[36m[K:[m[K		return [email.utils.format[01;31m[Kaddr([m[K(p.fullname, p.name)) for p in system_managers]
[35m[K/tmp/frappe/frappe/utils/user.py[m[K[36m[K-[m[K[32m[K250[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/utils/__init__.py[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K	else:
[35m[K/tmp/frappe/frappe/utils/__init__.py[m[K[36m[K:[m[K[32m[K70[m[K[36m[K:[m[K		return cstr(make_header(decode_header(format[01;31m[Kaddr([m[K(fullname, mail)))))
[35m[K/tmp/frappe/frappe/utils/__init__.py[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/utils/__init__.py[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K	"""fetch only the email part of the Email Address"""
[35m[K/tmp/frappe/frappe/utils/__init__.py[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K	email_id = parse_[01;31m[Kaddr([m[Kemail)[1]
[35m[K/tmp/frappe/frappe/utils/__init__.py[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K	if email_id and isinstance(email_id, string_types) and not isinstance(email_id, text_type):
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/utils/__init__.py[m[K[36m[K-[m[K[32m[K521[m[K[36m[K-[m[K
[35m[K/tmp/frappe/frappe/utils/__init__.py[m[K[36m[K:[m[K[32m[K522[m[K[36m[K:[m[K		full_name, email_id = parse_[01;31m[Kaddr([m[Ke)
[35m[K/tmp/frappe/frappe/utils/__init__.py[m[K[36m[K:[m[K[32m[K523[m[K[36m[K:[m[K		sanitized.append(format[01;31m[Kaddr([m[K(full_name, email_id)))
[35m[K/tmp/frappe/frappe/utils/__init__.py[m[K[36m[K-[m[K[32m[K524[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/utils/__init__.py[m[K[36m[K-[m[K[32m[K526[m[K[36m[K-[m[K
[35m[K/tmp/frappe/frappe/utils/__init__.py[m[K[36m[K:[m[K[32m[K527[m[K[36m[K:[m[Kdef parse_[01;31m[Kaddr([m[Kemail_string):
[35m[K/tmp/frappe/frappe/utils/__init__.py[m[K[36m[K-[m[K[32m[K528[m[K[36m[K-[m[K	"""
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/utils/__init__.py[m[K[36m[K-[m[K[32m[K531[m[K[36m[K-[m[K	"""
[35m[K/tmp/frappe/frappe/utils/__init__.py[m[K[36m[K:[m[K[32m[K532[m[K[36m[K:[m[K	name, email = parse[01;31m[Kaddr([m[Kemail_string)
[35m[K/tmp/frappe/frappe/utils/__init__.py[m[K[36m[K-[m[K[32m[K533[m[K[36m[K-[m[K	if check_format(email):
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/integrations/doctype/webhook/webhook.py[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K			try:
[35m[K/tmp/frappe/frappe/integrations/doctype/webhook/webhook.py[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K				frappe.safe_[01;31m[Keval(self.condition, eval_locals=get_context(temp_doc)[m[K)
[35m[K/tmp/frappe/frappe/integrations/doctype/webhook/webhook.py[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K			except Exception as e:
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/integrations/doctype/webhook/__init__.py[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K			trigger_webhook = True
[35m[K/tmp/frappe/frappe/integrations/doctype/webhook/__init__.py[m[K[36m[K:[m[K[32m[K65[m[K[36m[K:[m[K		elif frappe.safe_[01;31m[Keval(webhook.condition, eval_locals=get_context(doc)[m[K):
[35m[K/tmp/frappe/frappe/integrations/doctype/webhook/__init__.py[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K			trigger_webhook = True
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/website/doctype/website_theme/website_theme.py[m[K[36m[K-[m[K[32m[K156[m[K[36m[K-[m[K
[35m[K/tmp/frappe/frappe/website/doctype/website_theme/website_theme.py[m[K[36m[K:[m[K[32m[K157[m[K[36m[K:[m[K	If [01;31m[K`$BENCH_PATH/apps/frappe/frappe/public/scss/website.scss`[m[K exists, the
[35m[K/tmp/frappe/frappe/website/doctype/website_theme/website_theme.py[m[K[36m[K-[m[K[32m[K158[m[K[36m[K-[m[K	returned set will contain 'frappe/public/scss/website'.
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/core/doctype/communication/test_communication.py[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K		for x in valid_email_list:
[35m[K/tmp/frappe/frappe/core/doctype/communication/test_communication.py[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K			self.assertTrue(frappe.utils.parse_[01;31m[Kaddr([m[Kx)[1])
[35m[K/tmp/frappe/frappe/core/doctype/communication/test_communication.py[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K
[35m[K/tmp/frappe/frappe/core/doctype/communication/test_communication.py[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K		for x in invalid_email_list:
[35m[K/tmp/frappe/frappe/core/doctype/communication/test_communication.py[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K			self.assertFalse(frappe.utils.parse_[01;31m[Kaddr([m[Kx)[0])
[35m[K/tmp/frappe/frappe/core/doctype/communication/test_communication.py[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/core/doctype/communication/test_communication.py[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K		for x in valid_email_list:
[35m[K/tmp/frappe/frappe/core/doctype/communication/test_communication.py[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K			self.assertTrue(frappe.utils.parse_[01;31m[Kaddr([m[Kx)[0])
[35m[K/tmp/frappe/frappe/core/doctype/communication/test_communication.py[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K
[35m[K/tmp/frappe/frappe/core/doctype/communication/test_communication.py[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K		for x in invalid_email_list:
[35m[K/tmp/frappe/frappe/core/doctype/communication/test_communication.py[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K			self.assertFalse(frappe.utils.parse_[01;31m[Kaddr([m[Kx)[0])
[35m[K/tmp/frappe/frappe/core/doctype/communication/test_communication.py[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/core/doctype/communication/communication.py[m[K[36m[K-[m[K[32m[K162[m[K[36m[K-[m[K					validate_email_address(self.sender, throw=True)
[35m[K/tmp/frappe/frappe/core/doctype/communication/communication.py[m[K[36m[K:[m[K[32m[K163[m[K[36m[K:[m[K				sender_name, sender_email = parse_[01;31m[Kaddr([m[Kself.sender)
[35m[K/tmp/frappe/frappe/core/doctype/communication/communication.py[m[K[36m[K-[m[K[32m[K164[m[K[36m[K-[m[K				if sender_name == sender_email:
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/core/doctype/communication/communication.py[m[K[36m[K-[m[K[32m[K347[m[K[36m[K-[m[K			for email in email_string.split(","):
[35m[K/tmp/frappe/frappe/core/doctype/communication/communication.py[m[K[36m[K:[m[K[32m[K348[m[K[36m[K:[m[K				parsed_email = parse[01;31m[Kaddr([m[Kemail)[1]
[35m[K/tmp/frappe/frappe/core/doctype/communication/communication.py[m[K[36m[K-[m[K[32m[K349[m[K[36m[K-[m[K				if parsed_email:
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/core/doctype/communication/email.py[m[K[36m[K-[m[K[32m[K323[m[K[36m[K-[m[K		exclude += [d[0] for d in frappe.db.get_all("User", ["email"], {"thread_notify": 0}, as_list=True)]
[35m[K/tmp/frappe/frappe/core/doctype/communication/email.py[m[K[36m[K:[m[K[32m[K324[m[K[36m[K:[m[K		exclude += [(parse_[01;31m[Kaddr([m[Kemail)[1] or "").lower() for email in recipients]
[35m[K/tmp/frappe/frappe/core/doctype/communication/email.py[m[K[36m[K-[m[K[32m[K325[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/core/doctype/communication/email.py[m[K[36m[K-[m[K[32m[K327[m[K[36m[K-[m[K			# exclude sender when pulling email
[35m[K/tmp/frappe/frappe/core/doctype/communication/email.py[m[K[36m[K:[m[K[32m[K328[m[K[36m[K:[m[K			exclude += [parse_[01;31m[Kaddr([m[Kdoc.sender)[1]]
[35m[K/tmp/frappe/frappe/core/doctype/communication/email.py[m[K[36m[K-[m[K[32m[K329[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/core/doctype/communication/email.py[m[K[36m[K-[m[K[32m[K344[m[K[36m[K-[m[K		exclude += [d[0] for d in frappe.db.get_all("User", ["email"], {"thread_notify": 0}, as_list=True)]
[35m[K/tmp/frappe/frappe/core/doctype/communication/email.py[m[K[36m[K:[m[K[32m[K345[m[K[36m[K:[m[K		exclude += [(parse_[01;31m[Kaddr([m[Kemail)[1] or "").lower() for email in recipients]
[35m[K/tmp/frappe/frappe/core/doctype/communication/email.py[m[K[36m[K-[m[K[32m[K346[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/core/doctype/communication/email.py[m[K[36m[K-[m[K[32m[K348[m[K[36m[K-[m[K			# exclude sender when pulling email
[35m[K/tmp/frappe/frappe/core/doctype/communication/email.py[m[K[36m[K:[m[K[32m[K349[m[K[36m[K:[m[K			exclude += [parse_[01;31m[Kaddr([m[Kdoc.sender)[1]]
[35m[K/tmp/frappe/frappe/core/doctype/communication/email.py[m[K[36m[K-[m[K[32m[K350[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/core/doctype/communication/email.py[m[K[36m[K-[m[K[32m[K383[m[K[36m[K-[m[K	for email in list(set(email_list)):
[35m[K/tmp/frappe/frappe/core/doctype/communication/email.py[m[K[36m[K:[m[K[32m[K384[m[K[36m[K:[m[K		email_address = (parse_[01;31m[Kaddr([m[Kemail)[1] or "").lower()
[35m[K/tmp/frappe/frappe/core/doctype/communication/email.py[m[K[36m[K-[m[K[32m[K385[m[K[36m[K-[m[K		if not email_address:
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/public/js/frappe/recorder/RequestDetail.vue[m[K[36m[K-[m[K[32m[K209[m[K[36m[K-[m[K				{label: "Time in Queries (ms)", slug: "time_queries", type: "Float", class: "col-sm-6"},
[35m[K/tmp/frappe/frappe/public/js/frappe/recorder/RequestDetail.vue[m[K[36m[K:[m[K[32m[K210[m[K[36m[K:[m[K				{label: "Request Headers", slug: "headers", type: "Small Text", formatter: value => [01;31m[K`<pre class="for-description like-disabled-input">${JSON.stringify(value, null, 4)}</pre>`[m[K, class: "col-sm-12"},
[35m[K/tmp/frappe/frappe/public/js/frappe/recorder/RequestDetail.vue[m[K[36m[K:[m[K[32m[K211[m[K[36m[K:[m[K				{label: "Form Dict", slug: "form_dict", type: "Small Text", formatter: value => [01;31m[K`<pre class="for-description like-disabled-input">${JSON.stringify(value, null, 4)}</pre>`[m[K, class: "col-sm-12"},
[35m[K/tmp/frappe/frappe/public/js/frappe/recorder/RequestDetail.vue[m[K[36m[K-[m[K[32m[K212[m[K[36m[K-[m[K			],
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/public/js/frappe/file_uploader/FileUploader.vue[m[K[36m[K-[m[K[32m[K433[m[K[36m[K-[m[K			capture.submit(data_url => {
[35m[K/tmp/frappe/frappe/public/js/frappe/file_uploader/FileUploader.vue[m[K[36m[K:[m[K[32m[K434[m[K[36m[K:[m[K				let filename = [01;31m[K`capture_${frappe.datetime.now_datetime().replaceAll(/[: -]/g, '_')}.png`[m[K;
[35m[K/tmp/frappe/frappe/public/js/frappe/file_uploader/FileUploader.vue[m[K[36m[K-[m[K[32m[K435[m[K[36m[K-[m[K				this.url_to_file(data_url, filename, 'image/png').then((file) =>
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/__init__.py[m[K[36m[K-[m[K[32m[K1655[m[K[36m[K-[m[K
[35m[K/tmp/frappe/frappe/__init__.py[m[K[36m[K:[m[K[32m[K1656[m[K[36m[K:[m[Kdef safe_[01;31m[Keval(code, eval_globals=None, eval_locals=None)[m[K:
[35m[K/tmp/frappe/frappe/__init__.py[m[K[36m[K-[m[K[32m[K1657[m[K[36m[K-[m[K	'''A safer `eval`'''
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/__init__.py[m[K[36m[K-[m[K[32m[K1672[m[K[36m[K-[m[K	eval_globals.update(whitelisted_globals)
[35m[K/tmp/frappe/frappe/__init__.py[m[K[36m[K:[m[K[32m[K1673[m[K[36m[K:[m[K	return [01;31m[Keval(code, eval_globals, eval_locals)[m[K
[35m[K/tmp/frappe/frappe/__init__.py[m[K[36m[K-[m[K[32m[K1674[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/commands/utils.py[m[K[36m[K-[m[K[32m[K150[m[K[36m[K-[m[K				try:
[35m[K/tmp/frappe/frappe/commands/utils.py[m[K[36m[K:[m[K[32m[K151[m[K[36m[K:[m[K					args = [01;31m[Keval(args)[m[K
[35m[K/tmp/frappe/frappe/commands/utils.py[m[K[36m[K-[m[K[32m[K152[m[K[36m[K-[m[K				except NameError:
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/commands/utils.py[m[K[36m[K-[m[K[32m[K157[m[K[36m[K-[m[K			if kwargs:
[35m[K/tmp/frappe/frappe/commands/utils.py[m[K[36m[K:[m[K[32m[K158[m[K[36m[K:[m[K				kwargs = [01;31m[Keval(kwargs)[m[K
[35m[K/tmp/frappe/frappe/commands/utils.py[m[K[36m[K-[m[K[32m[K159[m[K[36m[K-[m[K			else:
[36m[K##############################################[m[K
[35m[K/tmp/frappe/frappe/commands/utils.py[m[K[36m[K-[m[K[32m[K659[m[K[36m[K-[m[K	if as_dict:
[35m[K/tmp/frappe/frappe/commands/utils.py[m[K[36m[K:[m[K[32m[K660[m[K[36m[K:[m[K		value = ast.literal_[01;31m[Keval(value)[m[K
[35m[K/tmp/frappe/frappe/commands/utils.py[m[K[36m[K-[m[K[32m[K661[m[K[36m[K-[m[K
