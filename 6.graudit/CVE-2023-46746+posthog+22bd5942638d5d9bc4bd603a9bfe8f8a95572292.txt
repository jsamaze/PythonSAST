===========================================================
                                      .___ __  __   
          _________________  __ __  __| _/|__|/  |_ 
         / ___\_` __ \__  \ |  |  \/ __ | | \\_  __\
        / /_/  >  | \// __ \|  |  / /_/ | |  ||  |  
        \___  /|__|  (____  /____/\____ | |__||__|  
       /_____/            \/           \/           
              grep rough audit - static analysis tool
                  v3.5 written by @Wireghoul
=================================[justanotherhacker.com]===
[35m[K/tmp/posthog/playwright/helpers/storybook.ts[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K// Generate a story id from a story kind and name
[35m[K/tmp/posthog/playwright/helpers/storybook.ts[m[K[36m[K:[m[K[32m[K12[m[K[36m[K:[m[Kexport const toId = (kind: string, name?: string): string => [01;31m[K`${sanitize(kind)}${name ? `[m[K--${sanitize(name)}` : ''}`
[36m[K##############################################[m[K
[35m[K/tmp/posthog/playwright/pages/storybook.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K    async goto(storyId: string): Promise<void> {
[35m[K/tmp/posthog/playwright/pages/storybook.ts[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K        const storyUrl = [01;31m[K`${STORYBOOK_URL}/iframe.html?id=${storyId}&viewMode=story`[m[K
[35m[K/tmp/posthog/playwright/pages/storybook.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K        await this.page.goto(storyUrl, { waitUntil: 'networkidle' })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/playwright/pages/storybook.ts[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K        const pseudoClasses = Object.entries(pseudo || {}).flatMap(([state, enabled]) => {
[35m[K/tmp/posthog/playwright/pages/storybook.ts[m[K[36m[K:[m[K[32m[K50[m[K[36m[K:[m[K            return enabled ? [01;31m[K`pseudo-${PSEUDO_STATES[state]}`[m[K : []
[35m[K/tmp/posthog/playwright/pages/storybook.ts[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K        })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/tasks/send_license_usage.py[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K        events_count = sync_execute(
[35m[K/tmp/posthog/ee/tasks/send_license_usage.py[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K            "select count(1) from events [01;31m[Kwhere timestamp >= %(date_from)s and timestamp < %(date_to)s and not startsWith(event, '$$')",[m[K
[35m[K/tmp/posthog/ee/tasks/send_license_usage.py[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K            {"date_from": date_from, "date_to": date_to},
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/benchmarks/measure.sh[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K          query NOT LIKE '%query_log%'
[35m[K/tmp/posthog/ee/benchmarks/measure.sh[m[K[36m[K:[m[K[32m[K129[m[K[36m[K:[m[K          [01;31m[KAND query LIKE '%measure.sh:$[m[KRANDOM_QUERY_ID%'
[35m[K/tmp/posthog/ee/benchmarks/measure.sh[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K          AND type = 'QueryFinish'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/benchmarks/measure.sh[m[K[36m[K-[m[K[32m[K149[m[K[36m[K-[m[K      FROM system.query_log
[35m[K/tmp/posthog/ee/benchmarks/measure.sh[m[K[36m[K:[m[K[32m[K150[m[K[36m[K:[m[K      [01;31m[KWHERE query_id='$QUERY_ID'[m[K AND type = 'QueryFinish'
[35m[K/tmp/posthog/ee/benchmarks/measure.sh[m[K[36m[K-[m[K[32m[K151[m[K[36m[K-[m[K      LIMIT 1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/funnels/test/test_funnel_correlation.py[m[K[36m[K-[m[K[32m[K806[m[K[36m[K-[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/funnels/test/test_funnel_correlation.py[m[K[36m[K:[m[K[32m[K807[m[K[36m[K:[m[K        # test with [01;31m[K`$all`[m[K as property
[35m[K/tmp/posthog/ee/clickhouse/queries/funnels/test/test_funnel_correlation.py[m[K[36m[K-[m[K[32m[K808[m[K[36m[K-[m[K        # _run property correlation with filter on all properties
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/funnels/test/test_funnel_correlation.py[m[K[36m[K-[m[K[32m[K1009[m[K[36m[K-[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/funnels/test/test_funnel_correlation.py[m[K[36m[K:[m[K[32m[K1010[m[K[36m[K:[m[K            # test with [01;31m[K`$all`[m[K as property
[35m[K/tmp/posthog/ee/clickhouse/queries/funnels/test/test_funnel_correlation.py[m[K[36m[K-[m[K[32m[K1011[m[K[36m[K-[m[K            # _run property correlation with filter on all properties
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K3533[m[K[36m[K-[m[K                        pdi.person_id AS person_id,
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K3534[m[K[36m[K:[m[K                        ifNull(if(equals(event, '$screen'), nullIf(nullIf(e.[01;31m[K`mat_$screen_name`[m[K, ''), 'null'), if(equals(event, '$pageview'), replaceRegexpAll(ifNull(nullIf(nullIf(e.[01;31m[K`mat_$current_url`[m[K, ''), 'null'), ''), '(.)/$', '\\1'), event)), '') AS path_item_ungrouped,
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K3535[m[K[36m[K-[m[K                        multiMatchAnyIndex(path_item_ungrouped, NULL) AS group_index,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K3612[m[K[36m[K-[m[K                        pdi.person_id AS person_id,
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K3613[m[K[36m[K:[m[K                        ifNull(if(equals(event, '$screen'), nullIf(nullIf(e.[01;31m[K`mat_$screen_name`[m[K, ''), 'null'), if(equals(event, '$pageview'), replaceRegexpAll(ifNull(nullIf(nullIf(e.[01;31m[K`mat_$current_url`[m[K, ''), 'null'), ''), '(.)/$', '\\1'), event)), '') AS path_item_ungrouped,
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K3614[m[K[36m[K-[m[K                        multiMatchAnyIndex(path_item_ungrouped, NULL) AS group_index,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4021[m[K[36m[K-[m[K                 WHERE team_id = 2
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K4022[m[K[36m[K:[m[K                   [01;31m[KAND (NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4023[m[K[36m[K-[m[K                   AND toTimeZone(timestamp, 'UTC') >= toDateTime('2012-01-01 00:00:00', 'UTC')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4260[m[K[36m[K-[m[K                        OR event = '$screen'
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K4261[m[K[36m[K:[m[K                        [01;31m[KOR NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4262[m[K[36m[K-[m[K                   AND toTimeZone(timestamp, 'UTC') >= toDateTime('2012-01-01 00:00:00', 'UTC')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4341[m[K[36m[K-[m[K                        OR event = '$screen'
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K4342[m[K[36m[K:[m[K                        [01;31m[KOR NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4343[m[K[36m[K-[m[K                   AND NOT path_item IN ['/custom1', '/1', '/2', '/3']
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4421[m[K[36m[K-[m[K                 WHERE team_id = 2
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K4422[m[K[36m[K:[m[K                   [01;31m[KAND (NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4423[m[K[36m[K-[m[K                   AND toTimeZone(timestamp, 'UTC') >= toDateTime('2021-05-01 00:00:00', 'UTC')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4502[m[K[36m[K-[m[K                        OR event = '$screen'
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K4503[m[K[36m[K:[m[K                        [01;31m[KOR NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4504[m[K[36m[K-[m[K                   AND toTimeZone(timestamp, 'UTC') >= toDateTime('2012-01-01 00:00:00', 'UTC')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4585[m[K[36m[K-[m[K                        OR event = '$screen'
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K4586[m[K[36m[K:[m[K                        [01;31m[KOR NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4587[m[K[36m[K-[m[K                   AND toTimeZone(timestamp, 'UTC') >= toDateTime('2012-01-01 00:00:00', 'UTC')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4668[m[K[36m[K-[m[K                        OR event = '$screen'
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K4669[m[K[36m[K:[m[K                        [01;31m[KOR NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4670[m[K[36m[K-[m[K                   AND toTimeZone(timestamp, 'UTC') >= toDateTime('2012-01-01 00:00:00', 'UTC')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4827[m[K[36m[K-[m[K                 WHERE team_id = 2
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K4828[m[K[36m[K:[m[K                   [01;31m[KAND (NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4829[m[K[36m[K-[m[K                   AND toTimeZone(timestamp, 'UTC') >= toDateTime('2021-05-01 00:00:00', 'UTC')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4901[m[K[36m[K-[m[K                 WHERE team_id = 2
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K4902[m[K[36m[K:[m[K                   [01;31m[KAND (NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4903[m[K[36m[K-[m[K                   AND toTimeZone(timestamp, 'UTC') >= toDateTime('2021-05-01 00:00:00', 'UTC')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4974[m[K[36m[K-[m[K                 WHERE team_id = 2
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K4975[m[K[36m[K:[m[K                   [01;31m[KAND (NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K4976[m[K[36m[K-[m[K                   AND toTimeZone(timestamp, 'UTC') >= toDateTime('2021-05-01 00:00:00', 'UTC')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K5047[m[K[36m[K-[m[K                 WHERE team_id = 2
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K5048[m[K[36m[K:[m[K                   [01;31m[KAND (NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K5049[m[K[36m[K-[m[K                   AND toTimeZone(timestamp, 'UTC') >= toDateTime('2021-05-01 00:00:00', 'UTC')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K5121[m[K[36m[K-[m[K                 WHERE team_id = 2
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K5122[m[K[36m[K:[m[K                   [01;31m[KAND (NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K5123[m[K[36m[K-[m[K                   AND toTimeZone(timestamp, 'UTC') >= toDateTime('2021-05-01 00:00:00', 'UTC')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K5194[m[K[36m[K-[m[K                 WHERE team_id = 2
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K5195[m[K[36m[K:[m[K                   [01;31m[KAND (NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K5196[m[K[36m[K-[m[K                   AND toTimeZone(timestamp, 'UTC') >= toDateTime('2021-05-01 00:00:00', 'UTC')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K5267[m[K[36m[K-[m[K                 WHERE team_id = 2
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K5268[m[K[36m[K:[m[K                   [01;31m[KAND (NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K5269[m[K[36m[K-[m[K                   AND toTimeZone(timestamp, 'UTC') >= toDateTime('2021-05-01 00:00:00', 'UTC')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K5341[m[K[36m[K-[m[K                 WHERE team_id = 2
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K5342[m[K[36m[K:[m[K                   [01;31m[KAND (NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K5343[m[K[36m[K-[m[K                   AND toTimeZone(timestamp, 'UTC') >= toDateTime('2021-05-01 00:00:00', 'UTC')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K5414[m[K[36m[K-[m[K                 WHERE team_id = 2
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K5415[m[K[36m[K:[m[K                   [01;31m[KAND (NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K5416[m[K[36m[K-[m[K                   AND toTimeZone(timestamp, 'UTC') >= toDateTime('2021-05-01 00:00:00', 'UTC')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K5505[m[K[36m[K-[m[K                        OR event = '$screen'
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K5506[m[K[36m[K:[m[K                        [01;31m[KOR NOT event LIKE '$[m[K%')
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K5507[m[K[36m[K-[m[K                   AND toTimeZone(timestamp, 'UTC') >= toDateTime('2012-01-01 00:00:00', 'UTC')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K6585[m[K[36m[K-[m[K                        pdi.person_id AS person_id,
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K6586[m[K[36m[K:[m[K                        ifNull(if(equals(event, '$screen'), nullIf(nullIf(e.[01;31m[K`mat_$screen_name`[m[K, ''), 'null'), if(equals(event, '$pageview'), replaceRegexpAll(ifNull(nullIf(nullIf(e.[01;31m[K`mat_$current_url`[m[K, ''), 'null'), ''), '(.)/$', '\\1'), event)), '') AS path_item_ungrouped,
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K6587[m[K[36m[K-[m[K                        multiMatchAnyIndex(path_item_ungrouped, NULL) AS group_index,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K6664[m[K[36m[K-[m[K                        pdi.person_id AS person_id,
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K6665[m[K[36m[K:[m[K                        ifNull(if(equals(event, '$screen'), nullIf(nullIf(e.[01;31m[K`mat_$screen_name`[m[K, ''), 'null'), if(equals(event, '$pageview'), replaceRegexpAll(ifNull(nullIf(nullIf(e.[01;31m[K`mat_$current_url`[m[K, ''), 'null'), ''), '(.)/$', '\\1'), event)), '') AS path_item_ungrouped,
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K6666[m[K[36m[K-[m[K                        multiMatchAnyIndex(path_item_ungrouped, NULL) AS group_index,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K6745[m[K[36m[K-[m[K                        pdi.person_id AS person_id,
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K6746[m[K[36m[K:[m[K                        ifNull(if(equals(event, '$screen'), nullIf(nullIf(e.[01;31m[K`mat_$screen_name`[m[K, ''), 'null'), if(equals(event, '$pageview'), replaceRegexpAll(ifNull(nullIf(nullIf(e.[01;31m[K`mat_$current_url`[m[K, ''), 'null'), ''), '(.)/$', '\\1'), event)), '') AS path_item_ungrouped,
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K6747[m[K[36m[K-[m[K                        multiMatchAnyIndex(path_item_ungrouped, NULL) AS group_index,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K6824[m[K[36m[K-[m[K                        pdi.person_id AS person_id,
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K:[m[K[32m[K6825[m[K[36m[K:[m[K                        ifNull(if(equals(event, '$screen'), nullIf(nullIf(e.[01;31m[K`mat_$screen_name`[m[K, ''), 'null'), if(equals(event, '$pageview'), replaceRegexpAll(ifNull(nullIf(nullIf(e.[01;31m[K`mat_$current_url`[m[K, ''), 'null'), ''), '(.)/$', '\\1'), event)), '') AS path_item_ungrouped,
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_paths.ambr[m[K[36m[K-[m[K[32m[K6826[m[K[36m[K-[m[K                        multiMatchAnyIndex(path_item_ungrouped, NULL) AS group_index,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_lifecycle.ambr[m[K[36m[K-[m[K[32m[K428[m[K[36m[K-[m[K             AND timestamp < toDateTime(dateTrunc('day', toDateTime('2021-05-05 23:59:59', 'UTC'))) + INTERVAL 1 day
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_lifecycle.ambr[m[K[36m[K:[m[K[32m[K429[m[K[36m[K:[m[K             AND (and(like(nullIf(nullIf(events.[01;31m[K`mat_$current_url`[m[K, ''), 'null'), '%example%'), 1))
[35m[K/tmp/posthog/ee/clickhouse/queries/test/__snapshots__/test_lifecycle.ambr[m[K[36m[K-[m[K[32m[K430[m[K[36m[K-[m[K           GROUP BY pdi.person_id)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/ee/clickhouse/bin/flamegraph.pl[m[K[36m[K-[m[K[32m[K1090[m[K[36m[K-[m[KINC
[35m[K/tmp/posthog/ee/clickhouse/bin/flamegraph.pl[m[K[36m[K:[m[K[32m[K1091[m[K[36m[K:[m[K$im->[01;31m[Kinclude($inc)[m[K;
[35m[K/tmp/posthog/ee/clickhouse/bin/flamegraph.pl[m[K[36m[K-[m[K[32m[K1092[m[K[36m[K-[m[K$im->filledRectangle(0, 0, $imagewidth, $imageheight, 'url(#background)');
[36m[K##############################################[m[K
[35m[K/tmp/posthog/.storybook/test-runner.ts[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K
[35m[K/tmp/posthog/.storybook/test-runner.ts[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[Kconst customSnapshotsDir = [01;31m[K`${process.cwd()}/frontend/__snapshots__`[m[K
[35m[K/tmp/posthog/.storybook/test-runner.ts[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/.storybook/test-runner.ts[m[K[36m[K-[m[K[32m[K179[m[K[36m[K-[m[K            if (popoverBoundingClientRect.right > currentRootBoundingClientRect.right) {
[35m[K/tmp/posthog/.storybook/test-runner.ts[m[K[36m[K:[m[K[32m[K180[m[K[36m[K:[m[K                rootEl.style.width = [01;31m[K`${popoverBoundingClientRect.right}px`[m[K
[35m[K/tmp/posthog/.storybook/test-runner.ts[m[K[36m[K-[m[K[32m[K181[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/.storybook/test-runner.ts[m[K[36m[K-[m[K[32m[K182[m[K[36m[K-[m[K            if (popoverBoundingClientRect.bottom > currentRootBoundingClientRect.bottom) {
[35m[K/tmp/posthog/.storybook/test-runner.ts[m[K[36m[K:[m[K[32m[K183[m[K[36m[K:[m[K                rootEl.style.height = [01;31m[K`${popoverBoundingClientRect.bottom}px`[m[K
[35m[K/tmp/posthog/.storybook/test-runner.ts[m[K[36m[K-[m[K[32m[K184[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/.storybook/test-runner.ts[m[K[36m[K-[m[K[32m[K207[m[K[36m[K-[m[K    if (browser !== 'chromium') {
[35m[K/tmp/posthog/.storybook/test-runner.ts[m[K[36m[K:[m[K[32m[K208[m[K[36m[K:[m[K        customSnapshotIdentifier += [01;31m[K`--${browser}`[m[K
[35m[K/tmp/posthog/.storybook/test-runner.ts[m[K[36m[K-[m[K[32m[K209[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/support/random.ts[m[K[36m[K-[m[K[32m[K2[m[K[36m[K-[m[K    const uuid = (): number => Cypress._.random(0, 1e6)
[35m[K/tmp/posthog/cypress/support/random.ts[m[K[36m[K:[m[K[32m[K3[m[K[36m[K:[m[K    return [01;31m[K`${prefix}${uuid()}`[m[K
[35m[K/tmp/posthog/cypress/support/random.ts[m[K[36m[K-[m[K[32m[K4[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/support/commands.ts[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[KCypress.Commands.add('clickNavMenu', (name) => {
[35m[K/tmp/posthog/cypress/support/commands.ts[m[K[36m[K:[m[K[32m[K14[m[K[36m[K:[m[K    cy.get([01;31m[K`[data-attr="menu-item-${name}"]`[m[K).click()
[35m[K/tmp/posthog/cypress/support/commands.ts[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K})
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/support/accessibility.ts[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K        (violations) => {
[35m[K/tmp/posthog/cypress/support/accessibility.ts[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K            cy.log([01;31m[K`${violations.length} violation(s) detected`[m[K)
[35m[K/tmp/posthog/cypress/support/accessibility.ts[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K
[35m[K/tmp/posthog/cypress/support/accessibility.ts[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[K            cy.writeFile([01;31m[K`a11y/${tag}accessibility-violations.json`[m[K, JSON.stringify(violations))
[35m[K/tmp/posthog/cypress/support/accessibility.ts[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K        cy.get('[data-attr=saved-insights-new-insight-dropdown]').click()
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-attr-insight-type="${insightType || 'TRENDS'}"`[m[K).click()
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K        cy.get(`[data-attr="insight-${(tabName === 'PATHS' ? 'PATH' : tabName).toLowerCase()}-tab"]`).click()
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K:[m[K[32m[K81[m[K[36m[K:[m[K        cy.wait([01;31m[K`@${networkInterceptAlias}`[m[K)
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K            cy.get('[data-attr="saved-insights-new-insight-dropdown"]').click()
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K:[m[K[32m[K94[m[K[36m[K:[m[K            cy.get([01;31m[K`[data-attr-insight-type="${insightType}"]`[m[K).click()
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K        }
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K:[m[K[32m[K97[m[K[36m[K:[m[K        cy.wait([01;31m[K`@${networkInterceptAlias}`[m[K)
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K-[m[K[32m[K101[m[K[36m[K-[m[K        cy.get('[data-attr="saved-insights-new-insight-dropdown"]').click()
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K:[m[K[32m[K102[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-attr-insight-type="${insightType}"]`[m[K).click()
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K        // so force: true is needed everywhere
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K:[m[K[32m[K132[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-attr="${selector}"] textarea`[m[K).type('{selectall}', { force: true })
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K:[m[K[32m[K133[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-attr="${selector}"] textarea`[m[K).type('{backspace}', { force: true })
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K:[m[K[32m[K134[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-attr="${selector}"] textarea`[m[K).type('{selectall}', { force: true })
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K:[m[K[32m[K135[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-attr="${selector}"] textarea`[m[K).type('{backspace}', { force: true })
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K:[m[K[32m[K136[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-attr="${selector}"] textarea`[m[K).type('{selectall}', { force: true })
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K:[m[K[32m[K137[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-attr="${selector}"] textarea`[m[K).type('{backspace}', { force: true })
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K:[m[K[32m[K138[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-attr="${selector}"] textarea`[m[K).type('{selectall}', { force: true })
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K:[m[K[32m[K139[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-attr="${selector}"] textarea`[m[K).type('{backspace}', { force: true })
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K-[m[K[32m[K140[m[K[36m[K-[m[K
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K:[m[K[32m[K141[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-attr="${selector}"] textarea`[m[K).type(query, { force: true })
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K-[m[K[32m[K142[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K-[m[K[32m[K146[m[K[36m[K-[m[K        for (let i = 0; i < 10; i++) {
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K:[m[K[32m[K147[m[K[36m[K:[m[K            cy.get([01;31m[K`[data-attr="${selector}"] textarea`[m[K).type('{del}', { force: true })
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K-[m[K[32m[K148[m[K[36m[K-[m[K        }
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K-[m[K[32m[K149[m[K[36m[K-[m[K
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K:[m[K[32m[K150[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-attr="${selector}-save"]`[m[K).click()
[35m[K/tmp/posthog/cypress/productAnalytics/index.ts[m[K[36m[K-[m[K[32m[K151[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/insightsPremium.cy.ts[m[K[36m[K-[m[K[32m[K7[m[K[36m[K-[m[K    xit('Tag insight', () => {
[35m[K/tmp/posthog/cypress/e2e/insightsPremium.cy.ts[m[K[36m[K:[m[K[32m[K8[m[K[36m[K:[m[K        const newTag = [01;31m[K`test-${Math.floor(Math.random() * 10000)}`[m[K
[35m[K/tmp/posthog/cypress/e2e/insightsPremium.cy.ts[m[K[36m[K-[m[K[32m[K9[m[K[36m[K-[m[K        cy.get('[data-attr=button-add-tag]').click()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/insightsPremium.cy.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K    xit('Cannot add duplicate tags', () => {
[35m[K/tmp/posthog/cypress/e2e/insightsPremium.cy.ts[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K        const newTag = [01;31m[K`test2-${Math.floor(Math.random() * 10000)}`[m[K
[35m[K/tmp/posthog/cypress/e2e/insightsPremium.cy.ts[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K        cy.get('[data-attr=button-add-tag]').click()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/featureFlags.cy.ts[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K        cy.get('[data-attr=new-feature-flag]').click()
[35m[K/tmp/posthog/cypress/e2e/featureFlags.cy.ts[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K        cy.get('[data-attr=feature-flag-key]').click().type([01;31m[K`{moveToEnd}${name}`[m[K).should('have.value', name)
[35m[K/tmp/posthog/cypress/e2e/featureFlags.cy.ts[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K        cy.get('[data-attr=feature-flag-description]')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/featureFlags.cy.ts[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K
[35m[K/tmp/posthog/cypress/e2e/featureFlags.cy.ts[m[K[36m[K:[m[K[32m[K61[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-row-key=${name}]`[m[K).contains(name).click()
[35m[K/tmp/posthog/cypress/e2e/featureFlags.cy.ts[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K        cy.get(`[data-attr=edit-feature-flag]`).click()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/featureFlags.cy.ts[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K
[35m[K/tmp/posthog/cypress/e2e/featureFlags.cy.ts[m[K[36m[K:[m[K[32m[K72[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-row-key=${name}-updated] [data-attr=more-button]`[m[K).click()
[35m[K/tmp/posthog/cypress/e2e/featureFlags.cy.ts[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K        cy.contains(`Try out in Insights`).click()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/featureFlags.cy.ts[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K        cy.get('[data-attr=feature-flag-table]').should('contain', name)
[35m[K/tmp/posthog/cypress/e2e/featureFlags.cy.ts[m[K[36m[K:[m[K[32m[K90[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-row-key=${name}]`[m[K).contains(name).click()
[35m[K/tmp/posthog/cypress/e2e/featureFlags.cy.ts[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K        cy.get('[data-attr=delete-feature-flag]').click()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/exports.cy.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K            source: expectedFileName,
[35m[K/tmp/posthog/cypress/e2e/exports.cy.ts[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K            reference: [01;31m[K`../data/exports/${expectedFileName}`[m[K,
[35m[K/tmp/posthog/cypress/e2e/exports.cy.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K            diffThreshold: 0.01,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/a11y.cy.ts[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K    sidebarItems.forEach((sideBarItem) => {
[35m[K/tmp/posthog/cypress/e2e/a11y.cy.ts[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K        it([01;31m[K`${sideBarItem} should have no accessibility violations`[m[K, () => {
[35m[K/tmp/posthog/cypress/e2e/a11y.cy.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K            cy.clickNavMenu(sideBarItem)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/dashboardPremium.cy.ts[m[K[36m[K-[m[K[32m[K9[m[K[36m[K-[m[K    xit('Tag dashboard', () => {
[35m[K/tmp/posthog/cypress/e2e/dashboardPremium.cy.ts[m[K[36m[K:[m[K[32m[K10[m[K[36m[K:[m[K        const newTag = [01;31m[K`test-${Math.floor(Math.random() * 10000)}`[m[K
[35m[K/tmp/posthog/cypress/e2e/dashboardPremium.cy.ts[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K        cy.get('[data-attr=dashboard-name]').contains('App Analytics').click()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/dashboardPremium.cy.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K    xit('Cannot add duplicate tags', () => {
[35m[K/tmp/posthog/cypress/e2e/dashboardPremium.cy.ts[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K        const newTag = [01;31m[K`test2-${Math.floor(Math.random() * 10000)}`[m[K
[35m[K/tmp/posthog/cypress/e2e/dashboardPremium.cy.ts[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K        cy.get('[data-attr=dashboard-name]').contains('App Analytics').click()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/auto-redirect.cy.ts[m[K[36m[K-[m[K[32m[K9[m[K[36m[K-[m[K
[35m[K/tmp/posthog/cypress/e2e/auto-redirect.cy.ts[m[K[36m[K:[m[K[32m[K10[m[K[36m[K:[m[K        cy.visit([01;31m[K`/login?next=${redirect_path}`[m[K)
[35m[K/tmp/posthog/cypress/e2e/auto-redirect.cy.ts[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/auto-redirect.cy.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K
[35m[K/tmp/posthog/cypress/e2e/auto-redirect.cy.ts[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K        cy.visit([01;31m[K`/login?next=${redirect_path}`[m[K)
[35m[K/tmp/posthog/cypress/e2e/auto-redirect.cy.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/trends.cy.ts[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K
[35m[K/tmp/posthog/cypress/e2e/trends.cy.ts[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[K        cy.wait([01;31m[K`@${networkInterceptAlias}`[m[K)
[35m[K/tmp/posthog/cypress/e2e/trends.cy.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/invites.cy.ts[m[K[36m[K-[m[K[32m[K5[m[K[36m[K-[m[K        const user = randomString('user-charlie-')
[35m[K/tmp/posthog/cypress/e2e/invites.cy.ts[m[K[36m[K:[m[K[32m[K6[m[K[36m[K:[m[K        const email = [01;31m[K`${user}@posthog.com`[m[K
[35m[K/tmp/posthog/cypress/e2e/invites.cy.ts[m[K[36m[K-[m[K[32m[K7[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/invites.cy.ts[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K        cy.get('.LemonModal .LemonButton').contains('Yes, cancel invite').click()
[35m[K/tmp/posthog/cypress/e2e/invites.cy.ts[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K        cy.get('.Toastify__toast-body').should('contain', [01;31m[K`Invite for ${email} has been canceled`[m[K)
[35m[K/tmp/posthog/cypress/e2e/invites.cy.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K        cy.get('[data-attr=invites-table] tbody td').should('not.contain', email)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/invites.cy.ts[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K        // Enter invite the user
[35m[K/tmp/posthog/cypress/e2e/invites.cy.ts[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K        cy.get('[data-attr=invite-email-input]').type([01;31m[K`fake+${Math.floor(Math.random() * 10000)}@posthog.com`[m[K)
[35m[K/tmp/posthog/cypress/e2e/invites.cy.ts[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K        cy.get('[data-attr=invite-team-member-submit]').should('not.be.disabled').click()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/invites.cy.ts[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K        cy.get('.LemonModal .LemonButton').last().click()
[35m[K/tmp/posthog/cypress/e2e/invites.cy.ts[m[K[36m[K:[m[K[32m[K125[m[K[36m[K:[m[K        cy.get('.Toastify__toast-body').should('contain', [01;31m[K`Removed ${user} from organization`[m[K)
[35m[K/tmp/posthog/cypress/e2e/invites.cy.ts[m[K[36m[K-[m[K[32m[K126[m[K[36m[K-[m[K    })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/signup.cy.ts[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K    it('Can create user account', () => {
[35m[K/tmp/posthog/cypress/e2e/signup.cy.ts[m[K[36m[K:[m[K[32m[K43[m[K[36m[K:[m[K        const email = [01;31m[K`new_user+${Math.floor(Math.random() * 10000)}@posthog.com`[m[K
[35m[K/tmp/posthog/cypress/e2e/signup.cy.ts[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K        cy.get('[data-attr=signup-email]').type(email).should('have.value', email)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/toolbar.cy.ts[m[K[36m[K-[m[K[32m[K5[m[K[36m[K-[m[K        cy.location().then((loc) => {
[35m[K/tmp/posthog/cypress/e2e/toolbar.cy.ts[m[K[36m[K:[m[K[32m[K6[m[K[36m[K:[m[K            cy.get('[data-attr="url-input"]').clear().type([01;31m[K`http://${loc.host}/demo`[m[K)
[35m[K/tmp/posthog/cypress/e2e/toolbar.cy.ts[m[K[36m[K-[m[K[32m[K7[m[K[36m[K-[m[K            cy.get('[data-attr="url-save"]').click()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/surveys.cy.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K        // back into survey
[35m[K/tmp/posthog/cypress/e2e/surveys.cy.ts[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-row-key="${name}"]`[m[K).contains(name).click()
[35m[K/tmp/posthog/cypress/e2e/surveys.cy.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/surveys.cy.ts[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K        // back into survey
[35m[K/tmp/posthog/cypress/e2e/surveys.cy.ts[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-row-key="${name}"]`[m[K).contains(name).click()
[35m[K/tmp/posthog/cypress/e2e/surveys.cy.ts[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/surveys.cy.ts[m[K[36m[K-[m[K[32m[K162[m[K[36m[K-[m[K        cy.get('[data-attr=surveys-table]').should('contain', name)
[35m[K/tmp/posthog/cypress/e2e/surveys.cy.ts[m[K[36m[K:[m[K[32m[K163[m[K[36m[K:[m[K        cy.get([01;31m[K`[data-row-key=${name}]`[m[K).contains(name).click()
[35m[K/tmp/posthog/cypress/e2e/surveys.cy.ts[m[K[36m[K-[m[K[32m[K164[m[K[36m[K-[m[K        cy.get('[data-attr=more-button]').click()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/dashboard-duplication.ts[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K        dashboardName = randomString('dashboard-')
[35m[K/tmp/posthog/cypress/e2e/dashboard-duplication.ts[m[K[36m[K:[m[K[32m[K12[m[K[36m[K:[m[K        expectedCopiedDashboardName = [01;31m[K`${dashboardName} (Copy)`[m[K
[35m[K/tmp/posthog/cypress/e2e/dashboard-duplication.ts[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[K
[35m[K/tmp/posthog/cypress/e2e/dashboard-duplication.ts[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K        insightName = randomString('insight-')
[35m[K/tmp/posthog/cypress/e2e/dashboard-duplication.ts[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[K        expectedCopiedInsightName = [01;31m[K`${insightName} (Copy)`[m[K
[35m[K/tmp/posthog/cypress/e2e/dashboard-duplication.ts[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/insights-duplication.cy.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K            cy.get('[data-attr="duplicate-insight-from-list-view"]').click()
[35m[K/tmp/posthog/cypress/e2e/insights-duplication.cy.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K            cy.contains('.saved-insights table tr', [01;31m[K`${insightName} (copy)`[m[K).should('exist')
[35m[K/tmp/posthog/cypress/e2e/insights-duplication.cy.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K        })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/insights-duplication.cy.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K            cy.get('[data-attr="duplicate-insight-from-card-list-view"]').click()
[35m[K/tmp/posthog/cypress/e2e/insights-duplication.cy.ts[m[K[36m[K:[m[K[32m[K44[m[K[36m[K:[m[K            cy.contains('.CardMeta', [01;31m[K`${insightName} (copy)`[m[K).should('exist')
[35m[K/tmp/posthog/cypress/e2e/insights-duplication.cy.ts[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K        })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/insights-duplication.cy.ts[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K            cy.get('[data-attr="duplicate-insight-from-insight-view"]').click()
[35m[K/tmp/posthog/cypress/e2e/insights-duplication.cy.ts[m[K[36m[K:[m[K[32m[K50[m[K[36m[K:[m[K            cy.get('[data-attr="insight-name"]').should('contain', [01;31m[K`${insightName} (copy)`[m[K)
[35m[K/tmp/posthog/cypress/e2e/insights-duplication.cy.ts[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K
[35m[K/tmp/posthog/cypress/e2e/insights-duplication.cy.ts[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K            savedInsights.checkInsightIsInListView([01;31m[K`${insightName} (copy)`[m[K)
[35m[K/tmp/posthog/cypress/e2e/insights-duplication.cy.ts[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K        })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress/e2e/insights-duplication.cy.ts[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K            cy.get('.ant-modal-content .ant-btn-primary').click()
[35m[K/tmp/posthog/cypress/e2e/insights-duplication.cy.ts[m[K[36m[K:[m[K[32m[K61[m[K[36m[K:[m[K            cy.get('[data-attr="insight-name"]').should('contain', [01;31m[K`${insightName} (copy)`[m[K)
[35m[K/tmp/posthog/cypress/e2e/insights-duplication.cy.ts[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K
[35m[K/tmp/posthog/cypress/e2e/insights-duplication.cy.ts[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K            savedInsights.checkInsightIsInListView([01;31m[K`${insightName} (copy)`[m[K)
[35m[K/tmp/posthog/cypress/e2e/insights-duplication.cy.ts[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K        })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ButtonWindow.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K            >
[35m[K/tmp/posthog/frontend/src/toolbar/button/ButtonWindow.tsx[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K                <div className={[01;31m[K`toolbar-info-windows ${name}-button-window`[m[K}>
[35m[K/tmp/posthog/frontend/src/toolbar/button/ButtonWindow.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K                    <div className="toolbar-info-window-title">
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/icons/Flag.tsx[m[K[36m[K-[m[K[32m[K10[m[K[36m[K-[m[K        <svg
[35m[K/tmp/posthog/frontend/src/toolbar/button/icons/Flag.tsx[m[K[36m[K:[m[K[32m[K11[m[K[36m[K:[m[K            className={[01;31m[K`posthog-toolbar-icon-flag${animated ? ' animated' : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/toolbar/button/icons/Flag.tsx[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K            width="40"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/icons/Fire.tsx[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K        <svg
[35m[K/tmp/posthog/frontend/src/toolbar/button/icons/Fire.tsx[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K            className={[01;31m[K`posthog-toolbar-icon-fire${animated ? ' animated' : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/toolbar/button/icons/Fire.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K            width="24"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/DraggableButton.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                    countFlagsOverridden > 0 ? (
[35m[K/tmp/posthog/frontend/src/toolbar/button/DraggableButton.tsx[m[K[36m[K:[m[K[32m[K79[m[K[36m[K:[m[K                        <span className="overridden-tag">{[01;31m[K`${countFlagsOverridden} overridden`[m[K}</span>
[35m[K/tmp/posthog/frontend/src/toolbar/button/DraggableButton.tsx[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K                    ) : null
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K                              left: 0,
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K:[m[K[32m[K113[m[K[36m[K:[m[K                              transform: [01;31m[K`rotate(${usedRotation}deg) translate(${usedDistance}px, 0px)`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K-[m[K[32m[K114[m[K[36m[K-[m[K                              transformOrigin: '0px 0px',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K-[m[K[32m[K117[m[K[36m[K-[m[K                              animation: animate
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K:[m[K[32m[K118[m[K[36m[K:[m[K                                  ? [01;31m[K`circle-spin-${animationId} ${animationDuration}s linear infinite`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K-[m[K[32m[K119[m[K[36m[K-[m[K                                  : '',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K                                  animation: animate
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K:[m[K[32m[K135[m[K[36m[K:[m[K                                      ? [01;31m[K`circle-spin-${animationId}-reverse ${animationDuration}s linear infinite`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K-[m[K[32m[K136[m[K[36m[K-[m[K                                      : '',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K-[m[K[32m[K151[m[K[36m[K-[m[K                        <div
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K:[m[K[32m[K152[m[K[36m[K:[m[K                            className={[01;31m[K`circle-button${className ? `[m[K ${className}` : ''}`}
[35m[K/tmp/posthog/frontend/src/toolbar/button/Circle.tsx[m[K[36m[K-[m[K[32m[K153[m[K[36m[K-[m[K                            // eslint-disable-next-line react/forbid-dom-props
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K150[m[K[36m[K-[m[K                    color: 'white',
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K:[m[K[32m[K151[m[K[36m[K:[m[K                    transform: [01;31m[K`scale(${0.2 + 0.8 * extensionPercentage})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K152[m[K[36m[K-[m[K                }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K167[m[K[36m[K-[m[K                    color: 'white',
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K:[m[K[32m[K168[m[K[36m[K:[m[K                    transform: [01;31m[K`scale(${0.2 + 0.8 * extensionPercentage})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K169[m[K[36m[K-[m[K                }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K187[m[K[36m[K-[m[K                            borderRadius: 10,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K:[m[K[32m[K188[m[K[36m[K:[m[K                            transform: [01;31m[K`scale(${0.2 + 0.8 * extensionPercentage})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K189[m[K[36m[K-[m[K                        }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K                            transition: 'transform 0.2s, color 0.2s, background: 0.2s',
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K:[m[K[32m[K219[m[K[36m[K:[m[K                            transform: [01;31m[K`scale(${0.2 + 0.8 * inspectExtensionPercentage})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K220[m[K[36m[K-[m[K                            borderRadius,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K244[m[K[36m[K-[m[K                            background: heatmapEnabled ? '#FF9870' : '#FEE3DA',
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K:[m[K[32m[K245[m[K[36m[K:[m[K                            transform: [01;31m[K`scale(${0.2 + 0.8 * heatmapExtensionPercentage})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K246[m[K[36m[K-[m[K                            borderRadius,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K278[m[K[36m[K-[m[K                                    padding: '0 4px',
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K:[m[K[32m[K279[m[K[36m[K:[m[K                                    transform: [01;31m[K`scale(${0.2 + 0.8 * heatmapExtensionPercentage})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K280[m[K[36m[K-[m[K                                    borderRadius: 7,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K304[m[K[36m[K-[m[K                            cursor: 'pointer',
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K:[m[K[32m[K305[m[K[36m[K:[m[K                            transform: [01;31m[K`scale(${0.2 + 0.8 * actionsExtensionPercentage})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K306[m[K[36m[K-[m[K                            background: buttonActionsVisible ? '#f1aa04' : '#fef5e2',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K339[m[K[36m[K-[m[K                                    padding: '0 4px',
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K:[m[K[32m[K340[m[K[36m[K:[m[K                                    transform: [01;31m[K`scale(${0.2 + 0.8 * actionsExtensionPercentage})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K341[m[K[36m[K-[m[K                                    borderRadius: 7,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K364[m[K[36m[K-[m[K                            cursor: 'pointer',
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K:[m[K[32m[K365[m[K[36m[K:[m[K                            transform: [01;31m[K`scale(${0.2 + 0.8 * featureFlagsExtensionPercentage})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/button/ToolbarButton.tsx[m[K[36m[K-[m[K[32m[K366[m[K[36m[K-[m[K                            background: flagsVisible ? '#94D674' : '#D6EBCC',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K                                          key: '$current_url',
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K:[m[K[32m[K105[m[K[36m[K:[m[K                                          value: [01;31m[K`^${wildcardHref.split('*').map(escapeRegex).join('.*')}$`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K                                          operator: PropertyOperator.Regex,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K-[m[K[32m[K179[m[K[36m[K-[m[K                            ) || '*'
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K:[m[K[32m[K180[m[K[36m[K:[m[K                        combinedSelector = lastSelector ? [01;31m[K`${selector} > ${lastSelector}`[m[K : selector
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K-[m[K[32m[K181[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K-[m[K[32m[K224[m[K[36m[K-[m[K                                    // Skip it and try with the next one...
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K:[m[K[32m[K225[m[K[36m[K:[m[K                                    lastSelector = lastSelector ? [01;31m[K`* > ${lastSelector}`[m[K : '*'
[35m[K/tmp/posthog/frontend/src/toolbar/elements/heatmapLogic.ts[m[K[36m[K-[m[K[32m[K226[m[K[36m[K-[m[K                                    continue
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                    <HeatmapElement
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K                        key={[01;31m[K`inspect-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K                        rect={rect}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                    return (
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K:[m[K[32m[K77[m[K[36m[K:[m[K                        <React.Fragment key={[01;31m[K`heatmap-${index}`[m[K}>
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                            <HeatmapElement
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K-[m[K[32m[K164[m[K[36m[K-[m[K                            <HeatmapLabel
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K:[m[K[32m[K165[m[K[36m[K:[m[K                                key={[01;31m[K`label-${loopIndex}`[m[K}
[35m[K/tmp/posthog/frontend/src/toolbar/elements/Elements.tsx[m[K[36m[K-[m[K[32m[K166[m[K[36m[K-[m[K                                rect={rect}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/elements/HeatmapElement.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K                position: 'absolute',
[35m[K/tmp/posthog/frontend/src/toolbar/elements/HeatmapElement.tsx[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K                top: [01;31m[K`${rect.top + window.pageYOffset}px`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/elements/HeatmapElement.tsx[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K                left: [01;31m[K`${rect.left + window.pageXOffset}px`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/elements/HeatmapElement.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K                width: [01;31m[K`${rect.right - rect.left}px`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/elements/HeatmapElement.tsx[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K                height: [01;31m[K`${rect.bottom - rect.top}px`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/elements/HeatmapElement.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K                ...style,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/flags/featureFlagsLogic.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K                    const response = await toolbarFetch(
[35m[K/tmp/posthog/frontend/src/toolbar/flags/featureFlagsLogic.ts[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K                        [01;31m[K`/api/projects/@current/feature_flags/my_flags${encodeParams(params, '?')}`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/flags/featureFlagsLogic.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K                                                checked={currentValue === variant.key}
[35m[K/tmp/posthog/frontend/src/toolbar/flags/FeatureFlags.tsx[m[K[36m[K:[m[K[32m[K84[m[K[36m[K:[m[K                                                label={[01;31m[K`${variant.key} - ${variant.name} (${variant.rollout_percentage}%)`[m[K}
[35m[K/tmp/posthog/frontend/src/toolbar/flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K                                                onChange={() => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K                            ) : (
[35m[K/tmp/posthog/frontend/src/toolbar/flags/FeatureFlags.tsx[m[K[36m[K:[m[K[32m[K109[m[K[36m[K:[m[K                                [01;31m[K`No ${searchTerm.length ? 'matching ' : ''}feature flags found.`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K                            )}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/toolbarLogic.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K    selectors({
[35m[K/tmp/posthog/frontend/src/toolbar/toolbarLogic.ts[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K        apiURL: [(s) => [s.rawApiURL], (apiURL) => [01;31m[K`${apiURL.endsWith('/') ? apiURL.replace(/\/+$/, '') : apiURL}`[m[K],
[35m[K/tmp/posthog/frontend/src/toolbar/toolbarLogic.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K        jsURL: [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/toolbarLogic.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K            (rawJsURL, apiUrl) =>
[35m[K/tmp/posthog/frontend/src/toolbar/toolbarLogic.ts[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K                [01;31m[K`${rawJsURL ? (rawJsURL.endsWith('/') ? rawJsURL.replace(/\/+$/, '') : rawJsURL) : apiUrl}`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/toolbarLogic.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K        ],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/toolbarLogic.ts[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K            const encodedUrl = encodeURIComponent(window.location.href)
[35m[K/tmp/posthog/frontend/src/toolbar/toolbarLogic.ts[m[K[36m[K:[m[K[32m[K51[m[K[36m[K:[m[K            window.location.href = [01;31m[K`${values.apiURL}/authorize_and_redirect/?redirect=${encodedUrl}`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/toolbarLogic.ts[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K            clearSessionToolbarToken()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/ActionsTab.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K                        <div className="text-right mt-4">
[35m[K/tmp/posthog/frontend/src/toolbar/actions/ActionsTab.tsx[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K                            <Link to={[01;31m[K`${apiURL}${urls.actions()}`[m[K} target="_blank" targetBlankIcon>
[35m[K/tmp/posthog/frontend/src/toolbar/actions/ActionsTab.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K                                View &amp; edit all actions
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/SelectorCount.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/toolbar/actions/SelectorCount.tsx[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K        <small className={[01;31m[K`float-right ${selectorError && 'text-danger'}`[m[K}>
[35m[K/tmp/posthog/frontend/src/toolbar/actions/SelectorCount.tsx[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K            {selectorError ? 'Invalid selector' : [01;31m[K`Matches ${matches} element${matches === 1 ? '' : 's'}`[m[K}
[35m[K/tmp/posthog/frontend/src/toolbar/actions/SelectorCount.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K        </small>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K                    } else {
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K:[m[K[32m[K39[m[K[36m[K:[m[K                        acc[attr.name] += [01;31m[K` ${attr.value}`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K155[m[K[36m[K-[m[K                    response = await api.update(
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K:[m[K[32m[K156[m[K[36m[K:[m[K                        [01;31m[K`${apiURL}/api/projects/@current/actions/${selectedActionId}/?temporary_token=${temporaryToken}`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K157[m[K[36m[K-[m[K                        actionToSave
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K160[m[K[36m[K-[m[K                    response = await api.create(
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K:[m[K[32m[K161[m[K[36m[K:[m[K                        [01;31m[K`${apiURL}/api/projects/@current/actions/?temporary_token=${temporaryToken}`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K162[m[K[36m[K-[m[K                        actionToSave
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K172[m[K[36m[K-[m[K                        label: 'Open in PostHog',
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K:[m[K[32m[K173[m[K[36m[K:[m[K                        action: () => window.open([01;31m[K`${apiURL}${urls.action(response.id)}`[m[K, '_blank'),
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K174[m[K[36m[K-[m[K                    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K281[m[K[36m[K-[m[K                await api.delete(
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K:[m[K[32m[K282[m[K[36m[K:[m[K                    [01;31m[K`${apiURL}/api/projects/@current/actions/${selectedActionId}/?temporary_token=${temporaryToken}`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/actionsTabLogic.tsx[m[K[36m[K-[m[K[32m[K283[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[Kexport function StepField({ step, item, label, caption }: StepFieldProps): JSX.Element {
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K:[m[K[32m[K21[m[K[36m[K:[m[K    const selected = step && step[[01;31m[K`${item}_selected`[m[K]
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K                <div>
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K                    {item === 'href' && step?.href && <SelectorCount selector={[01;31m[K`a[href="${cssEscape(step.href)}"]`[m[K} />}
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K                    {item === 'selector' && step?.selector && <SelectorCount selector={step.selector} />}
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K                    <Field name={[01;31m[K`${item}_selected`[m[K} noStyle>
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K                        {({ onChange, value }) => <LemonCheckbox label={label} onChange={onChange} checked={value} />}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K                {['url', 'href', 'text'].includes(item) ? (
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K                    <Field name={[01;31m[K`${item}_matching`[m[K}>
[35m[K/tmp/posthog/frontend/src/toolbar/actions/StepField.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K                        {({ value, onChange }) => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K39[m[K[36m[K:[m[K        const selector = [01;31m[K`[${cssEscape(name)}="${cssEscape(value)}"]`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K        if (querySelectorAllDeep(selector).length == 1) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K182[m[K[36m[K-[m[K    if (step.url_matching === 'contains') {
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K183[m[K[36m[K:[m[K        return matchRuleShort(href, [01;31m[K`%${step.url}%`[m[K)
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K184[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K214[m[K[36m[K-[m[K    if (step.href && (step.href_selected || typeof step.href_selected === 'undefined')) {
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K215[m[K[36m[K:[m[K        selector += [01;31m[K`[href="${cssEscape(step.href)}"]`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K216[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K255[m[K[36m[K-[m[K            backgroundBlendMode: 'multiply',
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K256[m[K[36m[K:[m[K            background: [01;31m[K`hsla(240, 90%, 58%, ${opacity})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K257[m[K[36m[K:[m[K            boxShadow: [01;31m[K`hsla(240, 90%, 27%, 0.5) 0px 3px 10px ${hover ? 4 : 2}px`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K258[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K262[m[K[36m[K-[m[K            backgroundBlendMode: 'multiply',
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K263[m[K[36m[K:[m[K            background: [01;31m[K`hsla(4, 90%, 58%, ${opacity})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K264[m[K[36m[K:[m[K            boxShadow: [01;31m[K`hsla(4, 90%, 27%, 0.8) 0px 3px 10px ${hover ? 4 : 2}px`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K265[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K269[m[K[36m[K-[m[K            backgroundBlendMode: 'multiply',
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K270[m[K[36m[K:[m[K            background: [01;31m[K`hsla(97, 90%, 58%, ${opacity})`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K271[m[K[36m[K:[m[K            boxShadow: [01;31m[K`hsla(97, 90%, 27%, 0.8) 0px 3px 10px ${hover ? 4 : 2}px`[m[K,
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K272[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K433[m[K[36m[K-[m[K    } else if (urlConstruction === 'only-add-token') {
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K434[m[K[36m[K:[m[K        fullUrl = [01;31m[K`${url}&temporary_token=${toolbarLogic.values.temporaryToken}`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K435[m[K[36m[K-[m[K    } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K437[m[K[36m[K-[m[K        const params = { ...searchParams, temporary_token: toolbarLogic.values.temporaryToken }
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K:[m[K[32m[K438[m[K[36m[K:[m[K        fullUrl = [01;31m[K`${toolbarLogic.values.apiURL}${pathname}${encodeParams(params, '?')}`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/utils.ts[m[K[36m[K-[m[K[32m[K439[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/ToolbarApp.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K                  styleLink.type = 'text/css'
[35m[K/tmp/posthog/frontend/src/toolbar/ToolbarApp.tsx[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K                  styleLink.href = [01;31m[K`${jsURL}/static/toolbar.css`[m[K
[35m[K/tmp/posthog/frontend/src/toolbar/ToolbarApp.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K                  styleLink.onload = () => setDidLoadStyles(true)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/exporter/Exporter.stories.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K        document.body.className = ''
[35m[K/tmp/posthog/frontend/src/exporter/Exporter.stories.tsx[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K        document.documentElement.className = [01;31m[K`export-type-${props.type}`[m[K
[35m[K/tmp/posthog/frontend/src/exporter/Exporter.stories.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K    }, [props.type])
[35m[K/tmp/posthog/frontend/src/exporter/Exporter.stories.tsx[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/exporter/Exporter.stories.tsx[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K        <div className={[01;31m[K`storybook-export-type-${props.type} p-4`[m[K}>
[35m[K/tmp/posthog/frontend/src/exporter/Exporter.stories.tsx[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K            <Exporter {...props} />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/ErrorBoundary/ErrorBoundary.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K                        {isSentryInitialized
[35m[K/tmp/posthog/frontend/src/layout/ErrorBoundary/ErrorBoundary.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K                            ? [01;31m[K`We've registered this event for analysis (ID ${eventId}), but feel free to contact us directly too.`[m[K
[35m[K/tmp/posthog/frontend/src/layout/ErrorBoundary/ErrorBoundary.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                            : 'Please send over a screenshot of this message, so that we can resolve the issue.'}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/insights.ts[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K                                                        object: insight,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/insights.ts[m[K[36m[K:[m[K[32m[K91[m[K[36m[K:[m[K                                                        endpoint: [01;31m[K`projects/${currentTeamId}/insights`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/insights.ts[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K                                                        callback: actions.loadInsights,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/insights.ts[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K                                    const updatedItem = await api.update(
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/insights.ts[m[K[36m[K:[m[K[32m[K103[m[K[36m[K:[m[K                                        [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${insight.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/insights.ts[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K                                        {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/annotations.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                                extraContextTop: annotation.created_at,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/annotations.tsx[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K                                extraContextBottom: [01;31m[K`by ${annotation.created_by?.first_name}`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/annotations.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K                            } as ExtendedListItem)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/experiments.ts[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                                    : experimentStatus === ProgressStatus.Complete
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/experiments.ts[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K                                    ? [01;31m[K`Completed ${dayjs(experiment.start_date).fromNow()}`[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/experiments.ts[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K                                    : [01;31m[K`Running for ${dayjs(experiment.start_date).fromNow(true)} now`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/experiments.ts[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K                            extraContextTop: dayjs(experiment.created_at),
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/experiments.ts[m[K[36m[K:[m[K[32m[K50[m[K[36m[K:[m[K                            extraContextBottom: [01;31m[K`by ${experiment.created_by?.first_name || 'unknown'}`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/experiments.ts[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K                            url: urls.experiment(experiment.id),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/personsAndGroups.ts[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K                            ({
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/personsAndGroups.ts[m[K[36m[K:[m[K[32m[K96[m[K[36m[K:[m[K                                key: [01;31m[K`groups-${groupType.group_type_index}`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/personsAndGroups.ts[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K                                noun: [
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/personsAndGroups.ts[m[K[36m[K:[m[K[32m[K98[m[K[36m[K:[m[K                                    groupType.name_singular || [01;31m[K`${groupType.group_type} group`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/personsAndGroups.ts[m[K[36m[K:[m[K[32m[K99[m[K[36m[K:[m[K                                    groupType.name_plural || [01;31m[K`${groupType.group_type} groups`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/personsAndGroups.ts[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K                                ],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/personsAndGroups.ts[m[K[36m[K-[m[K[32m[K166[m[K[36m[K-[m[K                    const { groupKey, groupTypeIndex } = sceneParams.params
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/personsAndGroups.ts[m[K[36m[K:[m[K[32m[K167[m[K[36m[K:[m[K                    return groupKey ? [[01;31m[K`groups-${groupTypeIndex}`[m[K, decodeURIComponent(groupKey as string)] : null
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/personsAndGroups.ts[m[K[36m[K-[m[K[32m[K168[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/cohorts.ts[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K                                extraContextTop: dayjs(cohort.created_at),
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/cohorts.ts[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K                                extraContextBottom: [01;31m[K`by ${cohort.created_by?.first_name || 'unknown'}`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/cohorts.ts[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K                                searchMatch: matches
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/featureFlags.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K                            extraContextTop: dayjs(featureFlag.created_at),
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/featureFlags.tsx[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K                            extraContextBottom: [01;31m[K`by ${featureFlag.created_by?.first_name || 'unknown'}`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/featureFlags.tsx[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K                            marker: { type: 'ribbon', status: featureFlag.active ? 'success' : 'danger' },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/featureFlags.tsx[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K                                        {
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/featureFlags.tsx[m[K[36m[K:[m[K[32m[K97[m[K[36m[K:[m[K                                            label: [01;31m[K`${featureFlag.active ? 'Disable' : 'Enable'} flag`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/featureFlags.tsx[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K                                            onClick: () =>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/featureFlags.tsx[m[K[36m[K-[m[K[32m[K119[m[K[36m[K-[m[K                                                breakdown_type: 'event',
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/featureFlags.tsx[m[K[36m[K:[m[K[32m[K120[m[K[36m[K:[m[K                                                breakdown: [01;31m[K`$feature/${featureFlag.key}`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/featureFlags.tsx[m[K[36m[K-[m[K[32m[K121[m[K[36m[K-[m[K                                            }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/featureFlags.tsx[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K                                                deleteWithUndo({
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/featureFlags.tsx[m[K[36m[K:[m[K[32m[K132[m[K[36m[K:[m[K                                                    endpoint: [01;31m[K`projects/${currentTeamId}/feature_flags`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidebars/featureFlags.tsx[m[K[36m[K-[m[K[32m[K133[m[K[36m[K-[m[K                                                    object: { name: featureFlag.key, id: featureFlag.id },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/navigationLogic.tsx[m[K[36m[K-[m[K[32m[K194[m[K[36m[K-[m[K            if (!category) {
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/navigationLogic.tsx[m[K[36m[K:[m[K[32m[K195[m[K[36m[K:[m[K                throw new Error([01;31m[K`Sidebar category '${categoryKey}' doesn't exist`[m[K)
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/navigationLogic.tsx[m[K[36m[K-[m[K[32m[K196[m[K[36m[K-[m[K            } else if (!category.onAdd || typeof category.onAdd !== 'function') {
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/navigationLogic.tsx[m[K[36m[K:[m[K[32m[K197[m[K[36m[K:[m[K                throw new Error([01;31m[K`Sidebar category '${categoryKey}' doesn't support onAdd`[m[K)
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/navigationLogic.tsx[m[K[36m[K-[m[K[32m[K198[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/navigationLogic.tsx[m[K[36m[K-[m[K[32m[K214[m[K[36m[K-[m[K                if (!category) {
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/navigationLogic.tsx[m[K[36m[K:[m[K[32m[K215[m[K[36m[K:[m[K                    throw new Error([01;31m[K`Sidebar category '${categoryKey}' doesn't exist`[m[K)
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/navigationLogic.tsx[m[K[36m[K-[m[K[32m[K216[m[K[36m[K-[m[K                } else if (!category.onAdd || typeof category.onAdd !== 'function') {
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/navigationLogic.tsx[m[K[36m[K:[m[K[32m[K217[m[K[36m[K:[m[K                    throw new Error([01;31m[K`Sidebar category '${categoryKey}' doesn't support onAdd`[m[K)
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/navigationLogic.tsx[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidepanel/SidePanel.tsx[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K                                }
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidepanel/SidePanel.tsx[m[K[36m[K:[m[K[32m[K83[m[K[36m[K:[m[K                                data-attr={[01;31m[K`sidepanel-tab-${tab}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/sidepanel/SidePanel.tsx[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K                                active={activeTab === tab}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/Breadcrumbs.tsx[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K            }}
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/Breadcrumbs.tsx[m[K[36m[K:[m[K[32m[K59[m[K[36m[K:[m[K            data-attr={[01;31m[K`breadcrumb-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/Breadcrumbs.tsx[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K            to={breadcrumb.path}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/Navbar.tsx[m[K[36m[K-[m[K[32m[K119[m[K[36m[K-[m[K                                identifier="me"
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/Navbar.tsx[m[K[36m[K:[m[K[32m[K120[m[K[36m[K:[m[K                                title={[01;31m[K`Hi${user?.first_name ? `[m[K, ${user?.first_name}` : ''}!`}
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/Navbar.tsx[m[K[36m[K-[m[K[32m[K121[m[K[36m[K-[m[K                                shortTitle={user?.first_name || user?.email}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/SidebarAccordion.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[Kexport function pluralizeCategory(noun: SidebarCategory['noun']): string {
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/SidebarAccordion.tsx[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K    return Array.isArray(noun) ? noun[1] : [01;31m[K`${noun}s`[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/SidebarAccordion.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/NewItemButton.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K            active={newItemCategory === category.key}
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/NewItemButton.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K            tooltip={[01;31m[K`New ${singularizeCategory(category.noun)}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/NewItemButton.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K            tooltipPlacement="bottom"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/Sidebar.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K            ? navbarItem.label
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/Sidebar.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K            : [01;31m[K`${navbarItem.label} — ${onlyCategoryTitle}`[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/Sidebar.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/Sidebar.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                isResizeInProgress && 'Sidebar3000--resizing',
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/Sidebar.tsx[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K                overslideDirection && [01;31m[K`Sidebar3000--overslide-${overslideDirection}`[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/Sidebar.tsx[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K            )}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/Sidebar.tsx[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K                {
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/Sidebar.tsx[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K                    '--sidebar-width': [01;31m[K`${isShown ? width : 0}px`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/Sidebar.tsx[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K                } as React.CSSProperties
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/NavbarButton.tsx[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K            <Tooltip
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/NavbarButton.tsx[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[K                title={isNavCollapsedActually ? (here ? [01;31m[K`${title} (you are here)`[m[K : title) : null}
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/NavbarButton.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                placement="right"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/NavbarButton.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                    ref={ref}
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/NavbarButton.tsx[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K                    data-attr={[01;31m[K`menu-item-${identifier.toString().toLowerCase()}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/NavbarButton.tsx[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                    onMouseEnter={() => setHasBeenClicked(false)}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/SidebarList.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K            const normalizedItemKey = Array.isArray(item.key)
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/SidebarList.tsx[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K                ? item.key.map((keyPart) => [01;31m[K`${category.key}${ITEM_KEY_PART_SEPARATOR}${keyPart}`[m[K)
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/SidebarList.tsx[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K                : [01;31m[K`${category.key}${ITEM_KEY_PART_SEPARATOR}${item.key}`[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/SidebarList.tsx[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/SidebarList.tsx[m[K[36m[K-[m[K[32m[K334[m[K[36m[K-[m[K                        }}
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/SidebarList.tsx[m[K[36m[K:[m[K[32m[K335[m[K[36m[K:[m[K                        placeholder={isItemTentative(item) ? 'Adding something new…' : [01;31m[K`Renaming ${item.name}…`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/SidebarList.tsx[m[K[36m[K-[m[K[32m[K336[m[K[36m[K-[m[K                        disabled={isSaving}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/SidebarList.tsx[m[K[36m[K-[m[K[32m[K346[m[K[36m[K-[m[K        <li
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/SidebarList.tsx[m[K[36m[K:[m[K[32m[K347[m[K[36m[K:[m[K            id={[01;31m[K`sidebar-${item.key}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/SidebarList.tsx[m[K[36m[K-[m[K[32m[K348[m[K[36m[K-[m[K            title={!isItemTentative(item) ? item.name : 'New item'}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/SidebarList.tsx[m[K[36m[K-[m[K[32m[K353[m[K[36m[K-[m[K                (isItemTentative(item) || newName !== null) && 'SidebarListItem--is-renaming',
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/SidebarList.tsx[m[K[36m[K:[m[K[32m[K354[m[K[36m[K:[m[K                'marker' in item && !!item.marker && [01;31m[K`SidebarListItem--marker-${item.marker.type}`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/SidebarList.tsx[m[K[36m[K:[m[K[32m[K355[m[K[36m[K:[m[K                'marker' in item && !!item.marker?.status && [01;31m[K`SidebarListItem--marker-status-${item.marker.status}`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation-3000/components/SidebarList.tsx[m[K[36m[K-[m[K[32m[K356[m[K[36m[K-[m[K                'summary' in item && 'SidebarListItem--extended'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/TopBar/notificationsLogic.tsx[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K                        const response = (await api.get(
[35m[K/tmp/posthog/frontend/src/layout/navigation/TopBar/notificationsLogic.tsx[m[K[36m[K:[m[K[32m[K59[m[K[36m[K:[m[K                            [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/activity_log/important_changes`[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/TopBar/notificationsLogic.tsx[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K                        )) as ChangesResponse
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/TopBar/notificationsLogic.tsx[m[K[36m[K-[m[K[32m[K119[m[K[36m[K-[m[K                            await api.create(
[35m[K/tmp/posthog/frontend/src/layout/navigation/TopBar/notificationsLogic.tsx[m[K[36m[K:[m[K[32m[K120[m[K[36m[K:[m[K                                [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/activity_log/bookmark_activity_notification`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation/TopBar/notificationsLogic.tsx[m[K[36m[K-[m[K[32m[K121[m[K[36m[K-[m[K                                {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                icon: <IconSettings className="text-muted-alt" />,
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                tooltip: [01;31m[K`Go to ${currentTeam.name} settings`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                onClick: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K            }}
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K:[m[K[32m[K80[m[K[36m[K:[m[K            title={[01;31m[K`Switch to project ${currentTeam.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K            status="stealth"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K                icon: <IconSettings className="text-muted-alt" />,
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K:[m[K[32m[K101[m[K[36m[K:[m[K                tooltip: [01;31m[K`Go to ${team.name} settings`[m[K,
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K                onClick: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K            }}
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K:[m[K[32m[K107[m[K[36m[K:[m[K            title={[01;31m[K`Switch to project ${team.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation/ProjectSwitcher.tsx[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K            status="stealth"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/OrganizationSwitcher.tsx[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/layout/navigation/OrganizationSwitcher.tsx[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K        <LemonTag className="AccessLevelIndicator" title={[01;31m[K`Your ${organization.name} organization access level`[m[K}>
[35m[K/tmp/posthog/frontend/src/layout/navigation/OrganizationSwitcher.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K            {(organization.membership_level ? membershipLevelToName.get(organization.membership_level) : null) || '?'}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/OrganizationSwitcher.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K            status="stealth"
[35m[K/tmp/posthog/frontend/src/layout/navigation/OrganizationSwitcher.tsx[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K            title={[01;31m[K`Switch to organization ${organization.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation/OrganizationSwitcher.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K            fullWidth
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/OrganizationSwitcher.tsx[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                    status="stealth"
[35m[K/tmp/posthog/frontend/src/layout/navigation/OrganizationSwitcher.tsx[m[K[36m[K:[m[K[32m[K87[m[K[36m[K:[m[K                    title={[01;31m[K`Switch to organization ${currentOrganization.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation/OrganizationSwitcher.tsx[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K                    fullWidth
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBarApps.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K                    icon={<IconExtension />}
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBarApps.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K                    title={title || [01;31m[K`App #${id}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBarApps.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                    identifier={currentLocation.pathname === urls.frontendApp(id) ? Scene.FrontendAppScene : 'nope'}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/PageButton.tsx[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K                        'data-attr': sideAction.identifier
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/PageButton.tsx[m[K[36m[K:[m[K[32m[K44[m[K[36m[K:[m[K                            ? [01;31m[K`menu-item-${sideAction.identifier.toLowerCase()}`[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/PageButton.tsx[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K                            : undefined,
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/PageButton.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                    }}
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/PageButton.tsx[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K                    data-attr={[01;31m[K`menu-item-${identifier.toString().toLowerCase()}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/PageButton.tsx[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K                    {...buttonProps}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/PageButton.tsx[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K                    active={isActive}
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/PageButton.tsx[m[K[36m[K:[m[K[32m[K57[m[K[36m[K:[m[K                    data-attr={[01;31m[K`menu-item-${identifier.toString().toLowerCase()}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/PageButton.tsx[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K                    onClick={hideSideBarMobile}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBar.tsx[m[K[36m[K-[m[K[32m[K227[m[K[36m[K-[m[K                        to={urls.persons()}
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBar.tsx[m[K[36m[K:[m[K[32m[K228[m[K[36m[K:[m[K                        title={[01;31m[K`Persons${showGroupsOptions ? ' & Groups' : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBar.tsx[m[K[36m[K-[m[K[32m[K229[m[K[36m[K-[m[K                    />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBar.tsx[m[K[36m[K-[m[K[32m[K344[m[K[36m[K-[m[K                        fullWidth
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBar.tsx[m[K[36m[K:[m[K[32m[K345[m[K[36m[K:[m[K                        to={[01;31m[K`${urls.toolbarLaunch()}?addNew=true`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation/SideBar/SideBar.tsx[m[K[36m[K-[m[K[32m[K346[m[K[36m[K-[m[K                        onClick={() => setIsToolbarLaunchShown(false)}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/navigation/Breadcrumbs/Breadcrumbs.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K            }}
[35m[K/tmp/posthog/frontend/src/layout/navigation/Breadcrumbs/Breadcrumbs.tsx[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K            data-attr={[01;31m[K`breadcrumb-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/navigation/Breadcrumbs/Breadcrumbs.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K        >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/FeaturePreviews/featurePreviewsLogic.tsx[m[K[36m[K-[m[K[32m[K9[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/layout/FeaturePreviews/featurePreviewsLogic.tsx[m[K[36m[K:[m[K[32m[K10[m[K[36m[K:[m[K/** Features that can only be toggled if you fall under the [01;31m[K`${flagKey}-preview`[m[K flag */
[35m[K/tmp/posthog/frontend/src/layout/FeaturePreviews/featurePreviewsLogic.tsx[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[Kexport const CONSTRAINED_PREVIEWS: Set<FeatureFlagKey> = new Set([FEATURE_FLAGS.POSTHOG_3000])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/FeaturePreviews/featurePreviewsLogic.tsx[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K                        if (CONSTRAINED_PREVIEWS.has(feature.flagKey as FeatureFlagKey)) {
[35m[K/tmp/posthog/frontend/src/layout/FeaturePreviews/featurePreviewsLogic.tsx[m[K[36m[K:[m[K[32m[K94[m[K[36m[K:[m[K                            return !!featureFlags[[01;31m[K`${feature.flagKey}-preview`[m[K]
[35m[K/tmp/posthog/frontend/src/layout/FeaturePreviews/featurePreviewsLogic.tsx[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/layout/FeaturePreviews/FeaturePreviewsModal.tsx[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K                        autoFocus
[35m[K/tmp/posthog/frontend/src/layout/FeaturePreviews/FeaturePreviewsModal.tsx[m[K[36m[K:[m[K[32m[K107[m[K[36m[K:[m[K                        placeholder={[01;31m[K`What's your experience with ${name} been like?`[m[K}
[35m[K/tmp/posthog/frontend/src/layout/FeaturePreviews/FeaturePreviewsModal.tsx[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K                        className="mt-2"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/styles/utilities.stories.tsx[m[K[36m[K-[m[K[32m[K114[m[K[36m[K-[m[K                {[8, 10, 20, 'full', 'screen'].map((x) => (
[35m[K/tmp/posthog/frontend/src/styles/utilities.stories.tsx[m[K[36m[K:[m[K[32m[K115[m[K[36m[K:[m[K                    <div key={x} className={[01;31m[K`border rounded-lg p-2 w-${x}`[m[K}>
[35m[K/tmp/posthog/frontend/src/styles/utilities.stories.tsx[m[K[36m[K-[m[K[32m[K116[m[K[36m[K-[m[K                        w-{x}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/styles/utilities.stories.tsx[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K                (x) => (
[35m[K/tmp/posthog/frontend/src/styles/utilities.stories.tsx[m[K[36m[K:[m[K[32m[K129[m[K[36m[K:[m[K                    <p key={x} className={[01;31m[K`text-${x}`[m[K}>
[35m[K/tmp/posthog/frontend/src/styles/utilities.stories.tsx[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K                        text-{x}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/loadPostHogJS.tsx[m[K[36m[K-[m[K[32m[K10[m[K[36m[K-[m[K            Sentry.captureException(
[35m[K/tmp/posthog/frontend/src/loadPostHogJS.tsx[m[K[36m[K:[m[K[32m[K11[m[K[36m[K:[m[K                new Error([01;31m[K`Failed with status ${status} while sending to PostHog. Message: ${statusText}`[m[K),
[35m[K/tmp/posthog/frontend/src/loadPostHogJS.tsx[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K                { tags: { status, statusText } }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K679[m[K[36m[K-[m[K                .actions()
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K:[m[K[32m[K680[m[K[36m[K:[m[K                .withQueryString(temporaryToken ? [01;31m[K`temporary_token=${temporaryToken}`[m[K : '')
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K681[m[K[36m[K-[m[K                .create({ data: actionData })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K689[m[K[36m[K-[m[K                .actionsDetail(actionId)
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K:[m[K[32m[K690[m[K[36m[K:[m[K                .withQueryString(temporaryToken ? [01;31m[K`temporary_token=${temporaryToken}`[m[K : '')
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K691[m[K[36m[K-[m[K                .update({ data: actionData })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K738[m[K[36m[K-[m[K                    return activityLogProps.id
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K:[m[K[32m[K739[m[K[36m[K:[m[K                        ? new ApiRequest().notebook([01;31m[K`${activityLogProps.id}`[m[K).withAction('activity')
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K740[m[K[36m[K-[m[K                        : new ApiRequest().notebooks().withAction('activity')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K972[m[K[36m[K-[m[K        determineListUrl(cohortId: number | 'new', params: PersonListParams): string {
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K:[m[K[32m[K973[m[K[36m[K:[m[K            return [01;31m[K`/api/cohort/${cohortId}/persons?${toParams(params)}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K974[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K1431[m[K[36m[K-[m[K                            const target = type.replace(/^ph-/, '')
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K:[m[K[32m[K1432[m[K[36m[K:[m[K                            const match = attrs['id'] ? [01;31m[K`:${attrs['id']}`[m[K : ''
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K:[m[K[32m[K1433[m[K[36m[K:[m[K                            return [01;31m[K`${target}${match}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K1434[m[K[36m[K-[m[K                        })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K1634[m[K[36m[K-[m[K                .subscriptions()
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K:[m[K[32m[K1635[m[K[36m[K:[m[K                .withQueryString(insightId ? [01;31m[K`insight=${insightId}`[m[K : dashboardId ? [01;31m[K`dashboard=${dashboardId}`[m[K : '')
[35m[K/tmp/posthog/frontend/src/lib/api.ts[m[K[36m[K-[m[K[32m[K1636[m[K[36m[K-[m[K                .get()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K    for (const attribute of dataAttributes) {
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K        const regex = new RegExp([01;31m[K`^attr__${attribute.split('*').map(escapeRegex).join('.*')}$`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K        const match = Object.keys(element.attributes).find((a) => regex.test(a))
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K    if (attribute) {
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K        selector += [01;31m[K`[${attribute}="${element.attributes[`[m[Kattr__${attribute}`]}"]`
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K        return selector
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K    if (element.attr_id) {
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K        selector += [01;31m[K`[id="${cssEscape(element.attr_id)}"]`[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K        return selector
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K            .filter((a) => a)
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K:[m[K[32m[K43[m[K[36m[K:[m[K            .map((a) => [01;31m[K`.${cssEscape(a)}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K            .join('')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K    if (element.href && element.tag_name === 'a') {
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K        selector += [01;31m[K`[href="${cssEscape(element.href)}"]`[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K    if (element.nth_child) {
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K:[m[K[32m[K50[m[K[36m[K:[m[K        selector += [01;31m[K`:nth-child(${parseInt(element.nth_child as any)})`[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K    if (element.nth_of_type) {
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K        selector += [01;31m[K`:nth-of-type(${parseInt(element.nth_of_type as any)})`[m[K
[35m[K/tmp/posthog/frontend/src/lib/actionUtils.ts[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/logic/newPrompt/promptLogic.tsx[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[Kfunction getFeatureSessionStorageKey(featureFlagName: string): string {
[35m[K/tmp/posthog/frontend/src/lib/logic/newPrompt/promptLogic.tsx[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[K    return [01;31m[K`${PROMPT_PREFIX}-${featureFlagName}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/logic/newPrompt/promptLogic.tsx[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/logic/newPrompt/promptLogic.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[Kfunction getLastSeenSessionStorageKey(): string {
[35m[K/tmp/posthog/frontend/src/lib/logic/newPrompt/promptLogic.tsx[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K    return [01;31m[K`${PROMPT_PREFIX}-${LAST_SEEN}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/logic/newPrompt/promptLogic.tsx[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/logic/newPrompt/Prompt.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K                    <div className="w-100 max-h-180">
[35m[K/tmp/posthog/frontend/src/lib/logic/newPrompt/Prompt.tsx[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K                        <FallbackCoverImage src={payload.image} index={0} alt={[01;31m[K`Prompt image for ${payload.title}`[m[K} />
[35m[K/tmp/posthog/frontend/src/lib/logic/newPrompt/Prompt.tsx[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K                    </div>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/logic/newPrompt/Prompt.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K            {payload.image && (
[35m[K/tmp/posthog/frontend/src/lib/logic/newPrompt/Prompt.tsx[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                <FallbackCoverImage src={payload.image} index={0} alt={[01;31m[K`Prompt image for ${payload.title}`[m[K} />
[35m[K/tmp/posthog/frontend/src/lib/logic/newPrompt/Prompt.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K            )}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/logic/inAppPrompt/inAppPromptLogic.tsx[m[K[36m[K-[m[K[32m[K176[m[K[36m[K-[m[K                    const element = tooltip.reference
[35m[K/tmp/posthog/frontend/src/lib/logic/inAppPrompt/inAppPromptLogic.tsx[m[K[36m[K:[m[K[32m[K177[m[K[36m[K:[m[K                        ? (document.querySelector([01;31m[K`[data-attr="${tooltip.reference}"]`[m[K) as HTMLElement)
[35m[K/tmp/posthog/frontend/src/lib/logic/inAppPrompt/inAppPromptLogic.tsx[m[K[36m[K-[m[K[32m[K178[m[K[36m[K-[m[K                        : null
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/internalMetrics.ts[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K    if (window.JS_CAPTURE_TIME_TO_SEE_DATA && teamId) {
[35m[K/tmp/posthog/frontend/src/lib/internalMetrics.ts[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K        await api.create([01;31m[K`api/projects/${teamId}/insights/timing`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/internalMetrics.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K            session_id: currentSessionId(),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K150[m[K[36m[K-[m[K        }, [] as [string, any][])
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K151[m[K[36m[K:[m[K        .map(([key, val]) => [01;31m[K`${key}=${handleVal(val)}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K152[m[K[36m[K-[m[K        .join('&')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K194[m[K[36m[K-[m[K}): Promise<void> {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K195[m[K[36m[K:[m[K    await api.update([01;31m[K`api/${props.endpoint}/${props.object[props.idField || 'id']}`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K196[m[K[36m[K-[m[K        ...props.object,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K205[m[K[36m[K-[m[K        {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K206[m[K[36m[K:[m[K            toastId: [01;31m[K`delete-item-${props.object.id}-${undo}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K207[m[K[36m[K-[m[K            button: undo
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K378[m[K[36m[K-[m[K    return type === 'cohort'
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K379[m[K[36m[K:[m[K        ? cohortsById[value]?.name || [01;31m[K`ID ${value}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K380[m[K[36m[K-[m[K        : (keyMapping[type === 'element' ? 'element' : 'event'][key]?.label || key) +
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K381[m[K[36m[K-[m[K              (isOperatorFlag(operator)
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K382[m[K[36m[K:[m[K                  ? [01;31m[K` ${allOperatorsMapping[operator]}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K383[m[K[36m[K-[m[K                  : ` ${(allOperatorsMapping[operator || 'exact'] || '?').split(' ')[0]} ${
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K392[m[K[36m[K-[m[K    } else if (action.math === 'hogql') {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K393[m[K[36m[K:[m[K        label += [01;31m[K` (${action.math_hogql})`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K394[m[K[36m[K-[m[K    } else if (['sum', 'avg', 'min', 'max', 'median', 'p90', 'p95', 'p99'].includes(action.math || '')) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K395[m[K[36m[K:[m[K        label += [01;31m[K` (${action.math} of ${action.math_property}) `[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K396[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K400[m[K[36m[K-[m[K                (property) =>
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K401[m[K[36m[K:[m[K                    [01;31m[K`${property.key ? `[m[K${property.key} ` : ''}${
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K402[m[K[36m[K-[m[K                        allOperatorsMapping[
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K552[m[K[36m[K-[m[K    if (d >= trillion) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K553[m[K[36m[K:[m[K        return [01;31m[K`${prefix}${(d / trillion).toString()}T`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K554[m[K[36m[K-[m[K    } else if (d >= billion) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K555[m[K[36m[K:[m[K        return [01;31m[K`${prefix}${(d / billion).toString()}B`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K556[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K557[m[K[36m[K-[m[K    if (d >= million) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K558[m[K[36m[K:[m[K        return [01;31m[K`${prefix}${(d / million).toString()}M`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K559[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K560[m[K[36m[K-[m[K    if (d >= thousand) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K561[m[K[36m[K:[m[K        return [01;31m[K`${prefix}${(d / thousand).toString()}K`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K562[m[K[36m[K-[m[K    } else {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K563[m[K[36m[K:[m[K        return [01;31m[K`${prefix}${d}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K564[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K572[m[K[36m[K-[m[K    if (timestamp < 1000) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K573[m[K[36m[K:[m[K        return [01;31m[K`${Math.ceil(timestamp)}ms`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K574[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K624[m[K[36m[K-[m[K    if (parsedDate.isSame(today, 'd')) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K625[m[K[36m[K:[m[K        formatString = [01;31m[K`[Today] ${formatTime}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K626[m[K[36m[K-[m[K    } else if (parsedDate.isSame(yesterday, 'd')) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K627[m[K[36m[K:[m[K        formatString = [01;31m[K`[Yesterday] ${formatTime}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K628[m[K[36m[K-[m[K    } else {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K629[m[K[36m[K:[m[K        formatString = [01;31m[K`${formatDate} ${formatTime}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K630[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K809[m[K[36m[K-[m[K        if (event.elements?.[0]?.text) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K810[m[K[36m[K:[m[K            return [01;31m[K`${shortForm ? '' : 'with text '}"${event.elements[0].text}"`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K811[m[K[36m[K-[m[K        } else if (event.elements?.[0]?.attributes?.['attr__aria-label']) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K812[m[K[36m[K:[m[K            return [01;31m[K`${shortForm ? '' : 'with aria label '}"${event.elements[0].attributes['attr__aria-label']}"`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K813[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K858[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K859[m[K[36m[K:[m[K    return [01;31m[K`${dateFrom.format(formatFrom)} - ${dateTo.format(formatTo)}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K860[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K976[m[K[36m[K-[m[K            ? formatDateRange(dayjs(dateFrom, 'YYYY-MM-DD'), dayjs(dateTo, 'YYYY-MM-DD'))
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K977[m[K[36m[K:[m[K            : [01;31m[K`${dateFrom} - ${dateTo}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K978[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K983[m[K[36m[K-[m[K        if (days > 366) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K984[m[K[36m[K:[m[K            return isDateFormatted ? [01;31m[K`${dateFrom} - today`[m[K : formatDateRange(dayjs(dateFrom), dayjs())
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K985[m[K[36m[K-[m[K        } else if (days > 0) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K986[m[K[36m[K:[m[K            return isDateFormatted ? formatDateRange(dayjs(dateFrom), dayjs()) : [01;31m[K`Last ${days} days`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K987[m[K[36m[K-[m[K        } else if (days === 0) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K989[m[K[36m[K-[m[K        } else {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K990[m[K[36m[K:[m[K            return isDateFormatted ? [01;31m[K`${dayjs(dateFrom).format(dateFormat)} - `[m[K : [01;31m[K`Starting from ${dateFrom}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K991[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1021[m[K[36m[K-[m[K            } else {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K1022[m[K[36m[K:[m[K                return [01;31m[K`Last ${counter} ${dateOption}${counter > 1 ? 's' : ''}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1023[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1078[m[K[36m[K-[m[K        await navigator.clipboard.writeText(value)
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K1079[m[K[36m[K:[m[K        lemonToast.info([01;31m[K`Copied ${description} to clipboard`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1080[m[K[36m[K-[m[K            icon: <IconCopy />,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1091[m[K[36m[K-[m[K            document.body.removeChild(textArea)
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K1092[m[K[36m[K:[m[K            lemonToast.info([01;31m[K`Copied ${description} to clipboard`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1093[m[K[36m[K-[m[K                icon: <IconCopy />,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1096[m[K[36m[K-[m[K        } catch (err) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K1097[m[K[36m[K:[m[K            lemonToast.error([01;31m[K`Could not copy ${description} to clipboard: ${err}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1098[m[K[36m[K-[m[K            return false
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1115[m[K[36m[K-[m[Kexport function platformCommandControlKey(modifier: string): string {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K1116[m[K[36m[K:[m[K    return [01;31m[K`${isMac() ? '⌘' : 'Ctrl + '}${modifier}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1117[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1211[m[K[36m[K-[m[K    if (!match) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K1212[m[K[36m[K:[m[K        throw new Error([01;31m[K`${url} is not a valid GitHub URL`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1213[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1257[m[K[36m[K-[m[K    const excessRight = Math.ceil((input.length - maxLength + 1) / 2)
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K1258[m[K[36m[K:[m[K    return [01;31m[K`${input.slice(0, middle - excessLeft)}…${input.slice(middle + excessRight)}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1259[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1305[m[K[36m[K-[m[K    const form = count === 1 ? singular : plural
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K1306[m[K[36m[K:[m[K    return includeNumber ? [01;31m[K`${humanFriendlyNumber(count)} ${form}`[m[K : form
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1307[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1324[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K1325[m[K[36m[K:[m[K    return magnitude > 0 ? [01;31m[K`${value} ${COMPACT_NUMBER_MAGNITUDES[magnitude]}`[m[K : value.toString()
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1326[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1382[m[K[36m[K-[m[K    const direction = offset > 0 ? 'ahead' : 'behind'
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K1383[m[K[36m[K:[m[K    return [01;31m[K`${absoluteOffset} ${hourForm} ${direction}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1384[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1405[m[K[36m[K-[m[K    if (originalColor.length !== 6) {
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K:[m[K[32m[K1406[m[K[36m[K:[m[K        console.warn([01;31m[K`Incorrectly formatted color string: ${hex}.`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/utils.tsx[m[K[36m[K-[m[K[32m[K1407[m[K[36m[K-[m[K        return { r: 0, g: 0, b: 0 }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K-[m[K[32m[K836[m[K[36m[K-[m[K        if (data.description) {
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K:[m[K[32m[K837[m[K[36m[K:[m[K            data.label = [01;31m[K`Initial ${data.label}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K:[m[K[32m[K838[m[K[36m[K:[m[K            data.description = [01;31m[K`${data.description} Data from the first time this user was seen.`[m[K
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K-[m[K[32m[K839[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K-[m[K[32m[K844[m[K[36m[K-[m[K            return {
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K:[m[K[32m[K845[m[K[36m[K:[m[K                label: [01;31m[K`Survey Responded: ${surveyId}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K:[m[K[32m[K846[m[K[36m[K:[m[K                description: [01;31m[K`Whether the user responded to survey with ID: "${surveyId}".`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K-[m[K[32m[K847[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K-[m[K[32m[K852[m[K[36m[K-[m[K            return {
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K:[m[K[32m[K853[m[K[36m[K:[m[K                label: [01;31m[K`Survey Dismissed: ${surveyId}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K:[m[K[32m[K854[m[K[36m[K:[m[K                description: [01;31m[K`Whether the user dismissed survey with ID: "${surveyId}".`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K-[m[K[32m[K855[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K-[m[K[32m[K865[m[K[36m[K-[m[K            return {
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K:[m[K[32m[K866[m[K[36m[K:[m[K                label: [01;31m[K`Survey Response Question ID: ${surveyIndex}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K:[m[K[32m[K867[m[K[36m[K:[m[K                description: [01;31m[K`The response value for the ${index}${suffix} question in the survey.`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K-[m[K[32m[K868[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K-[m[K[32m[K873[m[K[36m[K-[m[K            return {
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K:[m[K[32m[K874[m[K[36m[K:[m[K                label: [01;31m[K`Feature: ${featureFlagKey}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K:[m[K[32m[K875[m[K[36m[K:[m[K                description: [01;31m[K`Value for the feature flag "${featureFlagKey}" when this event was sent.`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K-[m[K[32m[K876[m[K[36m[K-[m[K                examples: ['true', 'variant-1a'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K-[m[K[32m[K882[m[K[36m[K-[m[K            return {
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K:[m[K[32m[K883[m[K[36m[K:[m[K                label: [01;31m[K`Feature Enrollment: ${featureFlagKey}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K:[m[K[32m[K884[m[K[36m[K:[m[K                description: [01;31m[K`Whether the user has opted into the "${featureFlagKey}" beta program.`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K-[m[K[32m[K885[m[K[36m[K-[m[K                examples: ['true', 'false'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K-[m[K[32m[K891[m[K[36m[K-[m[K            return {
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K:[m[K[32m[K892[m[K[36m[K:[m[K                label: [01;31m[K`Feature Interaction: ${featureFlagKey}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K:[m[K[32m[K893[m[K[36m[K:[m[K                description: [01;31m[K`Whether the user has interacted with "${featureFlagKey}".`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/taxonomy.tsx[m[K[36m[K-[m[K[32m[K894[m[K[36m[K-[m[K                examples: ['true', 'false'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/hooks/useOutsideClickHandler.ts[m[K[36m[K-[m[K[32m[K4[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/lib/hooks/useOutsideClickHandler.ts[m[K[36m[K:[m[K[32m[K5[m[K[36m[K:[m[Kconst exceptions = ['.ant-select-dropdown *', [01;31m[K`.${CLICK_OUTSIDE_BLOCK_CLASS}`[m[K, [01;31m[K`.${CLICK_OUTSIDE_BLOCK_CLASS} *`[m[K]
[35m[K/tmp/posthog/frontend/src/lib/hooks/useOutsideClickHandler.ts[m[K[36m[K-[m[K[32m[K6[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/hooks/useWhyDidIRender.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K                // eslint-disable-next-line no-console
[35m[K/tmp/posthog/frontend/src/lib/hooks/useWhyDidIRender.ts[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K                console.log([01;31m[K`${name} props changed:`[m[K, [...oldChangedProps, ...changedProps])
[35m[K/tmp/posthog/frontend/src/lib/hooks/useWhyDidIRender.ts[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/logics.ts[m[K[36m[K-[m[K[32m[K8[m[K[36m[K-[m[K    if (!maybeTeamId) {
[35m[K/tmp/posthog/frontend/src/lib/utils/logics.ts[m[K[36m[K:[m[K[32m[K9[m[K[36m[K:[m[K        throw new Error([01;31m[K`Project ID is not known.${getAppContext()?.anonymous ? ' User is anonymous.' : ''}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/utils/logics.ts[m[K[36m[K-[m[K[32m[K10[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/logics.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K    if (!maybeOrgId) {
[35m[K/tmp/posthog/frontend/src/lib/utils/logics.ts[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K        throw new Error([01;31m[K`Organization ID is not known.${getAppContext()?.anonymous ? ' User is anonymous.' : ''}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/utils/logics.ts[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K668[m[K[36m[K-[m[K                if (item.insight) {
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K:[m[K[32m[K669[m[K[36m[K:[m[K                    const key = [01;31m[K`${item.insight.filters?.insight?.toLowerCase() || InsightType.TRENDS}_count`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K670[m[K[36m[K-[m[K                    if (!properties[key]) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K742[m[K[36m[K-[m[K        reportPersonPropertyUpdated: async ({ action, totalProperties, oldPropertyType, newPropertyType }) => {
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K:[m[K[32m[K743[m[K[36m[K:[m[K            posthog.capture([01;31m[K`person property ${action}`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K744[m[K[36m[K-[m[K                old_property_type: oldPropertyType !== 'undefined' ? oldPropertyType : undefined,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K853[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K:[m[K[32m[K854[m[K[36m[K:[m[K            posthog.capture([01;31m[K`recording ${type}`[m[K, payload)
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K855[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K875[m[K[36m[K-[m[K            if (delay === 0) {
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K:[m[K[32m[K876[m[K[36m[K:[m[K                posthog.capture([01;31m[K`correlation${propertiesTable ? ' properties' : ''} viewed`[m[K, { filters })
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K877[m[K[36m[K-[m[K            } else {
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K:[m[K[32m[K878[m[K[36m[K:[m[K                posthog.capture([01;31m[K`correlation${propertiesTable ? ' properties' : ''} analyzed`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K879[m[K[36m[K-[m[K                    filters,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K1128[m[K[36m[K-[m[K        reportTeamSettingChange: ({ name, value }) => {
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K:[m[K[32m[K1129[m[K[36m[K:[m[K            posthog.capture([01;31m[K`${name} team setting updated`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K1130[m[K[36m[K-[m[K                setting: name,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K1244[m[K[36m[K-[m[K        reportProductUnsubscribed: ({ product }) => {
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K:[m[K[32m[K1245[m[K[36m[K:[m[K            const property_key = [01;31m[K`unsubscribed_from_${product}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils/eventUsageLogic.ts[m[K[36m[K-[m[K[32m[K1246[m[K[36m[K-[m[K            posthog.capture('product unsubscribed', {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/TextCard/textCardModalLogic.ts[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K    props({} as TextCardModalProps),
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/TextCard/textCardModalLogic.ts[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K    key((props) => [01;31m[K`textCardModalLogic-${props.dashboard.id}-${props.textTileId}`[m[K),
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/TextCard/textCardModalLogic.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K    connect({ actions: [dashboardsModel, ['updateDashboard']] }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/TextCard/textCardModalLogic.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K            if (props.dashboard && props.textTileId) {
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/TextCard/textCardModalLogic.ts[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K                lemonToast.error([01;31m[K`Could not save text: ${error.error} (${JSON.stringify(error.errors)})`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/TextCard/textCardModalLogic.ts[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/TextCard/TextCard.tsx[m[K[36m[K-[m[K[32m[K158[m[K[36m[K-[m[K                style={
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/TextCard/TextCard.tsx[m[K[36m[K:[m[K[32m[K159[m[K[36m[K:[m[K                    metaPrimaryHeight ? { height: [01;31m[K`calc(100% - ${metaPrimaryHeight}px - 1px /* border */)`[m[K } : undefined
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/TextCard/TextCard.tsx[m[K[36m[K-[m[K[32m[K160[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/InsightCard/InsightCard.tsx[m[K[36m[K-[m[K[32m[K343[m[K[36m[K-[m[K                                ? {
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/InsightCard/InsightCard.tsx[m[K[36m[K:[m[K[32m[K344[m[K[36m[K:[m[K                                      height: [01;31m[K`calc(100% - ${metaPrimaryHeight}px - 2rem /* margins */ - 1px /* border */)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/InsightCard/InsightCard.tsx[m[K[36m[K-[m[K[32m[K345[m[K[36m[K-[m[K                                  }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/InsightCard/InsightCard.tsx[m[K[36m[K-[m[K[32m[K369[m[K[36m[K-[m[K                                ? {
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/InsightCard/InsightCard.tsx[m[K[36m[K:[m[K[32m[K370[m[K[36m[K:[m[K                                      height: [01;31m[K`calc(100% - ${metaPrimaryHeight}px - 2rem /* margins */ - 1px /* border */)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/InsightCard/InsightCard.tsx[m[K[36m[K-[m[K[32m[K371[m[K[36m[K-[m[K                                  }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/InsightCard/InsightMeta.tsx[m[K[36m[K-[m[K[32m[K115[m[K[36m[K-[m[K                insight.filters.sampling_factor && insight.filters.sampling_factor < 1 ? (
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/InsightCard/InsightMeta.tsx[m[K[36m[K:[m[K[32m[K116[m[K[36m[K:[m[K                    <Tooltip title={[01;31m[K`Results calculated from ${100 * insight.filters.sampling_factor}% of users`[m[K}>
[35m[K/tmp/posthog/frontend/src/lib/components/Cards/InsightCard/InsightMeta.tsx[m[K[36m[K-[m[K[32m[K117[m[K[36m[K-[m[K                        <PieChartFilled className="mr-2" style={{ color: 'var(--primary-light)' }} />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/UnitPicker.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K        if (trendsFilter?.aggregation_axis_prefix?.length) {
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/UnitPicker.tsx[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K            displayValue = [01;31m[K`Prefix: ${trendsFilter?.aggregation_axis_prefix}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/UnitPicker.tsx[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K        }
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/UnitPicker.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K        if (trendsFilter?.aggregation_axis_postfix?.length) {
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/UnitPicker.tsx[m[K[36m[K:[m[K[32m[K79[m[K[36m[K:[m[K            displayValue = [01;31m[K`Postfix: ${trendsFilter?.aggregation_axis_postfix}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/UnitPicker.tsx[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/UnitPicker.tsx[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K                                    {trendsFilter?.aggregation_axis_prefix
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/UnitPicker.tsx[m[K[36m[K:[m[K[32m[K129[m[K[36m[K:[m[K                                        ? [01;31m[K`: ${trendsFilter?.aggregation_axis_prefix}...`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/UnitPicker.tsx[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K                                        : '...'}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/UnitPicker.tsx[m[K[36m[K-[m[K[32m[K139[m[K[36m[K-[m[K                                    {trendsFilter?.aggregation_axis_postfix
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/UnitPicker.tsx[m[K[36m[K:[m[K[32m[K140[m[K[36m[K:[m[K                                        ? [01;31m[K`: ${trendsFilter?.aggregation_axis_postfix}...`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/UnitPicker.tsx[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K                                        : '...'}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/CustomUnitModal.tsx[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K            forceAbovePopovers={true}
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/CustomUnitModal.tsx[m[K[36m[K:[m[K[32m[K59[m[K[36m[K:[m[K            title={[01;31m[K`Custom ${formativeElement}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/CustomUnitModal.tsx[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K            footer={
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/CustomUnitModal.tsx[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K            <PureField
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/CustomUnitModal.tsx[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K                label={[01;31m[K`${capitalizeFirstLetter(formativeElement)}:`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/UnitPicker/CustomUnitModal.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                help={
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/SeriesGlyph.tsx[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/lib/components/SeriesGlyph.tsx[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K        <div className={[01;31m[K`graph-series-glyph ${variant || ''} ${className}`[m[K} style={style}>
[35m[K/tmp/posthog/frontend/src/lib/components/SeriesGlyph.tsx[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K            {children}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/InsightLabel/index.tsx[m[K[36m[K-[m[K[32m[K126[m[K[36m[K-[m[K                            background: seriesColor,
[35m[K/tmp/posthog/frontend/src/lib/components/InsightLabel/index.tsx[m[K[36m[K:[m[K[32m[K127[m[K[36m[K:[m[K                            boxShadow: [01;31m[K`0px 0px 0px 1px ${hexToRGBA(seriesColor, 0.5)}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/InsightLabel/index.tsx[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K                            minWidth: iconSizePx,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PathCleanFilters/PathCleanFilterItem.tsx[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K    const [visible, setVisible] = useState(false)
[35m[K/tmp/posthog/frontend/src/lib/components/PathCleanFilters/PathCleanFilterItem.tsx[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K    const label = [01;31m[K`${filter.alias}::${filter.regex}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PathCleanFilters/PathCleanFilterItem.tsx[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/hedgehogs.stories.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                        render: function RenderName(name) {
[35m[K/tmp/posthog/frontend/src/lib/components/hedgehogs.stories.tsx[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K                            return <code>{[01;31m[K`<${name as string} />`[m[K}</code>
[35m[K/tmp/posthog/frontend/src/lib/components/hedgehogs.stories.tsx[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K                        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/views/EditSubscription.tsx[m[K[36m[K-[m[K[32m[K256[m[K[36m[K-[m[K                                                    at{' '}
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/views/EditSubscription.tsx[m[K[36m[K:[m[K[32m[K257[m[K[36m[K:[m[K                                                    <Link to={[01;31m[K`${urls.projectSettings()}#slack`[m[K}>
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/views/EditSubscription.tsx[m[K[36m[K-[m[K[32m[K258[m[K[36m[K-[m[K                                                        {' '}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/utils.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K    value: String(x),
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/utils.tsx[m[K[36m[K:[m[K[32m[K79[m[K[36m[K:[m[K    label: [01;31m[K`${String(x).padStart(2, '0')}:00`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/utils.tsx[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K}))
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/utils.tsx[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K        ? slackChannels.map((x) => ({
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/utils.tsx[m[K[36m[K:[m[K[32m[K88[m[K[36m[K:[m[K              key: [01;31m[K`${x.id}|#${x.name}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/utils.tsx[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K              labelComponent: (
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/utils.tsx[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K                  <span className="flex items-center">
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/utils.tsx[m[K[36m[K:[m[K[32m[K91[m[K[36m[K:[m[K                      {x.is_private ? [01;31m[K`🔒${x.name}`[m[K : [01;31m[K`#${x.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/utils.tsx[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K                      {x.is_ext_shared ? <IconSlackExternal className="ml-2" /> : null}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/utils.tsx[m[K[36m[K-[m[K[32m[K94[m[K[36m[K-[m[K              ),
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/utils.tsx[m[K[36m[K:[m[K[32m[K95[m[K[36m[K:[m[K              label: [01;31m[K`${x.id} #${x.name}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/utils.tsx[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K          }))
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/subscriptionsLogic.test.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K        name: 'insight',
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/subscriptionsLogic.test.ts[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K        result: [[01;31m[K`result ${id}`[m[K],
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/subscriptionsLogic.test.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K        filters: API_FILTERS,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/subscriptionsLogic.ts[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K    key(({ insightShortId, dashboardId }) =>
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/subscriptionsLogic.ts[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K        insightShortId ? [01;31m[K`insight-${insightShortId}`[m[K : dashboardId ? [01;31m[K`dashboard-${dashboardId}`[m[K : 'subscriptions'
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/subscriptionsLogic.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K    ),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/subscriptionLogic.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K    props({} as SubscriptionsLogicProps),
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/subscriptionLogic.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K    key(({ id, insightShortId, dashboardId }) => [01;31m[K`${insightShortId || dashboardId}-${id ?? 'new'}`[m[K),
[35m[K/tmp/posthog/frontend/src/lib/components/Subscriptions/subscriptionLogic.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K    connect(({ insightShortId, dashboardId }: SubscriptionsLogicProps) => ({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/EditableField/EditableField.tsx[m[K[36m[K-[m[K[32m[K207[m[K[36m[K-[m[K                                        onClick={() => setLocalIsEditing(true)}
[35m[K/tmp/posthog/frontend/src/lib/components/EditableField/EditableField.tsx[m[K[36m[K:[m[K[32m[K208[m[K[36m[K:[m[K                                        data-attr={[01;31m[K`edit-prop-${name}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/EditableField/EditableField.tsx[m[K[36m[K-[m[K[32m[K209[m[K[36m[K-[m[K                                        disabled={paywall}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/EditableField/EditableField.tsx[m[K[36m[K-[m[K[32m[K309[m[K[36m[K-[m[K                /* eslint-disable-next-line react/forbid-dom-props */
[35m[K/tmp/posthog/frontend/src/lib/components/EditableField/EditableField.tsx[m[K[36m[K:[m[K[32m[K310[m[K[36m[K:[m[K                style={{ boxSizing: 'content-box', width: [01;31m[K`${inputWidth}px`[m[K }}
[35m[K/tmp/posthog/frontend/src/lib/components/EditableField/EditableField.tsx[m[K[36m[K-[m[K[32m[K311[m[K[36m[K-[m[K            />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/index.tsx[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K            // nth-child is 1-indexed. first column is fixed. last column width must be uncontrolled.
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/index.tsx[m[K[36m[K:[m[K[32m[K91[m[K[36m[K:[m[K            [01;31m[K`.ant-table-content colgroup col:nth-child(${index + 1 + Number(!!props.expandable)}):not(:last-child)`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/index.tsx[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K        )
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/index.tsx[m[K[36m[K:[m[K[32m[K93[m[K[36m[K:[m[K        col?.setAttribute('style', [01;31m[K`width: ${width}px;`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/index.tsx[m[K[36m[K-[m[K[32m[K94[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/index.tsx[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K                const table = scrollWrapperRef.current?.querySelector('.ant-table table')
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/index.tsx[m[K[36m[K:[m[K[32m[K111[m[K[36m[K:[m[K                table?.setAttribute('style', [01;31m[K`width: ${headerWidth}px;`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/ResizableTable/index.tsx[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/JSBookmarklet.tsx[m[K[36m[K-[m[K[32m[K6[m[K[36m[K-[m[Kexport function JSBookmarklet({ team }: { team: TeamBasicType }): JSX.Element {
[35m[K/tmp/posthog/frontend/src/lib/components/JSBookmarklet.tsx[m[K[36m[K:[m[K[32m[K7[m[K[36m[K:[m[K    const initCall = [01;31m[K`posthog.init('${team?.api_token}',{api_host:'${location.origin}', loaded: () => alert('PostHog is now tracking events!')})`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/JSBookmarklet.tsx[m[K[36m[K-[m[K[32m[K8[m[K[36m[K-[m[K    const href = `javascript:(function()%7Bif%20(window.posthog)%20%7Balert(%22Error%3A%20PostHog%20already%20is%20installed%20on%20this%20site%22)%7D%20else%20%7B!function(t%2Ce)%7Bvar%20o%2Cn%2Cp%2Cr%3Be.__SV%7C%7C(window.posthog%3De%2Ce._i%3D%5B%5D%2Ce.init%3Dfunction(i%2Cs%2Ca)%7Bfunction%20g(t%2Ce)%7Bvar%20o%3De.split(%22.%22)%3B2%3D%3Do.length%26%26(t%3Dt%5Bo%5B0%5D%5D%2Ce%3Do%5B1%5D)%2Ct%5Be%5D%3Dfunction()%7Bt.push(%5Be%5D.concat(Array.prototype.slice.call(arguments%2C0)))%7D%7D(p%3Dt.createElement(%22script%22)).type%3D%22text%2Fjavascript%22%2Cp.async%3D!0%2Cp.src%3Ds.api_host%2B%22%2Fstatic%2Farray.js%22%2C(r%3Dt.getElementsByTagName(%22script%22)%5B0%5D).parentNode.insertBefore(p%2Cr)%3Bvar%20u%3De%3Bfor(void%200!%3D%3Da%3Fu%3De%5Ba%5D%3D%5B%5D%3Aa%3D%22posthog%22%2Cu.people%3Du.people%7C%7C%5B%5D%2Cu.toString%3Dfunction(t)%7Bvar%20e%3D%22posthog%22%3Breturn%22posthog%22!%3D%3Da%26%26(e%2B%3D%22.%22%2Ba)%2Ct%7C%7C(e%2B%3D%22%20(stub)%22)%2Ce%7D%2Cu.people.toString%3Dfunction()%7Breturn%20u.toString(1)%2B%22.people%20(stub)%22%7D%2Co%3D%22capture%20identify%20alias%20people.set%20people.set_once%20set_config%20register%20register_once%20unregister%20opt_out_capturing%20has_opted_out_capturing%20opt_in_capturing%20reset%20isFeatureEnabled%20onFeatureFlags%22.split(%22%20%22)%2Cn%3D0%3Bn%3Co.length%3Bn%2B%2B)g(u%2Co%5Bn%5D)%3Be._i.push(%5Bi%2Cs%2Ca%5D)%7D%2Ce.__SV%3D1)%7D(document%2Cwindow.posthog%7C%7C%5B%5D)%3B${encodeURIComponent(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PersonPropertySelect/PersonPropertySelect.tsx[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K                                <SortableProperty
[35m[K/tmp/posthog/frontend/src/lib/components/PersonPropertySelect/PersonPropertySelect.tsx[m[K[36m[K:[m[K[32m[K97[m[K[36m[K:[m[K                                    key={[01;31m[K`item-${value}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PersonPropertySelect/PersonPropertySelect.tsx[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K                                    name={value}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ObjectTags/objectTagsLogic.ts[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K            if (values.tags?.includes(cleanedAddedTag)) {
[35m[K/tmp/posthog/frontend/src/lib/components/ObjectTags/objectTagsLogic.ts[m[K[36m[K:[m[K[32m[K70[m[K[36m[K:[m[K                lemonToast.error([01;31m[K`Tag "${cleanedAddedTag}" already is in the list`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/ObjectTags/objectTagsLogic.ts[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K                return
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ObjectTags/ObjectTags.tsx[m[K[36m[K-[m[K[32m[K150[m[K[36m[K-[m[K                                <Select.Option
[35m[K/tmp/posthog/frontend/src/lib/components/ObjectTags/ObjectTags.tsx[m[K[36m[K:[m[K[32m[K151[m[K[36m[K:[m[K                                    key={[01;31m[K`${cleanedNewTag}_${id}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/ObjectTags/ObjectTags.tsx[m[K[36m[K-[m[K[32m[K152[m[K[36m[K-[m[K                                    value={cleanedNewTag}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/SceneDashboardChoice/SceneDashboardChoiceRequired.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K            ) : null}
[35m[K/tmp/posthog/frontend/src/lib/components/SceneDashboardChoice/SceneDashboardChoiceRequired.tsx[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K            <LemonButton type="primary" data-attr={[01;31m[K`${props.scene}-choose-dashboard-from-empty`[m[K} onClick={props.open}>
[35m[K/tmp/posthog/frontend/src/lib/components/SceneDashboardChoice/SceneDashboardChoiceRequired.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K                Select a dashboard
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/SceneDashboardChoice/sceneDashboardChoiceModalLogic.ts[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K    props({} as SceneDashboardChoiceModalProps),
[35m[K/tmp/posthog/frontend/src/lib/components/SceneDashboardChoice/sceneDashboardChoiceModalLogic.ts[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K    key((props) => [01;31m[K`${props.scene}`[m[K),
[35m[K/tmp/posthog/frontend/src/lib/components/SceneDashboardChoice/sceneDashboardChoiceModalLogic.ts[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K    connect({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PersonalAPIKeys/personalAPIKeysLogic.ts[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K                deleteKey: async (key: PersonalAPIKeyType) => {
[35m[K/tmp/posthog/frontend/src/lib/components/PersonalAPIKeys/personalAPIKeysLogic.ts[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K                    await api.delete([01;31m[K`api/personal_api_keys/${key.id}/`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/PersonalAPIKeys/personalAPIKeysLogic.ts[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K                    return (values.keys as PersonalAPIKeyType[]).filter((filteredKey) => filteredKey.id != key.id)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PersonalAPIKeys/PersonalAPIKeys.tsx[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K            <Popconfirm
[35m[K/tmp/posthog/frontend/src/lib/components/PersonalAPIKeys/PersonalAPIKeys.tsx[m[K[36m[K:[m[K[32m[K88[m[K[36m[K:[m[K                title={[01;31m[K`Permanently delete key "${personalAPIKey.label}"?`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PersonalAPIKeys/PersonalAPIKeys.tsx[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K                okText="Delete Key"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TZLabel/index.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K}: Pick<TZLabelProps, 'showSeconds'> & { time: dayjs.Dayjs }): JSX.Element {
[35m[K/tmp/posthog/frontend/src/lib/components/TZLabel/index.tsx[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K    const DATE_OUTPUT_FORMAT = !showSeconds ? BASE_OUTPUT_FORMAT : [01;31m[K`${BASE_OUTPUT_FORMAT}:ss`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TZLabel/index.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K    const { currentTeam } = useValues(teamLogic)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Fade/Fade.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K        <div
[35m[K/tmp/posthog/frontend/src/lib/components/Fade/Fade.tsx[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K            className={[01;31m[K`fade-component-container${className ? `[m[K ${className}` : ''}`}
[35m[K/tmp/posthog/frontend/src/lib/components/Fade/Fade.tsx[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K            // eslint-disable-next-line react/forbid-dom-props
[35m[K/tmp/posthog/frontend/src/lib/components/Fade/Fade.tsx[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K            style={{ animation: [01;31m[K`${visible ? 'fadeComponentFadeIn' : 'fadeComponentFadeOut'} 0.3s`[m[K, ...style }}
[35m[K/tmp/posthog/frontend/src/lib/components/Fade/Fade.tsx[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K            onAnimationEnd={onAnimationEnd}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/sprites/sprites.tsx[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K    if (window.location.hostname !== 'localhost') {
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/sprites/sprites.tsx[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K        path = [01;31m[K`https://app.posthog.com${path}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/sprites/sprites.tsx[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/sprites/sprites.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/sprites/sprites.tsx[m[K[36m[K:[m[K[32m[K39[m[K[36m[K:[m[Kexport const baseSpriteAccessoriesPath = (): string => [01;31m[K`${baseSpritePath()}/accessories`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/sprites/sprites.tsx[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/components/AccessoryButton.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                <img
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/components/AccessoryButton.tsx[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K                    src={[01;31m[K`${baseSpriteAccessoriesPath()}/${accessory.img}.${imgExt}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/components/AccessoryButton.tsx[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K                    // eslint-disable-next-line react/forbid-dom-props
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K-[m[K[32m[K159[m[K[36m[K-[m[K            // eslint-disable-next-line no-console
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K:[m[K[32m[K160[m[K[36m[K:[m[K            console.log([01;31m[K`Hedgehog: Will '${this.animationName}' for ${duration}ms`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K-[m[K[32m[K161[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K-[m[K[32m[K307[m[K[36m[K-[m[K            Object.values(this.animations)
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K:[m[K[32m[K308[m[K[36m[K:[m[K                .map((x) => [01;31m[K`url(${baseSpritePath()}/${x.img}.${imgExt})`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K-[m[K[32m[K309[m[K[36m[K-[m[K                .join(' ') +
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K-[m[K[32m[K311[m[K[36m[K-[m[K            this.accessories
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K:[m[K[32m[K312[m[K[36m[K:[m[K                .map((accessory) => [01;31m[K`url(${baseSpriteAccessoriesPath}/${accessory.img}.${imgExt})`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K-[m[K[32m[K313[m[K[36m[K-[m[K                .join(' ')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K-[m[K[32m[K345[m[K[36m[K-[m[K                    bottom: this.y - SHADOW_HEIGHT / 2,
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K:[m[K[32m[K346[m[K[36m[K:[m[K                    transition: !this.isDragging ? [01;31m[K`all ${1000 / FPS}ms`[m[K : undefined,
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K:[m[K[32m[K347[m[K[36m[K:[m[K                    transform: [01;31m[K`scaleX(${this.direction === 'right' ? 1 : -1})`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K-[m[K[32m[K348[m[K[36m[K-[m[K                    cursor: 'pointer',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K-[m[K[32m[K357[m[K[36m[K-[m[K                        height: SPRITE_SIZE,
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K:[m[K[32m[K358[m[K[36m[K:[m[K                        backgroundImage: [01;31m[K`url(${baseSpritePath()}/${this.animation.img}.${imgExt})`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K-[m[K[32m[K359[m[K[36m[K-[m[K                        backgroundPosition: `-${(this.animationFrame % xFrames) * SPRITE_SIZE}px -${
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K-[m[K[32m[K374[m[K[36m[K-[m[K                            height: SPRITE_SIZE,
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K:[m[K[32m[K375[m[K[36m[K:[m[K                            backgroundImage: [01;31m[K`url(${baseSpriteAccessoriesPath()}/${accessory.img}.${imgExt})`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K-[m[K[32m[K376[m[K[36m[K-[m[K                            transform: accessoryPosition
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K:[m[K[32m[K377[m[K[36m[K:[m[K                                ? [01;31m[K`translate3d(${accessoryPosition[0]}px, ${accessoryPosition[1]}px, 0)`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx[m[K[36m[K-[m[K[32m[K378[m[K[36m[K-[m[K                                : undefined,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K-[m[K[32m[K119[m[K[36m[K-[m[K                                                    }}
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K:[m[K[32m[K120[m[K[36m[K:[m[K                                                    pageKey={[01;31m[K`insight-filters-${propertyGroupIndex}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K-[m[K[32m[K121[m[K[36m[K-[m[K                                                    taxonomicGroupTypes={taxonomicGroupTypes}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K-[m[K[32m[K139[m[K[36m[K-[m[K            <LemonButton
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K:[m[K[32m[K140[m[K[36m[K:[m[K                data-attr={[01;31m[K`${pageKey}-add-filter-group`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K                type="secondary"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/TaxonomicPropertyFilter.tsx[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K}: PropertyFilterInternalProps): JSX.Element {
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/TaxonomicPropertyFilter.tsx[m[K[36m[K:[m[K[32m[K44[m[K[36m[K:[m[K    const pageKey = useMemo(() => pageKeyInput || [01;31m[K`filter-${uniqueMemoizedIndex++}`[m[K, [pageKeyInput])
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/TaxonomicPropertyFilter.tsx[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K    const groupTypes = taxonomicGroupTypes || [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/TaxonomicPropertyFilter.tsx[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K                    className={clsx('TaxonomicPropertyFilter__row', {
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/TaxonomicPropertyFilter.tsx[m[K[36m[K:[m[K[32m[K128[m[K[36m[K:[m[K                        [[01;31m[K`width-${size}`[m[K]: true,
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/TaxonomicPropertyFilter.tsx[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K                        'TaxonomicPropertyFilter__row--or-filtering': orFiltering,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/TaxonomicPropertyFilter.tsx[m[K[36m[K-[m[K[32m[K172[m[K[36m[K-[m[K                            {filter?.type === 'cohort' ? (
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/TaxonomicPropertyFilter.tsx[m[K[36m[K:[m[K[32m[K173[m[K[36m[K:[m[K                                selectedCohortName || [01;31m[K`Cohort #${filter?.value}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/TaxonomicPropertyFilter.tsx[m[K[36m[K-[m[K[32m[K174[m[K[36m[K-[m[K                            ) : filter?.key ? (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/taxonomicPropertyFilterLogic.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K    props({} as TaxonomicPropertyFilterLogicProps),
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/taxonomicPropertyFilterLogic.ts[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K    key((props) => [01;31m[K`${props.pageKey}-${props.filterIndex}`[m[K),
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/taxonomicPropertyFilterLogic.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K    path((key) => ['lib', 'components', 'PropertyFilters', 'components', 'taxonomicPropertyFilterLogic', key]),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/PropertySelect.tsx[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K                                <Select.Option
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/PropertySelect.tsx[m[K[36m[K:[m[K[32m[K99[m[K[36m[K:[m[K                                    key={[01;31m[K`${group.type}_${option.value}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/PropertySelect.tsx[m[K[36m[K:[m[K[32m[K100[m[K[36m[K:[m[K                                    value={[01;31m[K`${group.type}_${option.value}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/PropertySelect.tsx[m[K[36m[K-[m[K[32m[K101[m[K[36m[K-[m[K                                    type={group.type}
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/PropertySelect.tsx[m[K[36m[K:[m[K[32m[K102[m[K[36m[K:[m[K                                    data-attr={[01;31m[K`prop-filter-${group.type}-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/PropertySelect.tsx[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K                                >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/OperatorValueSelect.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K        if (dayjs(value).isValid()) {
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/OperatorValueSelect.tsx[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K            const propertyReference = property ? [01;31m[K`property ${property}`[m[K : 'this property'
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/OperatorValueSelect.tsx[m[K[36m[K:[m[K[32m[K49[m[K[36m[K:[m[K            message += [01;31m[K`. If you'd like to compare dates and times, make sure ${propertyReference} is typed as DateTime in Data Management. You will then be able to use operators "before" and "after"`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/components/OperatorValueSelect.tsx[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/utils.ts[m[K[36m[K-[m[K[32m[K165[m[K[36m[K-[m[K    if (type === 'group') {
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/utils.ts[m[K[36m[K:[m[K[32m[K166[m[K[36m[K:[m[K        return [01;31m[K`${TaxonomicFilterGroupType.GroupsPrefix}_${group_type_index}`[m[K as TaxonomicFilterGroupType
[35m[K/tmp/posthog/frontend/src/lib/components/PropertyFilters/utils.ts[m[K[36m[K-[m[K[32m[K167[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Table/utils.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K        tableScrollBreakpoint,
[35m[K/tmp/posthog/frontend/src/lib/components/Table/utils.tsx[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K        tableScrollX: isTableScrolling ? 'max-content' : [01;31m[K`${tableScrollBreakpoint}px`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/Table/utils.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K                        {!isEmpty
[35m[K/tmp/posthog/frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx[m[K[36m[K:[m[K[32m[K70[m[K[36m[K:[m[K                            ? [01;31m[K`Welcome to ${productName}!`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K                            : actionable
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                                ? titleOverride
[35m[K/tmp/posthog/frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                                : [01;31m[K`Create your first ${thingName}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K                            : [01;31m[K`No ${thingName}s yet`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                    </h2>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K                                sideIcon={<IconOpenInNew className="w-4 h-4" />}
[35m[K/tmp/posthog/frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx[m[K[36m[K:[m[K[32m[K105[m[K[36m[K:[m[K                                to={[01;31m[K`${docsURL}?utm_medium=in-product&utm_campaign=empty-state-docs-link`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K                                data-attr="product-introduction-docs-link"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PayGateMini/PayGateMini.tsx[m[K[36m[K-[m[K[32m[K138[m[K[36m[K-[m[K                        : gateVariant === 'contact-sales'
[35m[K/tmp/posthog/frontend/src/lib/components/PayGateMini/PayGateMini.tsx[m[K[36m[K:[m[K[32m[K139[m[K[36m[K:[m[K                        ? [01;31m[K`mailto:sales@posthog.com?subject=Inquiring about ${featureSummary.umbrella}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PayGateMini/PayGateMini.tsx[m[K[36m[K-[m[K[32m[K140[m[K[36m[K-[m[K                        : gateVariant === 'subscribe'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.feature-flag.test.tsx[m[K[36m[K-[m[K[32m[K10[m[K[36m[K-[m[K            ActivityScope.FEATURE_FLAG,
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.feature-flag.test.tsx[m[K[36m[K:[m[K[32m[K11[m[K[36m[K:[m[K            [01;31m[K`/api/projects/${MOCK_TEAM_ID}/feature_flags/7/activity/`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.feature-flag.test.tsx[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.tsx[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K    props({} as ActivityLogLogicProps),
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.tsx[m[K[36m[K:[m[K[32m[K57[m[K[36m[K:[m[K    key(({ scope, id }) => [01;31m[K`activity/${scope}/${id || 'all'}`[m[K),
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.tsx[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K    path((key) => ['lib', 'components', 'ActivityLog', 'activitylog', 'logic', key]),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.test.tsx[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K                get: {
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.test.tsx[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K                    [[01;31m[K`/api/projects/${MOCK_TEAM_ID}/feature_flags/activity/`[m[K]: {
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.test.tsx[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K                        results: featureFlagsActivityResponseJson,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.test.tsx[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K                get: {
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.test.tsx[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K                    [[01;31m[K`/api/projects/${MOCK_TEAM_ID}/feature_flags/7/activity/`[m[K]: {
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.test.tsx[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K                        results: featureFlagsActivityResponseJson,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.test.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                get: {
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.test.tsx[m[K[36m[K:[m[K[32m[K79[m[K[36m[K:[m[K                    [[01;31m[K`/api/projects/${MOCK_TEAM_ID}/feature_flags/7/activity/`[m[K]: (req) => {
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.test.tsx[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K                        const isOnPageFour = req.url.searchParams.get('page') === '4'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/SentenceList.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K                            isntFirst && (
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/SentenceList.tsx[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K                                <div className="sentence-part" key={[01;31m[K`${index}-a`[m[K}>
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/SentenceList.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K                                    ,{' '}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/SentenceList.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K                            isLast && atLeastThree && (
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/SentenceList.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K                                <div className="sentence-part" key={[01;31m[K`${index}-b`[m[K}>
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/SentenceList.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                                    &nbsp;and&nbsp;
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/SentenceList.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K                            ),
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/SentenceList.tsx[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K                            <div className="sentence-part" key={[01;31m[K`${index}-c`[m[K}>
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/SentenceList.tsx[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K                                {part}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.person.test.tsx[m[K[36m[K-[m[K[32m[K8[m[K[36m[K-[m[K    describe('humanizing persons', () => {
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.person.test.tsx[m[K[36m[K:[m[K[32m[K9[m[K[36m[K:[m[K        const personTestSetup = makeTestSetup(ActivityScope.PERSON, [01;31m[K`/api/projects/${MOCK_TEAM_ID}/persons/7/activity/`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.person.test.tsx[m[K[36m[K-[m[K[32m[K10[m[K[36m[K-[m[K        it('can handle addition of a property', async () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/ActivityLog.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K            thingName={'history record'}
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/ActivityLog.tsx[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K            description={[01;31m[K`History shows any ${noun} changes that have been made. After making changes you'll see them logged here.`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/ActivityLog.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K            isEmpty={true}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.insight.test.tsx[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K            ActivityScope.INSIGHT,
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.insight.test.tsx[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K            [01;31m[K`/api/projects/${MOCK_TEAM_ID}/insights/activity/`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.insight.test.tsx[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.insight.test.tsx[m[K[36m[K-[m[K[32m[K406[m[K[36m[K-[m[K        formats.map((format) => {
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.insight.test.tsx[m[K[36m[K:[m[K[32m[K407[m[K[36m[K:[m[K            it([01;31m[K`can handle export of insight to ${format}`[m[K, async () => {
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.insight.test.tsx[m[K[36m[K-[m[K[32m[K408[m[K[36m[K-[m[K                const logic = await insightTestSetup('test insight', 'exported', [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.insight.test.tsx[m[K[36m[K-[m[K[32m[K413[m[K[36m[K-[m[K                        before: undefined,
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.insight.test.tsx[m[K[36m[K:[m[K[32m[K414[m[K[36m[K:[m[K                        after: [01;31m[K`something/${format}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.insight.test.tsx[m[K[36m[K-[m[K[32m[K415[m[K[36m[K-[m[K                    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.insight.test.tsx[m[K[36m[K-[m[K[32m[K419[m[K[36m[K-[m[K                expect(render(<>{actual[0].description}</>).container).toHaveTextContent(
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.insight.test.tsx[m[K[36m[K:[m[K[32m[K420[m[K[36m[K:[m[K                    [01;31m[K`exported test insight as a ${format}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ActivityLog/activityLogLogic.insight.test.tsx[m[K[36m[K-[m[K[32m[K421[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Animation/Animation.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                { 'Animation--hidden': !(visible && (source || showFallbackSpinner)) },
[35m[K/tmp/posthog/frontend/src/lib/components/Animation/Animation.tsx[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K                [01;31m[K`Animation--${size}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/Animation/Animation.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                className
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Animation/Animation.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K            // eslint-disable-next-line react/forbid-dom-props
[35m[K/tmp/posthog/frontend/src/lib/components/Animation/Animation.tsx[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K            style={{ aspectRatio: [01;31m[K`${width} / ${height}`[m[K, ...style }}
[35m[K/tmp/posthog/frontend/src/lib/components/Animation/Animation.tsx[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K        >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/AnnotationsOverlay.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[Kinterface AnnotationsOverlayCSSProperties extends React.CSSProperties {
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/AnnotationsOverlay.tsx[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K    '--annotations-overlay-chart-area-left': [01;31m[K`${string}px`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/AnnotationsOverlay.tsx[m[K[36m[K:[m[K[32m[K43[m[K[36m[K:[m[K    '--annotations-overlay-chart-area-height': [01;31m[K`${string}px`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/AnnotationsOverlay.tsx[m[K[36m[K:[m[K[32m[K44[m[K[36m[K:[m[K    '--annotations-overlay-chart-width': [01;31m[K`${string}px`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/AnnotationsOverlay.tsx[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K    '--annotations-overlay-first-tick-left': [01;31m[K`${string}px`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/AnnotationsOverlay.tsx[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K    '--annotations-overlay-tick-interval': [01;31m[K`${string}px`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/AnnotationsOverlay.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/AnnotationsOverlay.tsx[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                    {
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/AnnotationsOverlay.tsx[m[K[36m[K:[m[K[32m[K78[m[K[36m[K:[m[K                        '--annotations-overlay-chart-area-left': [01;31m[K`${chart ? chart.scales.x.left : 0}px`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/AnnotationsOverlay.tsx[m[K[36m[K:[m[K[32m[K79[m[K[36m[K:[m[K                        '--annotations-overlay-chart-area-height': [01;31m[K`${chart ? chart.scales.x.top : 0}px`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/AnnotationsOverlay.tsx[m[K[36m[K:[m[K[32m[K80[m[K[36m[K:[m[K                        '--annotations-overlay-chart-width': [01;31m[K`${chartWidth}px`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/AnnotationsOverlay.tsx[m[K[36m[K:[m[K[32m[K81[m[K[36m[K:[m[K                        '--annotations-overlay-first-tick-left': [01;31m[K`${firstTickLeftPx}px`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/AnnotationsOverlay.tsx[m[K[36m[K:[m[K[32m[K82[m[K[36m[K:[m[K                        '--annotations-overlay-tick-interval': [01;31m[K`${tickIntervalPx}px`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/AnnotationsOverlay.tsx[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K                    } as AnnotationsOverlayCSSProperties
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/annotationsOverlayLogic.test.ts[m[K[36m[K-[m[K[32m[K140[m[K[36m[K-[m[K            },
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/annotationsOverlayLogic.test.ts[m[K[36m[K:[m[K[32m[K141[m[K[36m[K:[m[K            [[01;31m[K`/api/projects/:team_id/insights/${MOCK_INSIGHT_NUMERIC_ID}`[m[K]: () => {
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/annotationsOverlayLogic.test.ts[m[K[36m[K-[m[K[32m[K142[m[K[36m[K-[m[K                return [200, insight]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/annotationsOverlayLogic.test.ts[m[K[36m[K-[m[K[32m[K482[m[K[36m[K-[m[K            for (const [interval, expectedGrouping] of Object.entries(intervalAndExpectedGroupings)) {
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/annotationsOverlayLogic.test.ts[m[K[36m[K:[m[K[32m[K483[m[K[36m[K:[m[K                it([01;31m[K`groups correctly by ${interval} with ${timezone} as insight timezone`[m[K, async () => {
[35m[K/tmp/posthog/frontend/src/lib/components/AnnotationsOverlay/annotationsOverlayLogic.test.ts[m[K[36m[K-[m[K[32m[K484[m[K[36m[K-[m[K                    initKeaTests(true, { ...MOCK_DEFAULT_TEAM, timezone })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ExpandIcon.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K}: ExpandIconProps): JSX.Element {
[35m[K/tmp/posthog/frontend/src/lib/components/ExpandIcon.tsx[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K    const iconPrefix = [01;31m[K`${prefixCls}-row-expand-icon`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ExpandIcon.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K    return (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ExpandIcon.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K                className={clsx(iconPrefix, 'mr-2', {
[35m[K/tmp/posthog/frontend/src/lib/components/ExpandIcon.tsx[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K                    [[01;31m[K`${iconPrefix}-spaced`[m[K]: !expandable,
[35m[K/tmp/posthog/frontend/src/lib/components/ExpandIcon.tsx[m[K[36m[K:[m[K[32m[K36[m[K[36m[K:[m[K                    [[01;31m[K`${iconPrefix}-expanded`[m[K]: expandable && expanded,
[35m[K/tmp/posthog/frontend/src/lib/components/ExpandIcon.tsx[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K                    [[01;31m[K`${iconPrefix}-collapsed`[m[K]: expandable && !expanded,
[35m[K/tmp/posthog/frontend/src/lib/components/ExpandIcon.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K                })}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/htmlElementsDisplayLogic.ts[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K                            if (lastKey === key - 1 && !!builtSelector.trim().length) {
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/htmlElementsDisplayLogic.ts[m[K[36m[K:[m[K[32m[K88[m[K[36m[K:[m[K                                builtSelector += [01;31m[K` > ${selector}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/htmlElementsDisplayLogic.ts[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K                            } else {
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/htmlElementsDisplayLogic.ts[m[K[36m[K:[m[K[32m[K90[m[K[36m[K:[m[K                                builtSelector += [01;31m[K` ${selector}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/htmlElementsDisplayLogic.ts[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K                            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/SelectableElement.tsx[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K        >
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/SelectableElement.tsx[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[K            {[01;31m[K`id="${id}"`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/SelectableElement.tsx[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K        </span>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/SelectableElement.tsx[m[K[36m[K-[m[K[32m[K139[m[K[36m[K-[m[K            <AttributeValue
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/SelectableElement.tsx[m[K[36m[K:[m[K[32m[K140[m[K[36m[K:[m[K                key={[01;31m[K`${attribute}-${part}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/SelectableElement.tsx[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K                attribute={attribute}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/SelectableElement.tsx[m[K[36m[K-[m[K[32m[K209[m[K[36m[K-[m[K                        <AttributePart
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/SelectableElement.tsx[m[K[36m[K:[m[K[32m[K210[m[K[36m[K:[m[K                            key={[01;31m[K`${indent.length}-${element.tag_name}-${attrName}-${value}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/SelectableElement.tsx[m[K[36m[K-[m[K[32m[K211[m[K[36m[K-[m[K                            attribute={attrName}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/HTMLElementsDisplay.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K                    <Fade
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/HTMLElementsDisplay.tsx[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K                        key={[01;31m[K`${element.tag_name}-close-tags-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/HTMLElementsDisplay.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K                        visible={true}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/HTMLElementsDisplay.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                    <Fade
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/HTMLElementsDisplay.tsx[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K                        key={[01;31m[K`${element.tag_name}-${reverseIndex}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/HTMLElementsDisplay.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                        visible={true}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/HTMLElementsDisplay.tsx[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K                        <SelectableElement
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/HTMLElementsDisplay.tsx[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[K                            key={[01;31m[K`${element.tag_name}-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/HTMLElementsDisplay.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                            element={element}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/HTMLElementsDisplay.tsx[m[K[36m[K-[m[K[32m[K114[m[K[36m[K-[m[K}: HTMLElementsDisplayProps): JSX.Element {
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/HTMLElementsDisplay.tsx[m[K[36m[K:[m[K[32m[K115[m[K[36m[K:[m[K    const [key] = useState(() => [01;31m[K`HtmlElementsDisplay.${uniqueNode++}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/HTMLElementsDisplay.tsx[m[K[36m[K-[m[K[32m[K116[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.test.ts[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K        testcases.forEach((testcase) => {
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.test.ts[m[K[36m[K:[m[K[32m[K111[m[K[36m[K:[m[K            test([01;31m[K`can parse ${testcase.selector}`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.test.ts[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K                expect(parseCSSSelector(testcase.selector)).toEqual(testcase.expected)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K-[m[K[32m[K9[m[K[36m[K-[m[K                if (!Array.isArray(value)) {
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K:[m[K[32m[K10[m[K[36m[K:[m[K                    throw new Error([01;31m[K`Was expecting an array here. Attribute: ${key} has a string value: ${value}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K                } else if (value.length > 0) {
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K:[m[K[32m[K12[m[K[36m[K:[m[K                    acc.push([01;31m[K`.${Array.from(value).join('.')}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[K                }
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K            } else if (key === 'combinator') {
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[K                acc.push([01;31m[K`${value}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K            } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K                    throw new Error(
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K                        [01;31m[K`Not expecting an array here. Attribute: ${key} has an array value: ${value.join(', ')}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K                    )
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K                } else {
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[K                    acc.push([01;31m[K`[${key}="${value}"]`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K    const tagSelector = parsedSelector.tag ? parsedSelector.tag : ''
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K    const idSelector = parsedSelector.id ? [01;31m[K`[id="${parsedSelector.id}"]`[m[K : ''
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K    const builtSelector = [01;31m[K`${tagSelector}${idSelector}${attributeSelectors.join('')}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K    return builtSelector
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K                        const haystack =
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K:[m[K[32m[K125[m[K[36m[K:[m[K                            e.attributes && e.attributes?.[key] ? e.attributes[key] : e.attributes?.[[01;31m[K`attr__${key}`[m[K]
[35m[K/tmp/posthog/frontend/src/lib/components/HTMLElementsDisplay/preselectWithCSS.ts[m[K[36m[K-[m[K[32m[K126[m[K[36m[K-[m[K                        return c && !!haystack && haystack?.includes(c)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/StickyView/StickyView.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K            style={{
[35m[K/tmp/posthog/frontend/src/lib/components/StickyView/StickyView.tsx[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K                height: [01;31m[K`calc(100vh - ${top} - ${marginTop}px)`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/StickyView/StickyView.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K            }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K                    type="search"
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx[m[K[36m[K:[m[K[32m[K104[m[K[36m[K:[m[K                    placeholder={[01;31m[K`Search for authorized ${onlyAllowDomains ? 'domains' : 'URLs'}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K                    onChange={setSearchTerm}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx[m[K[36m[K-[m[K[32m[K178[m[K[36m[K-[m[K                                                icon={<IconDelete />}
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx[m[K[36m[K:[m[K[32m[K179[m[K[36m[K:[m[K                                                tooltip={[01;31m[K`Remove ${onlyAllowDomains ? 'domain' : 'URL'}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx[m[K[36m[K-[m[K[32m[K180[m[K[36m[K-[m[K                                                center
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.test.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K    it('can be launched with adding a new URL focussed', async () => {
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.test.ts[m[K[36m[K:[m[K[32m[K44[m[K[36m[K:[m[K        router.actions.push([01;31m[K`${urls.toolbarLaunch()}?addNew=true`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.test.ts[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K        await expectLogic(logic).toDispatchActions(['newUrl'])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.test.ts[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K        testCases.forEach((testCase) => {
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.test.ts[m[K[36m[K:[m[K[32m[K86[m[K[36m[K:[m[K            it([01;31m[K`a proposal of "${testCase.proposedUrl}" has validity message "${testCase.validityMessage}"`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.test.ts[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K                expect(validateProposedUrl(testCase.proposedUrl, [], false)).toEqual(testCase.validityMessage)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.test.ts[m[K[36m[K-[m[K[32m[K121[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.test.ts[m[K[36m[K:[m[K[32m[K122[m[K[36m[K:[m[K            expect(api.update).toBeCalledWith([01;31m[K`api/projects/${MOCK_TEAM_ID}`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.test.ts[m[K[36m[K-[m[K[32m[K123[m[K[36m[K-[m[K                recording_domains: ['https://recordings.posthog.com/', 'http://*.example.com'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.test.ts[m[K[36m[K-[m[K[32m[K144[m[K[36m[K-[m[K            testCases.forEach((testCase) => {
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.test.ts[m[K[36m[K:[m[K[32m[K145[m[K[36m[K:[m[K                it([01;31m[K`a proposal of "${testCase.proposedUrl}" has validity message "${testCase.validityMessage}"`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.test.ts[m[K[36m[K-[m[K[32m[K146[m[K[36m[K-[m[K                    expect(validateProposedUrl(testCase.proposedUrl, [], true)).toEqual(testCase.validityMessage)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K    if (currentUrls.indexOf(proposedUrl) > -1) {
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts[m[K[36m[K:[m[K[32m[K56[m[K[36m[K:[m[K        return [01;31m[K`This ${onlyAllowDomains ? 'domains' : 'URL'} already is registered`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K    path((key) => ['lib', 'components', 'AuthorizedUrlList', 'authorizedUrlListLogic', key]),
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts[m[K[36m[K:[m[K[32m[K123[m[K[36m[K:[m[K    key((props) => [01;31m[K`${props.type}-${props.actionId}`[m[K),
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K    props({} as AuthorizedUrlListLogicProps),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts[m[K[36m[K-[m[K[32m[K147[m[K[36m[K-[m[K                        from events
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts[m[K[36m[K:[m[K[32m[K148[m[K[36m[K:[m[K                           [01;31m[Kwhere event = '$pageview'[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts[m[K[36m[K-[m[K[32m[K149[m[K[36m[K-[m[K                           and timestamp >= now() - interval 3 day 
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/RestrictedArea.tsx[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K        if (scopeAccessLevel === null) {
[35m[K/tmp/posthog/frontend/src/lib/components/RestrictedArea.tsx[m[K[36m[K:[m[K[32m[K49[m[K[36m[K:[m[K            return [01;31m[K`You don't have access to the current ${scope}.`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/RestrictedArea.tsx[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/RestrictedArea.tsx[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K            if (minimumAccessLevel === OrganizationMembershipLevel.Owner) {
[35m[K/tmp/posthog/frontend/src/lib/components/RestrictedArea.tsx[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K                return [01;31m[K`This area is restricted to the ${scope} owner.`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/RestrictedArea.tsx[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Support/SupportForm.tsx[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K        onUpload: (url, fileName) => {
[35m[K/tmp/posthog/frontend/src/lib/components/Support/SupportForm.tsx[m[K[36m[K:[m[K[32m[K50[m[K[36m[K:[m[K            setSendSupportRequestValue('message', sendSupportRequest.message + [01;31m[K`\n\nAttachment "${fileName}": ${url}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/Support/SupportForm.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K        },
[35m[K/tmp/posthog/frontend/src/lib/components/Support/SupportForm.tsx[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K        onError: (detail) => {
[35m[K/tmp/posthog/frontend/src/lib/components/Support/SupportForm.tsx[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K            lemonToast.error([01;31m[K`Error uploading image: ${detail}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/Support/SupportForm.tsx[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[K    return [01;31m[K`Session: ${link} (at ${window.location.href.replace(/&supportModal=.+($|&)?/, '$1')})`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K    const link = [01;31m[K`http://go/admin${cloudRegion}/${user.email}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K    return [01;31m[K`Admin: ${link} (Organization: '${user.organization?.name}'; Project: ${currentTeamId}:'${user.team?.name}')`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K    const link = [01;31m[K`http://go/sentry${cloudRegion}/${user.team?.id}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K    return [01;31m[K`Sentry: ${link}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K-[m[K[32m[K233[m[K[36m[K-[m[K                ': ' +
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K:[m[K[32m[K234[m[K[36m[K:[m[K                (target_area ? TARGET_AREA_TO_NAME[target_area] ?? [01;31m[K`${target_area} (feature preview)`[m[K : 'General') +
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K-[m[K[32m[K235[m[K[36m[K-[m[K                ' (' +
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K-[m[K[32m[K247[m[K[36m[K-[m[K                            `\n\n-----` +
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K:[m[K[32m[K248[m[K[36m[K:[m[K                            [01;31m[K`\nKind: ${kind}`[m[K +
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K:[m[K[32m[K249[m[K[36m[K:[m[K                            [01;31m[K`\nTarget area: ${target_area}`[m[K +
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K:[m[K[32m[K250[m[K[36m[K:[m[K                            [01;31m[K`\nReport event: http://go/ticketByUUID/${zendesk_ticket_uuid}`[m[K +
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K-[m[K[32m[K251[m[K[36m[K-[m[K                            '\n' +
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K-[m[K[32m[K279[m[K[36m[K-[m[K                const zendesk_ticket_id = json.request.id
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K:[m[K[32m[K280[m[K[36m[K:[m[K                const zendesk_ticket_link = [01;31m[K`https://posthoghelp.zendesk.com/agent/tickets/${zendesk_ticket_id}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Support/supportLogic.ts[m[K[36m[K-[m[K[32m[K281[m[K[36m[K-[m[K                const properties = {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DateFilter/rollingDateRangeFilterLogic.ts[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K                    case 'quarters':
[35m[K/tmp/posthog/frontend/src/lib/components/DateFilter/rollingDateRangeFilterLogic.ts[m[K[36m[K:[m[K[32m[K91[m[K[36m[K:[m[K                        return [01;31m[K`-${counter}q`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DateFilter/rollingDateRangeFilterLogic.ts[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K                    case 'months':
[35m[K/tmp/posthog/frontend/src/lib/components/DateFilter/rollingDateRangeFilterLogic.ts[m[K[36m[K:[m[K[32m[K93[m[K[36m[K:[m[K                        return [01;31m[K`-${counter}m`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DateFilter/rollingDateRangeFilterLogic.ts[m[K[36m[K-[m[K[32m[K94[m[K[36m[K-[m[K                    case 'weeks':
[35m[K/tmp/posthog/frontend/src/lib/components/DateFilter/rollingDateRangeFilterLogic.ts[m[K[36m[K:[m[K[32m[K95[m[K[36m[K:[m[K                        return [01;31m[K`-${counter}w`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DateFilter/rollingDateRangeFilterLogic.ts[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K                    default:
[35m[K/tmp/posthog/frontend/src/lib/components/DateFilter/rollingDateRangeFilterLogic.ts[m[K[36m[K:[m[K[32m[K97[m[K[36m[K:[m[K                        return [01;31m[K`-${counter}d`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DateFilter/rollingDateRangeFilterLogic.ts[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DateFilter/dateFilterLogic.ts[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K                    : isDateToNow
[35m[K/tmp/posthog/frontend/src/lib/components/DateFilter/dateFilterLogic.ts[m[K[36m[K:[m[K[32m[K96[m[K[36m[K:[m[K                    ? [01;31m[K`${formatDate(dayjs(dateFrom))} to now`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DateFilter/dateFilterLogic.ts[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K                    : dateFilterToText(dateFrom, dateTo, CUSTOM_OPTION_VALUE, dateOptions, false),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Resizer/Resizer.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                isResizeInProgress && isSelected && 'Resizer--resizing',
[35m[K/tmp/posthog/frontend/src/lib/components/Resizer/Resizer.tsx[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K                [01;31m[K`Resizer--${props.placement}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Resizer/Resizer.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K            )}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertiesTimeline/PropertiesTimeline.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K                                              crucialPropertyKeys.length === 1 ? 'property' : 'properties'
[35m[K/tmp/posthog/frontend/src/lib/components/PropertiesTimeline/PropertiesTimeline.tsx[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K                                          } ${humanList(crucialPropertyKeys.map((key) => `\[01;31m[K`${key}\`[m[K`))} ${
[35m[K/tmp/posthog/frontend/src/lib/components/PropertiesTimeline/PropertiesTimeline.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                                              crucialPropertyKeys.length === 1 ? 'is' : 'are'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertiesTimeline/PropertiesTimeline.stories.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K        get: {
[35m[K/tmp/posthog/frontend/src/lib/components/PropertiesTimeline/PropertiesTimeline.stories.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K            [[01;31m[K`/api/projects/${MOCK_TEAM_ID}/persons/${examplePerson.uuid}/properties_timeline/`[m[K]: {
[35m[K/tmp/posthog/frontend/src/lib/components/PropertiesTimeline/PropertiesTimeline.stories.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                points: [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertiesTimeline/PropertiesTimeline.stories.tsx[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K        get: {
[35m[K/tmp/posthog/frontend/src/lib/components/PropertiesTimeline/PropertiesTimeline.stories.tsx[m[K[36m[K:[m[K[32m[K89[m[K[36m[K:[m[K            [[01;31m[K`/api/projects/${MOCK_TEAM_ID}/persons/${examplePerson.uuid}/properties_timeline/`[m[K]: {
[35m[K/tmp/posthog/frontend/src/lib/components/PropertiesTimeline/PropertiesTimeline.stories.tsx[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K                points: [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertiesTimeline/PropertiesTimeline.stories.tsx[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K        get: {
[35m[K/tmp/posthog/frontend/src/lib/components/PropertiesTimeline/PropertiesTimeline.stories.tsx[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K            [[01;31m[K`/api/projects/${MOCK_TEAM_ID}/persons/${examplePerson.uuid}/properties_timeline/`[m[K]: {
[35m[K/tmp/posthog/frontend/src/lib/components/PropertiesTimeline/PropertiesTimeline.stories.tsx[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K                points: [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PropertiesTimeline/propertiesTimelineLogic.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K    props({} as PropertiesTimelineProps),
[35m[K/tmp/posthog/frontend/src/lib/components/PropertiesTimeline/propertiesTimelineLogic.ts[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K    key((props) => [01;31m[K`${props.actor.id}-${JSON.stringify(props.filter)}`[m[K),
[35m[K/tmp/posthog/frontend/src/lib/components/PropertiesTimeline/propertiesTimelineLogic.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K    connect({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/SocialLoginButton/SocialLoginButton.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/lib/components/SocialLoginButton/SocialLoginButton.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K    const loginUrl = combineUrl([01;31m[K`/login/${provider}/`[m[K, loginParams).url
[35m[K/tmp/posthog/frontend/src/lib/components/SocialLoginButton/SocialLoginButton.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Sharing/sharingLogic.ts[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K        ({ insightShortId, dashboardId, recordingId }) =>
[35m[K/tmp/posthog/frontend/src/lib/components/Sharing/sharingLogic.ts[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K            [01;31m[K`sharing-${insightShortId || dashboardId || recordingId || ''}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Sharing/sharingLogic.ts[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K    ),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Sharing/sharingLogic.ts[m[K[36m[K-[m[K[32m[K136[m[K[36m[K-[m[K                        }
[35m[K/tmp/posthog/frontend/src/lib/components/Sharing/sharingLogic.ts[m[K[36m[K:[m[K[32m[K137[m[K[36m[K:[m[K                        return [01;31m[K`${key.toLowerCase()}="${String(value).split('"').join('')}"`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Sharing/sharingLogic.ts[m[K[36m[K-[m[K[32m[K138[m[K[36m[K-[m[K                    })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Sharing/SharingModal.tsx[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                        id="sharing-switch"
[35m[K/tmp/posthog/frontend/src/lib/components/Sharing/SharingModal.tsx[m[K[36m[K:[m[K[32m[K87[m[K[36m[K:[m[K                        label={[01;31m[K`Share ${resource} publicly`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/Sharing/SharingModal.tsx[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K                        checked={sharingConfiguration.enabled}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Sharing/SharingModal.tsx[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K                                            <Tooltip
[35m[K/tmp/posthog/frontend/src/lib/components/Sharing/SharingModal.tsx[m[K[36m[K:[m[K[32m[K103[m[K[36m[K:[m[K                                                title={[01;31m[K`Use this HTML snippet to embed the ${resource} on your website`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/Sharing/SharingModal.tsx[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K                                            >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K-[m[K[32m[K187[m[K[36m[K-[m[K        const commonDivProps: React.HTMLProps<HTMLDivElement> = {
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K:[m[K[32m[K188[m[K[36m[K:[m[K            key: [01;31m[K`item_${rowIndex}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K-[m[K[32m[K189[m[K[36m[K-[m[K            className: clsx(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K-[m[K[32m[K207[m[K[36m[K-[m[K                {...commonDivProps}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K:[m[K[32m[K208[m[K[36m[K:[m[K                data-attr={[01;31m[K`prop-filter-${listGroupType}-${rowIndex}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K-[m[K[32m[K209[m[K[36m[K-[m[K                onClick={() => selectItem(group, itemValue ?? null, item)}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K-[m[K[32m[K220[m[K[36m[K-[m[K                {...commonDivProps}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K:[m[K[32m[K221[m[K[36m[K:[m[K                className={[01;31m[K`${commonDivProps.className} expand-row`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K:[m[K[32m[K222[m[K[36m[K:[m[K                data-attr={[01;31m[K`expand-list-${listGroupType}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K-[m[K[32m[K223[m[K[36m[K-[m[K                onClick={expand}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K-[m[K[32m[K235[m[K[36m[K-[m[K                {...commonDivProps}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K:[m[K[32m[K236[m[K[36m[K:[m[K                className={[01;31m[K`${commonDivProps.className} skeleton-row`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K:[m[K[32m[K237[m[K[36m[K:[m[K                data-attr={[01;31m[K`prop-skeleton-${listGroupType}-${rowIndex}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteList.tsx[m[K[36m[K-[m[K[32m[K238[m[K[36m[K-[m[K            >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K    const taxonomicFilterLogicKey = useMemo(
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K        () => taxonomicFilterLogicKeyInput || [01;31m[K`taxonomic-filter-${uniqueMemoizedIndex++}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K        [taxonomicFilterLogicKeyInput]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx[m[K[36m[K-[m[K[32m[K94[m[K[36m[K-[m[K                            fullWidth
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx[m[K[36m[K:[m[K[32m[K95[m[K[36m[K:[m[K                            placeholder={[01;31m[K`Search ${searchPlaceholder}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K                            value={searchQuery}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K        }
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K        return [01;31m[K`${eventDefinition.verified ? 'Verified' : 'Unverified'} event`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K    props({} as TaxonomicFilterLogicProps),
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K    key((props) => [01;31m[K`${props.taxonomicFilterLogicKey}`[m[K),
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K    path(['lib', 'components', 'TaxonomicFilter', 'taxonomicFilterLogic']),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K170[m[K[36m[K-[m[K                        ),
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K171[m[K[36m[K:[m[K                        endpoint: combineUrl([01;31m[K`api/projects/${teamId}/event_definitions`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K172[m[K[36m[K-[m[K                            event_type: EventDefinitionType.Event,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K205[m[K[36m[K-[m[K                        type: TaxonomicFilterGroupType.EventProperties,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K206[m[K[36m[K:[m[K                        endpoint: combineUrl([01;31m[K`api/projects/${teamId}/property_definitions`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K207[m[K[36m[K-[m[K                            is_feature_flag: false,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K214[m[K[36m[K-[m[K                            eventNames.length > 0
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K215[m[K[36m[K:[m[K                                ? combineUrl([01;31m[K`api/projects/${teamId}/property_definitions`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K216[m[K[36m[K-[m[K                                      event_names: eventNames,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K240[m[K[36m[K-[m[K                        type: TaxonomicFilterGroupType.EventFeatureFlags,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K241[m[K[36m[K:[m[K                        endpoint: combineUrl([01;31m[K`api/projects/${teamId}/property_definitions`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K242[m[K[36m[K-[m[K                            is_feature_flag: true,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K246[m[K[36m[K-[m[K                            eventNames.length > 0
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K247[m[K[36m[K:[m[K                                ? combineUrl([01;31m[K`api/projects/${teamId}/property_definitions`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K248[m[K[36m[K-[m[K                                      event_names: eventNames,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K268[m[K[36m[K-[m[K                        type: TaxonomicFilterGroupType.NumericalEventProperties,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K269[m[K[36m[K:[m[K                        endpoint: combineUrl([01;31m[K`api/projects/${teamId}/property_definitions`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K270[m[K[36m[K-[m[K                            is_numerical: true,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K280[m[K[36m[K-[m[K                        type: TaxonomicFilterGroupType.PersonProperties,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K281[m[K[36m[K:[m[K                        endpoint: combineUrl([01;31m[K`api/projects/${teamId}/property_definitions`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K282[m[K[36m[K-[m[K                            type: 'person',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K293[m[K[36m[K-[m[K                        value: 'cohorts',
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K294[m[K[36m[K:[m[K                        getName: (cohort: CohortType) => cohort.name || [01;31m[K`Cohort ${cohort.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K295[m[K[36m[K-[m[K                        getValue: (cohort: CohortType) => cohort.id,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K296[m[K[36m[K:[m[K                        getPopoverHeader: (cohort: CohortType) => [01;31m[K`${cohort.is_static ? 'Static' : 'Dynamic'} Cohort`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K297[m[K[36m[K-[m[K                        getIcon: function _getIcon(): JSX.Element {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K306[m[K[36m[K-[m[K                        value: 'cohortsWithAllUsers',
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K307[m[K[36m[K:[m[K                        getName: (cohort: CohortType) => cohort.name || [01;31m[K`Cohort ${cohort.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K308[m[K[36m[K-[m[K                        getValue: (cohort: CohortType) => cohort.id,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K317[m[K[36m[K-[m[K                        type: TaxonomicFilterGroupType.PageviewUrls,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K318[m[K[36m[K:[m[K                        endpoint: [01;31m[K`api/projects/${teamId}/events/values/?key=$current_url`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K319[m[K[36m[K-[m[K                        searchAlias: 'value',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K327[m[K[36m[K-[m[K                        type: TaxonomicFilterGroupType.Screens,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K328[m[K[36m[K:[m[K                        endpoint: [01;31m[K`api/projects/${teamId}/events/values/?key=$screen_name`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K329[m[K[36m[K-[m[K                        searchAlias: 'value',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K337[m[K[36m[K-[m[K                        type: TaxonomicFilterGroupType.CustomEvents,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K338[m[K[36m[K:[m[K                        endpoint: combineUrl([01;31m[K`api/projects/${teamId}/event_definitions`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K339[m[K[36m[K-[m[K                            event_type: EventDefinitionType.EventCustom,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K357[m[K[36m[K-[m[K                        type: TaxonomicFilterGroupType.Persons,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K358[m[K[36m[K:[m[K                        endpoint: [01;31m[K`api/projects/${teamId}/persons/`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K359[m[K[36m[K-[m[K                        getName: (person: PersonType) => person.name || 'Anon user?',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K366[m[K[36m[K-[m[K                        type: TaxonomicFilterGroupType.Insights,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K367[m[K[36m[K:[m[K                        endpoint: combineUrl([01;31m[K`api/projects/${teamId}/insights/`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K368[m[K[36m[K-[m[K                            saved: true,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K418[m[K[36m[K-[m[K                        value: 'notebooks',
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K419[m[K[36m[K:[m[K                        endpoint: [01;31m[K`api/projects/${teamId}/notebooks/`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K420[m[K[36m[K:[m[K                        getName: (notebook: NotebookType) => notebook.title || [01;31m[K`Notebook ${notebook.short_id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K421[m[K[36m[K-[m[K                        getValue: (notebook: NotebookType) => notebook.short_id,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K465[m[K[36m[K-[m[K                Array.from(groupTypes.values()).map((type) => ({
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K466[m[K[36m[K:[m[K                    name: [01;31m[K`${capitalizeFirstLetter(aggregationLabel(type.group_type_index).plural)}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K467[m[K[36m[K:[m[K                    searchPlaceholder: [01;31m[K`${aggregationLabel(type.group_type_index).plural}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K468[m[K[36m[K:[m[K                    type: [01;31m[K`${TaxonomicFilterGroupType.GroupNamesPrefix}_${type.group_type_index}`[m[K as unknown as TaxonomicFilterGroupType,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K469[m[K[36m[K:[m[K                    endpoint: combineUrl([01;31m[K`api/projects/${teamId}/groups/`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K470[m[K[36m[K-[m[K                        group_type_index: type.group_type_index,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K482[m[K[36m[K-[m[K                Array.from(groupTypes.values()).map((type) => ({
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K483[m[K[36m[K:[m[K                    name: [01;31m[K`${capitalizeFirstLetter(aggregationLabel(type.group_type_index).singular)} properties`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K484[m[K[36m[K:[m[K                    searchPlaceholder: [01;31m[K`${aggregationLabel(type.group_type_index).singular} properties`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K485[m[K[36m[K:[m[K                    type: [01;31m[K`${TaxonomicFilterGroupType.GroupsPrefix}_${type.group_type_index}`[m[K as unknown as TaxonomicFilterGroupType,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K486[m[K[36m[K:[m[K                    endpoint: combineUrl([01;31m[K`api/projects/${teamId}/property_definitions`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K487[m[K[36m[K-[m[K                        type: 'group',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K552[m[K[36m[K-[m[K                        (name, index) =>
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K553[m[K[36m[K:[m[K                            [01;31m[K`${index !== 0 ? (index === searchGroupTypes.length - 1 ? ' or ' : ', ') : ''}${name}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K554[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K652[m[K[36m[K-[m[K                    propertyDefinitions.map((propertyDefinition) => [
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K:[m[K[32m[K653[m[K[36m[K:[m[K                        [01;31m[K`${apiType}/${propertyDefinition.name}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx[m[K[36m[K-[m[K[32m[K654[m[K[36m[K-[m[K                        propertyDefinition,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteSelectResults.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K        <Tag
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteSelectResults.tsx[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K            data-attr={[01;31m[K`taxonomic-tab-${groupType}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/InfiniteSelectResults.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K            className={clsx({ 'taxonomic-pill-active': isActive, 'taxonomic-count-zero': !canInteract })}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/infiniteListLogic.ts[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K    props({} as InfiniteListLogicProps),
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/infiniteListLogic.ts[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K    key((props) => [01;31m[K`${props.taxonomicFilterLogicKey}-${props.listGroupType}`[m[K),
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/infiniteListLogic.ts[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K    path((key) => ['lib', 'components', 'TaxonomicFilter', 'infiniteListLogic', key]),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/infiniteListLogic.ts[m[K[36m[K-[m[K[32m[K123[m[K[36m[K-[m[K                    const searchParams = {
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/infiniteListLogic.ts[m[K[36m[K:[m[K[32m[K124[m[K[36m[K:[m[K                        [[01;31m[K`${values.group?.searchAlias || 'search'}`[m[K]: searchQuery,
[35m[K/tmp/posthog/frontend/src/lib/components/TaxonomicFilter/infiniteListLogic.ts[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K                        limit,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Errors/ErrorDisplay.tsx[m[K[36m[K-[m[K[32m[K156[m[K[36m[K-[m[K                <TitledSnack title={'synthetic'} value={$exception_synthetic ? 'true' : 'false'} />
[35m[K/tmp/posthog/frontend/src/lib/components/Errors/ErrorDisplay.tsx[m[K[36m[K:[m[K[32m[K157[m[K[36m[K:[m[K                <TitledSnack title={'library'} value={[01;31m[K`${$lib} ${$lib_version}`[m[K} />
[35m[K/tmp/posthog/frontend/src/lib/components/Errors/ErrorDisplay.tsx[m[K[36m[K:[m[K[32m[K158[m[K[36m[K:[m[K                <TitledSnack title={'browser'} value={[01;31m[K`${$browser} ${$browser_version}`[m[K} />
[35m[K/tmp/posthog/frontend/src/lib/components/Errors/ErrorDisplay.tsx[m[K[36m[K:[m[K[32m[K159[m[K[36m[K:[m[K                <TitledSnack title={'os'} value={[01;31m[K`${$os} ${$os_version}`[m[K} />
[35m[K/tmp/posthog/frontend/src/lib/components/Errors/ErrorDisplay.tsx[m[K[36m[K-[m[K[32m[K160[m[K[36m[K-[m[K            </div>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ExportButton/exporter.tsx[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K                posthog.capture('export failed', trackingProperties)
[35m[K/tmp/posthog/frontend/src/lib/components/ExportButton/exporter.tsx[m[K[36m[K:[m[K[32m[K101[m[K[36m[K:[m[K                reject([01;31m[K`Export failed: ${JSON.stringify(e)}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/ExportButton/exporter.tsx[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ExportButton/ExportButton.tsx[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K                            if (triggerExportProps.insight) {
[35m[K/tmp/posthog/frontend/src/lib/components/ExportButton/ExportButton.tsx[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K                                target = [01;31m[K`insight-${triggerExportProps.insight}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ExportButton/ExportButton.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                            } else if (triggerExportProps.dashboard) {
[35m[K/tmp/posthog/frontend/src/lib/components/ExportButton/ExportButton.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K                                target = [01;31m[K`dashboard-${triggerExportProps.dashboard}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ExportButton/ExportButton.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K                            } else if ('path' in (triggerExportProps.export_context || {})) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ExportButton/ExportButton.tsx[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K                                    onClick={() => triggerExport(triggerExportProps)}
[35m[K/tmp/posthog/frontend/src/lib/components/ExportButton/ExportButton.tsx[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K                                    data-attr={[01;31m[K`export-button-${exportFormatExtension}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/ExportButton/ExportButton.tsx[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K                                    data-ph-capture-attribute-export-target={target}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/ExportButton/ExportButton.tsx[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K                                >
[35m[K/tmp/posthog/frontend/src/lib/components/ExportButton/ExportButton.tsx[m[K[36m[K:[m[K[32m[K61[m[K[36m[K:[m[K                                    {title ? title : [01;31m[K`.${exportFormatExtension}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/ExportButton/ExportButton.tsx[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K                                </LemonButton>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HelpButton/HelpButton.tsx[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K                                },
[35m[K/tmp/posthog/frontend/src/lib/components/HelpButton/HelpButton.tsx[m[K[36m[K:[m[K[32m[K129[m[K[36m[K:[m[K                                to: [01;31m[K`https://posthog.com/questions${HELP_UTM_TAGS}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/HelpButton/HelpButton.tsx[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K                                targetBlank: true,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HelpButton/HelpButton.tsx[m[K[36m[K-[m[K[32m[K169[m[K[36m[K-[m[K                                },
[35m[K/tmp/posthog/frontend/src/lib/components/HelpButton/HelpButton.tsx[m[K[36m[K:[m[K[32m[K170[m[K[36m[K:[m[K                                to: [01;31m[K`https://posthog.com/docs${HELP_UTM_TAGS}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/HelpButton/HelpButton.tsx[m[K[36m[K-[m[K[32m[K171[m[K[36m[K-[m[K                                targetBlank: true,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HelpButton/HelpButton.tsx[m[K[36m[K-[m[K[32m[K185[m[K[36m[K-[m[K                            {
[35m[K/tmp/posthog/frontend/src/lib/components/HelpButton/HelpButton.tsx[m[K[36m[K:[m[K[32m[K186[m[K[36m[K:[m[K                                label: [01;31m[K`${hedgehogModeEnabled ? 'Disable' : 'Enable'} hedgehog mode`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/HelpButton/HelpButton.tsx[m[K[36m[K-[m[K[32m[K187[m[K[36m[K-[m[K                                icon: <IconFlare />,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/UserSelectItem.tsx[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[K            <span>
[35m[K/tmp/posthog/frontend/src/lib/components/UserSelectItem.tsx[m[K[36m[K:[m[K[32m[K14[m[K[36m[K:[m[K                {user.first_name} <b>{[01;31m[K`<${user.email}>`[m[K}</b>
[35m[K/tmp/posthog/frontend/src/lib/components/UserSelectItem.tsx[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K            </span>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/UserSelectItem.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K        key: user[key],
[35m[K/tmp/posthog/frontend/src/lib/components/UserSelectItem.tsx[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K        label: [01;31m[K`${user.first_name} ${user.email}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/UserSelectItem.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K        labelComponent: <UserSelectItem user={user} />,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/DefinitionPopoverContents.tsx[m[K[36m[K-[m[K[32m[K296[m[K[36m[K-[m[K                            autoFocus
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/DefinitionPopoverContents.tsx[m[K[36m[K:[m[K[32m[K297[m[K[36m[K:[m[K                            placeholder={[01;31m[K`Add a description for this ${singularType}.`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/DefinitionPopoverContents.tsx[m[K[36m[K-[m[K[32m[K298[m[K[36m[K-[m[K                            value={localDefinition.description || ''}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/DefinitionPopoverContents.tsx[m[K[36m[K-[m[K[32m[K422[m[K[36m[K-[m[K                        headerTitle={group.getPopoverHeader?.(item)}
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/DefinitionPopoverContents.tsx[m[K[36m[K:[m[K[32m[K423[m[K[36m[K:[m[K                        editHeaderTitle={[01;31m[K`Edit ${singularType}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/DefinitionPopoverContents.tsx[m[K[36m[K-[m[K[32m[K424[m[K[36m[K-[m[K                        icon={icon}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K                            const _action = definition as ActionType
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[K                            definition = await api.update([01;31m[K`api/projects/@current/actions/${_action.id}`[m[K, _action)
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                            actionsModel.findMounted()?.actions.updateAction(definition as ActionType)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                            const _event = definition as EventDefinition
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                            definition = await api.update([01;31m[K`api/projects/@current/event_definitions/${_event.id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                                ..._event,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K                            definition = await api.update(
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K:[m[K[32m[K86[m[K[36m[K:[m[K                                [01;31m[K`api/projects/@current/property_definitions/${_eventProperty.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K                                _eventProperty
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K                            updatePropertyDefinitions({
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K:[m[K[32m[K90[m[K[36m[K:[m[K                                [[01;31m[K`event/${definition.name}`[m[K]: definition as PropertyDefinition,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K                            })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K-[m[K[32m[K94[m[K[36m[K-[m[K                            const _cohort = definition as CohortType
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K:[m[K[32m[K95[m[K[36m[K:[m[K                            definition = await api.update([01;31m[K`api/projects/@current/cohorts/${_cohort.id}`[m[K, _cohort)
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K                            cohortsModel.findMounted()?.actions.updateCohort(definition as CohortType)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K                    // Disregard save attempts for any other types of taxonomy groups
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K:[m[K[32m[K103[m[K[36m[K:[m[K                    lemonToast.success([01;31m[K`${capitalizeFirstLetter(values.singularType)} definition saved`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.ts[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K                    // Update item in infinite list
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/DefinitionPopover.tsx[m[K[36m[K-[m[K[32m[K206[m[K[36m[K-[m[K            // eslint-disable-next-line react/forbid-dom-props
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/DefinitionPopover.tsx[m[K[36m[K:[m[K[32m[K207[m[K[36m[K:[m[K            style={{ gridTemplateColumns: [01;31m[K`repeat(${cols}, auto)`[m[K }}
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/DefinitionPopover.tsx[m[K[36m[K-[m[K[32m[K208[m[K[36m[K-[m[K        >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K-[m[K[32m[K123[m[K[36m[K-[m[K                    definition: mockActionDefinition as ActionType,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K:[m[K[32m[K124[m[K[36m[K:[m[K                    url: [01;31m[K`api/projects/@current/actions/${mockActionDefinition.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K                    dispatchActions: [actionsModel, ['updateAction']],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K                    definition: mockEventDefinitions[0],
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K:[m[K[32m[K130[m[K[36m[K:[m[K                    url: [01;31m[K`api/projects/@current/event_definitions/${mockEventDefinitions[0].id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K                    dispatchActions: [],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K-[m[K[32m[K135[m[K[36m[K-[m[K                    definition: mockEventDefinitions[1],
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K:[m[K[32m[K136[m[K[36m[K:[m[K                    url: [01;31m[K`api/projects/@current/event_definitions/${mockEventDefinitions[1].id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K-[m[K[32m[K137[m[K[36m[K-[m[K                    dispatchActions: [],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K-[m[K[32m[K146[m[K[36m[K-[m[K                    definition: mockEventPropertyDefinition as PropertyDefinition,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K:[m[K[32m[K147[m[K[36m[K:[m[K                    url: [01;31m[K`api/projects/@current/property_definitions/${mockEventPropertyDefinition.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K-[m[K[32m[K148[m[K[36m[K-[m[K                    dispatchActions: [propertyDefinitionsModel, ['updatePropertyDefinitions']],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K-[m[K[32m[K155[m[K[36m[K-[m[K                {
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K:[m[K[32m[K156[m[K[36m[K:[m[K                    type: [01;31m[K`${TaxonomicFilterGroupType.GroupsPrefix}_0`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K-[m[K[32m[K157[m[K[36m[K-[m[K                    definition: mockGroup as CohortType,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K-[m[K[32m[K162[m[K[36m[K-[m[K                    definition: mockCohort as CohortType,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K:[m[K[32m[K163[m[K[36m[K:[m[K                    url: [01;31m[K`api/projects/@current/cohorts/${mockCohort.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K-[m[K[32m[K164[m[K[36m[K-[m[K                    dispatchActions: [cohortsModel, ['updateCohort']],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K-[m[K[32m[K267[m[K[36m[K-[m[K                {
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K:[m[K[32m[K268[m[K[36m[K:[m[K                    type: [01;31m[K`${TaxonomicFilterGroupType.GroupsPrefix}_0`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/DefinitionPopover/definitionPopoverLogic.test.ts[m[K[36m[K-[m[K[32m[K269[m[K[36m[K-[m[K                    url: urls.propertyDefinition(mockDefinitionId),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/IntervalFilter/intervalFilterLogic.ts[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K                    lemonToast.info(
[35m[K/tmp/posthog/frontend/src/lib/components/IntervalFilter/intervalFilterLogic.ts[m[K[36m[K:[m[K[32m[K92[m[K[36m[K:[m[K                        [01;31m[K`Switched to grouping by day, because "${BASE_MATH_DEFINITIONS[activeUsersMath].name}" does not support grouping by ${values.interval}.`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/IntervalFilter/intervalFilterLogic.ts[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/IntervalFilter/intervalFilterLogic.ts[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K                    lemonToast.info(
[35m[K/tmp/posthog/frontend/src/lib/components/IntervalFilter/intervalFilterLogic.ts[m[K[36m[K:[m[K[32m[K97[m[K[36m[K:[m[K                        [01;31m[K`Switched to grouping by week, because "${BASE_MATH_DEFINITIONS[activeUsersMath].name}" does not support grouping by ${values.interval}.`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/IntervalFilter/intervalFilterLogic.ts[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CodeSnippet/CodeSnippet.tsx[m[K[36m[K-[m[K[32m[K120[m[K[36m[K-[m[K                            <LemonButton
[35m[K/tmp/posthog/frontend/src/lib/components/CodeSnippet/CodeSnippet.tsx[m[K[36m[K:[m[K[32m[K121[m[K[36m[K:[m[K                                key={[01;31m[K`snippet-action-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/CodeSnippet/CodeSnippet.tsx[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K                                onClick={callback}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CodeSnippet/CodeSnippet.tsx[m[K[36m[K-[m[K[32m[K126[m[K[36m[K-[m[K                        ) : (
[35m[K/tmp/posthog/frontend/src/lib/components/CodeSnippet/CodeSnippet.tsx[m[K[36m[K:[m[K[32m[K127[m[K[36m[K:[m[K                            <Popconfirm key={[01;31m[K`snippet-action-${index}`[m[K} {...popconfirmProps} onConfirm={callback}>
[35m[K/tmp/posthog/frontend/src/lib/components/CodeSnippet/CodeSnippet.tsx[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K                                <LemonButton icon={icon} title={title} size={compact ? 'small' : 'medium'} />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PayGatePage/PayGatePage.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K                {!hideUpgradeButton && (
[35m[K/tmp/posthog/frontend/src/lib/components/PayGatePage/PayGatePage.tsx[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K                    <LemonButton to={upgradeLink} type="primary" data-attr={[01;31m[K`${featureKey}-upgrade`[m[K} center>
[35m[K/tmp/posthog/frontend/src/lib/components/PayGatePage/PayGatePage.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K                        Upgrade now to get {featureName}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/PayGatePage/PayGatePage.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K                        type={hideUpgradeButton ? 'primary' : 'secondary'}
[35m[K/tmp/posthog/frontend/src/lib/components/PayGatePage/PayGatePage.tsx[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K                        to={[01;31m[K`${docsLink}?utm_medium=in-product&utm_campaign=${featureKey}-upgrade-learn-more`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PayGatePage/PayGatePage.tsx[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K                        targetBlank
[35m[K/tmp/posthog/frontend/src/lib/components/PayGatePage/PayGatePage.tsx[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K                        center
[35m[K/tmp/posthog/frontend/src/lib/components/PayGatePage/PayGatePage.tsx[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K                        data-attr={[01;31m[K`${featureKey}-learn-more`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/PayGatePage/PayGatePage.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                    >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Map/Map.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K// :TRICKY: The URL absolutely needs to be prefixed with `pmtiles://` to work!
[35m[K/tmp/posthog/frontend/src/lib/components/Map/Map.tsx[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[Kconst PMTILES_URL = [01;31m[K`pmtiles://${BASE_URL}/20230913.pmtiles`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Map/Map.tsx[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[Kconst GLYPH_URL = [01;31m[K`${BASE_URL}/fonts/pbf/{fontstack}/{range}.pbf`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Map/Map.tsx[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/Map/Map.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K        return (
[35m[K/tmp/posthog/frontend/src/lib/components/Map/Map.tsx[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K            <div className={[01;31m[K`w-full h-full flex flex-col items-center justify-center text-muted p-3 ${className}`[m[K}>
[35m[K/tmp/posthog/frontend/src/lib/components/Map/Map.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K                <h1>Map unavailable</h1>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/VersionChecker/versionCheckerLogic.test.ts[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K        const versionsList = Array.from({ length: options.versionCount }, (_, i) => ({
[35m[K/tmp/posthog/frontend/src/lib/components/VersionChecker/versionCheckerLogic.test.ts[m[K[36m[K:[m[K[32m[K93[m[K[36m[K:[m[K            version: [01;31m[K`1.0.${i}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/VersionChecker/versionCheckerLogic.test.ts[m[K[36m[K-[m[K[32m[K94[m[K[36m[K-[m[K        })).reverse()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/VersionChecker/VersionCheckerBanner.tsx[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/VersionChecker/VersionCheckerBanner.tsx[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K    const dismissKey = [01;31m[K`version-checker-${versionWarning.latestVersion}-${versionWarning.currentVersion}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/VersionChecker/VersionCheckerBanner.tsx[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/CommandResults.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                    focused={result.index === activeResultIndex}
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/CommandResults.tsx[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K                    key={[01;31m[K`command-result-${result.index}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/CommandResults.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K                />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K223[m[K[36m[K-[m[K                    resolver: dashboards.map((dashboard: DashboardType) => ({
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K:[m[K[32m[K224[m[K[36m[K:[m[K                        key: [01;31m[K`dashboard_${dashboard.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K225[m[K[36m[K-[m[K                        icon: IconTableChart,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K:[m[K[32m[K226[m[K[36m[K:[m[K                        display: [01;31m[K`Go to dashboard: ${dashboard.name}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K227[m[K[36m[K-[m[K                        executor: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K241[m[K[36m[K-[m[K                    if (command.prefixes) {
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K:[m[K[32m[K242[m[K[36m[K:[m[K                        array.push([new RegExp([01;31m[K`^\\s*(${command.prefixes.join('|')})(?:\\s+(.*)|$)`[m[K, 'i'), command])
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K243[m[K[36m[K-[m[K                    } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K375[m[K[36m[K-[m[K                    actions.registerCommand({
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K:[m[K[32m[K376[m[K[36m[K:[m[K                        key: [01;31m[K`person-${person.distinct_ids[0]}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K377[m[K[36m[K-[m[K                        resolver: [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K379[m[K[36m[K-[m[K                                icon: IconPersonFilled,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K:[m[K[32m[K380[m[K[36m[K:[m[K                                display: [01;31m[K`View person ${input}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K381[m[K[36m[K-[m[K                                executor: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K594[m[K[36m[K-[m[K                                  icon: IconCalculate,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K:[m[K[32m[K595[m[K[36m[K:[m[K                                  display: [01;31m[K`= ${result}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K596[m[K[36m[K-[m[K                                  guarantee: true,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K614[m[K[36m[K-[m[K                            icon: IconOpenInNew,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K:[m[K[32m[K615[m[K[36m[K:[m[K                            display: [01;31m[K`Open ${url}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K:[m[K[32m[K616[m[K[36m[K:[m[K                            synonyms: [[01;31m[K`Visit ${url}`[m[K],
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K617[m[K[36m[K-[m[K                            executor: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K624[m[K[36m[K-[m[K                            icon: IconOpenInNew,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K:[m[K[32m[K625[m[K[36m[K:[m[K                            display: [01;31m[K`Open ${argument}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K:[m[K[32m[K626[m[K[36m[K:[m[K                            synonyms: [[01;31m[K`Visit ${argument}`[m[K],
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K627[m[K[36m[K-[m[K                            executor: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K657[m[K[36m[K-[m[K                                    icon: IconLockOpen,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K:[m[K[32m[K658[m[K[36m[K:[m[K                                    display: [01;31m[K`Create Key "${argument}"`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K659[m[K[36m[K-[m[K                                    executor: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K684[m[K[36m[K-[m[K                                    icon: IconGauge,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K:[m[K[32m[K685[m[K[36m[K:[m[K                                    display: [01;31m[K`Create Dashboard "${argument}"`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx[m[K[36m[K-[m[K[32m[K686[m[K[36m[K-[m[K                                    executor: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HogQLEditor/HogQLEditor.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K}: HogQLEditorProps): JSX.Element {
[35m[K/tmp/posthog/frontend/src/lib/components/HogQLEditor/HogQLEditor.tsx[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K    const [key] = useState(() => [01;31m[K`HogQLEditor.${uniqueNode++}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/components/HogQLEditor/HogQLEditor.tsx[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K    const textareaRef = useRef<HTMLTextAreaElement | null>(null)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HogQLEditor/HogQLEditor.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                onPressCmdEnter={disableCmdEnter ? undefined : submit}
[35m[K/tmp/posthog/frontend/src/lib/components/HogQLEditor/HogQLEditor.tsx[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K                className={[01;31m[K`font-mono ${CLICK_OUTSIDE_BLOCK_CLASS}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/components/HogQLEditor/HogQLEditor.tsx[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K                minRows={3}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HogQLEditor/hogQLEditorLogic.ts[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/lib/components/HogQLEditor/hogQLEditorLogic.ts[m[K[36m[K:[m[K[32m[K79[m[K[36m[K:[m[K                    error = [01;31m[K`Line ${row + 1}, column ${col + 1}: ${error}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/components/HogQLEditor/hogQLEditorLogic.ts[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/utils.test.ts[m[K[36m[K-[m[K[32m[K749[m[K[36m[K-[m[K        testCases.forEach((testcase) => {
[35m[K/tmp/posthog/frontend/src/lib/utils.test.ts[m[K[36m[K:[m[K[32m[K750[m[K[36m[K:[m[K            it([01;31m[K`correctly maps ${testcase.propertyType} to operator options`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/lib/utils.test.ts[m[K[36m[K-[m[K[32m[K751[m[K[36m[K-[m[K                expect(chooseOperatorMap(testcase.propertyType)).toEqual(testcase.expected)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K    if (!colorValue) {
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K        throw new Error([01;31m[K`Couldn't find color variable --${variable}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K    const isPreviousPeriodSeries = comparePrevious && index % 2 === 1
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K    const baseHex = getColorVar([01;31m[K`data-${dataColorVars[adjustedIndex]}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K61[m[K[36m[K:[m[K    return isPreviousPeriodSeries ? [01;31m[K`${baseHex}80`[m[K : asBackgroundHighlight ? [01;31m[K`${baseHex}30`[m[K : baseHex
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K        case 'dormant':
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K            return getColorVar([01;31m[K`lifecycle-${status}${hover ? '-hover' : ''}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K        default:
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K            throw new Error([01;31m[K`Unknown lifecycle status: ${status}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K    floor: number = 0
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K103[m[K[36m[K:[m[K): [01;31m[K`hsla(${number}, ${number}%, ${number}%, ${string})`[m[K {
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K    const saturation = floor + (1 - floor) * strength
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K:[m[K[32m[K105[m[K[36m[K:[m[K    return [01;31m[K`hsla(${hsl[0]}, ${hsl[1]}%, ${hsl[2]}%, ${saturation.toPrecision(3)})`[m[K
[35m[K/tmp/posthog/frontend/src/lib/colors.ts[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/api.test.ts[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K            testCases.forEach((testCase) => {
[35m[K/tmp/posthog/frontend/src/lib/api.test.ts[m[K[36m[K:[m[K[32m[K80[m[K[36m[K:[m[K                it([01;31m[K`when API is using verb ${verb} it normalizes ${testCase.url} to ${testCase.expected}`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/lib/api.test.ts[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K                    api[verb](testCase.url)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/colors.stories.tsx[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K                            >
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/colors.stories.tsx[m[K[36m[K:[m[K[32m[K110[m[K[36m[K:[m[K                                <div className={[01;31m[K`bg-${color} flex-1`[m[K} onMouseEnter={() => setHover(color)} />
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/colors.stories.tsx[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K                            </Popover>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/colors.stories.tsx[m[K[36m[K-[m[K[32m[K137[m[K[36m[K-[m[K                    render: function RenderColor(color) {
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/colors.stories.tsx[m[K[36m[K:[m[K[32m[K138[m[K[36m[K:[m[K                        return <div className={[01;31m[K`bg-${color as string} flex-1 border rounded h-8 w-8`[m[K} />
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/colors.stories.tsx[m[K[36m[K-[m[K[32m[K139[m[K[36m[K-[m[K                    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/colors.stories.tsx[m[K[36m[K-[m[K[32m[K167[m[K[36m[K-[m[K                            >
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/colors.stories.tsx[m[K[36m[K:[m[K[32m[K168[m[K[36m[K:[m[K                                <div className={[01;31m[K`bg-${color as string}-light border rounded h-8 w-8`[m[K} />
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/colors.stories.tsx[m[K[36m[K-[m[K[32m[K169[m[K[36m[K-[m[K                            </div>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/colors.stories.tsx[m[K[36m[K-[m[K[32m[K181[m[K[36m[K-[m[K                            >
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/colors.stories.tsx[m[K[36m[K:[m[K[32m[K182[m[K[36m[K:[m[K                                <div className={[01;31m[K`bg-${color as string}-dark border rounded h-8 w-8`[m[K} />
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/colors.stories.tsx[m[K[36m[K-[m[K[32m[K183[m[K[36m[K-[m[K                            </div>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonBadge/LemonBadge.tsx[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K                    !content && 'LemonBadge--dot',
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonBadge/LemonBadge.tsx[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K                    [01;31m[K`LemonBadge--${size}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonBadge/LemonBadge.tsx[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K                    [01;31m[K`LemonBadge--${status}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonBadge/LemonBadge.tsx[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K                    [01;31m[K`LemonBadge--position-${position}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonBadge/LemonBadge.tsx[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K                    active && 'LemonBadge--active',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSnack/LemonSnack.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K                !isRegular && 'LemonSnack--pill',
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSnack/LemonSnack.tsx[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K                [01;31m[K`inline-flex text-primary-alt max-w-full overflow-hidden break-all items-center py-1 bg-${bgColor}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSnack/LemonSnack.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K                !wrap && 'whitespace-nowrap',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSwitch/LemonSwitch.tsx[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K}: LemonSwitchProps): JSX.Element {
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSwitch/LemonSwitch.tsx[m[K[36m[K:[m[K[32m[K43[m[K[36m[K:[m[K    const id = useMemo(() => rawId || [01;31m[K`lemon-switch-${switchCounter++}`[m[K, [rawId])
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSwitch/LemonSwitch.tsx[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K    const [isActive, setIsActive] = useState(false)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonCalendar/LemonCalendar.tsx[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K                                        center
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonCalendar/LemonCalendar.tsx[m[K[36m[K:[m[K[32m[K84[m[K[36m[K:[m[K                                        data-attr={[01;31m[K`lemon-calendar-month-title-${month}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonCalendar/LemonCalendar.tsx[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K                                        className="text-xs font-bold text-muted uppercase cursor-default"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonCalendar/LemonCalendar.stories.tsx[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K            // eslint-disable-next-line no-console
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonCalendar/LemonCalendar.stories.tsx[m[K[36m[K:[m[K[32m[K12[m[K[36m[K:[m[K            console.log([01;31m[K`Clicked: ${date}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonCalendar/LemonCalendar.stories.tsx[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSelectMultiple/LemonSelectMultiple.stories.tsx[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K                ...acc,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSelectMultiple/LemonSelectMultiple.stories.tsx[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[K                [[01;31m[K`user-${i}`[m[K]: {
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSelectMultiple/LemonSelectMultiple.stories.tsx[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K                    labelComponent: (
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSelectMultiple/LemonSelectMultiple.stories.tsx[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K                        <span className="flex gap-2 items-center">
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSelectMultiple/LemonSelectMultiple.stories.tsx[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K                            <ProfilePicture name={x} email={[01;31m[K`${x}@posthog.com`[m[K} size="sm" />
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSelectMultiple/LemonSelectMultiple.stories.tsx[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K                            <span>
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSelectMultiple/LemonSelectMultiple.stories.tsx[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[K                                {capitalizeFirstLetter(x)} <b>{[01;31m[K`<${x}@posthog.com>`[m[K}</b>
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSelectMultiple/LemonSelectMultiple.stories.tsx[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K                            </span>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSelectMultiple/LemonSelectMultiple.stories.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K                    ),
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSelectMultiple/LemonSelectMultiple.stories.tsx[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K                    label: [01;31m[K`${x} ${x}@posthog.com>`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSelectMultiple/LemonSelectMultiple.stories.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Splotch/Splotch.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Splotch/Splotch.tsx[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K        <div className={clsx('Splotch', [01;31m[K`Splotch--${color}`[m[K)}>
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Splotch/Splotch.tsx[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K            <div className="Splotch__paint" />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonBanner/LemonBanner.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonBanner/LemonBanner.tsx[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K        <div className={clsx('LemonBanner', [01;31m[K`LemonBanner--${type}`[m[K, className)}>
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonBanner/LemonBanner.tsx[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K            {type === 'warning' || type === 'error' ? <IconWarning /> : <IconInfo />}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/icons/icons.stories.tsx[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K                        render: function RenderName(name) {
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/icons/icons.stories.tsx[m[K[36m[K:[m[K[32m[K65[m[K[36m[K:[m[K                            return <code>{[01;31m[K`<${name as string} />`[m[K}</code>
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/icons/icons.stories.tsx[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K                        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/icons/icons.stories.tsx[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K                ]}
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/icons/icons.stories.tsx[m[K[36m[K:[m[K[32m[K99[m[K[36m[K:[m[K                emptyState={letter ? [01;31m[K`No icons start with the letter ${letter.toUpperCase()}`[m[K : 'No icons'}
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/icons/icons.stories.tsx[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K            />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonRow/LemonRow.tsx[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K                className,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonRow/LemonRow.tsx[m[K[36m[K:[m[K[32m[K81[m[K[36m[K:[m[K                status && status !== 'default' ? [01;31m[K`LemonRow--status-${status}`[m[K : undefined,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonRow/LemonRow.tsx[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K                symbolic && 'LemonRow--symbolic',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonButton/LemonButton.tsx[m[K[36m[K-[m[K[32m[K160[m[K[36m[K-[m[K                        'LemonButton',
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonButton/LemonButton.tsx[m[K[36m[K:[m[K[32m[K161[m[K[36m[K:[m[K                        [01;31m[K`LemonButton--${type}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonButton/LemonButton.tsx[m[K[36m[K:[m[K[32m[K162[m[K[36m[K:[m[K                        [01;31m[K`LemonButton--status-${status}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonButton/LemonButton.tsx[m[K[36m[K-[m[K[32m[K163[m[K[36m[K-[m[K                        loading && `LemonButton--loading`,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonButton/LemonButton.tsx[m[K[36m[K-[m[K[32m[K164[m[K[36m[K-[m[K                        noPadding && `LemonButton--no-padding`,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonButton/LemonButton.tsx[m[K[36m[K:[m[K[32m[K165[m[K[36m[K:[m[K                        size && [01;31m[K`LemonButton--${size}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonButton/LemonButton.tsx[m[K[36m[K-[m[K[32m[K166[m[K[36m[K-[m[K                        active && 'LemonButton--active',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonButton/LemonButton.tsx[m[K[36m[K-[m[K[32m[K233[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonButton/LemonButton.tsx[m[K[36m[K:[m[K[32m[K234[m[K[36m[K:[m[K        <div className={clsx('LemonButtonWithSideAction', [01;31m[K`LemonButtonWithSideAction--${buttonProps.size}`[m[K)}>
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonButton/LemonButton.tsx[m[K[36m[K-[m[K[32m[K235[m[K[36m[K-[m[K            {/* Bogus `sideIcon` div prevents overflow under the side button. */}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/PaginationControl/usePagination.ts[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K    /** Search param that will be used for storing and syncing the current page */
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/PaginationControl/usePagination.ts[m[K[36m[K:[m[K[32m[K12[m[K[36m[K:[m[K    const currentPageParam = id ? [01;31m[K`${id}_page`[m[K : 'page'
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/PaginationControl/usePagination.ts[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/PaginationControl/PaginationControl.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                {currentPageSize === 0
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/PaginationControl/PaginationControl.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K                    ? [01;31m[K`No ${nouns[1]}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/PaginationControl/PaginationControl.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K                    : entryCount === null
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/PaginationControl/PaginationControl.tsx[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K                    ? [01;31m[K`${currentPageSize} ${currentPageSize === 1 ? nouns[0] : nouns[1]} on this page`[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/PaginationControl/PaginationControl.tsx[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K                    : currentPageSize === 1
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/PaginationControl/PaginationControl.tsx[m[K[36m[K:[m[K[32m[K44[m[K[36m[K:[m[K                    ? [01;31m[K`${currentEndIndex} of ${entryCount} ${entryCount === 1 ? nouns[0] : nouns[1]}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/PaginationControl/PaginationControl.tsx[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K                    : [01;31m[K`${currentStartIndex + 1}-${currentEndIndex} of ${entryCount} ${nouns[1]}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/PaginationControl/PaginationControl.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K            </span>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Popover/Popover.tsx[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K                apply({ availableWidth, availableHeight, rects, elements: { floating } }) {
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Popover/Popover.tsx[m[K[36m[K:[m[K[32m[K130[m[K[36m[K:[m[K                    floating.style.maxHeight = [01;31m[K`${availableHeight}px`[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Popover/Popover.tsx[m[K[36m[K:[m[K[32m[K131[m[K[36m[K:[m[K                    floating.style.maxWidth = [01;31m[K`${availableWidth}px`[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Popover/Popover.tsx[m[K[36m[K:[m[K[32m[K132[m[K[36m[K:[m[K                    floating.style.width = sameWidth ? [01;31m[K`${rects.reference.width}px`[m[K : 'initial'
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Popover/Popover.tsx[m[K[36m[K-[m[K[32m[K133[m[K[36m[K-[m[K                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Popover/Popover.tsx[m[K[36m[K-[m[K[32m[K143[m[K[36m[K-[m[K        ? {
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Popover/Popover.tsx[m[K[36m[K:[m[K[32m[K144[m[K[36m[K:[m[K              left: [01;31m[K`${middlewareData.arrow.x}px`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Popover/Popover.tsx[m[K[36m[K:[m[K[32m[K145[m[K[36m[K:[m[K              top: [01;31m[K`${middlewareData.arrow.y}px`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Popover/Popover.tsx[m[K[36m[K-[m[K[32m[K146[m[K[36m[K-[m[K          }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Popover/Popover.tsx[m[K[36m[K-[m[K[32m[K185[m[K[36m[K-[m[K    const _onClickInside: MouseEventHandler<HTMLDivElement> = (e): void => {
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Popover/Popover.tsx[m[K[36m[K:[m[K[32m[K186[m[K[36m[K:[m[K        if (e.target instanceof HTMLElement && e.target.closest([01;31m[K`.${CLICK_OUTSIDE_BLOCK_CLASS}`[m[K)) {
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Popover/Popover.tsx[m[K[36m[K-[m[K[32m[K187[m[K[36m[K-[m[K            return
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/lemonToast.tsx[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/lemonToast.tsx[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K        <div className="flex items-center" data-attr={[01;31m[K`${type}-toast`[m[K}>
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/lemonToast.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K            <span className="grow">{message}</span>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/lemonToast.tsx[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K        ? toastOptions
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/lemonToast.tsx[m[K[36m[K:[m[K[32m[K67[m[K[36m[K:[m[K        : { ...toastOptions, toastId: [01;31m[K`lemon-${Math.round(Math.random() * 10000000)}`[m[K }
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/lemonToast.tsx[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonInput/LemonInput.tsx[m[K[36m[K-[m[K[32m[K146[m[K[36m[K-[m[K                'LemonInput',
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonInput/LemonInput.tsx[m[K[36m[K:[m[K[32m[K147[m[K[36m[K:[m[K                status !== 'default' && [01;31m[K`LemonInput--status-${status}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonInput/LemonInput.tsx[m[K[36m[K:[m[K[32m[K148[m[K[36m[K:[m[K                type && [01;31m[K`LemonInput--type-${type}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonInput/LemonInput.tsx[m[K[36m[K:[m[K[32m[K149[m[K[36m[K:[m[K                size && [01;31m[K`LemonInput--${size}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonInput/LemonInput.tsx[m[K[36m[K-[m[K[32m[K150[m[K[36m[K-[m[K                fullWidth && 'LemonInput--full-width',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonCheckbox/LemonCheckbox.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonCheckbox/LemonCheckbox.tsx[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K    const id = useMemo(() => rawId || [01;31m[K`lemon-checkbox-${checkboxCounter++}`[m[K, [rawId])
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonCheckbox/LemonCheckbox.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K    const [localChecked, setLocalChecked] = useState(indeterminate || (checked ?? defaultChecked ?? false))
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonCheckbox/LemonCheckbox.tsx[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                    fullWidth && 'LemonCheckbox--full-width',
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonCheckbox/LemonCheckbox.tsx[m[K[36m[K:[m[K[32m[K78[m[K[36m[K:[m[K                    size && [01;31m[K`LemonCheckbox--${size}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonCheckbox/LemonCheckbox.tsx[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K                    className
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTextArea/LemonTextArea.tsx[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K        onUpload: (url, fileName) => {
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTextArea/LemonTextArea.tsx[m[K[36m[K:[m[K[32m[K91[m[K[36m[K:[m[K            onChange?.(value + [01;31m[K`\n\n![${fileName}](${url})`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTextArea/LemonTextArea.tsx[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K            posthog.capture('markdown image uploaded', { name: fileName })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTextArea/LemonTextArea.tsx[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K            posthog.capture('markdown image upload failed', { error: detail })
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTextArea/LemonTextArea.tsx[m[K[36m[K:[m[K[32m[K96[m[K[36m[K:[m[K            lemonToast.error([01;31m[K`Error uploading image: ${detail}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTextArea/LemonTextArea.tsx[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Lettermark/Lettermark.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K                'Lettermark',
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Lettermark/Lettermark.tsx[m[K[36m[K:[m[K[32m[K39[m[K[36m[K:[m[K                colorIndex && [01;31m[K`Lettermark--variant-${colorIndex}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/Lettermark/Lettermark.tsx[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K                rounded && `Lettermark--rounded`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTag/LemonTag.tsx[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K        <div
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTag/LemonTag.tsx[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K            className={clsx('LemonTag', [01;31m[K`LemonTag--size-${size}`[m[K, !!props.onClick && 'cursor-pointer', type, className)}
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTag/LemonTag.tsx[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K            {...props}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonFileInput/LemonFileInput.tsx[m[K[36m[K-[m[K[32m[K136[m[K[36m[K-[m[K                    <IconUploadFile className={'text-2xl'} /> Click or drag and drop to upload
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonFileInput/LemonFileInput.tsx[m[K[36m[K:[m[K[32m[K137[m[K[36m[K:[m[K                    {accept ? [01;31m[K` ${acceptToDisplayName(accept)}`[m[K : ''}
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonFileInput/LemonFileInput.tsx[m[K[36m[K-[m[K[32m[K138[m[K[36m[K-[m[K                </label>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonFileInput/LemonFileInput.tsx[m[K[36m[K-[m[K[32m[K155[m[K[36m[K-[m[K    if (match) {
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonFileInput/LemonFileInput.tsx[m[K[36m[K:[m[K[32m[K156[m[K[36m[K:[m[K        return [01;31m[K`${match[1]}s`[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonFileInput/LemonFileInput.tsx[m[K[36m[K-[m[K[32m[K157[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonFileInput/LemonFileInput.tsx[m[K[36m[K-[m[K[32m[K158[m[K[36m[K-[m[K    if (accept.startsWith('.')) {
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonFileInput/LemonFileInput.tsx[m[K[36m[K:[m[K[32m[K159[m[K[36m[K:[m[K        return [01;31m[K`${accept.slice(1).toUpperCase()} files`[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonFileInput/LemonFileInput.tsx[m[K[36m[K-[m[K[32m[K160[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/TableCellSparkline.tsx[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K                                const datapoint = tooltip.dataPoints[0]
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/TableCellSparkline.tsx[m[K[36m[K:[m[K[32m[K61[m[K[36m[K:[m[K                                const tooltipLabel = datapoint.label ? [01;31m[K`${datapoint.label}: `[m[K : ''
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/TableCellSparkline.tsx[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K                                const tooltipContent = [01;31m[K`${tooltipLabel} ${datapoint.formattedValue}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/TableCellSparkline.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                                setPopoverContent(<>{tooltipContent}</>)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/TableRow.tsx[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K                    rowClassNameDetermined,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/TableRow.tsx[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[K                    rowStatusDetermined && [01;31m[K`LemonTable__row--status-${rowStatusDetermined}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/TableRow.tsx[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K                    extraProps?.onClick ? 'hover:underline cursor-pointer hover:bg-primary-highlight' : undefined,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/TableRow.tsx[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K                            <td
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/TableRow.tsx[m[K[36m[K:[m[K[32m[K99[m[K[36m[K:[m[K                                key={[01;31m[K`col-${columnGroupIndex}-${columnKeyOrIndex}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/TableRow.tsx[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K                                className={clsx(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/TableRow.tsx[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K                                    isSticky && 'LemonTable__cell--sticky',
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/TableRow.tsx[m[K[36m[K:[m[K[32m[K103[m[K[36m[K:[m[K                                    column.align && [01;31m[K`text-${column.align}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/TableRow.tsx[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K                                    column.className
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.stories.tsx[m[K[36m[K-[m[K[32m[K281[m[K[36m[K-[m[K                    key: 'age',
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.stories.tsx[m[K[36m[K:[m[K[32m[K282[m[K[36m[K:[m[K                    render: (_, person) => [01;31m[K`${person.name.length * 12} years`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.stories.tsx[m[K[36m[K-[m[K[32m[K283[m[K[36m[K-[m[K                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K        // == is intentional to catch undefined too
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K        throw new Error(`Column \`key\` or \`dataIndex\[01;31m[K` must be defined for ${obligationReason}`[m[K)
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K123[m[K[36m[K-[m[K    /** Search param that will be used for storing and syncing sorting */
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K:[m[K[32m[K124[m[K[36m[K:[m[K    const currentSortingParam = id ? [01;31m[K`${id}_order`[m[K : 'order'
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K142[m[K[36m[K-[m[K                        [currentSortingParam]: newSorting
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K:[m[K[32m[K143[m[K[36m[K:[m[K                            ? [01;31m[K`${newSorting.order === -1 ? '-' : ''}${newSorting.columnKey}`[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K144[m[K[36m[K-[m[K                            : undefined,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K217[m[K[36m[K-[m[K                'LemonTable scrollable',
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K:[m[K[32m[K218[m[K[36m[K:[m[K                size && size !== 'middle' && [01;31m[K`LemonTable--${size}`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K219[m[K[36m[K-[m[K                inset && 'LemonTable--inset',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K237[m[K[36m[K-[m[K                            {columns.map((column, index) => (
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K:[m[K[32m[K238[m[K[36m[K:[m[K                                <col key={[01;31m[K`LemonTable-col-${index}`[m[K} style={{ width: column.width }} />
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K239[m[K[36m[K-[m[K                            ))}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K251[m[K[36m[K-[m[K                                            columnGroupIndex === 0 && firstColumnSticky ? (
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K:[m[K[32m[K252[m[K[36m[K:[m[K                                                <React.Fragment key={[01;31m[K`LemonTable-th-group-${columnGroupIndex}`[m[K}>
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K253[m[K[36m[K-[m[K                                                    <th
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K262[m[K[36m[K-[m[K                                                <th
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K:[m[K[32m[K263[m[K[36m[K:[m[K                                                    key={[01;31m[K`LemonTable-th-group-${columnGroupIndex}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K264[m[K[36m[K-[m[K                                                    colSpan={columnGroup.children.length}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K386[m[K[36m[K-[m[K                                        <TableRow
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K:[m[K[32m[K387[m[K[36m[K:[m[K                                            key={[01;31m[K`LemonTable-tr-${rowKeyDetermined}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K388[m[K[36m[K-[m[K                                            record={record}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K404[m[K[36m[K-[m[K                                    .map((_, rowIndex) => (
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K:[m[K[32m[K405[m[K[36m[K:[m[K                                        <tr key={[01;31m[K`LemonTable-tr-${rowIndex} ph-no-capture`[m[K}>
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K406[m[K[36m[K-[m[K                                            {columnGroups.flatMap((columnGroup, columnGroupIndex) =>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K408[m[K[36m[K-[m[K                                                    <td
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K:[m[K[32m[K409[m[K[36m[K:[m[K                                                        key={[01;31m[K`LemonTable-td-${columnGroupIndex}-${columnIndex}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K410[m[K[36m[K-[m[K                                                        className={clsx(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K427[m[K[36m[K-[m[K                                    <td colSpan={columns.length + Number(!!expandable)}>
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K:[m[K[32m[K428[m[K[36m[K:[m[K                                        {emptyState || [01;31m[K`No ${nouns[1]}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTable/LemonTable.tsx[m[K[36m[K-[m[K[32m[K429[m[K[36m[K-[m[K                                    </td>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/ProfilePicture/ProfilePicture.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/ProfilePicture/ProfilePicture.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K    const combinedNameAndEmail = name && email ? [01;31m[K`${name} <${email}>`[m[K : name || email
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/ProfilePicture/ProfilePicture.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/ProfilePicture/ProfilePicture.tsx[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K            const emailHash = md5(emailOrNameWithEmail.trim().toLowerCase())
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/ProfilePicture/ProfilePicture.tsx[m[K[36m[K:[m[K[32m[K50[m[K[36m[K:[m[K            const tentativeUrl = [01;31m[K`https://www.gravatar.com/avatar/${emailHash}?s=96&d=404`[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/ProfilePicture/ProfilePicture.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K            // The image will be cached, so it's best to do GET request check before trying to render it
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/ProfilePicture/ProfilePicture.tsx[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K                src={gravatarUrl}
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/ProfilePicture/ProfilePicture.tsx[m[K[36m[K:[m[K[32m[K65[m[K[36m[K:[m[K                title={title || [01;31m[K`This is the Gravatar for ${combinedNameAndEmail}`[m[K}
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/ProfilePicture/ProfilePicture.tsx[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K                alt=""
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSelect/LemonSelect.stories.tsx[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K    value: '1',
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSelect/LemonSelect.stories.tsx[m[K[36m[K:[m[K[32m[K110[m[K[36m[K:[m[K    options: [...Array(100)].map((_, x) => ({ value: [01;31m[K`${x}`[m[K, label: [01;31m[K`${x}`[m[K })),
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSelect/LemonSelect.stories.tsx[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSegmentedButton/LemonSegmentedButton.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[Kinterface LemonSegmentedButtonCSSProperties extends React.CSSProperties {
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSegmentedButton/LemonSegmentedButton.tsx[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K    '--lemon-segmented-button-slider-width': [01;31m[K`${number}px`[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSegmentedButton/LemonSegmentedButton.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K    '--lemon-segmented-button-slider-offset': [01;31m[K`${number}px`[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSegmentedButton/LemonSegmentedButton.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSegmentedButton/LemonSegmentedButton.tsx[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                {
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSegmentedButton/LemonSegmentedButton.tsx[m[K[36m[K:[m[K[32m[K51[m[K[36m[K:[m[K                    '--lemon-segmented-button-slider-width': [01;31m[K`${sliderWidth}px`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSegmentedButton/LemonSegmentedButton.tsx[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K                    // Subtract 1px from offset to account for border-right
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSegmentedButton/LemonSegmentedButton.tsx[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K                    '--lemon-segmented-button-slider-offset': [01;31m[K`${sliderOffset - 1}px`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonSegmentedButton/LemonSegmentedButton.tsx[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K                } as LemonSegmentedButtonCSSProperties
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTabs/LemonTabs.tsx[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[Kinterface LemonTabsCSSProperties extends React.CSSProperties {
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTabs/LemonTabs.tsx[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K    '--lemon-tabs-slider-width': [01;31m[K`${number}px`[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTabs/LemonTabs.tsx[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K    '--lemon-tabs-slider-offset': [01;31m[K`${number}px`[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTabs/LemonTabs.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTabs/LemonTabs.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                {
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTabs/LemonTabs.tsx[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K                    '--lemon-tabs-slider-width': [01;31m[K`${sliderWidth}px`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTabs/LemonTabs.tsx[m[K[36m[K:[m[K[32m[K72[m[K[36m[K:[m[K                    '--lemon-tabs-slider-offset': [01;31m[K`${sliderOffset}px`[m[K,
[35m[K/tmp/posthog/frontend/src/lib/lemon-ui/LemonTabs/LemonTabs.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                } as LemonTabsCSSProperties
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/stories/How to build a scene.stories.mdx[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[Kexport const urls = {
[35m[K/tmp/posthog/frontend/src/stories/How to build a scene.stories.mdx[m[K[36m[K:[m[K[32m[K123[m[K[36m[K:[m[K    dashboard: (id: string | number) => `/dashboard{id ? [01;31m[K`/${id}`[m[K : ''}`,
[35m[K/tmp/posthog/frontend/src/stories/How to build a scene.stories.mdx[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K    dashboards: () => `/dashboard`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/stories/How to build a form.stories.mdx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K            {
[35m[K/tmp/posthog/frontend/src/stories/How to build a form.stories.mdx[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K                loadFeatureFlag: () => api.get([01;31m[K`api/projects/${values.currentTeamId}/feature_flags/${props.id}`[m[K),
[35m[K/tmp/posthog/frontend/src/stories/How to build a form.stories.mdx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K            },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/stories/How to build a form.stories.mdx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                const newFeatureFlag = updatedFlag.id
[35m[K/tmp/posthog/frontend/src/stories/How to build a form.stories.mdx[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K                    ? await api.update([01;31m[K`api/projects/${values.currentTeamId}/feature_flags/${updatedFlag.id}`[m[K, flag)
[35m[K/tmp/posthog/frontend/src/stories/How to build a form.stories.mdx[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K                    : await api.create([01;31m[K`api/projects/${values.currentTeamId}/feature_flags`[m[K, flag)
[35m[K/tmp/posthog/frontend/src/stories/How to build a form.stories.mdx[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K                breakpoint()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/mocks/handlers.ts[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K        '/api/plugin_config/': toPaginatedResponse([MOCK_DEFAULT_PLUGIN_CONFIG]),
[35m[K/tmp/posthog/frontend/src/mocks/handlers.ts[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K        [[01;31m[K`/api/projects/${MOCK_TEAM_ID}/plugin_configs/${MOCK_DEFAULT_PLUGIN_CONFIG.id}/`[m[K]: MOCK_DEFAULT_PLUGIN_CONFIG,
[35m[K/tmp/posthog/frontend/src/mocks/handlers.ts[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K        '/api/projects/@current/persons/properties/': toPaginatedResponse(MOCK_PERSON_PROPERTIES),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K                    const updatedItem = await api.update(
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${item.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K                        {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K            const newItem = { ...rest, name: (rest.name || rest.derived_name) + ' (copy)' }
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K:[m[K[32m[K56[m[K[36m[K:[m[K            const addedItem = await api.create([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights`[m[K, newItem)
[35m[K/tmp/posthog/frontend/src/models/insightsModel.tsx[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/cohortsModel.ts[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K                export_context: {
[35m[K/tmp/posthog/frontend/src/models/cohortsModel.ts[m[K[36m[K:[m[K[32m[K84[m[K[36m[K:[m[K                    path: [01;31m[K`/api/cohort/${id}/persons`[m[K,
[35m[K/tmp/posthog/frontend/src/models/cohortsModel.ts[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/funnelsModel.ts[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K            deleteFunnel: async (funnelId: number) => {
[35m[K/tmp/posthog/frontend/src/models/funnelsModel.ts[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K                await api.delete([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${funnelId}`[m[K)
[35m[K/tmp/posthog/frontend/src/models/funnelsModel.ts[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                return values.funnels.filter((funnel) => funnel.id !== funnelId)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K                loadAllGroupTypes: async () => {
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K                    return await api.get([01;31m[K`api/projects/${values.currentTeamId}/groups_types`[m[K)
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K                        return await api.update(
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K                            [01;31m[K`/api/projects/${teamLogic.values.currentTeamId}/groups_types/update_metadata`[m[K,
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K                            payload
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K                    (groupType: GroupType) =>
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K                        [01;31m[K`${TaxonomicFilterGroupType.GroupsPrefix}_${groupType.group_type_index}`[m[K as unknown as TaxonomicFilterGroupType
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K                    (groupType: GroupType) =>
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[K                        [01;31m[K`${TaxonomicFilterGroupType.GroupNamesPrefix}_${groupType.group_type_index}`[m[K as unknown as TaxonomicFilterGroupType
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K                                singular: groupType.name_plural || groupType.group_type,
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K:[m[K[32m[K82[m[K[36m[K:[m[K                                plural: groupType.name_plural || [01;31m[K`${groupType.group_type}(s)`[m[K,
[35m[K/tmp/posthog/frontend/src/models/groupsModel.ts[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K                            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/annotationsModel.ts[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                    endpoint: api.annotations.determineDeleteEndpoint(),
[35m[K/tmp/posthog/frontend/src/models/annotationsModel.ts[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K                    object: { name: [01;31m[K`${annotation.date_marker} annotation`[m[K, ...annotation },
[35m[K/tmp/posthog/frontend/src/models/annotationsModel.ts[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K                    callback: (undo, annotation) => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K    // first time we see this, schedule a fetch
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K    const key = [01;31m[K`${definitionType}/${propertyName}`[m[K
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K    if (typeof propertyName === 'string' && !(key in propertyDefinitionStorage)) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K            for (const propertyKey of propertyKeys) {
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K:[m[K[32m[K130[m[K[36m[K:[m[K                const key = [01;31m[K`${type}/${propertyKey}`[m[K
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K                if (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K164[m[K[36m[K-[m[K                if (!(type in pendingByType)) {
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K:[m[K[32m[K165[m[K[36m[K:[m[K                    throw new Error([01;31m[K`Unknown property definition type: ${type}`[m[K)
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K166[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K177[m[K[36m[K-[m[K                    actions.updatePropertyDefinitions(
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K:[m[K[32m[K178[m[K[36m[K:[m[K                        Object.fromEntries(pending.map((key) => [[01;31m[K`${type}/${key}`[m[K, PropertyDefinitionState.Loading]))
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K179[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K186[m[K[36m[K-[m[K                    for (const propertyDefinition of propertyDefinitions.results) {
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K:[m[K[32m[K187[m[K[36m[K:[m[K                        newProperties[[01;31m[K`${type}/${propertyDefinition.name}`[m[K] = propertyDefinition
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K188[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K190[m[K[36m[K-[m[K                    for (const property of pending) {
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K:[m[K[32m[K191[m[K[36m[K:[m[K                        const key = [01;31m[K`${type}/${property}`[m[K
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K192[m[K[36m[K-[m[K                        if (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K204[m[K[36m[K-[m[K                    for (const property of pending) {
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K:[m[K[32m[K205[m[K[36m[K:[m[K                        const key = [01;31m[K`${type}/${property}`[m[K
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K206[m[K[36m[K-[m[K                        if (values.propertyDefinitionStorage[key] === PropertyDefinitionState.Loading) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K242[m[K[36m[K-[m[K            for (const eventName of eventNames || []) {
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K:[m[K[32m[K243[m[K[36m[K:[m[K                eventParams += [01;31m[K`&event_name=${eventName}`[m[K
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K244[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K290[m[K[36m[K-[m[K                    return Object.entries(propertyDefinitionStorage ?? {})
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K:[m[K[32m[K291[m[K[36m[K:[m[K                        .filter(([key, value]) => key.startsWith([01;31m[K`${type}/`[m[K) && typeof value === 'object')
[35m[K/tmp/posthog/frontend/src/models/propertyDefinitionsModel.ts[m[K[36m[K-[m[K[32m[K292[m[K[36m[K-[m[K                        .map(([, value]) => value as PropertyDefinition)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/groupPropertiesModel.ts[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K                    if (values.groupsEnabled) {
[35m[K/tmp/posthog/frontend/src/models/groupPropertiesModel.ts[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[K                        return await api.get([01;31m[K`api/projects/${values.currentTeamId}/groups/property_definitions`[m[K)
[35m[K/tmp/posthog/frontend/src/models/groupPropertiesModel.ts[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K            id: id,
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K            name: name || [01;31m[K`#${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K            show: show || false,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K97[m[K[36m[K:[m[K                    return await api.get(url || [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/?limit=100`[m[K)
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[K                const response = (await api.update(
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K114[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K115[m[K[36m[K-[m[K                    payload
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K133[m[K[36m[K-[m[K                                const reverted = (await api.update(
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K134[m[K[36m[K:[m[K                                    [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K135[m[K[36m[K-[m[K                                    beforeChange
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K145[m[K[36m[K-[m[K            deleteDashboard: async ({ id, deleteInsights }) =>
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K146[m[K[36m[K:[m[K                (await api.update([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/${id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K147[m[K[36m[K-[m[K                    deleted: true,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K150[m[K[36m[K-[m[K            restoreDashboard: async ({ id }) =>
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K151[m[K[36m[K:[m[K                (await api.update([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/${id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K152[m[K[36m[K-[m[K                    deleted: false,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K154[m[K[36m[K-[m[K            pinDashboard: async ({ id, source }) => {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K155[m[K[36m[K:[m[K                const response = (await api.update([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/${id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K156[m[K[36m[K-[m[K                    pinned: true,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K161[m[K[36m[K-[m[K            unpinDashboard: async ({ id, source }) => {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K162[m[K[36m[K:[m[K                const response = (await api.update([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/${id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K163[m[K[36m[K-[m[K                    pinned: false,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K168[m[K[36m[K-[m[K            duplicateDashboard: async ({ id, name, show, duplicateTiles }) => {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K169[m[K[36m[K:[m[K                const result = (await api.create([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/`[m[K, {
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K170[m[K[36m[K-[m[K                    use_dashboard: id,
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K:[m[K[32m[K171[m[K[36m[K:[m[K                    name: [01;31m[K`${name} (Copy)`[m[K,
[35m[K/tmp/posthog/frontend/src/models/dashboardsModel.tsx[m[K[36m[K-[m[K[32m[K172[m[K[36m[K-[m[K                    duplicate_tiles: duplicateTiles,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/models/notebooksModel.ts[m[K[36m[K-[m[K[32m[K121[m[K[36m[K-[m[K                    deleteWithUndo({
[35m[K/tmp/posthog/frontend/src/models/notebooksModel.ts[m[K[36m[K:[m[K[32m[K122[m[K[36m[K:[m[K                        endpoint: [01;31m[K`projects/${values.currentTeamId}/notebooks`[m[K,
[35m[K/tmp/posthog/frontend/src/models/notebooksModel.ts[m[K[36m[K-[m[K[32m[K123[m[K[36m[K-[m[K                        object: { name: title || shortId, id: shortId },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K:[m[K[32m[K90[m[K[36m[K:[m[K    throw new Error([01;31m[K`Unsupported query: ${query.kind}`[m[K)
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K-[m[K[32m[K181[m[K[36m[K-[m[K    } else if (isRetentionFilter(filters)) {
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K:[m[K[32m[K182[m[K[36m[K:[m[K        return [01;31m[K`api/projects/${currentTeamId}/insights/retention/?${toParams(filters)}${refresh ? '&refresh=true' : ''}`[m[K
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K-[m[K[32m[K183[m[K[36m[K-[m[K    } else if (isFunnelsFilter(filters)) {
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K:[m[K[32m[K184[m[K[36m[K:[m[K        return [01;31m[K`api/projects/${currentTeamId}/insights/funnel/${refresh ? '?refresh=true' : ''}`[m[K
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K-[m[K[32m[K185[m[K[36m[K-[m[K    } else if (isPathsFilter(filters)) {
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K:[m[K[32m[K186[m[K[36m[K:[m[K        return [01;31m[K`api/projects/${currentTeamId}/insights/path${refresh ? '?refresh=true' : ''}`[m[K
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K-[m[K[32m[K187[m[K[36m[K-[m[K    } else {
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K:[m[K[32m[K188[m[K[36m[K:[m[K        throw new Error([01;31m[K`Unsupported insight type: ${filters.insight}`[m[K)
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K-[m[K[32m[K189[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K-[m[K[32m[K221[m[K[36m[K-[m[K    } else {
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K:[m[K[32m[K222[m[K[36m[K:[m[K        throw new Error([01;31m[K`Unsupported insight type: ${filters.insight}`[m[K)
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K-[m[K[32m[K223[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K-[m[K[32m[K242[m[K[36m[K-[m[K    } else {
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K:[m[K[32m[K243[m[K[36m[K:[m[K        throw new Error([01;31m[K`Unsupported insight type: ${filters.insight}`[m[K)
[35m[K/tmp/posthog/frontend/src/queries/query.ts[m[K[36m[K-[m[K[32m[K244[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/QueryEditor/queryEditorLogic.ts[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K            if (values.error) {
[35m[K/tmp/posthog/frontend/src/queries/QueryEditor/queryEditorLogic.ts[m[K[36m[K:[m[K[32m[K57[m[K[36m[K:[m[K                lemonToast.error([01;31m[K`Error parsing JSON: ${values.error}`[m[K)
[35m[K/tmp/posthog/frontend/src/queries/QueryEditor/queryEditorLogic.ts[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K            } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/EditorFilterGroup.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                            throw new Error(
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/EditorFilterGroup.tsx[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K                                [01;31m[K`Component for filter ${key} is an anonymous function, which is not a valid React component! Use a named function instead.`[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/EditorFilterGroup.tsx[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K                            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K                                                    }}
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K:[m[K[32m[K108[m[K[36m[K:[m[K                                                    pageKey={[01;31m[K`insight-filters-${propertyGroupIndex}`[m[K}
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K                                                    taxonomicGroupTypes={taxonomicGroupTypes}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K            <LemonButton
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K:[m[K[32m[K129[m[K[36m[K:[m[K                data-attr={[01;31m[K`${pageKey}-add-filter-group`[m[K}
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/PropertyGroupFilters/PropertyGroupFilters.tsx[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K                type="secondary"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/TrendsSeries.tsx[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K                }}
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/TrendsSeries.tsx[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K                typeKey={[01;31m[K`trends_${InsightType.TRENDS}_data_exploration`[m[K}
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/TrendsSeries.tsx[m[K[36m[K:[m[K[32m[K56[m[K[36m[K:[m[K                buttonCopy={[01;31m[K`Add graph ${hasFormula ? 'variable' : 'series'}`[m[K}
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/TrendsSeries.tsx[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K                showSeriesIndicator
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightContainer.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[Kconst VIEW_MAP = {
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightContainer.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.TRENDS}`[m[K]: <TrendInsight view={InsightType.TRENDS} />,
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightContainer.tsx[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.STICKINESS}`[m[K]: <TrendInsight view={InsightType.STICKINESS} />,
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightContainer.tsx[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.LIFECYCLE}`[m[K]: <TrendInsight view={InsightType.LIFECYCLE} />,
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightContainer.tsx[m[K[36m[K:[m[K[32m[K43[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.FUNNELS}`[m[K]: <FunnelInsight />,
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightContainer.tsx[m[K[36m[K:[m[K[32m[K44[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.RETENTION}`[m[K]: <RetentionContainer />,
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightContainer.tsx[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K    [[01;31m[K`${InsightType.PATHS}`[m[K]: <Paths />,
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightContainer.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightViz.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[Kexport const insightVizDataNodeKey = (insightProps: InsightLogicProps): string => {
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightViz.tsx[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K    return [01;31m[K`InsightViz.${keyForInsightLogicProps('new')(insightProps)}`[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightViz.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightViz.tsx[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[Kexport function InsightViz({ uniqueKey, query, setQuery, context, readOnly }: InsightVizProps): JSX.Element {
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightViz.tsx[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K    const [key] = useState(() => [01;31m[K`InsightViz.${uniqueKey || uniqueNode++}`[m[K)
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightViz.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K    const insightProps: InsightLogicProps = context?.insightProps || {
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightViz.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K        dashboardItemId: [01;31m[K`new-AdHoc.${key}`[m[K,
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightViz.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K        query,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightDisplayConfig.tsx[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K                            <span className="font-medium whitespace-nowrap">
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightDisplayConfig.tsx[m[K[36m[K:[m[K[32m[K131[m[K[36m[K:[m[K                                Options{advancedOptionsCount ? [01;31m[K` (${advancedOptionsCount})`[m[K : null}
[35m[K/tmp/posthog/frontend/src/queries/nodes/InsightViz/InsightDisplayConfig.tsx[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K                            </span>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K    const uniqueNodeKey = useState(() => uniqueNode++)
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K:[m[K[32m[K84[m[K[36m[K:[m[K    const [dataKey] = useState(() => [01;31m[K`DataNode.${uniqueKey || uniqueNodeKey}`[m[K)
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K:[m[K[32m[K85[m[K[36m[K:[m[K    const [vizKey] = useState(() => [01;31m[K`DataTable.${uniqueNodeKey}`[m[K)
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K-[m[K[32m[K192[m[K[36m[K-[m[K                                    const isOrderBy = source.orderBy?.[0] === key
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K:[m[K[32m[K193[m[K[36m[K:[m[K                                    const isDescOrderBy = source.orderBy?.[0] === [01;31m[K`${key} DESC`[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K-[m[K[32m[K194[m[K[36m[K-[m[K                                    setQuery({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K-[m[K[32m[K204[m[K[36m[K-[m[K                                                isOrderBy || isDescOrderBy
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K:[m[K[32m[K205[m[K[36m[K:[m[K                                                    ? [isDescOrderBy ? [01;31m[K`${hogQl} DESC`[m[K : hogQl]
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K-[m[K[32m[K206[m[K[36m[K-[m[K                                                    : source.orderBy,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K-[m[K[32m[K233[m[K[36m[K-[m[K                                    status={
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K:[m[K[32m[K234[m[K[36m[K:[m[K                                        (query.source as EventsQuery)?.orderBy?.[0] === [01;31m[K`${key} DESC`[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K-[m[K[32m[K235[m[K[36m[K-[m[K                                            ? 'primary'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K-[m[K[32m[K243[m[K[36m[K-[m[K                                                ...query.source,
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K:[m[K[32m[K244[m[K[36m[K:[m[K                                                orderBy: [[01;31m[K`${key} DESC`[m[K],
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K-[m[K[32m[K245[m[K[36m[K-[m[K                                            } as EventsQuery,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K-[m[K[32m[K331[m[K[36m[K-[m[K                                                    removeExpressionComment(orderKey) === cleanColumnKey ||
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K:[m[K[32m[K332[m[K[36m[K:[m[K                                                    removeExpressionComment(orderKey) === [01;31m[K`-${cleanColumnKey}`[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTable.tsx[m[K[36m[K-[m[K[32m[K333[m[K[36m[K-[m[K                                            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/defaultEventsQuery.ts[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/defaultEventsQuery.ts[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K            return [01;31m[K`properties.${escapePropertyAsHogQlIdentifier(String(column))}`[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/defaultEventsQuery.ts[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K        }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/dataTableLogic.ts[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K                                    removeExpressionComment(column) === orderKey ||
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/dataTableLogic.ts[m[K[36m[K:[m[K[32m[K108[m[K[36m[K:[m[K                                    removeExpressionComment(column) === [01;31m[K`-${orderKey}`[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/dataTableLogic.ts[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K                            ) ?? -1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/EventRowActions.tsx[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                                await copyToClipboard(
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/EventRowActions.tsx[m[K[36m[K:[m[K[32m[K51[m[K[36m[K:[m[K                                    [01;31m[K`${window.location.origin}${urls.event(String(event.uuid), event.timestamp)}`[m[K,
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/EventRowActions.tsx[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K                                    'link to event'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/renderColumnMeta.tsx[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K            : null
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/renderColumnMeta.tsx[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K        const sortOrder = key === sortKey ? 1 : [01;31m[K`-${key}`[m[K === sortKey ? -1 : undefined
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/renderColumnMeta.tsx[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K        if (sortOrder) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTableExport.tsx[m[K[36m[K-[m[K[32m[K323[m[K[36m[K-[m[K        >
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTableExport.tsx[m[K[36m[K:[m[K[32m[K324[m[K[36m[K:[m[K            Export{filterCount > 0 ? [01;31m[K` (${filterCount} filter${filterCount === 1 ? '' : 's'})`[m[K : ''}
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataTable/DataTableExport.tsx[m[K[36m[K-[m[K[32m[K325[m[K[36m[K-[m[K        </LemonButtonWithDropdown>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/TimeToSeeData/Trace/traceLogic.tsx[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K        spanData.push({
[35m[K/tmp/posthog/frontend/src/queries/nodes/TimeToSeeData/Trace/traceLogic.tsx[m[K[36m[K:[m[K[32m[K68[m[K[36m[K:[m[K            id: [01;31m[K`${node.type}-${level}-${index}`[m[K,
[35m[K/tmp/posthog/frontend/src/queries/nodes/TimeToSeeData/Trace/traceLogic.tsx[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K            type: node.type,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/TimeToSeeData/Trace/Trace.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K                    backgroundColor: getSeriesColor(spanData.depth),
[35m[K/tmp/posthog/frontend/src/queries/nodes/TimeToSeeData/Trace/Trace.tsx[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K                    width: [01;31m[K`${durationWidth}%`[m[K,
[35m[K/tmp/posthog/frontend/src/queries/nodes/TimeToSeeData/Trace/Trace.tsx[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K                    marginLeft: [01;31m[K`${startMargin}%`[m[K,
[35m[K/tmp/posthog/frontend/src/queries/nodes/TimeToSeeData/Trace/Trace.tsx[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K                }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/TimeToSeeData/Trace/Trace.tsx[m[K[36m[K-[m[K[32m[K166[m[K[36m[K-[m[K                                            'w-full border px-2 py-1 flex flex-row justify-between',
[35m[K/tmp/posthog/frontend/src/queries/nodes/TimeToSeeData/Trace/Trace.tsx[m[K[36m[K:[m[K[32m[K167[m[K[36m[K:[m[K                                            [01;31m[K`Span__${spanData.type}`[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/TimeToSeeData/Trace/Trace.tsx[m[K[36m[K-[m[K[32m[K168[m[K[36m[K-[m[K                                        )}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/TimeToSeeData/TimeToSeeData.tsx[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[Kexport function TimeToSeeData(props: { query: TimeToSeeDataNode; cachedResults?: AnyResponseType }): JSX.Element {
[35m[K/tmp/posthog/frontend/src/queries/nodes/TimeToSeeData/TimeToSeeData.tsx[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[K    const [key] = useState(() => [01;31m[K`TimeToSeeData.${uniqueNode++}`[m[K)
[35m[K/tmp/posthog/frontend/src/queries/nodes/TimeToSeeData/TimeToSeeData.tsx[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K    const logic = dataNodeLogic({ query: props.query, key, cachedResults: props.cachedResults })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataNode/DataNode.tsx[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[Kexport function DataNode(props: DataNodeProps): JSX.Element {
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataNode/DataNode.tsx[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[K    const [key] = useState(() => [01;31m[K`DataNode.${uniqueNode++}`[m[K)
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataNode/DataNode.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K    const logic = dataNodeLogic({ ...props, key, cachedResults: props.cachedResults })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataNode/dataNodeLogic.ts[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K                    ) {
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataNode/dataNodeLogic.ts[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K                        const url = [01;31m[K`api/projects/${values.currentTeamId}/insights/${props.cachedResults['id']}?refresh=true`[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataNode/dataNodeLogic.ts[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K                        const fetchResponse = await api.getResponse(url)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataNode/dataNodeLogic.ts[m[K[36m[K-[m[K[32m[K440[m[K[36m[K-[m[K                    // If this is a saved insight, the result will contain nextAllowedRefresh, and we use that to disable the button
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataNode/dataNodeLogic.ts[m[K[36m[K:[m[K[32m[K441[m[K[36m[K:[m[K                    disabledReason = [01;31m[K`You can refresh this insight again ${dayjs(nextAllowedRefresh).from(now)}`[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataNode/dataNodeLogic.ts[m[K[36m[K-[m[K[32m[K442[m[K[36m[K-[m[K                } else if (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataNode/dataNodeLogic.ts[m[K[36m[K-[m[K[32m[K473[m[K[36m[K-[m[K                const { currentTeamId } = values
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataNode/dataNodeLogic.ts[m[K[36m[K:[m[K[32m[K474[m[K[36m[K:[m[K                await api.create([01;31m[K`api/projects/${currentTeamId}/insights/cancel`[m[K, { client_query_id: queryId })
[35m[K/tmp/posthog/frontend/src/queries/nodes/DataNode/dataNodeLogic.ts[m[K[36m[K-[m[K[32m[K475[m[K[36m[K-[m[K            } catch (e) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/EventsNode/EventPropertyFilters.tsx[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K            }}
[35m[K/tmp/posthog/frontend/src/queries/nodes/EventsNode/EventPropertyFilters.tsx[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K            pageKey={[01;31m[K`EventPropertyFilters.${id}`[m[K}
[35m[K/tmp/posthog/frontend/src/queries/nodes/EventsNode/EventPropertyFilters.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K            style={{ marginBottom: 0, marginTop: 0 }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/PersonsNode/PersonPropertyFilters.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K            }}
[35m[K/tmp/posthog/frontend/src/queries/nodes/PersonsNode/PersonPropertyFilters.tsx[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K            pageKey={[01;31m[K`PersonPropertyFilters.${id}`[m[K}
[35m[K/tmp/posthog/frontend/src/queries/nodes/PersonsNode/PersonPropertyFilters.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K            taxonomicGroupTypes={
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/WebOverview/WebOverview.tsx[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[Kexport function WebOverview(props: { query: WebOverviewQuery; cachedResults?: AnyResponseType }): JSX.Element | null {
[35m[K/tmp/posthog/frontend/src/queries/nodes/WebOverview/WebOverview.tsx[m[K[36m[K:[m[K[32m[K14[m[K[36m[K:[m[K    const [key] = useState(() => [01;31m[K`WebOverview.${uniqueNode++}`[m[K)
[35m[K/tmp/posthog/frontend/src/queries/nodes/WebOverview/WebOverview.tsx[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K    const logic = dataNodeLogic({ query: props.query, key, cachedResults: props.cachedResults })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/WebOverview/WebOverview.tsx[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K            : isNotNil(item.value)
[35m[K/tmp/posthog/frontend/src/queries/nodes/WebOverview/WebOverview.tsx[m[K[36m[K:[m[K[32m[K67[m[K[36m[K:[m[K            ? [01;31m[K`${label}: ${formatItem(item.value, item.kind, { precise: true })}`[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/WebOverview/WebOverview.tsx[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K            : 'No data'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/WebOverview/EvenlyDistributedRows.tsx[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K            // eslint-disable-next-line react/forbid-dom-props
[35m[K/tmp/posthog/frontend/src/queries/nodes/WebOverview/EvenlyDistributedRows.tsx[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K            style={{ gridTemplateColumns: [01;31m[K`repeat(${rowLayout?.itemsPerRow ?? 1}, 1fr)`[m[K }}
[35m[K/tmp/posthog/frontend/src/queries/nodes/WebOverview/EvenlyDistributedRows.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K            ref={elementRef}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/HogQLQuery/hogQLQueryEditorLogic.ts[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K                return hasErrors && firstError
[35m[K/tmp/posthog/frontend/src/queries/nodes/HogQLQuery/hogQLQueryEditorLogic.ts[m[K[36m[K:[m[K[32m[K80[m[K[36m[K:[m[K                    ? [01;31m[K`Error on line ${firstError.startLineNumber}, column ${firstError.startColumn}`[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/HogQLQuery/hogQLQueryEditorLogic.ts[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K                    : null
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/nodes/HogQLQuery/HogQLQueryEditor.tsx[m[K[36m[K-[m[K[32m[K154[m[K[36m[K-[m[K                                                        quickFixes.push({
[35m[K/tmp/posthog/frontend/src/queries/nodes/HogQLQuery/HogQLQueryEditor.tsx[m[K[36m[K:[m[K[32m[K155[m[K[36m[K:[m[K                                                            title: [01;31m[K`Replace with: ${rawMarker.hogQLFix}`[m[K,
[35m[K/tmp/posthog/frontend/src/queries/nodes/HogQLQuery/HogQLQueryEditor.tsx[m[K[36m[K-[m[K[32m[K156[m[K[36m[K-[m[K                                                            diagnostics: [rawMarker],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K275[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K:[m[K[32m[K276[m[K[36m[K:[m[K    return !identifier.includes('"') ? [01;31m[K`"${identifier}"`[m[K : `\[01;31m[K`${identifier}\`[m[K`
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K277[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K283[m[K[36m[K-[m[K    if (groupType === TaxonomicFilterGroupType.EventProperties) {
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K:[m[K[32m[K284[m[K[36m[K:[m[K        return [01;31m[K`properties.${escapePropertyAsHogQlIdentifier(String(value))}`[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K285[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K286[m[K[36m[K-[m[K    if (groupType === TaxonomicFilterGroupType.PersonProperties) {
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K:[m[K[32m[K287[m[K[36m[K:[m[K        return [01;31m[K`person.properties.${escapePropertyAsHogQlIdentifier(String(value))}`[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K288[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K289[m[K[36m[K-[m[K    if (groupType === TaxonomicFilterGroupType.EventFeatureFlags) {
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K:[m[K[32m[K290[m[K[36m[K:[m[K        return [01;31m[K`properties.${escapePropertyAsHogQlIdentifier(String(value))}`[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K291[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K302[m[K[36m[K-[m[K    if (groupType === TaxonomicFilterGroupType.PersonProperties) {
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K:[m[K[32m[K303[m[K[36m[K:[m[K        return [01;31m[K`properties.${escapePropertyAsHogQlIdentifier(String(value))}`[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K304[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K339[m[K[36m[K-[m[K    if (Array.isArray(value)) {
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K:[m[K[32m[K340[m[K[36m[K:[m[K        return [01;31m[K`[${value.map(formatHogQlValue).join(', ')}]`[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K341[m[K[36m[K-[m[K    } else if (dayjs.isDayjs(value)) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K345[m[K[36m[K-[m[K    } else if (typeof value === 'string') {
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K:[m[K[32m[K346[m[K[36m[K:[m[K        return [01;31m[K`'${value}'`[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K347[m[K[36m[K-[m[K    } else if (typeof value === 'number') {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K353[m[K[36m[K-[m[K    } else {
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K:[m[K[32m[K354[m[K[36m[K:[m[K        throw new Error([01;31m[K`Unsupported interpolated value type: ${typeof value}`[m[K)
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K355[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K359[m[K[36m[K-[m[K * Template tag for HogQL formatting. Handles formatting of values for you.
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K:[m[K[32m[K360[m[K[36m[K:[m[K * @example hogql[01;31m[K`SELECT * FROM events WHERE properties.text = ${text} AND timestamp > ${dayjs()}`[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.ts[m[K[36m[K-[m[K[32m[K361[m[K[36m[K-[m[K */
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.test.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K    it('properly returns query with simple identifier substition', () => {
[35m[K/tmp/posthog/frontend/src/queries/utils.test.ts[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K        expect(hogql[01;31m[K`SELECT * FROM ${hogql.identifier('events')}`[m[K).toEqual('SELECT * FROM events')
[35m[K/tmp/posthog/frontend/src/queries/utils.test.ts[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K    })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.test.ts[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K    it('properly returns query with escaped identifier substition', () => {
[35m[K/tmp/posthog/frontend/src/queries/utils.test.ts[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K        expect(hogql[01;31m[K`SELECT properties.${hogql.identifier('odd property')} FROM events`[m[K).toEqual(
[35m[K/tmp/posthog/frontend/src/queries/utils.test.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K            'SELECT properties."odd property" FROM events'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.test.ts[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K    it('properly returns query with string and number substitutions', () => {
[35m[K/tmp/posthog/frontend/src/queries/utils.test.ts[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K        expect(hogql[01;31m[K`SELECT * FROM events WHERE properties.foo = ${'bar'} AND properties.baz = ${3}`[m[K).toEqual(
[35m[K/tmp/posthog/frontend/src/queries/utils.test.ts[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K            "SELECT * FROM events WHERE properties.foo = 'bar' AND properties.baz = 3"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.test.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K        teamLogic.actions.loadCurrentTeamSuccess({ id: MOCK_TEAM_ID, timezone: 'UTC' } as TeamType)
[35m[K/tmp/posthog/frontend/src/queries/utils.test.ts[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K        expect(hogql[01;31m[K`SELECT * FROM events WHERE timestamp > ${dayjs('2023-04-04T04:04:00Z')}`[m[K).toEqual(
[35m[K/tmp/posthog/frontend/src/queries/utils.test.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K            "SELECT * FROM events WHERE timestamp > '2023-04-04 04:04:00'"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/utils.test.ts[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K        teamLogic.actions.loadCurrentTeamSuccess({ id: MOCK_TEAM_ID, timezone: 'Europe/Moscow' } as TeamType)
[35m[K/tmp/posthog/frontend/src/queries/utils.test.ts[m[K[36m[K:[m[K[32m[K49[m[K[36m[K:[m[K        expect(hogql[01;31m[K`SELECT * FROM events WHERE timestamp > ${dayjs('2023-04-04T04:04:00Z')}`[m[K).toEqual(
[35m[K/tmp/posthog/frontend/src/queries/utils.test.ts[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K            "SELECT * FROM events WHERE timestamp > '2023-04-04 07:04:00'" // Offset by 3 hours
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/queries/Query/Query.tsx[m[K[36m[K-[m[K[32m[K121[m[K[36m[K-[m[K        <div className="text-danger border border-danger p-2">
[35m[K/tmp/posthog/frontend/src/queries/Query/Query.tsx[m[K[36m[K:[m[K[32m[K122[m[K[36m[K:[m[K            <strong>PostHoqQuery error:</strong> {query?.kind ? [01;31m[K`Invalid node type "${query.kind}"`[m[K : 'Invalid query'}
[35m[K/tmp/posthog/frontend/src/queries/Query/Query.tsx[m[K[36m[K-[m[K[32m[K123[m[K[36m[K-[m[K        </div>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K].map((name, index) => ({
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K:[m[K[32m[K57[m[K[36m[K:[m[K    id: [01;31m[K`uuid-${index}-foobar`[m[K,
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[K    name: name || [01;31m[K`misc-${index}-generated`[m[K,
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K:[m[K[32m[K59[m[K[36m[K:[m[K    description: [01;31m[K`${name || 'name generation'} is the best!`[m[K,
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K    tags: [],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K    ...mockEventPropertyDefinition,
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K:[m[K[32m[K85[m[K[36m[K:[m[K    id: [01;31m[K`uuid-${index}-foobar`[m[K,
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K:[m[K[32m[K86[m[K[36m[K:[m[K    name: name || [01;31m[K`misc-${index}-generated`[m[K,
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K:[m[K[32m[K87[m[K[36m[K:[m[K    description: [01;31m[K`${name || 'name generation'} is the best!`[m[K,
[35m[K/tmp/posthog/frontend/src/test/mocks.ts[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K    is_seen_on_filtered_events: (name || '').includes('$'),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/test/byDataAttr.ts[m[K[36m[K-[m[K[32m[K8[m[K[36m[K-[m[K    if (!els.length) {
[35m[K/tmp/posthog/frontend/src/test/byDataAttr.ts[m[K[36m[K:[m[K[32m[K9[m[K[36m[K:[m[K        throw queryHelpers.getElementError([01;31m[K`Unable to find an element by: [data-attr="${id}"]`[m[K, container)
[35m[K/tmp/posthog/frontend/src/test/byDataAttr.ts[m[K[36m[K-[m[K[32m[K10[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/test/byDataAttr.ts[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K    if (result.length > 1) {
[35m[K/tmp/posthog/frontend/src/test/byDataAttr.ts[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K        throw queryHelpers.getElementError([01;31m[K`Found multiple elements with [data-attr="${id}"]`[m[K, container)
[35m[K/tmp/posthog/frontend/src/test/byDataAttr.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/test/byDataAttr.ts[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K    if (!result.length) {
[35m[K/tmp/posthog/frontend/src/test/byDataAttr.ts[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[K        throw queryHelpers.getElementError([01;31m[K`Did not find an element with [data-attr="${id}"]`[m[K, container)
[35m[K/tmp/posthog/frontend/src/test/byDataAttr.ts[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/types.ts[m[K[36m[K-[m[K[32m[K2085[m[K[36m[K-[m[K    /** currently persisted insight */
[35m[K/tmp/posthog/frontend/src/types.ts[m[K[36m[K:[m[K[32m[K2086[m[K[36m[K:[m[K    dashboardItemId?: InsightShortId | 'new' | [01;31m[K`new-${string}`[m[K | null
[35m[K/tmp/posthog/frontend/src/types.ts[m[K[36m[K-[m[K[32m[K2087[m[K[36m[K-[m[K    /** id of the dashboard the insight is on (when the insight is being displayed on a dashboard) **/
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentCodeSnippets.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K            <CodeSnippet language={Language.JavaScript} wrap>
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentCodeSnippets.tsx[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K                {[01;31m[K`posthog.featureFlags.override({'${flagKey}': '${variant}'})`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentCodeSnippets.tsx[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K            </CodeSnippet>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentResult.tsx[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K                                        ? countDataForVariant(variant)
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentResult.tsx[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K                                        : [01;31m[K`${conversionRateForVariant(variant)}%`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentResult.tsx[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K                                </Col>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentResult.tsx[m[K[36m[K-[m[K[32m[K205[m[K[36m[K-[m[K                                    <div className="text-sm ">
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentResult.tsx[m[K[36m[K:[m[K[32m[K206[m[K[36m[K:[m[K                                        {!!experimentResultCalculationError && [01;31m[K`${experimentResultCalculationError}. `[m[K}{' '}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentResult.tsx[m[K[36m[K-[m[K[32m[K207[m[K[36m[K-[m[K                                        Wait a bit longer for your users to be exposed to the experiment. Double check
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/secondaryMetricsLogic.ts[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K    props({} as SecondaryMetricsProps),
[35m[K/tmp/posthog/frontend/src/scenes/experiments/secondaryMetricsLogic.ts[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K    key((props) => [01;31m[K`${props.experimentId || 'new'}-${props.defaultAggregationType}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/experiments/secondaryMetricsLogic.ts[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K    path((key) => ['scenes', 'experiment', 'secondaryMetricsLogic', key]),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.test.ts[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K                },
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.test.ts[m[K[36m[K:[m[K[32m[K49[m[K[36m[K:[m[K                [[01;31m[K`/api/projects/:team/experiments/${RUNNING_EXP_ID}/results`[m[K]: {
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.test.ts[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                    filters: { breakdown: '$feature/test-experiment', breakdown_type: 'event', insight: 'TRENDS' },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.test.ts[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K                },
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.test.ts[m[K[36m[K:[m[K[32m[K59[m[K[36m[K:[m[K                [[01;31m[K`/api/projects/:team/experiments/${RUNNING_FUNNEL_EXP_ID}/results`[m[K]: {
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.test.ts[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K                    filters: { breakdown: '$feature/test-experiment', breakdown_type: 'event', insight: 'FUNNELS' },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentsLogic.ts[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentsLogic.ts[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K                    const response = await api.get([01;31m[K`api/projects/${values.currentTeamId}/experiments?limit=1000`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentsLogic.ts[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                    return response.results as Experiment[]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentsLogic.ts[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K                deleteExperiment: async (id: number) => {
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentsLogic.ts[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K                    await api.delete([01;31m[K`api/projects/${values.currentTeamId}/experiments/${id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentsLogic.ts[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K                    lemonToast.info('Experiment removed')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentWorkflow.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K                <Col
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentWorkflow.tsx[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K                    className={[01;31m[K`w-full exp-workflow-step ${workflowValidateStepCompleted ? 'step-completed' : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentWorkflow.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K                    onClick={() => setWorkflowValidateStepCompleted(!workflowValidateStepCompleted)}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentWorkflow.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K                <Col
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentWorkflow.tsx[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K                    className={[01;31m[K`w-full exp-workflow-step ${workflowLaunchStepCompleted ? 'step-completed' : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentWorkflow.tsx[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K                    onClick={() => setWorkflowLaunchStepCompleted(!workflowLaunchStepCompleted)}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K-[m[K[32m[K243[m[K[36m[K-[m[K                                                        <Row
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K:[m[K[32m[K244[m[K[36m[K:[m[K                                                            key={[01;31m[K`${variant}-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K-[m[K[32m[K245[m[K[36m[K-[m[K                                                            className={`feature-flag-variant ${
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K-[m[K[32m[K272[m[K[36m[K-[m[K                                                                    fullWidth
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K:[m[K[32m[K273[m[K[36m[K:[m[K                                                                    placeholder={[01;31m[K`example-variant-${index + 1}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K-[m[K[32m[K274[m[K[36m[K-[m[K                                                                    autoComplete="off"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K-[m[K[32m[K520[m[K[36m[K-[m[K                                    style={{ paddingRight: 8 }}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K:[m[K[32m[K521[m[K[36m[K:[m[K                                    title={[01;31m[K`${experiment?.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiment.tsx[m[K[36m[K-[m[K[32m[K522[m[K[36m[K-[m[K                                    buttons={
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/MetricSelector.tsx[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K                }}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/MetricSelector.tsx[m[K[36m[K:[m[K[32m[K110[m[K[36m[K:[m[K                typeKey={[01;31m[K`experiment-${isTrends ? InsightType.TRENDS : InsightType.FUNNELS}-secondary-metric`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/MetricSelector.tsx[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K                mathAvailability={isTrends ? undefined : MathAvailability.None}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K                                        }}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K:[m[K[32m[K133[m[K[36m[K:[m[K                                        tipFormatter={(value) => [01;31m[K`${value}%`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K                                    />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K-[m[K[32m[K139[m[K[36m[K-[m[K                                    defaultValue={5}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K:[m[K[32m[K140[m[K[36m[K:[m[K                                    formatter={(value) => [01;31m[K`${value}%`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K                                    style={{ margin: '0 16px' }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K-[m[K[32m[K155[m[K[36m[K-[m[K                )}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K:[m[K[32m[K156[m[K[36m[K:[m[K                <Row className={[01;31m[K`experiment-preview-row ${experiment?.start_date ? 'mr' : ''}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K-[m[K[32m[K157[m[K[36m[K-[m[K                    {experimentInsightType === InsightType.TRENDS ? (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K-[m[K[32m[K301[m[K[36m[K-[m[K                                                    <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K:[m[K[32m[K302[m[K[36m[K:[m[K                                                        title={[01;31m[K`This metric determines how we calculate exposure for the experiment. Only users who have this event alongside the property '$feature/${experiment.feature_flag_key}' are included in exposure calculations.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentPreview.tsx[m[K[36m[K-[m[K[32m[K303[m[K[36m[K-[m[K                                                    >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/SecondaryMetrics.tsx[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K        columns.push({
[35m[K/tmp/posthog/frontend/src/scenes/experiments/SecondaryMetrics.tsx[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K            key: [01;31m[K`results_${idx}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/experiments/SecondaryMetrics.tsx[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K            title: (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/SecondaryMetrics.tsx[m[K[36m[K-[m[K[32m[K193[m[K[36m[K-[m[K                                        setFilters={() => {}}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/SecondaryMetrics.tsx[m[K[36m[K:[m[K[32m[K194[m[K[36m[K:[m[K                                        typeKey={[01;31m[K`funnel-preview-${idx}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/SecondaryMetrics.tsx[m[K[36m[K-[m[K[32m[K195[m[K[36m[K-[m[K                                        mathAvailability={MathAvailability.None}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/SecondaryMetrics.tsx[m[K[36m[K-[m[K[32m[K214[m[K[36m[K-[m[K                                        setFilters={() => {}}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/SecondaryMetrics.tsx[m[K[36m[K:[m[K[32m[K215[m[K[36m[K:[m[K                                        typeKey={[01;31m[K`trend-preview-${idx}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/SecondaryMetrics.tsx[m[K[36m[K-[m[K[32m[K216[m[K[36m[K-[m[K                                        buttonCopy="Add graph series"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K:[m[K[32m[K84[m[K[36m[K:[m[K                return <div>{duration !== undefined ? [01;31m[K`${duration} day${duration !== 1 ? 's' : ''}`[m[K : '--'}</div>
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K            },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K-[m[K[32m[K126[m[K[36m[K-[m[K                                    status="stealth"
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K:[m[K[32m[K127[m[K[36m[K:[m[K                                    to={urls.experiment([01;31m[K`${experiment.id}`[m[K)}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K                                    size="small"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K-[m[K[32m[K136[m[K[36m[K-[m[K                                    onClick={() => deleteExperiment(experiment.id as number)}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K:[m[K[32m[K137[m[K[36m[K:[m[K                                    data-attr={[01;31m[K`experiment-${experiment.id}-dropdown-remove`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/experiments/Experiments.tsx[m[K[36m[K-[m[K[32m[K138[m[K[36m[K-[m[K                                    fullWidth
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K        value: 'JavaScript',
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}client/js${UTM_TAGS}${FF_ANCHOR}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K        Icon: IconJavascript,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K        value: 'ReactNative',
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}client/react-native${UTM_TAGS}${FF_ANCHOR}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K        Icon: IconJavascript,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K        value: 'Node.js',
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}server/node${UTM_TAGS}${FF_ANCHOR}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K        Icon: IconNodeJS,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K        value: 'PHP',
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}server/php${UTM_TAGS}${FF_ANCHOR}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K        Icon: IconPHP,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K        value: 'Ruby',
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}server/ruby${UTM_TAGS}${FF_ANCHOR}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K        Icon: IconRuby,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K        value: 'Golang',
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}server/go${UTM_TAGS}${FF_ANCHOR}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K        Icon: IconGolang,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K        value: 'Python',
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}server/python${UTM_TAGS}${FF_ANCHOR}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K        Icon: IconPython,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K168[m[K[36m[K-[m[K                                    {
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K169[m[K[36m[K:[m[K                                        key: [01;31m[K`test_group_${state.parameters.feature_flag_variants.length}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K170[m[K[36m[K-[m[K                                        rollout_percentage: newRolloutPercentages[newRolloutPercentages.length - 1],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K276[m[K[36m[K-[m[K                    response = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K277[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${values.currentTeamId}/experiments/${values.experimentId}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K278[m[K[36m[K-[m[K                        {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K303[m[K[36m[K-[m[K                } else {
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K304[m[K[36m[K:[m[K                    response = await api.create([01;31m[K`api/projects/${values.currentTeamId}/experiments`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K305[m[K[36m[K-[m[K                        ...values.experiment,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K323[m[K[36m[K-[m[K                actions.addToExperiments(response)
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K324[m[K[36m[K:[m[K                lemonToast.success([01;31m[K`Experiment ${isUpdate ? 'updated' : 'created'}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K325[m[K[36m[K-[m[K                    button: {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K546[m[K[36m[K-[m[K                        const response = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K547[m[K[36m[K:[m[K                            [01;31m[K`api/projects/${values.currentTeamId}/experiments/${props.experimentId}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K548[m[K[36m[K-[m[K                        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K558[m[K[36m[K-[m[K                const response: Experiment = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K559[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${values.currentTeamId}/experiments/${values.experimentId}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K560[m[K[36m[K-[m[K                    update
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K571[m[K[36m[K-[m[K                        const response: ExperimentResults = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K572[m[K[36m[K:[m[K                            [01;31m[K`api/projects/${values.currentTeamId}/experiments/${values.experimentId}/results${refreshParam}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K573[m[K[36m[K-[m[K                        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K593[m[K[36m[K-[m[K                                const secResults = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K:[m[K[32m[K594[m[K[36m[K:[m[K                                    [01;31m[K`api/projects/${values.currentTeamId}/experiments/${values.experimentId}/secondary_results?id=${index}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/experiments/experimentLogic.tsx[m[K[36m[K-[m[K[32m[K595[m[K[36m[K-[m[K                                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/SDKs.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K        <OnboardingStep
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/SDKs.tsx[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K            title={[01;31m[K`Where are you ${usersAction || 'collecting data'} from?`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/SDKs.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K            subtitle={subtitle || 'Pick one or two to start and add more sources later.'}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/SDKs.tsx[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                    {sdks?.map((sdk) => (
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/SDKs.tsx[m[K[36m[K:[m[K[32m[K51[m[K[36m[K:[m[K                        <React.Fragment key={[01;31m[K`sdk-${sdk.key}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/SDKs.tsx[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K                            <LemonButton
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/sdk-install-instructions/next-js.tsx[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K            {[
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/sdk-install-instructions/next-js.tsx[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K                [01;31m[K`NEXT_PUBLIC_POSTHOG_KEY=${currentTeam?.api_token}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/sdk-install-instructions/next-js.tsx[m[K[36m[K:[m[K[32m[K14[m[K[36m[K:[m[K                [01;31m[K`NEXT_PUBLIC_POSTHOG_HOST=${window.location.origin}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/sdk-install-instructions/next-js.tsx[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K            ].join('\n')}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/sdk-install-instructions/ios.tsx[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K        <CodeSnippet language={Language.ObjectiveC}>
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/sdk-install-instructions/ios.tsx[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K            {[01;31m[K`#import <PostHog/PHGPostHog.h>\n#import <PostHog/PHGPostHogConfiguration.h>\n\nPHGPostHogConfiguration *configuration = [PHGPostHogConfiguration configurationWithApiKey:@"${currentTeam?.api_token}" host:@"${window.location.origin}"];\n\nconfiguration.captureApplicationLifecycleEvents = YES; // Record certain application events automatically!\nconfiguration.recordScreenViews = YES; // Record screen views automatically!\n\n[PHGPostHog setupWithConfiguration:configuration];`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/sdk-install-instructions/ios.tsx[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K        </CodeSnippet>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/sdk-install-instructions/ios.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K        <CodeSnippet language={Language.Swift}>
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/sdk-install-instructions/ios.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K            {[01;31m[K`import PostHog\n\nlet configuration = PHGPostHogConfiguration(apiKey: "${currentTeam?.api_token}", host: "${window.location.origin}")\n\nconfiguration.captureApplicationLifecycleEvents = true; // Record certain application events automatically!\nconfiguration.recordScreenViews = true; // Record screen views automatically!\n\nPHGPostHog.setup(with: configuration)\nlet posthog = PHGPostHog.shared()`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/sdk-install-instructions/ios.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K        </CodeSnippet>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/sdk-install-instructions/react.tsx[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K            {[
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/sdk-install-instructions/react.tsx[m[K[36m[K:[m[K[32m[K12[m[K[36m[K:[m[K                [01;31m[K`REACT_APP_PUBLIC_POSTHOG_KEY=${currentTeam?.api_token}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/sdk-install-instructions/react.tsx[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K                [01;31m[K`REACT_APP_PUBLIC_POSTHOG_HOST=${window.location.origin}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/sdk-install-instructions/react.tsx[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K            ].join('\n')}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/sdk-install-instructions/js-web.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K                '',
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/sdk-install-instructions/js-web.tsx[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K                [01;31m[K`posthog.init('${currentTeam?.api_token}', { api_host: '${window.location.origin}' })`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/sdks/sdk-install-instructions/js-web.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K            ].join('\n')}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/OnboardingOtherProductsStep.tsx[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K        <OnboardingStep
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/OnboardingOtherProductsStep.tsx[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[K            title={[01;31m[K`${product?.name} pairs with...`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/OnboardingOtherProductsStep.tsx[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K            subtitle="The magic in PostHog is having everything all in one place. Get started with our other products to unlock your product and data superpowers."
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/OnboardingVerificationStep.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K        <OnboardingStep
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/OnboardingVerificationStep.tsx[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K            title={[01;31m[K`Listening for ${listeningForName}s...`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/OnboardingVerificationStep.tsx[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K            subtitle={[01;31m[K`Once you have integrated the snippet, we will verify the ${listeningForName} was properly received. It can take up to 2 minutes to recieve the ${listeningForName}.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/OnboardingVerificationStep.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K            showSkip={true}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/OnboardingVerificationStep.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K        <OnboardingStep
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/OnboardingVerificationStep.tsx[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K            title={[01;31m[K`${capitalizeFirstLetter(listeningForName)}s successfully sent!`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/OnboardingVerificationStep.tsx[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K            subtitle={[01;31m[K`Your ${listeningForName.toLocaleLowerCase()}s will now be available in PostHog. Use them to unlock your product and data superpowers.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/OnboardingVerificationStep.tsx[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K            stepKey={stepKey}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/onboardingLogic.tsx[m[K[36m[K-[m[K[32m[K213[m[K[36m[K-[m[K            if (stepKey) {
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/onboardingLogic.tsx[m[K[36m[K:[m[K[32m[K214[m[K[36m[K:[m[K                return [[01;31m[K`/onboarding/${values.productKey}`[m[K, { step: stepKey }]
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/onboardingLogic.tsx[m[K[36m[K-[m[K[32m[K215[m[K[36m[K-[m[K            } else {
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/onboardingLogic.tsx[m[K[36m[K:[m[K[32m[K216[m[K[36m[K:[m[K                return [[01;31m[K`/onboarding/${values.productKey}`[m[K]
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/onboardingLogic.tsx[m[K[36m[K-[m[K[32m[K217[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/onboardingLogic.tsx[m[K[36m[K-[m[K[32m[K224[m[K[36m[K-[m[K            if (nextStep) {
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/onboardingLogic.tsx[m[K[36m[K:[m[K[32m[K225[m[K[36m[K:[m[K                return [[01;31m[K`/onboarding/${values.productKey}`[m[K, { step: nextStep.props.stepKey }]
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/onboardingLogic.tsx[m[K[36m[K-[m[K[32m[K226[m[K[36m[K-[m[K            } else {
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/onboardingLogic.tsx[m[K[36m[K:[m[K[32m[K227[m[K[36m[K:[m[K                return [[01;31m[K`/onboarding/${values.productKey}`[m[K]
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/onboardingLogic.tsx[m[K[36m[K-[m[K[32m[K228[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/onboardingLogic.tsx[m[K[36m[K-[m[K[32m[K235[m[K[36m[K-[m[K            if (previousStep) {
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/onboardingLogic.tsx[m[K[36m[K:[m[K[32m[K236[m[K[36m[K:[m[K                return [[01;31m[K`/onboarding/${values.productKey}`[m[K, { step: previousStep.props.stepKey }]
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/onboardingLogic.tsx[m[K[36m[K-[m[K[32m[K237[m[K[36m[K-[m[K            } else {
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/onboardingLogic.tsx[m[K[36m[K:[m[K[32m[K238[m[K[36m[K:[m[K                return [[01;31m[K`/onboarding/${values.productKey}`[m[K]
[35m[K/tmp/posthog/frontend/src/scenes/onboarding/onboardingLogic.tsx[m[K[36m[K-[m[K[32m[K239[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/BatchExportEditScene.tsx[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K        <>
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/BatchExportEditScene.tsx[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[K            <PageHeader title={[01;31m[K`${isNew ? 'New' : 'Edit'} Batch Export`[m[K} />
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/BatchExportEditScene.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/BatchExportScene.tsx[m[K[36m[K-[m[K[32m[K344[m[K[36m[K-[m[K                {batchExportLogsBackground.length
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/BatchExportScene.tsx[m[K[36m[K:[m[K[32m[K345[m[K[36m[K:[m[K                    ? [01;31m[K`Load ${pluralize(batchExportLogsBackground.length, 'newer entry', 'newer entries')}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/BatchExportScene.tsx[m[K[36m[K-[m[K[32m[K346[m[K[36m[K-[m[K                    : 'No new entries'}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/BatchExportScene.tsx[m[K[36m[K-[m[K[32m[K364[m[K[36m[K-[m[K                >
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/BatchExportScene.tsx[m[K[36m[K:[m[K[32m[K365[m[K[36m[K:[m[K                    {isThereMoreToLoad ? [01;31m[K`Load up to ${LOGS_PORTION_LIMIT} older entries`[m[K : 'No older entries'}
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/BatchExportScene.tsx[m[K[36m[K-[m[K[32m[K366[m[K[36m[K-[m[K                </LemonButton>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/batchExportLogic.ts[m[K[36m[K-[m[K[32m[K208[m[K[36m[K-[m[K                runs.forEach((run) => {
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/batchExportLogic.ts[m[K[36m[K:[m[K[32m[K209[m[K[36m[K:[m[K                    const key = [01;31m[K`${run.data_interval_start}-${run.data_interval_end}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/batchExportLogic.ts[m[K[36m[K-[m[K[32m[K210[m[K[36m[K-[m[K                    if (!groupedRuns[key]) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/components.tsx[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K                className={clsx(
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/components.tsx[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K                    [01;31m[K`BatchExportRunIcon h-6 p-2 border-2 flex items-center justify-center rounded-full font-semibold text-xs border-${color} text-${color}-dark select-none`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/components.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                    color === 'primary' && 'BatchExportRunIcon--pulse',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/utils.ts[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K    if (destination.type === 'S3') {
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/utils.ts[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K        return [01;31m[K`s3://${destination.config.bucket_name}/${destination.config.prefix}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/utils.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/utils.ts[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K    if (destination.type === 'Snowflake') {
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/utils.ts[m[K[36m[K:[m[K[32m[K21[m[K[36m[K:[m[K        return [01;31m[K`snowflake:${destination.config.account}:${destination.config.database}:${destination.config.table_name}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/utils.ts[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/utils.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K    if (destination.type === 'Postgres') {
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/utils.ts[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K        return [01;31m[K`postgresql://${destination.config.user}:***@${destination.config.host}:${destination.config.port}/${destination.config.database}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/utils.ts[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/utils.ts[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K    if (destination.type === 'BigQuery') {
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/utils.ts[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K        return [01;31m[K`bigquery:${destination.config.project_id}:${destination.config.dataset_id}:${destination.config.table_id}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/batch_exports/utils.ts[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ResourcePermissionModal.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K        key: role.id,
[35m[K/tmp/posthog/frontend/src/scenes/ResourcePermissionModal.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K        label: [01;31m[K`${role.name}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/ResourcePermissionModal.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K        labelComponent: (
[35m[K/tmp/posthog/frontend/src/scenes/ResourcePermissionModal.tsx[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K            <span>
[35m[K/tmp/posthog/frontend/src/scenes/ResourcePermissionModal.tsx[m[K[36m[K:[m[K[32m[K43[m[K[36m[K:[m[K                <b>{[01;31m[K`${role.name}`[m[K}</b>
[35m[K/tmp/posthog/frontend/src/scenes/ResourcePermissionModal.tsx[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K            </span>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ResourcePermissionModal.tsx[m[K[36m[K-[m[K[32m[K115[m[K[36m[K-[m[K                                        icon={<IconSettings />}
[35m[K/tmp/posthog/frontend/src/scenes/ResourcePermissionModal.tsx[m[K[36m[K:[m[K[32m[K116[m[K[36m[K:[m[K                                        to={[01;31m[K`${urls.organizationSettings()}?tab=role_based_access`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/ResourcePermissionModal.tsx[m[K[36m[K-[m[K[32m[K117[m[K[36m[K-[m[K                                        status="stealth"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ResourcePermissionModal.tsx[m[K[36m[K-[m[K[32m[K248[m[K[36m[K-[m[K                        icon={<IconSettings />}
[35m[K/tmp/posthog/frontend/src/scenes/ResourcePermissionModal.tsx[m[K[36m[K:[m[K[32m[K249[m[K[36m[K:[m[K                        to={[01;31m[K`${urls.organizationSettings()}?tab=role_based_access`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/ResourcePermissionModal.tsx[m[K[36m[K-[m[K[32m[K250[m[K[36m[K-[m[K                        status="stealth"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/CohortField.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K    const cohortFilterLogicKey = useMemo(
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/CohortField.tsx[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K        () => props.cohortFilterLogicKey || [01;31m[K`cohort-filter-${uniqueMemoizedIndex++}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/CohortField.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K        [props.cohortFilterLogicKey]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/CohortField.tsx[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K            sideIcon={undefined}
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/CohortField.tsx[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[K            data-attr={[01;31m[K`cohort-selector-field-${fieldKey}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/CohortField.tsx[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K            dropdown={{
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/CohortField.tsx[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                                            fullWidth
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/CohortField.tsx[m[K[36m[K:[m[K[32m[K78[m[K[36m[K:[m[K                                            data-attr={[01;31m[K`cohort-${groupKey}-${_value}-type`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/CohortField.tsx[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K                                        >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/CohortField.tsx[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K            placeholder={placeholder}
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/CohortField.tsx[m[K[36m[K:[m[K[32m[K133[m[K[36m[K:[m[K            data-attr={[01;31m[K`cohort-taxonomic-field-${fieldKey}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/CohortField.tsx[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K            renderValue={(value) => (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/cohortFieldLogic.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K    path(['scenes', 'cohorts', 'CohortFilters', 'cohortFieldLogic']),
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/cohortFieldLogic.ts[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K    key((props) => [01;31m[K`${props.cohortFilterLogicKey}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/cohortFieldLogic.ts[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K    props({} as CohortFieldLogicProps),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/cohortFieldLogic.ts[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                                    .map((type) => [
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/cohortFieldLogic.ts[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K                                        [01;31m[K`${ActorGroupType.GroupPrefix}_${type.group_type_index}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/cohortFieldLogic.ts[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                                        { label: aggregationLabel(type.group_type_index).plural },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/cohortFieldLogic.ts[m[K[36m[K-[m[K[32m[K135[m[K[36m[K-[m[K                        }
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/cohortFieldLogic.ts[m[K[36m[K:[m[K[32m[K136[m[K[36m[K:[m[K                        return cohortsModel.findMounted()?.values?.cohortsById?.[value]?.name ?? [01;31m[K`Cohort ${value}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/cohortFieldLogic.ts[m[K[36m[K-[m[K[32m[K137[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/cohortFieldLogic.ts[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K                        }
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/cohortFieldLogic.ts[m[K[36m[K:[m[K[32m[K142[m[K[36m[K:[m[K                        return actionsModel.findMounted()?.values?.actionsById?.[value]?.name ?? [01;31m[K`Action ${value}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/CohortFilters/cohortFieldLogic.ts[m[K[36m[K-[m[K[32m[K143[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortEditLogic.ts[m[K[36m[K-[m[K[32m[K254[m[K[36m[K-[m[K                    lemonToast.success('Cohort saved. Please wait up to a few minutes for it to be calculated', {
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortEditLogic.ts[m[K[36m[K:[m[K[32m[K255[m[K[36m[K:[m[K                        toastId: [01;31m[K`cohort-saved-${key}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortEditLogic.ts[m[K[36m[K-[m[K[32m[K256[m[K[36m[K-[m[K                    })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortEditLogic.ts[m[K[36m[K-[m[K[32m[K295[m[K[36m[K-[m[K                            {
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortEditLogic.ts[m[K[36m[K:[m[K[32m[K296[m[K[36m[K:[m[K                                toastId: [01;31m[K`cohort-duplicated-${cohort.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortEditLogic.ts[m[K[36m[K-[m[K[32m[K297[m[K[36m[K-[m[K                                button: {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortEditLogic.ts[m[K[36m[K-[m[K[32m[K339[m[K[36m[K-[m[K                        {
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortEditLogic.ts[m[K[36m[K:[m[K[32m[K340[m[K[36m[K:[m[K                            toastId: [01;31m[K`cohort-calculation-error-${key}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortEditLogic.ts[m[K[36m[K-[m[K[32m[K341[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortUtils.tsx[m[K[36m[K-[m[K[32m[K154[m[K[36m[K-[m[K        const errorMsg = `${negatedCriteria
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortUtils.tsx[m[K[36m[K:[m[K[32m[K155[m[K[36m[K:[m[K            .map((c) => [01;31m[K`'${BEHAVIORAL_TYPE_TO_LABEL[criteriaToBehavioralFilterType(c)].label}'`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortUtils.tsx[m[K[36m[K-[m[K[32m[K156[m[K[36m[K-[m[K            .join(', ')} ${negatedCriteria.length > 1 ? 'are' : 'is a'} negative cohort criteria. ${
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortUtils.tsx[m[K[36m[K-[m[K[32m[K459[m[K[36m[K-[m[K                if (type === FilterType.CohortValues) {
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortUtils.tsx[m[K[36m[K:[m[K[32m[K460[m[K[36m[K:[m[K                    words.push(<pre>{cohortsById?.[value]?.name ?? [01;31m[K`Cohort ${value}`[m[K}</pre>)
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortUtils.tsx[m[K[36m[K-[m[K[32m[K461[m[K[36m[K-[m[K                } else if (type === FilterType.EventsAndActions && typeof value === 'number') {
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortUtils.tsx[m[K[36m[K:[m[K[32m[K462[m[K[36m[K:[m[K                    words.push(<pre>{actionsById?.[value]?.name ?? [01;31m[K`Action ${value}`[m[K}</pre>)
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortUtils.tsx[m[K[36m[K-[m[K[32m[K463[m[K[36m[K-[m[K                } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortEditLogic.test.ts[m[K[36m[K-[m[K[32m[K434[m[K[36m[K-[m[K            Object.entries(ROWS).forEach(([key, row]) => {
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortEditLogic.test.ts[m[K[36m[K:[m[K[32m[K435[m[K[36m[K:[m[K                it([01;31m[K`${key} row missing all required fields`[m[K, async () => {
[35m[K/tmp/posthog/frontend/src/scenes/cohorts/cohortEditLogic.test.ts[m[K[36m[K-[m[K[32m[K436[m[K[36m[K-[m[K                    await initCohortLogic({ id: 1 })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/PathNodeCardMenu.tsx[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/scenes/paths/PathNodeCardMenu.tsx[m[K[36m[K:[m[K[32m[K109[m[K[36m[K:[m[K        <div className={[01;31m[K`text-xs flex items-center justify-between p-2 gap-2 ${border && 'border-t border-dashed'}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/paths/PathNodeCardMenu.tsx[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K            <div className="flex items-center gap-2">
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K    const id = [01;31m[K`'${insight?.short_id || DEFAULT_PATHS_ID}'`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/Paths.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/renderPaths.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K        .style('background', 'var(--item-background)')
[35m[K/tmp/posthog/frontend/src/scenes/paths/renderPaths.ts[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K        .style('width', [01;31m[K`${width}px`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/paths/renderPaths.ts[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[K        .style('height', [01;31m[K`${height}px`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/paths/renderPaths.ts[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/renderPaths.ts[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K        .append('title')
[35m[K/tmp/posthog/frontend/src/scenes/paths/renderPaths.ts[m[K[36m[K:[m[K[32m[K84[m[K[36m[K:[m[K        .text((d: PathNodeData) => [01;31m[K`${stripHTTP(d.name)}\n${d.value.toLocaleString()}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/paths/renderPaths.ts[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/renderPaths.ts[m[K[36m[K-[m[K[32m[K115[m[K[36m[K-[m[K        .attr('d', Sankey.sankeyLinkHorizontal())
[35m[K/tmp/posthog/frontend/src/scenes/paths/renderPaths.ts[m[K[36m[K:[m[K[32m[K116[m[K[36m[K:[m[K        .attr('id', (d: PathNodeData) => [01;31m[K`path-${d.index}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/paths/renderPaths.ts[m[K[36m[K-[m[K[32m[K117[m[K[36m[K-[m[K        .attr('stroke-width', (d: PathNodeData) => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/renderPaths.ts[m[K[36m[K-[m[K[32m[K120[m[K[36m[K-[m[K        .on('mouseover', (_event: MouseEvent, data: PathNodeData) => {
[35m[K/tmp/posthog/frontend/src/scenes/paths/renderPaths.ts[m[K[36m[K:[m[K[32m[K121[m[K[36m[K:[m[K            svg.select([01;31m[K`#path-${data.index}`[m[K).attr('stroke', 'blue')
[35m[K/tmp/posthog/frontend/src/scenes/paths/renderPaths.ts[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K            if (data?.source?.targetLinks.length === 0) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/renderPaths.ts[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K                _node?.targetLinks.forEach((_link: PathTargetLink) => {
[35m[K/tmp/posthog/frontend/src/scenes/paths/renderPaths.ts[m[K[36m[K:[m[K[32m[K130[m[K[36m[K:[m[K                    svg.select([01;31m[K`#path-${_link.index}`[m[K).attr('stroke', 'blue')
[35m[K/tmp/posthog/frontend/src/scenes/paths/renderPaths.ts[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K                    nodesToColor.push(_link.source)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/PathNodeCardButton.tsx[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K            <div className="flex items-center font-semibold">
[35m[K/tmp/posthog/frontend/src/scenes/paths/PathNodeCardButton.tsx[m[K[36m[K:[m[K[32m[K51[m[K[36m[K:[m[K                <span className="text-xxs text-muted mr-1">{[01;31m[K`0${name[0]}`[m[K}</span>
[35m[K/tmp/posthog/frontend/src/scenes/paths/PathNodeCardButton.tsx[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K                <span className="text-xs">{pageUrl(node, true)}</span>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/paths/PathNodeCard.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                              node.y0 + (node.y1 - node.y0) / 2,
[35m[K/tmp/posthog/frontend/src/scenes/paths/PathNodeCard.tsx[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K                        border: [01;31m[K`1px solid ${isSelectedPathStartOrEnd(filter, node) ? 'purple' : 'var(--border)'}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/paths/PathNodeCard.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                    }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/sceneLogic.ts[m[K[36m[K-[m[K[32m[K335[m[K[36m[K-[m[K                } else if (defaultExport) {
[35m[K/tmp/posthog/frontend/src/scenes/sceneLogic.ts[m[K[36m[K:[m[K[32m[K336[m[K[36m[K:[m[K                    console.warn([01;31m[K`Scene ${scene} not yet converted to use SceneExport!`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/sceneLogic.ts[m[K[36m[K-[m[K[32m[K337[m[K[36m[K-[m[K                    loadedScene = {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/sceneLogic.ts[m[K[36m[K-[m[K[32m[K343[m[K[36m[K-[m[K                } else {
[35m[K/tmp/posthog/frontend/src/scenes/sceneLogic.ts[m[K[36m[K:[m[K[32m[K344[m[K[36m[K:[m[K                    console.warn([01;31m[K`Scene ${scene} not yet converted to use SceneExport!`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/sceneLogic.ts[m[K[36m[K-[m[K[32m[K345[m[K[36m[K-[m[K                    loadedScene = {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/early-access-features/earlyAccessFeatureLogic.ts[m[K[36m[K-[m[K[32m[K157[m[K[36m[K-[m[K            } catch (e) {
[35m[K/tmp/posthog/frontend/src/scenes/early-access-features/earlyAccessFeatureLogic.ts[m[K[36m[K:[m[K[32m[K158[m[K[36m[K:[m[K                lemonToast.error([01;31m[K`Error deleting Early Access Feature: ${e}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/early-access-features/earlyAccessFeatureLogic.ts[m[K[36m[K-[m[K[32m[K159[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/toolbar-launch/ToolbarLaunch.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K            <div className="footer-caption text-muted mt-4 text-center">
[35m[K/tmp/posthog/frontend/src/scenes/toolbar-launch/ToolbarLaunch.tsx[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K                Make sure you're using the <Link to={[01;31m[K`${urls.projectSettings()}#snippet`[m[K}>HTML snippet</Link> or the
[35m[K/tmp/posthog/frontend/src/scenes/toolbar-launch/ToolbarLaunch.tsx[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K                latest <code>posthog-js</code> version.
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/groups/groupLogic.ts[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K                {
[35m[K/tmp/posthog/frontend/src/scenes/groups/groupLogic.ts[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K                    key: [01;31m[K`$group_${groupTypeIndex}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/groups/groupLogic.ts[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K                    value: groupKey,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/groups/groupLogic.ts[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K    props({} as GroupLogicProps),
[35m[K/tmp/posthog/frontend/src/scenes/groups/groupLogic.ts[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K    key((props) => [01;31m[K`${props.groupTypeIndex}-${props.groupKey}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/groups/groupLogic.ts[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K    path((key) => ['scenes', 'groups', 'groupLogic', key]),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/groups/groupLogic.ts[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K                    const params = { group_type_index: props.groupTypeIndex, group_key: props.groupKey }
[35m[K/tmp/posthog/frontend/src/scenes/groups/groupLogic.ts[m[K[36m[K:[m[K[32m[K68[m[K[36m[K:[m[K                    const url = [01;31m[K`api/projects/${values.currentTeamId}/groups/find?${toParams(params)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/groups/groupLogic.ts[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K                    return await api.get(url)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/groups/relatedGroupsLogic.ts[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K    ),
[35m[K/tmp/posthog/frontend/src/scenes/groups/relatedGroupsLogic.ts[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[K    key((props) => [01;31m[K`${props.groupTypeIndex ?? 'person'}-${props.id}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/groups/relatedGroupsLogic.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K    path(['scenes', 'groups', 'relatedGroupsLogic']),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/groups/Groups.tsx[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K                type="search"
[35m[K/tmp/posthog/frontend/src/scenes/groups/Groups.tsx[m[K[36m[K:[m[K[32m[K82[m[K[36m[K:[m[K                placeholder={[01;31m[K`Search for ${plural}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/groups/Groups.tsx[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K                onChange={setSearch}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/groups/Groups.tsx[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K                        <CodeSnippet language={Language.JavaScript} wrap>
[35m[K/tmp/posthog/frontend/src/scenes/groups/Groups.tsx[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K                            {[01;31m[K`posthog.group('${singular}', 'id:5', {\n`[m[K +
[35m[K/tmp/posthog/frontend/src/scenes/groups/Groups.tsx[m[K[36m[K:[m[K[32m[K127[m[K[36m[K:[m[K                                [01;31m[K`    name: 'Awesome ${singular}',\n`[m[K +
[35m[K/tmp/posthog/frontend/src/scenes/groups/Groups.tsx[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K                                '    value: 11\n' +
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/groups/Group.tsx[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K                        ),
[35m[K/tmp/posthog/frontend/src/scenes/groups/Group.tsx[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K                        tooltip: [01;31m[K`People and groups that have shared events with this ${groupTypeName} in the last 90 days.`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/groups/Group.tsx[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K                        content: <RelatedGroups id={groupKey} groupTypeIndex={groupTypeIndex} />,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feedback/inAppFeedbackLogic.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K        kind: NodeKind.EventsQuery,
[35m[K/tmp/posthog/frontend/src/scenes/feedback/inAppFeedbackLogic.ts[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K        select: ['*', [01;31m[K`properties.${FEEDBACK_PROPERTY}`[m[K, 'timestamp', 'person'],
[35m[K/tmp/posthog/frontend/src/scenes/feedback/inAppFeedbackLogic.ts[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K        orderBy: ['timestamp DESC'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feedback/userInterviewSchedulerLogic.ts[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                    : !key.startsWith(FLAG_PREFIX)
[35m[K/tmp/posthog/frontend/src/scenes/feedback/userInterviewSchedulerLogic.ts[m[K[36m[K:[m[K[32m[K51[m[K[36m[K:[m[K                    ? [01;31m[K`Key must start with "${FLAG_PREFIX}"`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feedback/userInterviewSchedulerLogic.ts[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K                    : key.length < FLAG_PREFIX.length + 1
[35m[K/tmp/posthog/frontend/src/scenes/feedback/userInterviewSchedulerLogic.ts[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K                    ? [01;31m[K`Key must be more than just ${FLAG_PREFIX}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feedback/userInterviewSchedulerLogic.ts[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K                    : undefined,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feedback/userInterviewSchedulerLogic.ts[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K                            {
[35m[K/tmp/posthog/frontend/src/scenes/feedback/userInterviewSchedulerLogic.ts[m[K[36m[K:[m[K[32m[K70[m[K[36m[K:[m[K                                key: [01;31m[K`Seen User Interview Invitation - ${formValues.key}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feedback/userInterviewSchedulerLogic.ts[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K                                operator: PropertyOperator.IsNotSet,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/preflightLogic.tsx[m[K[36m[K-[m[K[32m[K180[m[K[36m[K-[m[K                if (statusCounts.validated) {
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/preflightLogic.tsx[m[K[36m[K:[m[K[32m[K181[m[K[36m[K:[m[K                    summaryString += [01;31m[K`${statusCounts.validated} successful, `[m[K
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/preflightLogic.tsx[m[K[36m[K-[m[K[32m[K182[m[K[36m[K-[m[K                }
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/preflightLogic.tsx[m[K[36m[K-[m[K[32m[K183[m[K[36m[K-[m[K                if (statusCounts.warning) {
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/preflightLogic.tsx[m[K[36m[K:[m[K[32m[K184[m[K[36m[K:[m[K                    summaryString += [01;31m[K`${statusCounts.warning} warning${statusCounts.warning > 1 ? 's' : ''}, `[m[K
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/preflightLogic.tsx[m[K[36m[K-[m[K[32m[K185[m[K[36m[K-[m[K                    summaryStatus = 'warning'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/preflightLogic.tsx[m[K[36m[K-[m[K[32m[K187[m[K[36m[K-[m[K                if (statusCounts.error) {
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/preflightLogic.tsx[m[K[36m[K:[m[K[32m[K188[m[K[36m[K:[m[K                    summaryString += [01;31m[K`${statusCounts.error} error${statusCounts.error > 1 ? 's' : ''}, `[m[K
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/preflightLogic.tsx[m[K[36m[K-[m[K[32m[K189[m[K[36m[K-[m[K                    summaryStatus = 'error'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/preflightLogic.tsx[m[K[36m[K-[m[K[32m[K191[m[K[36m[K-[m[K                if (statusCounts.optional) {
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/preflightLogic.tsx[m[K[36m[K:[m[K[32m[K192[m[K[36m[K:[m[K                    summaryString += [01;31m[K`${statusCounts.optional} optional, `[m[K
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/preflightLogic.tsx[m[K[36m[K-[m[K[32m[K193[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/PreflightCheck.tsx[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/PreflightCheck.tsx[m[K[36m[K:[m[K[32m[K43[m[K[36m[K:[m[K        <div className={clsx('PreflightItem', preflightLoading ? 'Preflight--loading' : [01;31m[K`Preflight--${status}`[m[K)}>
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/PreflightCheck.tsx[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K            <div className="PreflightItem__icon-container">
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/PreflightCheck.tsx[m[K[36m[K-[m[K[32m[K153[m[K[36m[K-[m[K                                            ? 'Preflight--loading'
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/PreflightCheck.tsx[m[K[36m[K:[m[K[32m[K154[m[K[36m[K:[m[K                                            : [01;31m[K`Preflight--${checksSummary.summaryStatus}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/PreflightCheck/PreflightCheck.tsx[m[K[36m[K-[m[K[32m[K155[m[K[36m[K-[m[K                                    )}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelPropertyCorrelationLogic.ts[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                        const results: Omit<FunnelCorrelation, 'result_type'>[] = (
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelPropertyCorrelationLogic.ts[m[K[36m[K:[m[K[32m[K79[m[K[36m[K:[m[K                            await api.create([01;31m[K`api/projects/${values.currentTeamId}/insights/funnel/correlation`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelPropertyCorrelationLogic.ts[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K                                ...values.apiParams,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.test.ts[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K    arrayToExpectedValues.forEach(([array, expected]) => {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.test.ts[m[K[36m[K:[m[K[32m[K43[m[K[36m[K:[m[K        it([01;31m[K`expect mean and deviation for array=${array} to equal ${expected}`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.test.ts[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K            const [mean, stdDev] = getMeanAndStandardDeviation(array)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.test.ts[m[K[36m[K-[m[K[32m[K166[m[K[36m[K-[m[K    windows.forEach(({ expected, ...w }) => {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.test.ts[m[K[36m[K:[m[K[32m[K167[m[K[36m[K:[m[K        it([01;31m[K`get start date of conversion window ${w.funnel_window_interval} ${w.funnel_window_interval_unit}s`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.test.ts[m[K[36m[K-[m[K[32m[K168[m[K[36m[K-[m[K            expect(getIncompleteConversionWindowStartDate(w, frozenStartDate).toISOString()).toEqual(expected)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarChart/FunnelBarChart.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K        const showTime = visibleStepsWithConversionMetrics.some((step) => step.average_conversion_time != null)
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarChart/FunnelBarChart.tsx[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K        const barRowHeight = [01;31m[K`calc(${height}px - 3rem - (1.75rem * ${showTime ? 3 : 2}) - 1px)`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarChart/FunnelBarChart.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarChart/FunnelBarChart.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                    {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarChart/FunnelBarChart.tsx[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K                        '--bar-width': [01;31m[K`${barWidthPx}px`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarChart/FunnelBarChart.tsx[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K                        '--bar-row-height': barRowHeight,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarChart/StepBars.tsx[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K                        <div
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarChart/StepBars.tsx[m[K[36m[K:[m[K[32m[K12[m[K[36m[K:[m[K                            key={[01;31m[K`gridline-${stepIndex}-${i}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarChart/StepBars.tsx[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[K                            className="StepBars__gridline StepBars__gridline--horizontal"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarChart/StepBars.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K                <StepBar
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarChart/StepBars.tsx[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K                    key={[01;31m[K`bar-${stepIndex}-${series.order}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarChart/StepBars.tsx[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K                    step={step}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/useFunnelTooltip.tsx[m[K[36m[K-[m[K[32m[K144[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/frontend/src/scenes/funnels/useFunnelTooltip.tsx[m[K[36m[K:[m[K[32m[K145[m[K[36m[K:[m[K            tooltipEl.style.left = [01;31m[K`${window.pageXOffset + tooltipOrigin[0] + xOffset}px`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/useFunnelTooltip.tsx[m[K[36m[K:[m[K[32m[K146[m[K[36m[K:[m[K            tooltipEl.style.top = [01;31m[K`${window.pageYOffset + tooltipOrigin[1]}px`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/useFunnelTooltip.tsx[m[K[36m[K-[m[K[32m[K147[m[K[36m[K-[m[K        } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/Bar.tsx[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K                ref={barRef}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/Bar.tsx[m[K[36m[K:[m[K[32m[K96[m[K[36m[K:[m[K                className={[01;31m[K`funnel-bar ${getSeriesPositionName(breakdownIndex, breakdownMaxIndex)}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/Bar.tsx[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K                // eslint-disable-next-line react/forbid-dom-props
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/Bar.tsx[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K                style={{
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/Bar.tsx[m[K[36m[K:[m[K[32m[K99[m[K[36m[K:[m[K                    flex: [01;31m[K`${conversionPercentage} 1 0`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/Bar.tsx[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K                    cursor: cursorType,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/Bar.tsx[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K                        ref={labelRef}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/Bar.tsx[m[K[36m[K:[m[K[32m[K112[m[K[36m[K:[m[K                        className={[01;31m[K`funnel-bar-percentage ${labelPosition}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/Bar.tsx[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[K                        title={
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/Bar.tsx[m[K[36m[K:[m[K[32m[K114[m[K[36m[K:[m[K                            name ? [01;31m[K`${capitalizeFirstLetter(aggregationTargetLabel.plural)} who did ${name}`[m[K : undefined
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/Bar.tsx[m[K[36m[K-[m[K[32m[K115[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K                        <div className="funnel-series-container">
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K70[m[K[36m[K:[m[K                            <div className={[01;31m[K`funnel-series-linebox ${showLineBefore ? 'before' : ''}`[m[K} />
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K                            {funnelsFilter?.funnel_order_type === StepOrderValue.UNORDERED ? (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                            )}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K78[m[K[36m[K:[m[K                            <div className={[01;31m[K`funnel-series-linebox ${showLineAfter ? 'after' : ''}`[m[K} />
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K                        </div>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K                                                <Bar
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K109[m[K[36m[K:[m[K                                                    key={[01;31m[K`${breakdown.action_id}-${step.breakdown_value}-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K                                                    isBreakdown={true}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K203[m[K[36m[K-[m[K                                            style={{
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K204[m[K[36m[K:[m[K                                                flex: [01;31m[K`${1 - breakdownSum / basisStep.count} 1 0`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K205[m[K[36m[K-[m[K                                                cursor: `${!inCardView ? 'pointer' : ''}`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K230[m[K[36m[K-[m[K                                                {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K231[m[K[36m[K:[m[K                                                    title: [01;31m[K`Conversion rate (from step ${previousStep.order + 1})`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K232[m[K[36m[K-[m[K                                                    value: percentage(step.conversionRates.fromPrevious, 2, true),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K244[m[K[36m[K-[m[K                                                {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K245[m[K[36m[K:[m[K                                                    title: [01;31m[K`Drop-off rate (from step ${previousStep.order + 1})`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K246[m[K[36m[K-[m[K                                                    value: percentage(1 - step.conversionRates.fromPrevious, 2, true),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K262[m[K[36m[K-[m[K                                            style={{
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K263[m[K[36m[K:[m[K                                                flex: [01;31m[K`${1 - step.conversionRates.fromBasisStep} 1 0`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K264[m[K[36m[K-[m[K                                                cursor: `${!inCardView ? 'pointer' : ''}`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K291[m[K[36m[K-[m[K                                    <span className="text-muted-alt grow">
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K:[m[K[32m[K292[m[K[36m[K:[m[K                                        {[01;31m[K`(${percentage(step.conversionRates.fromPrevious, 2, true)}) completed step`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelBarGraph/FunnelBarGraph.tsx[m[K[36m[K-[m[K[32m[K293[m[K[36m[K-[m[K                                    </span>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K204[m[K[36m[K-[m[K        return {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K:[m[K[32m[K205[m[K[36m[K:[m[K            rowKey: [01;31m[K`${breakdownStep.breakdown.join('_')}_${index}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K206[m[K[36m[K-[m[K            breakdown: breakdownStep.breakdown,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K212[m[K[36m[K-[m[K        return {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K:[m[K[32m[K213[m[K[36m[K:[m[K            rowKey: [01;31m[K`${breakdownStep.breakdown}_${index}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K214[m[K[36m[K-[m[K            breakdown: [breakdownStep.breakdown],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K500[m[K[36m[K-[m[K *
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K:[m[K[32m[K501[m[K[36m[K:[m[K * Old: [01;31m[K`${step.type}/${step.action_id}/${step.order}/${breakdownValues.join('_')}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelUtils.ts[m[K[36m[K-[m[K[32m[K502[m[K[36m[K-[m[K * New: `breakdownValues.join('::')`
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelLineGraph.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                    renderCount: (count) => {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelLineGraph.tsx[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K                        return [01;31m[K`${count}%`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelLineGraph.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelCorrelationLogic.ts[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K                        const results: Omit<FunnelCorrelation, 'result_type'>[] = (
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelCorrelationLogic.ts[m[K[36m[K:[m[K[32m[K49[m[K[36m[K:[m[K                            await api.create([01;31m[K`api/projects/${values.currentTeamId}/insights/funnel/correlation`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelCorrelationLogic.ts[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                                ...values.apiParams,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelCorrelationLogic.ts[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                    const results: Omit<FunnelCorrelation, 'result_type'>[] = (
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelCorrelationLogic.ts[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                        await api.create([01;31m[K`api/projects/${values.currentTeamId}/insights/funnel/correlation`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelCorrelationLogic.ts[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                            ...values.apiParams,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelCorrelationUsageLogic.ts[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K            () => [(_, props) => props],
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelCorrelationUsageLogic.ts[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K            (props): string => [01;31m[K`correlation-${keyForInsightLogicProps('insight_funnel')(props)}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelCorrelationUsageLogic.ts[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K        ],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelCorrelationUsageLogic.ts[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K        // property correlation
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelCorrelationUsageLogic.ts[m[K[36m[K:[m[K[32m[K108[m[K[36m[K:[m[K        [visibilitySensorLogic({ id: [01;31m[K`${values.correlationPropKey}-properties`[m[K }).actionTypes.setVisible]: async (
[35m[K/tmp/posthog/frontend/src/scenes/funnels/funnelCorrelationUsageLogic.ts[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K            { visible }: { visible: boolean },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelCanvasLabel.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K                          <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelCanvasLabel.tsx[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K                              title={[01;31m[K`Overall conversion rate for all ${aggregationTargetLabel.plural} on the entire funnel.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelCanvasLabel.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K                          >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelCanvasLabel.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                          <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelCanvasLabel.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K                              title={[01;31m[K`Average (arithmetic mean) of the total time each ${aggregationTargetLabel.singular} spent in the entire funnel.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/funnels/FunnelCanvasLabel.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K                          >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.tsx[m[K[36m[K:[m[K[32m[K77[m[K[36m[K:[m[K                    const patchedTeam = (await api.update([01;31m[K`api/projects/${values.currentTeam.id}`[m[K, payload)) as TeamType
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                    breakpoint()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.tsx[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K                    } else {
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.tsx[m[K[36m[K:[m[K[32m[K98[m[K[36m[K:[m[K                        message = [01;31m[K`${parseUpdatedAttributeName(updatedAttribute)} updated successfully!`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.tsx[m[K[36m[K-[m[K[32m[K99[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.tsx[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K                    await api.create('api/projects/', { name, is_demo }),
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.tsx[m[K[36m[K:[m[K[32m[K111[m[K[36m[K:[m[K                resetToken: async () => await api.update([01;31m[K`api/projects/${values.currentTeamId}/reset_token`[m[K, {}),
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.tsx[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K            },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.tsx[m[K[36m[K-[m[K[32m[K213[m[K[36m[K-[m[K            try {
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.tsx[m[K[36m[K:[m[K[32m[K214[m[K[36m[K:[m[K                await api.delete([01;31m[K`api/projects/${team.id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/teamLogic.tsx[m[K[36m[K-[m[K[32m[K215[m[K[36m[K-[m[K                location.reload()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/EmptyDashboardComponent.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K                        {/* eslint-disable-next-line react/forbid-dom-props */}
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/EmptyDashboardComponent.tsx[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K                        <div style={{ height: [01;31m[K`${height}%`[m[K }}>
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/EmptyDashboardComponent.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K                            <LemonSkeleton active={active} className="h-full w-full" />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/EmptyDashboardComponent.tsx[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K                            style={{
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/EmptyDashboardComponent.tsx[m[K[36m[K:[m[K[32m[K57[m[K[36m[K:[m[K                                height: [01;31m[K`${height}%`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/EmptyDashboardComponent.tsx[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K                                width: '12.5%',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/newDashboardLogic.ts[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K                    const result: DashboardType = await api.create(
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/newDashboardLogic.ts[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/newDashboardLogic.ts[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K                        {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/newDashboardLogic.ts[m[K[36m[K-[m[K[32m[K143[m[K[36m[K-[m[K                    if (!isBreakpoint(e)) {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/newDashboardLogic.ts[m[K[36m[K:[m[K[32m[K144[m[K[36m[K:[m[K                        const message = e.code && e.detail ? [01;31m[K`${e.code}: ${e.detail}`[m[K : e
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/newDashboardLogic.ts[m[K[36m[K:[m[K[32m[K145[m[K[36m[K:[m[K                        lemonToast.error([01;31m[K`Could not create dashboard: ${message}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/newDashboardLogic.ts[m[K[36m[K-[m[K[32m[K146[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/newDashboardLogic.ts[m[K[36m[K-[m[K[32m[K176[m[K[36m[K-[m[K                const result: DashboardType = await api.create(
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/newDashboardLogic.ts[m[K[36m[K:[m[K[32m[K177[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/create_from_template_json`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/newDashboardLogic.ts[m[K[36m[K-[m[K[32m[K178[m[K[36m[K-[m[K                    { template: dashboardJSON }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/newDashboardLogic.ts[m[K[36m[K-[m[K[32m[K186[m[K[36m[K-[m[K                if (!isBreakpoint(e)) {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/newDashboardLogic.ts[m[K[36m[K:[m[K[32m[K187[m[K[36m[K:[m[K                    const message = e.code && e.detail ? [01;31m[K`${e.code}: ${e.detail}`[m[K : e
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/newDashboardLogic.ts[m[K[36m[K:[m[K[32m[K188[m[K[36m[K:[m[K                    lemonToast.error([01;31m[K`Could not create dashboard: ${message}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/newDashboardLogic.ts[m[K[36m[K-[m[K[32m[K189[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.test.ts[m[K[36m[K-[m[K[32m[K242[m[K[36m[K-[m[K                        if (typeof updates !== 'object') {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.test.ts[m[K[36m[K:[m[K[32m[K243[m[K[36m[K:[m[K                            return [500, [01;31m[K`this update should receive an object body not ${JSON.stringify(updates)}`[m[K]
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.test.ts[m[K[36m[K-[m[K[32m[K244[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.test.ts[m[K[36m[K-[m[K[32m[K289[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.test.ts[m[K[36m[K:[m[K[32m[K290[m[K[36m[K:[m[K            expect(api.update).toHaveBeenCalledWith([01;31m[K`api/projects/${MOCK_TEAM_ID}/dashboards/5`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.test.ts[m[K[36m[K-[m[K[32m[K291[m[K[36m[K-[m[K                tiles: [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.test.ts[m[K[36m[K-[m[K[32m[K314[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.test.ts[m[K[36m[K:[m[K[32m[K315[m[K[36m[K:[m[K            expect(api.update).toHaveBeenCalledWith([01;31m[K`api/projects/${MOCK_TEAM_ID}/dashboards/5`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.test.ts[m[K[36m[K-[m[K[32m[K316[m[K[36m[K-[m[K                tiles: [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.test.ts[m[K[36m[K-[m[K[32m[K385[m[K[36m[K-[m[K            expect(api.update).toHaveBeenCalledWith(
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.test.ts[m[K[36m[K:[m[K[32m[K386[m[K[36m[K:[m[K                [01;31m[K`api/projects/${MOCK_TEAM_ID}/dashboards/${9}/move_tile`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.test.ts[m[K[36m[K-[m[K[32m[K387[m[K[36m[K-[m[K                expect.objectContaining({ tile: sourceTile, toDashboard: 8 })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K-[m[K[32m[K229[m[K[36m[K-[m[K                    try {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K:[m[K[32m[K230[m[K[36m[K:[m[K                        return await api.update([01;31m[K`api/projects/${values.currentTeamId}/dashboards/${props.id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K-[m[K[32m[K231[m[K[36m[K-[m[K                            filters: values.filters,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K-[m[K[32m[K243[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K:[m[K[32m[K244[m[K[36m[K:[m[K                    await api.update([01;31m[K`api/projects/${values.currentTeamId}/dashboards/${props.id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K-[m[K[32m[K245[m[K[36m[K-[m[K                        tiles: [{ id: tileId, color }],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K-[m[K[32m[K254[m[K[36m[K-[m[K                    try {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K:[m[K[32m[K255[m[K[36m[K:[m[K                        await api.update([01;31m[K`api/projects/${values.currentTeamId}/dashboards/${props.id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K-[m[K[32m[K256[m[K[36m[K-[m[K                            tiles: [{ id: tile.id, deleted: true }],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K-[m[K[32m[K278[m[K[36m[K-[m[K                        }
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K:[m[K[32m[K279[m[K[36m[K:[m[K                        return await api.update([01;31m[K`api/projects/${values.currentTeamId}/dashboards/${props.id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K-[m[K[32m[K280[m[K[36m[K-[m[K                            tiles: [newTile],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K-[m[K[32m[K295[m[K[36m[K-[m[K                        return await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K:[m[K[32m[K296[m[K[36m[K:[m[K                            [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/dashboards/${props.id}/move_tile`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K-[m[K[32m[K297[m[K[36m[K-[m[K                            {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K-[m[K[32m[K863[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K:[m[K[32m[K864[m[K[36m[K:[m[K            return await api.update([01;31m[K`api/projects/${values.currentTeamId}/dashboards/${props.id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K-[m[K[32m[K865[m[K[36m[K-[m[K                tiles: layoutsToUpdate,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K-[m[K[32m[K940[m[K[36m[K-[m[K                // :TODO: Support query cancellation and use this queryId in the actual query.
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K:[m[K[32m[K941[m[K[36m[K:[m[K                const queryId = [01;31m[K`${dashboardQueryId}::${uuid()}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K-[m[K[32m[K942[m[K[36m[K-[m[K                const queryStartTime = performance.now()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K-[m[K[32m[K1167[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K:[m[K[32m[K1168[m[K[36m[K:[m[K            await api.create([01;31m[K`api/projects/${currentTeamId}/insights/cancel`[m[K, { client_query_id: dashboardQueryId })
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.tsx[m[K[36m[K-[m[K[32m[K1169[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/DashboardReloadAction.tsx[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K                    blockRefresh
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/DashboardReloadAction.tsx[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K                        ? [01;31m[K`Dashboards can only be refreshed every ${DASHBOARD_MIN_REFRESH_INTERVAL_MINUTES} minutes.`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/DashboardReloadAction.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                        : ''
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.queryCancellation.test.ts[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K                        if (typeof updates !== 'object') {
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.queryCancellation.test.ts[m[K[36m[K:[m[K[32m[K86[m[K[36m[K:[m[K                            return [500, [01;31m[K`this update should receive an object body not ${JSON.stringify(updates)}`[m[K]
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.queryCancellation.test.ts[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.queryCancellation.test.ts[m[K[36m[K-[m[K[32m[K160[m[K[36m[K-[m[K            // the one before that has been
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.queryCancellation.test.ts[m[K[36m[K:[m[K[32m[K161[m[K[36m[K:[m[K            // the query IDs are made of [01;31m[K`${dashboard query ID}::{insight query ID}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.queryCancellation.test.ts[m[K[36m[K-[m[K[32m[K162[m[K[36m[K-[m[K            // only the dashboard query ID is sent to the API
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.queryCancellation.test.ts[m[K[36m[K-[m[K[32m[K165[m[K[36m[K-[m[K                [
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.queryCancellation.test.ts[m[K[36m[K:[m[K[32m[K166[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${MOCK_TEAM_ID}/insights/cancel`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/dashboardLogic.queryCancellation.test.ts[m[K[36m[K-[m[K[32m[K167[m[K[36m[K-[m[K                    {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/DashboardHeader.tsx[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K                localData: JSON.stringify(asDashboardTemplate),
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/DashboardHeader.tsx[m[K[36m[K:[m[K[32m[K82[m[K[36m[K:[m[K                filename: [01;31m[K`dashboard-${slugify(dashboard?.name || 'nameless dashboard')}.json`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/dashboard/DashboardHeader.tsx[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K                mediaType: ExporterFormat.JSON,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/AsyncMigrations.tsx[m[K[36m[K-[m[K[32m[K262[m[K[36m[K-[m[K            key: AsyncMigrationsTab.Management,
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/AsyncMigrations.tsx[m[K[36m[K:[m[K[32m[K263[m[K[36m[K:[m[K            label: [01;31m[K`Management (${actionableMigrations.length})`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/AsyncMigrations.tsx[m[K[36m[K-[m[K[32m[K264[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/AsyncMigrations.tsx[m[K[36m[K-[m[K[32m[K273[m[K[36m[K-[m[K            key: AsyncMigrationsTab.FutureMigrations,
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/AsyncMigrations.tsx[m[K[36m[K:[m[K[32m[K274[m[K[36m[K:[m[K            label: [01;31m[K`Future Migrations (${futureMigrations.length})`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/AsyncMigrations.tsx[m[K[36m[K-[m[K[32m[K275[m[K[36m[K-[m[K        })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K208[m[K[36m[K-[m[K        updateMigrationStatus: async ({ migration, endpoint, message }) => {
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K:[m[K[32m[K209[m[K[36m[K:[m[K            const res = await api.create([01;31m[K`/api/async_migrations/${migration.id}/${endpoint}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K210[m[K[36m[K-[m[K                parameters: migration.parameters,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K221[m[K[36m[K-[m[K            try {
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K:[m[K[32m[K222[m[K[36m[K:[m[K                await api.update([01;31m[K`/api/instance_settings/${settingKey}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K223[m[K[36m[K-[m[K                    value: newValue,
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K224[m[K[36m[K-[m[K                })
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K:[m[K[32m[K225[m[K[36m[K:[m[K                lemonToast.success([01;31m[K`Instance setting ${settingKey} updated`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K226[m[K[36m[K-[m[K                actions.loadAsyncMigrationSettings()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K234[m[K[36m[K-[m[K            try {
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K:[m[K[32m[K235[m[K[36m[K:[m[K                const errorsForMigration = await api.get([01;31m[K`api/async_migrations/${migrationId}/errors`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/instance/AsyncMigrations/asyncMigrationsLogic.ts[m[K[36m[K-[m[K[32m[K236[m[K[36m[K-[m[K                actions.loadAsyncMigrationErrorsSuccess(migrationId, errorsForMigration)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/systemStatusLogic.ts[m[K[36m[K-[m[K[32m[K176[m[K[36m[K-[m[K                try {
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/systemStatusLogic.ts[m[K[36m[K:[m[K[32m[K177[m[K[36m[K:[m[K                    await api.update([01;31m[K`api/instance_settings/${key}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/systemStatusLogic.ts[m[K[36m[K-[m[K[32m[K178[m[K[36m[K-[m[K                        value,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/staffUsersLogic.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K                            async (userUuid) =>
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/staffUsersLogic.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K                                (await api.update([01;31m[K`api/users/${userUuid}`[m[K, { is_staff: true })) as UserType
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/staffUsersLogic.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K                        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/staffUsersLogic.ts[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K                deleteStaffUser: async ({ userUuid }) => {
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/staffUsersLogic.ts[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K                    await api.update([01;31m[K`api/users/${userUuid}`[m[K, { is_staff: false })
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/staffUsersLogic.ts[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                    if (values.user?.uuid === userUuid) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/StaffUsersTab.tsx[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K                                        ) : (
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/StaffUsersTab.tsx[m[K[36m[K:[m[K[32m[K85[m[K[36m[K:[m[K                                            [01;31m[K`Are you sure you want to remove ${user.first_name} as a Staff User?`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/StaffUsersTab.tsx[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                                        )}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/InstanceConfigSaveModal.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K        <LemonModal
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/InstanceConfigSaveModal.tsx[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K            title={[01;31m[K`Confirm ${changeNoun} to instance configuration`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/instance/SystemStatus/InstanceConfigSaveModal.tsx[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K            isOpen={isOpen}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/instance/DeadLetterQueue/deadLetterQueueLogic.ts[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K            if (offset) {
[35m[K/tmp/posthog/frontend/src/scenes/instance/DeadLetterQueue/deadLetterQueueLogic.ts[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K                const res = await api.get([01;31m[K`api/dead_letter_queue/${key}?offset=${offset}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/instance/DeadLetterQueue/deadLetterQueueLogic.ts[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K                actions.addRowsToMetric(key, res.subrows.rows)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K                installPlugin: async ({ pluginUrl, pluginType }) => {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K113[m[K[36m[K:[m[K                    const url = pluginType === 'local' ? [01;31m[K`file:${pluginUrl}`[m[K : pluginUrl
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K114[m[K[36m[K-[m[K                    const response = await api.create(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K118[m[K[36m[K-[m[K                    if (pluginType === 'source') {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K119[m[K[36m[K:[m[K                        await api.update([01;31m[K`api/organizations/@current/plugins/${response.id}/update_source`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K120[m[K[36m[K-[m[K                            'plugin.json': createDefaultPluginSource(url)['plugin.json'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K                uninstallPlugin: async ({ id }) => {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K130[m[K[36m[K:[m[K                    await api.delete([01;31m[K`api/organizations/@current/plugins/${id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K                    capturePluginEvent(`plugin uninstalled`, values.plugins[id])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K135[m[K[36m[K-[m[K                updatePlugin: async ({ id }) => {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K136[m[K[36m[K:[m[K                    const response = await api.create([01;31m[K`api/organizations/@current/plugins/${id}/upgrade`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K137[m[K[36m[K-[m[K                    capturePluginEvent(`plugin updated`, response)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K152[m[K[36m[K-[m[K                patchPlugin: async ({ id, pluginChanges }) => {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K153[m[K[36m[K:[m[K                    const response = await api.update([01;31m[K`api/organizations/@current/plugins/${id}`[m[K, pluginChanges)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K154[m[K[36m[K-[m[K                    return { ...values.plugins, [id]: response }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K185[m[K[36m[K-[m[K                    if (editingPlugin.pluginConfig.id) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K186[m[K[36m[K:[m[K                        response = await api.update([01;31m[K`api/plugin_config/${editingPlugin.pluginConfig.id}`[m[K, formData)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K187[m[K[36m[K-[m[K                    } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K192[m[K[36m[K-[m[K                    if (editingPlugin.pluginConfig.enabled !== response.enabled) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K193[m[K[36m[K:[m[K                        capturePluginEvent([01;31m[K`plugin ${response.enabled ? 'enabled' : 'disabled'}`[m[K, editingPlugin)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K194[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K206[m[K[36m[K-[m[K                        if (plugin) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K207[m[K[36m[K:[m[K                            capturePluginEvent([01;31m[K`plugin ${enabled ? 'enabled' : 'disabled'}`[m[K, plugin)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K208[m[K[36m[K-[m[K                        }
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K209[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K210[m[K[36m[K:[m[K                    const response = await api.update([01;31m[K`api/plugin_config/${id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K211[m[K[36m[K-[m[K                        enabled,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K665[m[K[36m[K-[m[K                try {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K666[m[K[36m[K:[m[K                    const updates = await api.get([01;31m[K`api/organizations/@current/plugins/${plugin.id}/check_for_updates`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K667[m[K[36m[K-[m[K                    actions.setUpdateStatus(plugin.id, updates.plugin.tag, updates.plugin.latest_tag)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K699[m[K[36m[K-[m[K                    const { value: posthogApiKey }: PersonalAPIKeyType = await api.create('api/personal_api_keys/', {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K:[m[K[32m[K700[m[K[36m[K:[m[K                        label: [01;31m[K`Plugin: ${editingPlugin.name}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/plugins/pluginsLogic.ts[m[K[36m[K-[m[K[32m[K701[m[K[36m[K-[m[K                    })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/LogsDrawer.tsx[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K            width={'min(90vw, 80rem)'}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/LogsDrawer.tsx[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[K            title={[01;31m[K`Viewing App Logs: ${lastShownLogsPlugin?.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/LogsDrawer.tsx[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K            placement="left"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginImage.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                ...state,
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginImage.tsx[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K                image: [01;31m[K`https://raw.githubusercontent.com/${user}/${repo}/${path || 'main'}/logo.png`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginImage.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K            })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginImage.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K                height: pixelSize,
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginImage.tsx[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K                backgroundImage: [01;31m[K`url(${state.image})`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginImage.tsx[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K                backgroundSize: 'contain',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/SuccessRateBadge.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K        }
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/SuccessRateBadge.tsx[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K        return [color, [01;31m[K`Success rate for past 24 hours: ${Math.floor(deliveryRate * 1000) / 10}%`[m[K]
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/SuccessRateBadge.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginLogs.tsx[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K                {pluginLogsBackground.length
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginLogs.tsx[m[K[36m[K:[m[K[32m[K96[m[K[36m[K:[m[K                    ? [01;31m[K`Load ${pluralize(pluginLogsBackground.length, 'newer entry', 'newer entries')}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginLogs.tsx[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K                    : 'No new entries'}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginLogs.tsx[m[K[36m[K-[m[K[32m[K117[m[K[36m[K-[m[K                >
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginLogs.tsx[m[K[36m[K:[m[K[32m[K118[m[K[36m[K:[m[K                    {isThereMoreToLoad ? [01;31m[K`Load up to ${LOGS_PORTION_LIMIT} older entries`[m[K : 'No older entries'}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/plugin/PluginLogs.tsx[m[K[36m[K-[m[K[32m[K119[m[K[36m[K-[m[K                </LemonButton>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/apps/components.tsx[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K                currentOrganization.plugins_access_level >= PluginsAccessLevel.Install && (
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/apps/components.tsx[m[K[36m[K:[m[K[32m[K61[m[K[36m[K:[m[K                    <Tooltip title={[01;31m[K`This plugin is managed by the ${plugin.organization_name} organization`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/plugins/tabs/apps/components.tsx[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K                        <LemonTag type="success">Global</LemonTag>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/createDefaultPluginSource.ts[m[K[36m[K-[m[K[32m[K7[m[K[36m[K-[m[K    if (event.properties) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/createDefaultPluginSource.ts[m[K[36m[K:[m[K[32m[K8[m[K[36m[K:[m[K        event.properties['hello'] = \[01;31m[K`Hello \${config.name}\`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/createDefaultPluginSource.ts[m[K[36m[K-[m[K[32m[K9[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/createDefaultPluginSource.ts[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[Kexport function setupPlugin (meta) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/createDefaultPluginSource.ts[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[K    console.log(\[01;31m[K`The date is \${new Date().toDateString()}\`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/createDefaultPluginSource.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/createDefaultPluginSource.ts[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K    const randomSpanishWord = data.body.Word
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/createDefaultPluginSource.ts[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K    console.log(\[01;31m[K`¡\${randomSpanishWord.toUpperCase()}!\`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/createDefaultPluginSource.ts[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K}`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/types/packages.json[m[K[36m[K-[m[K[32m[K1[m[K[36m[K-[m[K{
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/types/packages.json[m[K[36m[K:[m[K[32m[K2[m[K[36m[K:[m[K    "@types/react/index.d.ts": "// Type definitions f[01;31m[Kor React 16.14\n// Project: http://facebook.github.io/react/\n// Definitions by: Asana <https://asana.com>\n//                 AssureSign <http://www.assuresign.com>\n//                 Microsoft <https://microsoft.com>\n//                 John Reilly <https://github.com/johnnyreilly>\n//                 Benoit Benezech <https://github.com/bbenezech>\n//                 Patricio Zavolinsky <https://github.com/pzavolinsky>\n//                 Eric Anderson <https://github.com/ericanderson>\n//                 Dovydas Navickas <https://github.com/DovydasNavickas>\n//                 Josh Rutherford <https://github.com/theruther4d>\n//                 Guilherme Hübner <https://github.com/guilhermehubner>\n//                 Ferdy Budhidharma <https://github.com/ferdaber>\n//                 Johann Rakotoharisoa <https://github.com/jrakotoharisoa>\n//                 Olivier Pascal <https://github.com/pascaloliv>\n//                 Martin Hochel <https://github.com/hotell>\n//                 Frank Li <https://github.com/franklixuefei>\n//                 Jessica Franco <https://github.com/Jessidhia>\n//                 Saransh Kataria <https://github.com/saranshkataria>\n//                 Kanitkorn Sujautra <https://github.com/lukyth>\n//                 Sebastian Silbermann <https://github.com/eps1lon>\n//                 Kyle Scully <https://github.com/zieka>\n//                 Cong Zhang <https://github.com/dancerphil>\n//                 Dimitri Mitropoulos <https://github.com/dimitropoulos>\n//                 JongChan Choi <https://github.com/disjukr>\n//                 Victor Magalhães <https://github.com/vhfmag>\n//                 Dale Tan <https://github.com/hellatan>\n//                 Priyanshu Rav <https://github.com/priyanshurav>\n// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped\n// TypeScript Version: 2.8\n\n// NOTE: Users of the `experimental` builds of React should add a reference\n// to 'react/experimental' in their project. See experimental.d.ts's top comment\n// for reference and documentation on how exactly to do it.\n\n/// <reference path=\"global.d.ts\" />\n\nimport * as CSS from 'csstype';\nimport * as PropTypes from 'prop-types';\nimport { Interaction as SchedulerInteraction } from 'scheduler/tracing';\n\ntype NativeAnimationEvent = AnimationEvent;\ntype NativeClipboardEvent = ClipboardEvent;\ntype NativeCompositionEvent = CompositionEvent;\ntype NativeDragEvent = DragEvent;\ntype NativeFocusEvent = FocusEvent;\ntype NativeKeyboardEvent = KeyboardEvent;\ntype NativeMouseEvent = MouseEvent;\ntype NativeTouchEvent = TouchEvent;\ntype NativePointerEvent = PointerEvent;\ntype NativeTransitionEvent = TransitionEvent;\ntype NativeUIEvent = UIEvent;\ntype NativeWheelEvent = WheelEvent;\ntype Booleanish = boolean | 'true' | 'false';\n\ndeclare const UNDEFINED_VOID_ONLY: unique symbol;\n// Destructors are only allowed to return void.\ntype Destructor = () => void | { [UNDEFINED_VOID_ONLY]: never };\n\n// eslint-disable-next-line export-just-namespace\nexport = React;\nexport as namespace React;\n\ndeclare namespace React {\n    //\n    // React Elements\n    // ----------------------------------------------------------------------\n\n    type ElementType<P = any> =\n        {\n            [K in keyof JSX.IntrinsicElements]: P extends JSX.IntrinsicElements[K] ? K : never\n        }[keyof JSX.IntrinsicElements] |\n        ComponentType<P>;\n    /**\n     * @deprecated Please use `ElementType`\n     */\n    type ReactType<P = any> = ElementType<P>;\n    type ComponentType<P = {}> = ComponentClass<P> | FunctionComponent<P>;\n\n    type JSXElementConstructor<P> =\n        | ((props: P) => ReactElement<any, any> | null)\n        | (new (props: P) => Component<any, any>);\n\n    interface RefObject<T> {\n        readonly current: T | null;\n    }\n    type RefCallback<T> = { bivarianceHack(instance: T | null): void }[\"bivarianceHack\"];\n    type Ref<T> = RefCallback<T> | RefObject<T> | null;\n    type LegacyRef<T> = string | Ref<T>;\n    /**\n     * Gets the instance type for a React element. The instance will be different for various component types:\n     *\n     * - React class components will be the class instance. So if you had `class Foo extends React.Component<{}> {}`\n     *   and used `React.ElementRef<typeof Foo>` then the type would be the instance of `Foo`.\n     * - React stateless functional components do not have a backing instance and so `React.ElementRef<typeof Bar>`\n     *   (when `Bar` is `function Bar() {}`) will give you the `undefined` type.\n     * - JSX intrinsics like `div` will give you their DOM instance. For `React.ElementRef<'div'>` that would be\n     *   `HTMLDivElement`. For `React.ElementRef<'input'>` that would be `HTMLInputElement`.\n     * - React stateless functional components that forward a `ref` will give you the `ElementRef` of the forwarded\n     *   to component.\n     *\n     * `C` must be the type _of_ a React component so you need to use typeof as in `React.ElementRef<typeof MyComponent>`.\n     *\n     * @todo In Flow, this works a little different with forwarded refs and the `AbstractComponent` that\n     *       `React.forwardRef()` returns.\n     */\n    type ElementRef<\n        C extends\n            | ForwardRefExoticComponent<any>\n            | { new (props: any): Component<any> }\n            | ((props: any, context?: any) => ReactElement | null)\n            | keyof JSX.IntrinsicElements\n    > =\n        // need to check first if `ref` is a valid prop for ts@3.0\n        // otherwise it will infer `{}` instead of `never`\n        \"ref\" extends keyof ComponentPropsWithRef<C>\n            ? NonNullable<ComponentPropsWithRef<C>[\"ref\"]> extends Ref<\n                infer Instance\n            >\n                ? Instance\n                : never\n            : never;\n\n    type ComponentState = any;\n\n    type Key = string | number;\n\n    /**\n     * @internal You shouldn't need to use this type since you never see these attributes\n     * inside your component or have to validate them.\n     */\n    interface Attributes {\n        key?: Key | null | undefined;\n    }\n    interface RefAttributes<T> extends Attributes {\n        ref?: Ref<T> | undefined;\n    }\n    interface ClassAttributes<T> extends Attributes {\n        ref?: LegacyRef<T> | undefined;\n    }\n\n    interface ReactElement<P = any, T extends string | JSXElementConstructor<any> = string | JSXElementConstructor<any>> {\n        type: T;\n        props: P;\n        key: Key | null;\n    }\n\n    interface ReactComponentElement<\n        T extends keyof JSX.IntrinsicElements | JSXElementConstructor<any>,\n        P = Pick<ComponentProps<T>, Exclude<keyof ComponentProps<T>, 'key' | 'ref'>>\n    > extends ReactElement<P, Exclude<T, number>> { }\n\n    /**\n     * @deprecated Please use `FunctionComponentElement`\n     */\n    type SFCElement<P> = FunctionComponentElement<P>;\n\n    interface FunctionComponentElement<P> extends ReactElement<P, FunctionComponent<P>> {\n        ref?: ('ref' extends keyof P ? P extends { ref?: infer R | undefined } ? R : never : never) | undefined;\n    }\n\n    type CElement<P, T extends Component<P, ComponentState>> = ComponentElement<P, T>;\n    interface ComponentElement<P, T extends Component<P, ComponentState>> extends ReactElement<P, ComponentClass<P>> {\n        ref?: LegacyRef<T> | undefined;\n    }\n\n    type ClassicElement<P> = CElement<P, ClassicComponent<P, ComponentState>>;\n\n    // string fallback for custom web-components\n    interface DOMElement<P extends HTMLAttributes<T> | SVGAttributes<T>, T extends Element> extends ReactElement<P, string> {\n        ref: LegacyRef<T>;\n    }\n\n    // ReactHTML for ReactHTMLElement\n    // tslint:disable-next-line:no-empty-interface\n    interface ReactHTMLElement<T extends HTMLElement> extends DetailedReactHTMLElement<AllHTMLAttributes<T>, T> { }\n\n    interface DetailedReactHTMLElement<P extends HTMLAttributes<T>, T extends HTMLElement> extends DOMElement<P, T> {\n        type: keyof ReactHTML;\n    }\n\n    // ReactSVG for ReactSVGElement\n    interface ReactSVGElement extends DOMElement<SVGAttributes<SVGElement>, SVGElement> {\n        type: keyof ReactSVG;\n    }\n\n    interface ReactPortal extends ReactElement {\n        key: Key | null;\n        children: ReactNode;\n    }\n\n    //\n    // Factories\n    // ----------------------------------------------------------------------\n\n    type Factory<P> = (props?: Attributes & P, ...children: ReactNode[]) => ReactElement<P>;\n\n    /**\n     * @deprecated Please use `FunctionComponentFactory`\n     */\n    type SFCFactory<P> = FunctionComponentFactory<P>;\n\n    type FunctionComponentFactory<P> = (props?: Attributes & P, ...children: ReactNode[]) => FunctionComponentElement<P>;\n\n    type ComponentFactory<P, T extends Component<P, ComponentState>> =\n        (props?: ClassAttributes<T> & P, ...children: ReactNode[]) => CElement<P, T>;\n\n    type CFactory<P, T extends Component<P, ComponentState>> = ComponentFactory<P, T>;\n    type ClassicFactory<P> = CFactory<P, ClassicComponent<P, ComponentState>>;\n\n    type DOMFactory<P extends DOMAttributes<T>, T extends Element> =\n        (props?: ClassAttributes<T> & P | null, ...children: ReactNode[]) => DOMElement<P, T>;\n\n    // tslint:disable-next-line:no-empty-interface\n    interface HTMLFactory<T extends HTMLElement> extends DetailedHTMLFactory<AllHTMLAttributes<T>, T> {}\n\n    interface DetailedHTMLFactory<P extends HTMLAttributes<T>, T extends HTMLElement> extends DOMFactory<P, T> {\n        (props?: ClassAttributes<T> & P | null, ...children: ReactNode[]): DetailedReactHTMLElement<P, T>;\n    }\n\n    interface SVGFactory extends DOMFactory<SVGAttributes<SVGElement>, SVGElement> {\n        (props?: ClassAttributes<SVGElement> & SVGAttributes<SVGElement> | null, ...children: ReactNode[]): ReactSVGElement;\n    }\n\n    //\n    // React Nodes\n    // http://facebook.github.io/react/docs/glossary.html\n    // ----------------------------------------------------------------------\n\n    type ReactText = string | number;\n    type ReactChild = ReactElement | ReactText;\n\n    interface ReactNodeArray extends Array<ReactNode> {}\n    type ReactFragment = {} | ReactNodeArray;\n    type ReactNode = ReactChild | ReactFragment | ReactPortal | boolean | null | undefined;\n\n    //\n    // Top Level API\n    // ----------------------------------------------------------------------\n\n    // DOM Elements\n    function createFactory<T extends HTMLElement>(\n        type: keyof ReactHTML): HTMLFactory<T>;\n    function createFactory(\n        type: keyof ReactSVG): SVGFactory;\n    function createFactory<P extends DOMAttributes<T>, T extends Element>(\n        type: string): DOMFactory<P, T>;\n\n    // Custom components\n    function createFactory<P>(type: FunctionComponent<P>): FunctionComponentFactory<P>;\n    function createFactory<P>(\n        type: ClassType<P, ClassicComponent<P, ComponentState>, ClassicComponentClass<P>>): CFactory<P, ClassicComponent<P, ComponentState>>;\n    function createFactory<P, T extends Component<P, ComponentState>, C extends ComponentClass<P>>(\n        type: ClassType<P, T, C>): CFactory<P, T>;\n    function createFactory<P>(type: ComponentClass<P>): Factory<P>;\n\n    // DOM Elements\n    // TODO: generalize this to everything in `keyof ReactHTML`, not just \"input\"\n    function createElement(\n        type: \"input\",\n        props?: InputHTMLAttributes<HTMLInputElement> & ClassAttributes<HTMLInputElement> | null,\n        ...children: ReactNode[]): DetailedReactHTMLElement<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\n    function createElement<P extends HTMLAttributes<T>, T extends HTMLElement>(\n        type: keyof ReactHTML,\n        props?: ClassAttributes<T> & P | null,\n        ...children: ReactNode[]): DetailedReactHTMLElement<P, T>;\n    function createElement<P extends SVGAttributes<T>, T extends SVGElement>(\n        type: keyof ReactSVG,\n        props?: ClassAttributes<T> & P | null,\n        ...children: ReactNode[]): ReactSVGElement;\n    function createElement<P extends DOMAttributes<T>, T extends Element>(\n        type: string,\n        props?: ClassAttributes<T> & P | null,\n        ...children: ReactNode[]): DOMElement<P, T>;\n\n    // Custom components\n\n    function createElement<P extends {}>(\n        type: FunctionComponent<P>,\n        props?: Attributes & P | null,\n        ...children: ReactNode[]): FunctionComponentElement<P>;\n    function createElement<P extends {}>(\n        type: ClassType<P, ClassicComponent<P, ComponentState>, ClassicComponentClass<P>>,\n        props?: ClassAttributes<ClassicComponent<P, ComponentState>> & P | null,\n        ...children: ReactNode[]): CElement<P, ClassicComponent<P, ComponentState>>;\n    function createElement<P extends {}, T extends Component<P, ComponentState>, C extends ComponentClass<P>>(\n        type: ClassType<P, T, C>,\n        props?: ClassAttributes<T> & P | null,\n        ...children: ReactNode[]): CElement<P, T>;\n    function createElement<P extends {}>(\n        type: FunctionComponent<P> | ComponentClass<P> | string,\n        props?: Attributes & P | null,\n        ...children: ReactNode[]): ReactElement<P>;\n\n    // DOM Elements\n    // ReactHTMLElement\n    function cloneElement<P extends HTMLAttributes<T>, T extends HTMLElement>(\n        element: DetailedReactHTMLElement<P, T>,\n        props?: P,\n        ...children: ReactNode[]): DetailedReactHTMLElement<P, T>;\n    // ReactHTMLElement, less specific\n    function cloneElement<P extends HTMLAttributes<T>, T extends HTMLElement>(\n        element: ReactHTMLElement<T>,\n        props?: P,\n        ...children: ReactNode[]): ReactHTMLElement<T>;\n    // SVGElement\n    function cloneElement<P extends SVGAttributes<T>, T extends SVGElement>(\n        element: ReactSVGElement,\n        props?: P,\n        ...children: ReactNode[]): ReactSVGElement;\n    // DOM Element (has to be the last, because type checking stops at first overload that fits)\n    function cloneElement<P extends DOMAttributes<T>, T extends Element>(\n        element: DOMElement<P, T>,\n        props?: DOMAttributes<T> & P,\n        ...children: ReactNode[]): DOMElement<P, T>;\n\n    // Custom components\n    function cloneElement<P>(\n        element: FunctionComponentElement<P>,\n        props?: Partial<P> & Attributes,\n        ...children: ReactNode[]): FunctionComponentElement<P>;\n    function cloneElement<P, T extends Component<P, ComponentState>>(\n        element: CElement<P, T>,\n        props?: Partial<P> & ClassAttributes<T>,\n        ...children: ReactNode[]): CElement<P, T>;\n    function cloneElement<P>(\n        element: ReactElement<P>,\n        props?: Partial<P> & Attributes,\n        ...children: ReactNode[]): ReactElement<P>;\n\n    // Context via RenderProps\n    interface ProviderProps<T> {\n        value: T;\n        children?: ReactNode | undefined;\n    }\n\n    interface ConsumerProps<T> {\n        children: (value: T) => ReactNode;\n    }\n\n    // TODO: similar to how Fragment is actually a symbol, the values returned from createContext,\n    // forwardRef and memo are actually objects that are treated specially by the renderer; see:\n    // https://github.com/facebook/react/blob/v16.6.0/packages/react/src/ReactContext.js#L35-L48\n    // https://github.com/facebook/react/blob/v16.6.0/packages/react/src/forwardRef.js#L42-L45\n    // https://github.com/facebook/react/blob/v16.6.0/packages/react/src/memo.js#L27-L31\n    // However, we have no way of telling the JSX parser that it's a JSX element type or its props other than\n    // by pretending to be a normal component.\n    //\n    // We don't just use ComponentType or SFC types because you are not supposed to attach statics to this\n    // object, but rather to the original function.\n    interface ExoticComponent<P = {}> {\n        /**\n         * **NOTE**: Exotic components are not callable.\n         */\n        (props: P): (ReactElement|null);\n        readonly $$typeof: symbol;\n    }\n\n    interface NamedExoticComponent<P = {}> extends ExoticComponent<P> {\n        displayName?: string | undefined;\n    }\n\n    interface ProviderExoticComponent<P> extends ExoticComponent<P> {\n        propTypes?: WeakValidationMap<P> | undefined;\n    }\n\n    type ContextType<C extends Context<any>> = C extends Context<infer T> ? T : never;\n\n    // NOTE: only the Context object itself can get a displayName\n    // https://github.com/facebook/react-devtools/blob/e0b854e4c/backend/attachRendererFiber.js#L310-L325\n    type Provider<T> = ProviderExoticComponent<ProviderProps<T>>;\n    type Consumer<T> = ExoticComponent<ConsumerProps<T>>;\n    interface Context<T> {\n        Provider: Provider<T>;\n        Consumer: Consumer<T>;\n        displayName?: string | undefined;\n    }\n    function createContext<T>(\n        // If you thought this should be optional, see\n        // https://github.com/DefinitelyTyped/DefinitelyTyped/pull/24509#issuecomment-382213106\n        defaultValue: T,\n    ): Context<T>;\n\n    function isValidElement<P>(object: {} | null | undefined): object is ReactElement<P>;\n\n    const Children: ReactChildren;\n    const Fragment: ExoticComponent<{ children?: ReactNode | undefined }>;\n    const StrictMode: ExoticComponent<{ children?: ReactNode | undefined }>;\n\n    interface SuspenseProps {\n        children?: ReactNode | undefined;\n\n        /** A fallback react tree to show when a Suspense child (like React.lazy) suspends */\n        fallback: NonNullable<ReactNode>|null;\n    }\n    /**\n     * This feature is not yet available for server-side rendering.\n     * Suspense support will be added in a later release.\n     */\n    const Suspense: ExoticComponent<SuspenseProps>;\n    const version: string;\n\n    /**\n     * {@link https://reactjs.org/docs/profiler.html#onrender-callback Profiler API}\n     */\n    type ProfilerOnRenderCallback = (\n        id: string,\n        phase: \"mount\" | \"update\",\n        actualDuration: number,\n        baseDuration: number,\n        startTime: number,\n        commitTime: number,\n        interactions: Set<SchedulerInteraction>,\n    ) => void;\n    interface ProfilerProps {\n        children?: ReactNode | undefined;\n        id: string;\n        onRender: ProfilerOnRenderCallback;\n    }\n\n    const Profiler: ExoticComponent<ProfilerProps>;\n\n    //\n    // Component API\n    // ----------------------------------------------------------------------\n\n    type ReactInstance = Component<any> | Element;\n\n    // Base component for plain JS classes\n    // tslint:disable-next-line:no-empty-interface\n    interface Component<P = {}, S = {}, SS = any> extends ComponentLifecycle<P, S, SS> { }\n    class Component<P, S> {\n        // tslint won't let me format the sample code in a way that vscode likes it :(\n        /**\n         * If set, `this.context` will be set at runtime to the current value of the given Context.\n         *\n         * Usage:\n         *\n         * ```ts\n         * type MyContext = number\n         * const Ctx = React.createContext<MyContext>(0)\n         *\n         * class Foo extends React.Component {\n         *   static contextType = Ctx\n         *   context!: React.ContextType<typeof Ctx>\n         *   render () {\n         *     return <>My context's value: {this.context}</>;\n         *   }\n         * }\n         * ```\n         *\n         * @see https://reactjs.org/docs/context.html#classcontexttype\n         */\n        static contextType?: Context<any> | undefined;\n\n        /**\n         * If using the new style context, re-declare this in your class to be the\n         * `React.ContextType` of your `static contextType`.\n         * Should be used with type annotation or static contextType.\n         *\n         * ```ts\n         * static contextType = MyContext\n         * // For TS pre-3.7:\n         * context!: React.ContextType<typeof MyContext>\n         * // For TS 3.7 and above:\n         * declare context: React.ContextType<typeof MyContext>\n         * ```\n         *\n         * @see https://reactjs.org/docs/context.html\n         */\n        // TODO (TypeScript 3.0): unknown\n        context: any;\n\n        constructor(props: Readonly<P> | P);\n        /**\n         * @deprecated\n         * @see https://reactjs.org/docs/legacy-context.html\n         */\n        constructor(props: P, context: any);\n\n        // We MUST keep setState() as a unified signature because it allows proper checking of the method return type.\n        // See: https://github.com/DefinitelyTyped/DefinitelyTyped/issues/18365#issuecomment-351013257\n        // Also, the ` | S` allows intellisense to not be dumbisense\n        setState<K extends keyof S>(\n            state: ((prevState: Readonly<S>, props: Readonly<P>) => (Pick<S, K> | S | null)) | (Pick<S, K> | S | null),\n            callback?: () => void\n        ): void;\n\n        forceUpdate(callback?: () => void): void;\n        render(): ReactNode;\n\n        // React.Props<T> is now deprecated, which means that the `children`\n        // property is not available on `P` by default, even though you can\n        // always pass children as variadic arguments to `createElement`.\n        // In the future, if we can define its call signature conditionally\n        // on the existence of `children` in `P`, then we should remove this.\n        readonly props: Readonly<P> & Readonly<{ children?: ReactNode | undefined }>;\n        state: Readonly<S>;\n        /**\n         * @deprecated\n         * https://reactjs.org/docs/refs-and-the-dom.html#legacy-api-string-refs\n         */\n        refs: {\n            [key: string]: ReactInstance\n        };\n    }\n\n    class PureComponent<P = {}, S = {}, SS = any> extends Component<P, S, SS> { }\n\n    interface ClassicComponent<P = {}, S = {}> extends Component<P, S> {\n        replaceState(nextState: S, callback?: () => void): void;\n        isMounted(): boolean;\n        getInitialState?(): S;\n    }\n\n    interface ChildContextProvider<CC> {\n        getChildContext(): CC;\n    }\n\n    //\n    // Class Interfaces\n    // ----------------------------------------------------------------------\n\n    /**\n     * @deprecated as of recent React versions, function components can no\n     * longer be considered 'stateless'. Please use `FunctionComponent` instead.\n     *\n     * @see [React Hooks](https://reactjs.org/docs/hooks-intro.html)\n     */\n    type SFC<P = {}> = FunctionComponent<P>;\n\n    /**\n     * @deprecated as of recent React versions, function components can no\n     * longer be considered 'stateless'. Please use `FunctionComponent` instead.\n     *\n     * @see [React Hooks](https://reactjs.org/docs/hooks-intro.html)\n     */\n    type StatelessComponent<P = {}> = FunctionComponent<P>;\n\n    type FC<P = {}> = FunctionComponent<P>;\n\n    interface FunctionComponent<P = {}> {\n        (props: PropsWithChildren<P>, context?: any): ReactElement<any, any> | null;\n        propTypes?: WeakValidationMap<P> | undefined;\n        contextTypes?: ValidationMap<any> | undefined;\n        defaultProps?: Partial<P> | undefined;\n        displayName?: string | undefined;\n    }\n\n    type VFC<P = {}> = VoidFunctionComponent<P>;\n\n    interface VoidFunctionComponent<P = {}> {\n        (props: P, context?: any): ReactElement<any, any> | null;\n        propTypes?: WeakValidationMap<P> | undefined;\n        contextTypes?: ValidationMap<any> | undefined;\n        defaultProps?: Partial<P> | undefined;\n        displayName?: string | undefined;\n    }\n\n    type ForwardedRef<T> = ((instance: T | null) => void) | MutableRefObject<T | null> | null;\n\n    interface ForwardRefRenderFunction<T, P = {}> {\n        (props: PropsWithChildren<P>, ref: ForwardedRef<T>): ReactElement | null;\n        displayName?: string | undefined;\n        // explicit rejected with `never` required due to\n        // https://github.com/microsoft/TypeScript/issues/36826\n        /**\n         * defaultProps are not supported on render functions\n         */\n        defaultProps?: never | undefined;\n        /**\n         * propTypes are not supported on render functions\n         */\n        propTypes?: never | undefined;\n    }\n\n    /**\n     * @deprecated Use ForwardRefRenderFunction. forwardRef doesn't accept a\n     *             \"real\" component.\n     */\n    interface RefForwardingComponent <T, P = {}> extends ForwardRefRenderFunction<T, P> {}\n\n    interface ComponentClass<P = {}, S = ComponentState> extends StaticLifecycle<P, S> {\n        new (props: P, context?: any): Component<P, S>;\n        propTypes?: WeakValidationMap<P> | undefined;\n        contextType?: Context<any> | undefined;\n        contextTypes?: ValidationMap<any> | undefined;\n        childContextTypes?: ValidationMap<any> | undefined;\n        defaultProps?: Partial<P> | undefined;\n        displayName?: string | undefined;\n    }\n\n    interface ClassicComponentClass<P = {}> extends ComponentClass<P> {\n        new (props: P, context?: any): ClassicComponent<P, ComponentState>;\n        getDefaultProps?(): P;\n    }\n\n    /**\n     * We use an intersection type to infer multiple type parameters from\n     * a single argument, which is useful for many top-level API defs.\n     * See https://github.com/Microsoft/TypeScript/issues/7234 for more info.\n     */\n    type ClassType<P, T extends Component<P, ComponentState>, C extends ComponentClass<P>> =\n        C &\n        (new (props: P, context?: any) => T);\n\n    //\n    // Component Specs and Lifecycle\n    // ----------------------------------------------------------------------\n\n    // This should actually be something like `Lifecycle<P, S> | DeprecatedLifecycle<P, S>`,\n    // as React will _not_ call the deprecated lifecycle methods if any of the new lifecycle\n    // methods are present.\n    interface ComponentLifecycle<P, S, SS = any> extends NewLifecycle<P, S, SS>, DeprecatedLifecycle<P, S> {\n        /**\n         * Called immediately after a component is mounted. Setting state here will trigger re-rendering.\n         */\n        componentDidMount?(): void;\n        /**\n         * Called to determine whether the change in props and state should trigger a re-render.\n         *\n         * `Component` always returns true.\n         * `PureComponent` implements a shallow comparison on props and state and returns true if any\n         * props or states have changed.\n         *\n         * If false is returned, `Component#render`, `componentWillUpdate`\n         * and `componentDidUpdate` will not be called.\n         */\n        shouldComponentUpdate?(nextProps: Readonly<P>, nextState: Readonly<S>, nextContext: any): boolean;\n        /**\n         * Called immediately before a component is destroyed. Perform any necessary cleanup in this method, such as\n         * cancelled network requests, or cleaning up any DOM elements created in `componentDidMount`.\n         */\n        componentWillUnmount?(): void;\n        /**\n         * Catches exceptions generated in descendant components. Unhandled exceptions will cause\n         * the entire component tree to unmount.\n         */\n        componentDidCatch?(error: Error, errorInfo: ErrorInfo): void;\n    }\n\n    // Unfortunately, we have no way of declaring that the component constructor must implement this\n    interface StaticLifecycle<P, S> {\n        getDerivedStateFromProps?: GetDerivedStateFromProps<P, S> | undefined;\n        getDerivedStateFromError?: GetDerivedStateFromError<P, S> | undefined;\n    }\n\n    type GetDerivedStateFromProps<P, S> =\n        /**\n         * Returns an update to a component's state based on its new props and old state.\n         *\n         * Note: its presence prevents any of the deprecated lifecycle methods from being invoked\n         */\n        (nextProps: Readonly<P>, prevState: S) => Partial<S> | null;\n\n    type GetDerivedStateFromError<P, S> =\n        /**\n         * This lifecycle is invoked after an error has been thrown by a descendant component.\n         * It receives the error that was thrown as a parameter and should return a value to update state.\n         *\n         * Note: its presence prevents any of the deprecated lifecycle methods from being invoked\n         */\n        (error: any) => Partial<S> | null;\n\n    // This should be \"infer SS\" but can't use it yet\n    interface NewLifecycle<P, S, SS> {\n        /**\n         * Runs before React applies the result of `render` to the document, and\n         * returns an object to be given to componentDidUpdate. Useful for saving\n         * things such as scroll position before `render` causes changes to it.\n         *\n         * Note: the presence of getSnapshotBeforeUpdate prevents any of the deprecated\n         * lifecycle events from running.\n         */\n        getSnapshotBeforeUpdate?(prevProps: Readonly<P>, prevState: Readonly<S>): SS | null;\n        /**\n         * Called immediately after updating occurs. Not called for the initial render.\n         *\n         * The snapshot is only present if getSnapshotBeforeUpdate is present and returns non-null.\n         */\n        componentDidUpdate?(prevProps: Readonly<P>, prevState: Readonly<S>, snapshot?: SS): void;\n    }\n\n    interface DeprecatedLifecycle<P, S> {\n        /**\n         * Called immediately before mounting occurs, and before `Component#render`.\n         * Avoid introducing any side-effects or subscriptions in this method.\n         *\n         * Note: the presence of getSnapshotBeforeUpdate or getDerivedStateFromProps\n         * prevents this from being invoked.\n         *\n         * @deprecated 16.3, use componentDidMount or the constructor instead; will stop working in React 17\n         * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#initializing-state\n         * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#gradual-migration-path\n         */\n        componentWillMount?(): void;\n        /**\n         * Called immediately before mounting occurs, and before `Component#render`.\n         * Avoid introducing any side-effects or subscriptions in this method.\n         *\n         * This method will not stop working in React 17.\n         *\n         * Note: the presence of getSnapshotBeforeUpdate or getDerivedStateFromProps\n         * prevents this from being invoked.\n         *\n         * @deprecated 16.3, use componentDidMount or the constructor instead\n         * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#initializing-state\n         * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#gradual-migration-path\n         */\n        UNSAFE_componentWillMount?(): void;\n        /**\n         * Called when the component may be receiving new props.\n         * React may call this even if props have not changed, so be sure to compare new and existing\n         * props if you only want to handle changes.\n         *\n         * Calling `Component#setState` generally does not trigger this method.\n         *\n         * Note: the presence of getSnapshotBeforeUpdate or getDerivedStateFromProps\n         * prevents this from being invoked.\n         *\n         * @deprecated 16.3, use static getDerivedStateFromProps instead; will stop working in React 17\n         * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#updating-state-based-on-props\n         * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#gradual-migration-path\n         */\n        componentWillReceiveProps?(nextProps: Readonly<P>, nextContext: any): void;\n        /**\n         * Called when the component may be receiving new props.\n         * React may call this even if props have not changed, so be sure to compare new and existing\n         * props if you only want to handle changes.\n         *\n         * Calling `Component#setState` generally does not trigger this method.\n         *\n         * This method will not stop working in React 17.\n         *\n         * Note: the presence of getSnapshotBeforeUpdate or getDerivedStateFromProps\n         * prevents this from being invoked.\n         *\n         * @deprecated 16.3, use static getDerivedStateFromProps instead\n         * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#updating-state-based-on-props\n         * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#gradual-migration-path\n         */\n        UNSAFE_componentWillReceiveProps?(nextProps: Readonly<P>, nextContext: any): void;\n        /**\n         * Called immediately before rendering when new props or state is received. Not called for the initial render.\n         *\n         * Note: You cannot call `Component#setState` here.\n         *\n         * Note: the presence of getSnapshotBeforeUpdate or getDerivedStateFromProps\n         * prevents this from being invoked.\n         *\n         * @deprecated 16.3, use getSnapshotBeforeUpdate instead; will stop working in React 17\n         * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#reading-dom-properties-before-an-update\n         * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#gradual-migration-path\n         */\n        componentWillUpdate?(nextProps: Readonly<P>, nextState: Readonly<S>, nextContext: any): void;\n        /**\n         * Called immediately before rendering when new props or state is received. Not called for the initial render.\n         *\n         * Note: You cannot call `Component#setState` here.\n         *\n         * This method will not stop working in React 17.\n         *\n         * Note: the presence of getSnapshotBeforeUpdate or getDerivedStateFromProps\n         * prevents this from being invoked.\n         *\n         * @deprecated 16.3, use getSnapshotBeforeUpdate instead\n         * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#reading-dom-properties-before-an-update\n         * @see https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html#gradual-migration-path\n         */\n        UNSAFE_componentWillUpdate?(nextProps: Readonly<P>, nextState: Readonly<S>, nextContext: any): void;\n    }\n\n    interface Mixin<P, S> extends ComponentLifecycle<P, S> {\n        mixins?: Array<Mixin<P, S>> | undefined;\n        statics?: {\n            [key: string]: any;\n        } | undefined;\n\n        displayName?: string | undefined;\n        propTypes?: ValidationMap<any> | undefined;\n        contextTypes?: ValidationMap<any> | undefined;\n        childContextTypes?: ValidationMap<any> | undefined;\n\n        getDefaultProps?(): P;\n        getInitialState?(): S;\n    }\n\n    interface ComponentSpec<P, S> extends Mixin<P, S> {\n        render(): ReactNode;\n\n        [propertyName: string]: any;\n    }\n\n    function createRef<T>(): RefObject<T>;\n\n    // will show `ForwardRef(${Component.displayName || Component.name})` in devtools by default,\n    // but can be given its own specific name\n    interface ForwardRefExoticComponent<P> extends NamedExoticComponent<P> {\n        defaultProps?: Partial<P> | undefined;\n        propTypes?: WeakValidationMap<P> | undefined;\n    }\n\n    function forwardRef<T, P = {}>(render: ForwardRefRenderFunction<T, P>): ForwardRefExoticComponent<PropsWithoutRef<P> & RefAttributes<T>>;\n\n    /** Ensures that the props do not include ref at all */\n    type PropsWithoutRef<P> =\n        // Just Pick would be sufficient for this, but I'm trying to avoid unnecessary mapping over union types\n        // https://github.com/Microsoft/TypeScript/issues/28339\n        'ref' extends keyof P\n            ? Pick<P, Exclude<keyof P, 'ref'>>\n            : P;\n    /** Ensures that the props do not include string ref, which cannot be forwarded */\n    type PropsWithRef<P> =\n        // Just \"P extends { ref?: infer R }\" looks sufficient, but R will infer as {} if P is {}.\n        'ref' extends keyof P\n            ? P extends { ref?: infer R | undefined }\n                ? string extends R\n                    ? PropsWithoutRef<P> & { ref?: Exclude<R, string> | undefined }\n                    : P\n                : P\n            : P;\n\n    type PropsWithChildren<P> = P & { children?: ReactNode | undefined };\n\n    /**\n     * NOTE: prefer ComponentPropsWithRef, if the ref is forwarded,\n     * or ComponentPropsWithoutRef when refs are not supported.\n     */\n    type ComponentProps<T extends keyof JSX.IntrinsicElements | JSXElementConstructor<any>> =\n        T extends JSXElementConstructor<infer P>\n            ? P\n            : T extends keyof JSX.IntrinsicElements\n                ? JSX.IntrinsicElements[T]\n                : {};\n    type ComponentPropsWithRef<T extends ElementType> =\n        T extends (new (props: infer P) => Component<any, any>)\n            ? PropsWithoutRef<P> & RefAttributes<InstanceType<T>>\n            : PropsWithRef<ComponentProps<T>>;\n    type ComponentPropsWithoutRef<T extends ElementType> =\n        PropsWithoutRef<ComponentProps<T>>;\n\n    type ComponentRef<T extends ElementType> = T extends NamedExoticComponent<\n        ComponentPropsWithoutRef<T> & RefAttributes<infer Method>\n    >\n        ? Method\n        : ComponentPropsWithRef<T> extends RefAttributes<infer Method>\n            ? Method\n            : never;\n\n    // will show `Memo($[m[K{Component.displayName || Component.name})` in devtools by default,\n    // but can be given its own specific name\n    type MemoExoticComponent<T extends ComponentType<any>> = NamedExoticComponent<ComponentPropsWithRef<T>> & {\n        readonly type: T;\n    };\n\n    function memo<P extends object>(\n        Component: SFC<P>,\n        propsAreEqual?: (prevProps: Readonly<PropsWithChildren<P>>, nextProps: Readonly<PropsWithChildren<P>>) => boolean\n    ): NamedExoticComponent<P>;\n    function memo<T extends ComponentType<any>>(\n        Component: T,\n        propsAreEqual?: (prevProps: Readonly<ComponentProps<T>>, nextProps: Readonly<ComponentProps<T>>) => boolean\n    ): MemoExoticComponent<T>;\n\n    type LazyExoticComponent<T extends ComponentType<any>> = ExoticComponent<ComponentPropsWithRef<T>> & {\n        readonly _result: T;\n    };\n\n    function lazy<T extends ComponentType<any>>(\n        factory: () => Promise<{ default: T }>\n    ): LazyExoticComponent<T>;\n\n    //\n    // React Hooks\n    // ----------------------------------------------------------------------\n\n    // based on the code in https://github.com/facebook/react/pull/13968\n\n    // Unlike the class component setState, the updates are not allowed to be partial\n    type SetStateAction<S> = S | ((prevState: S) => S);\n    // this technically does accept a second argument, but it's already under a deprecation warning\n    // and it's not even released so probably better to not define it.\n    type Dispatch<A> = (value: A) => void;\n    // Since action _can_ be undefined, dispatch may be called without any parameters.\n    type DispatchWithoutAction = () => void;\n    // Unlike redux, the actions _can_ be anything\n    type Reducer<S, A> = (prevState: S, action: A) => S;\n    // If useReducer accepts a reducer without action, dispatch may be called without any parameters.\n    type ReducerWithoutAction<S> = (prevState: S) => S;\n    // types used to try and prevent the compiler from reducing S\n    // to a supertype common with the second argument to useReducer()\n    type ReducerState<R extends Reducer<any, any>> = R extends Reducer<infer S, any> ? S : never;\n    type ReducerAction<R extends Reducer<any, any>> = R extends Reducer<any, infer A> ? A : never;\n    // The identity check is done with the SameValue algorithm (Object.is), which is stricter than ===\n    type ReducerStateWithoutAction<R extends ReducerWithoutAction<any>> =\n        R extends ReducerWithoutAction<infer S> ? S : never;\n    // TODO (TypeScript 3.0): ReadonlyArray<unknown>\n    type DependencyList = ReadonlyArray<any>;\n\n    // NOTE: callbacks are _only_ allowed to return either void, or a destructor.\n    type EffectCallback = () => (void | Destructor);\n\n    interface MutableRefObject<T> {\n        current: T;\n    }\n\n    // This will technically work if you give a Consumer<T> or Provider<T> but it's deprecated and warns\n    /**\n     * Accepts a context object (the value returned from `React.createContext`) and returns the current\n     * context value, as given by the nearest context provider for the given context.\n     *\n     * @version 16.8.0\n     * @see https://reactjs.org/docs/hooks-reference.html#usecontext\n     */\n    function useContext<T>(context: Context<T>/*, (not public API) observedBits?: number|boolean */): T;\n    /**\n     * Returns a stateful value, and a function to update it.\n     *\n     * @version 16.8.0\n     * @see https://reactjs.org/docs/hooks-reference.html#usestate\n     */\n    function useState<S>(initialState: S | (() => S)): [S, Dispatch<SetStateAction<S>>];\n    // convenience overload when first argument is omitted\n    /**\n     * Returns a stateful value, and a function to update it.\n     *\n     * @version 16.8.0\n     * @see https://reactjs.org/docs/hooks-reference.html#usestate\n     */\n    function useState<S = undefined>(): [S | undefined, Dispatch<SetStateAction<S | undefined>>];\n    /**\n     * An alternative to `useState`.\n     *\n     * `useReducer` is usually preferable to `useState` when you have complex state logic that involves\n     * multiple sub-values. It also lets you optimize performance for components that trigger deep\n     * updates because you can pass `dispatch` down instead of callbacks.\n     *\n     * @version 16.8.0\n     * @see https://reactjs.org/docs/hooks-reference.html#usereducer\n     */\n    // overload where dispatch could accept 0 arguments.\n    function useReducer<R extends ReducerWithoutAction<any>, I>(\n        reducer: R,\n        initializerArg: I,\n        initializer: (arg: I) => ReducerStateWithoutAction<R>\n    ): [ReducerStateWithoutAction<R>, DispatchWithoutAction];\n    /**\n     * An alternative to `useState`.\n     *\n     * `useReducer` is usually preferable to `useState` when you have complex state logic that involves\n     * multiple sub-values. It also lets you optimize performance for components that trigger deep\n     * updates because you can pass `dispatch` down instead of callbacks.\n     *\n     * @version 16.8.0\n     * @see https://reactjs.org/docs/hooks-reference.html#usereducer\n     */\n    // overload where dispatch could accept 0 arguments.\n    function useReducer<R extends ReducerWithoutAction<any>>(\n        reducer: R,\n        initializerArg: ReducerStateWithoutAction<R>,\n        initializer?: undefined\n    ): [ReducerStateWithoutAction<R>, DispatchWithoutAction];\n    /**\n     * An alternative to `useState`.\n     *\n     * `useReducer` is usually preferable to `useState` when you have complex state logic that involves\n     * multiple sub-values. It also lets you optimize performance for components that trigger deep\n     * updates because you can pass `dispatch` down instead of callbacks.\n     *\n     * @version 16.8.0\n     * @see https://reactjs.org/docs/hooks-reference.html#usereducer\n     */\n    // overload where \"I\" may be a subset of ReducerState<R>; used to provide autocompletion.\n    // If \"I\" matches ReducerState<R> exactly then the last overload will allow initializer to be omitted.\n    // the last overload effectively behaves as if the identity function (x => x) is the initializer.\n    function useReducer<R extends Reducer<any, any>, I>(\n        reducer: R,\n        initializerArg: I & ReducerState<R>,\n        initializer: (arg: I & ReducerState<R>) => ReducerState<R>\n    ): [ReducerState<R>, Dispatch<ReducerAction<R>>];\n    /**\n     * An alternative to `useState`.\n     *\n     * `useReducer` is usually preferable to `useState` when you have complex state logic that involves\n     * multiple sub-values. It also lets you optimize performance for components that trigger deep\n     * updates because you can pass `dispatch` down instead of callbacks.\n     *\n     * @version 16.8.0\n     * @see https://reactjs.org/docs/hooks-reference.html#usereducer\n     */\n    // overload for free \"I\"; all goes as long as initializer converts it into \"ReducerState<R>\".\n    function useReducer<R extends Reducer<any, any>, I>(\n        reducer: R,\n        initializerArg: I,\n        initializer: (arg: I) => ReducerState<R>\n    ): [ReducerState<R>, Dispatch<ReducerAction<R>>];\n    /**\n     * An alternative to `useState`.\n     *\n     * `useReducer` is usually preferable to `useState` when you have complex state logic that involves\n     * multiple sub-values. It also lets you optimize performance for components that trigger deep\n     * updates because you can pass `dispatch` down instead of callbacks.\n     *\n     * @version 16.8.0\n     * @see https://reactjs.org/docs/hooks-reference.html#usereducer\n     */\n\n    // I'm not sure if I keep this 2-ary or if I make it (2,3)-ary; it's currently (2,3)-ary.\n    // The Flow types do have an overload for 3-ary invocation with undefined initializer.\n\n    // NOTE: without the ReducerState indirection, TypeScript would reduce S to be the most common\n    // supertype between the reducer's return type and the initialState (or the initializer's return type),\n    // which would prevent autocompletion from ever working.\n\n    // TODO: double-check if this weird overload logic is necessary. It is possible it's either a bug\n    // in older versions, or a regression in newer versions of the typescript completion service.\n    function useReducer<R extends Reducer<any, any>>(\n        reducer: R,\n        initialState: ReducerState<R>,\n        initializer?: undefined\n    ): [ReducerState<R>, Dispatch<ReducerAction<R>>];\n    /**\n     * `useRef` returns a mutable ref object whose `.current` property is initialized to the passed argument\n     * (`initialValue`). The returned object will persist for the full lifetime of the component.\n     *\n     * Note that `useRef()` is useful for more than the `ref` attribute. It’s handy for keeping any mutable\n     * value around similar to how you’d use instance fields in classes.\n     *\n     * @version 16.8.0\n     * @see https://reactjs.org/docs/hooks-reference.html#useref\n     */\n    function useRef<T>(initialValue: T): MutableRefObject<T>;\n    // convenience overload for refs given as a ref prop as they typically start with a null value\n    /**\n     * `useRef` returns a mutable ref object whose `.current` property is initialized to the passed argument\n     * (`initialValue`). The returned object will persist for the full lifetime of the component.\n     *\n     * Note that `useRef()` is useful for more than the `ref` attribute. It’s handy for keeping any mutable\n     * value around similar to how you’d use instance fields in classes.\n     *\n     * Usage note: if you need the result of useRef to be directly mutable, include `| null` in the type\n     * of the generic argument.\n     *\n     * @version 16.8.0\n     * @see https://reactjs.org/docs/hooks-reference.html#useref\n     */\n    function useRef<T>(initialValue: T|null): RefObject<T>;\n    // convenience overload for potentially undefined initialValue / call with 0 arguments\n    // has a default to stop it from defaulting to {} instead\n    /**\n     * `useRef` returns a mutable ref object whose `.current` property is initialized to the passed argument\n     * (`initialValue`). The returned object will persist for the full lifetime of the component.\n     *\n     * Note that `useRef()` is useful for more than the `ref` attribute. It’s handy for keeping any mutable\n     * value around similar to how you’d use instance fields in classes.\n     *\n     * @version 16.8.0\n     * @see https://reactjs.org/docs/hooks-reference.html#useref\n     */\n    function useRef<T = undefined>(): MutableRefObject<T | undefined>;\n    /**\n     * The signature is identical to `useEffect`, but it fires synchronously after all DOM mutations.\n     * Use this to read layout from the DOM and synchronously re-render. Updates scheduled inside\n     * `useLayoutEffect` will be flushed synchronously, before the browser has a chance to paint.\n     *\n     * Prefer the standard `useEffect` when possible to avoid blocking visual updates.\n     *\n     * If you’re migrating code from a class component, `useLayoutEffect` fires in the same phase as\n     * `componentDidMount` and `componentDidUpdate`.\n     *\n     * @version 16.8.0\n     * @see https://reactjs.org/docs/hooks-reference.html#uselayouteffect\n     */\n    function useLayoutEffect(effect: EffectCallback, deps?: DependencyList): void;\n    /**\n     * Accepts a function that contains imperative, possibly effectful code.\n     *\n     * @param effect Imperative function that can return a cleanup function\n     * @param deps If present, effect will only activate if the values in the list change.\n     *\n     * @version 16.8.0\n     * @see https://reactjs.org/docs/hooks-reference.html#useeffect\n     */\n    function useEffect(effect: EffectCallback, deps?: DependencyList): void;\n    // NOTE: this does not accept strings, but this will have to be fixed by removing strings from type Ref<T>\n    /**\n     * `useImperativeHandle` customizes the instance value that is exposed to parent components when using\n     * `ref`. As always, imperative code using refs should be avoided in most cases.\n     *\n     * `useImperativeHandle` should be used with `React.forwardRef`.\n     *\n     * @version 16.8.0\n     * @see https://reactjs.org/docs/hooks-reference.html#useimperativehandle\n     */\n    function useImperativeHandle<T, R extends T>(ref: Ref<T>|undefined, init: () => R, deps?: DependencyList): void;\n    // I made 'inputs' required here and in useMemo as there's no point to memoizing without the memoization key\n    // useCallback(X) is identical to just using X, useMemo(() => Y) is identical to just using Y.\n    /**\n     * `useCallback` will return a memoized version of the callback that only changes if one of the `inputs`\n     * has changed.\n     *\n     * @version 16.8.0\n     * @see https://reactjs.org/docs/hooks-reference.html#usecallback\n     */\n    // TODO (TypeScript 3.0): <T extends (...args: never[]) => unknown>\n    function useCallback<T extends (...args: any[]) => any>(callback: T, deps: DependencyList): T;\n    /**\n     * `useMemo` will only recompute the memoized value when one of the `deps` has changed.\n     *\n     * @version 16.8.0\n     * @see https://reactjs.org/docs/hooks-reference.html#usememo\n     */\n    // allow undefined, but don't make it optional as that is very likely a mistake\n    function useMemo<T>(factory: () => T, deps: DependencyList | undefined): T;\n    /**\n     * `useDebugValue` can be used to display a label for custom hooks in React DevTools.\n     *\n     * NOTE: We don’t recommend adding debug values to every custom hook.\n     * It’s most valuable for custom hooks that are part of shared libraries.\n     *\n     * @version 16.8.0\n     * @see https://reactjs.org/docs/hooks-reference.html#usedebugvalue\n     */\n    // the name of the custom hook is itself derived from the function name at runtime:\n    // it's just the function name without the \"use\" prefix.\n    function useDebugValue<T>(value: T, format?: (value: T) => any): void;\n\n    //\n    // Event System\n    // ----------------------------------------------------------------------\n    // TODO: change any to unknown when moving to TS v3\n    interface BaseSyntheticEvent<E = object, C = any, T = any> {\n        nativeEvent: E;\n        currentTarget: C;\n        target: T;\n        bubbles: boolean;\n        cancelable: boolean;\n        defaultPrevented: boolean;\n        eventPhase: number;\n        isTrusted: boolean;\n        preventDefault(): void;\n        isDefaultPrevented(): boolean;\n        stopPropagation(): void;\n        isPropagationStopped(): boolean;\n        persist(): void;\n        timeStamp: number;\n        type: string;\n    }\n\n    /**\n     * currentTarget - a reference to the element on which the event listener is registered.\n     *\n     * target - a reference to the element from which the event was originally dispatched.\n     * This might be a child element to the element on which the event listener is registered.\n     * If you thought this should be `EventTarget & T`, see https://github.com/DefinitelyTyped/DefinitelyTyped/issues/11508#issuecomment-256045682\n     */\n    interface SyntheticEvent<T = Element, E = Event> extends BaseSyntheticEvent<E, EventTarget & T, EventTarget> {}\n\n    interface ClipboardEvent<T = Element> extends SyntheticEvent<T, NativeClipboardEvent> {\n        clipboardData: DataTransfer;\n    }\n\n    interface CompositionEvent<T = Element> extends SyntheticEvent<T, NativeCompositionEvent> {\n        data: string;\n    }\n\n    interface DragEvent<T = Element> extends MouseEvent<T, NativeDragEvent> {\n        dataTransfer: DataTransfer;\n    }\n\n    interface PointerEvent<T = Element> extends MouseEvent<T, NativePointerEvent> {\n        pointerId: number;\n        pressure: number;\n        tangentialPressure: number;\n        tiltX: number;\n        tiltY: number;\n        twist: number;\n        width: number;\n        height: number;\n        pointerType: 'mouse' | 'pen' | 'touch';\n        isPrimary: boolean;\n    }\n\n    interface FocusEvent<Target = Element, RelatedTarget = Element> extends SyntheticEvent<Target, NativeFocusEvent> {\n        relatedTarget: (EventTarget & RelatedTarget) | null;\n        target: EventTarget & Target;\n    }\n\n    // tslint:disable-next-line:no-empty-interface\n    interface FormEvent<T = Element> extends SyntheticEvent<T> {\n    }\n\n    interface InvalidEvent<T = Element> extends SyntheticEvent<T> {\n        target: EventTarget & T;\n    }\n\n    interface ChangeEvent<T = Element> extends SyntheticEvent<T> {\n        target: EventTarget & T;\n    }\n\n    export type ModifierKey = \"Alt\" | \"AltGraph\" | \"CapsLock\" | \"Control\" | \"Fn\" | \"FnLock\" | \"Hyper\" | \"Meta\" | \"NumLock\" | \"ScrollLock\" | \"Shift\" | \"Super\" | \"Symbol\" | \"SymbolLock\";\n\n    interface KeyboardEvent<T = Element> extends UIEvent<T, NativeKeyboardEvent> {\n        altKey: boolean;\n        /** @deprecated */\n        charCode: number;\n        ctrlKey: boolean;\n        /**\n         * See [DOM Level 3 Events spec](https://www.w3.org/TR/uievents-key/#keys-modifier). for a list of valid (case-sensitive) arguments to this method.\n         */\n        getModifierState(key: ModifierKey): boolean;\n        /**\n         * See the [DOM Level 3 Events spec](https://www.w3.org/TR/uievents-key/#named-key-attribute-values). for possible values\n         */\n        key: string;\n        /** @deprecated */\n        keyCode: number;\n        locale: string;\n        location: number;\n        metaKey: boolean;\n        repeat: boolean;\n        shiftKey: boolean;\n        /** @deprecated */\n        which: number;\n    }\n\n    interface MouseEvent<T = Element, E = NativeMouseEvent> extends UIEvent<T, E> {\n        altKey: boolean;\n        button: number;\n        buttons: number;\n        clientX: number;\n        clientY: number;\n        ctrlKey: boolean;\n        /**\n         * See [DOM Level 3 Events spec](https://www.w3.org/TR/uievents-key/#keys-modifier). for a list of valid (case-sensitive) arguments to this method.\n         */\n        getModifierState(key: ModifierKey): boolean;\n        metaKey: boolean;\n        movementX: number;\n        movementY: number;\n        pageX: number;\n        pageY: number;\n        relatedTarget: EventTarget | null;\n        screenX: number;\n        screenY: number;\n        shiftKey: boolean;\n    }\n\n    interface TouchEvent<T = Element> extends UIEvent<T, NativeTouchEvent> {\n        altKey: boolean;\n        changedTouches: TouchList;\n        ctrlKey: boolean;\n        /**\n         * See [DOM Level 3 Events spec](https://www.w3.org/TR/uievents-key/#keys-modifier). for a list of valid (case-sensitive) arguments to this method.\n         */\n        getModifierState(key: ModifierKey): boolean;\n        metaKey: boolean;\n        shiftKey: boolean;\n        targetTouches: TouchList;\n        touches: TouchList;\n    }\n\n    interface UIEvent<T = Element, E = NativeUIEvent> extends SyntheticEvent<T, E> {\n        detail: number;\n        view: AbstractView;\n    }\n\n    interface WheelEvent<T = Element> extends MouseEvent<T, NativeWheelEvent> {\n        deltaMode: number;\n        deltaX: number;\n        deltaY: number;\n        deltaZ: number;\n    }\n\n    interface AnimationEvent<T = Element> extends SyntheticEvent<T, NativeAnimationEvent> {\n        animationName: string;\n        elapsedTime: number;\n        pseudoElement: string;\n    }\n\n    interface TransitionEvent<T = Element> extends SyntheticEvent<T, NativeTransitionEvent> {\n        elapsedTime: number;\n        propertyName: string;\n        pseudoElement: string;\n    }\n\n    //\n    // Event Handler Types\n    // ----------------------------------------------------------------------\n\n    type EventHandler<E extends SyntheticEvent<any>> = { bivarianceHack(event: E): void }[\"bivarianceHack\"];\n\n    type ReactEventHandler<T = Element> = EventHandler<SyntheticEvent<T>>;\n\n    type ClipboardEventHandler<T = Element> = EventHandler<ClipboardEvent<T>>;\n    type CompositionEventHandler<T = Element> = EventHandler<CompositionEvent<T>>;\n    type DragEventHandler<T = Element> = EventHandler<DragEvent<T>>;\n    type FocusEventHandler<T = Element> = EventHandler<FocusEvent<T>>;\n    type FormEventHandler<T = Element> = EventHandler<FormEvent<T>>;\n    type ChangeEventHandler<T = Element> = EventHandler<ChangeEvent<T>>;\n    type KeyboardEventHandler<T = Element> = EventHandler<KeyboardEvent<T>>;\n    type MouseEventHandler<T = Element> = EventHandler<MouseEvent<T>>;\n    type TouchEventHandler<T = Element> = EventHandler<TouchEvent<T>>;\n    type PointerEventHandler<T = Element> = EventHandler<PointerEvent<T>>;\n    type UIEventHandler<T = Element> = EventHandler<UIEvent<T>>;\n    type WheelEventHandler<T = Element> = EventHandler<WheelEvent<T>>;\n    type AnimationEventHandler<T = Element> = EventHandler<AnimationEvent<T>>;\n    type TransitionEventHandler<T = Element> = EventHandler<TransitionEvent<T>>;\n\n    //\n    // Props / DOM Attributes\n    // ----------------------------------------------------------------------\n\n    /**\n     * @deprecated. This was used to allow clients to pass `ref` and `key`\n     * to `createElement`, which is no longer necessary due to intersection\n     * types. If you need to declare a props object before passing it to\n     * `createElement` or a factory, use `ClassAttributes<T>`:\n     *\n     * ```ts\n     * var b: Button | null;\n     * var props: ButtonProps & ClassAttributes<Button> = {\n     *     ref: b => button = b, // ok!\n     *     label: \"I'm a Button\"\n     * };\n     * ```\n     */\n    interface Props<T> {\n        children?: ReactNode | undefined;\n        key?: Key | undefined;\n        ref?: LegacyRef<T> | undefined;\n    }\n\n    interface HTMLProps<T> extends AllHTMLAttributes<T>, ClassAttributes<T> {\n    }\n\n    type DetailedHTMLProps<E extends HTMLAttributes<T>, T> = ClassAttributes<T> & E;\n\n    interface SVGProps<T> extends SVGAttributes<T>, ClassAttributes<T> {\n    }\n\n    interface DOMAttributes<T> {\n        children?: ReactNode | undefined;\n        dangerouslySetInnerHTML?: {\n            __html: string;\n        } | undefined;\n\n        // Clipboard Events\n        onCopy?: ClipboardEventHandler<T> | undefined;\n        onCopyCapture?: ClipboardEventHandler<T> | undefined;\n        onCut?: ClipboardEventHandler<T> | undefined;\n        onCutCapture?: ClipboardEventHandler<T> | undefined;\n        onPaste?: ClipboardEventHandler<T> | undefined;\n        onPasteCapture?: ClipboardEventHandler<T> | undefined;\n\n        // Composition Events\n        onCompositionEnd?: CompositionEventHandler<T> | undefined;\n        onCompositionEndCapture?: CompositionEventHandler<T> | undefined;\n        onCompositionStart?: CompositionEventHandler<T> | undefined;\n        onCompositionStartCapture?: CompositionEventHandler<T> | undefined;\n        onCompositionUpdate?: CompositionEventHandler<T> | undefined;\n        onCompositionUpdateCapture?: CompositionEventHandler<T> | undefined;\n\n        // Focus Events\n        onFocus?: FocusEventHandler<T> | undefined;\n        onFocusCapture?: FocusEventHandler<T> | undefined;\n        onBlur?: FocusEventHandler<T> | undefined;\n        onBlurCapture?: FocusEventHandler<T> | undefined;\n\n        // Form Events\n        onChange?: FormEventHandler<T> | undefined;\n        onChangeCapture?: FormEventHandler<T> | undefined;\n        onBeforeInput?: FormEventHandler<T> | undefined;\n        onBeforeInputCapture?: FormEventHandler<T> | undefined;\n        onInput?: FormEventHandler<T> | undefined;\n        onInputCapture?: FormEventHandler<T> | undefined;\n        onReset?: FormEventHandler<T> | undefined;\n        onResetCapture?: FormEventHandler<T> | undefined;\n        onSubmit?: FormEventHandler<T> | undefined;\n        onSubmitCapture?: FormEventHandler<T> | undefined;\n        onInvalid?: FormEventHandler<T> | undefined;\n        onInvalidCapture?: FormEventHandler<T> | undefined;\n\n        // Image Events\n        onLoad?: ReactEventHandler<T> | undefined;\n        onLoadCapture?: ReactEventHandler<T> | undefined;\n        onError?: ReactEventHandler<T> | undefined; // also a Media Event\n        onErrorCapture?: ReactEventHandler<T> | undefined; // also a Media Event\n\n        // Keyboard Events\n        onKeyDown?: KeyboardEventHandler<T> | undefined;\n        onKeyDownCapture?: KeyboardEventHandler<T> | undefined;\n        /** @deprecated */\n        onKeyPress?: KeyboardEventHandler<T> | undefined;\n        /** @deprecated */\n        onKeyPressCapture?: KeyboardEventHandler<T> | undefined;\n        onKeyUp?: KeyboardEventHandler<T> | undefined;\n        onKeyUpCapture?: KeyboardEventHandler<T> | undefined;\n\n        // Media Events\n        onAbort?: ReactEventHandler<T> | undefined;\n        onAbortCapture?: ReactEventHandler<T> | undefined;\n        onCanPlay?: ReactEventHandler<T> | undefined;\n        onCanPlayCapture?: ReactEventHandler<T> | undefined;\n        onCanPlayThrough?: ReactEventHandler<T> | undefined;\n        onCanPlayThroughCapture?: ReactEventHandler<T> | undefined;\n        onDurationChange?: ReactEventHandler<T> | undefined;\n        onDurationChangeCapture?: ReactEventHandler<T> | undefined;\n        onEmptied?: ReactEventHandler<T> | undefined;\n        onEmptiedCapture?: ReactEventHandler<T> | undefined;\n        onEncrypted?: ReactEventHandler<T> | undefined;\n        onEncryptedCapture?: ReactEventHandler<T> | undefined;\n        onEnded?: ReactEventHandler<T> | undefined;\n        onEndedCapture?: ReactEventHandler<T> | undefined;\n        onLoadedData?: ReactEventHandler<T> | undefined;\n        onLoadedDataCapture?: ReactEventHandler<T> | undefined;\n        onLoadedMetadata?: ReactEventHandler<T> | undefined;\n        onLoadedMetadataCapture?: ReactEventHandler<T> | undefined;\n        onLoadStart?: ReactEventHandler<T> | undefined;\n        onLoadStartCapture?: ReactEventHandler<T> | undefined;\n        onPause?: ReactEventHandler<T> | undefined;\n        onPauseCapture?: ReactEventHandler<T> | undefined;\n        onPlay?: ReactEventHandler<T> | undefined;\n        onPlayCapture?: ReactEventHandler<T> | undefined;\n        onPlaying?: ReactEventHandler<T> | undefined;\n        onPlayingCapture?: ReactEventHandler<T> | undefined;\n        onProgress?: ReactEventHandler<T> | undefined;\n        onProgressCapture?: ReactEventHandler<T> | undefined;\n        onRateChange?: ReactEventHandler<T> | undefined;\n        onRateChangeCapture?: ReactEventHandler<T> | undefined;\n        onSeeked?: ReactEventHandler<T> | undefined;\n        onSeekedCapture?: ReactEventHandler<T> | undefined;\n        onSeeking?: ReactEventHandler<T> | undefined;\n        onSeekingCapture?: ReactEventHandler<T> | undefined;\n        onStalled?: ReactEventHandler<T> | undefined;\n        onStalledCapture?: ReactEventHandler<T> | undefined;\n        onSuspend?: ReactEventHandler<T> | undefined;\n        onSuspendCapture?: ReactEventHandler<T> | undefined;\n        onTimeUpdate?: ReactEventHandler<T> | undefined;\n        onTimeUpdateCapture?: ReactEventHandler<T> | undefined;\n        onVolumeChange?: ReactEventHandler<T> | undefined;\n        onVolumeChangeCapture?: ReactEventHandler<T> | undefined;\n        onWaiting?: ReactEventHandler<T> | undefined;\n        onWaitingCapture?: ReactEventHandler<T> | undefined;\n\n        // MouseEvents\n        onAuxClick?: MouseEventHandler<T> | undefined;\n        onAuxClickCapture?: MouseEventHandler<T> | undefined;\n        onClick?: MouseEventHandler<T> | undefined;\n        onClickCapture?: MouseEventHandler<T> | undefined;\n        onContextMenu?: MouseEventHandler<T> | undefined;\n        onContextMenuCapture?: MouseEventHandler<T> | undefined;\n        onDoubleClick?: MouseEventHandler<T> | undefined;\n        onDoubleClickCapture?: MouseEventHandler<T> | undefined;\n        onDrag?: DragEventHandler<T> | undefined;\n        onDragCapture?: DragEventHandler<T> | undefined;\n        onDragEnd?: DragEventHandler<T> | undefined;\n        onDragEndCapture?: DragEventHandler<T> | undefined;\n        onDragEnter?: DragEventHandler<T> | undefined;\n        onDragEnterCapture?: DragEventHandler<T> | undefined;\n        onDragExit?: DragEventHandler<T> | undefined;\n        onDragExitCapture?: DragEventHandler<T> | undefined;\n        onDragLeave?: DragEventHandler<T> | undefined;\n        onDragLeaveCapture?: DragEventHandler<T> | undefined;\n        onDragOver?: DragEventHandler<T> | undefined;\n        onDragOverCapture?: DragEventHandler<T> | undefined;\n        onDragStart?: DragEventHandler<T> | undefined;\n        onDragStartCapture?: DragEventHandler<T> | undefined;\n        onDrop?: DragEventHandler<T> | undefined;\n        onDropCapture?: DragEventHandler<T> | undefined;\n        onMouseDown?: MouseEventHandler<T> | undefined;\n        onMouseDownCapture?: MouseEventHandler<T> | undefined;\n        onMouseEnter?: MouseEventHandler<T> | undefined;\n        onMouseLeave?: MouseEventHandler<T> | undefined;\n        onMouseMove?: MouseEventHandler<T> | undefined;\n        onMouseMoveCapture?: MouseEventHandler<T> | undefined;\n        onMouseOut?: MouseEventHandler<T> | undefined;\n        onMouseOutCapture?: MouseEventHandler<T> | undefined;\n        onMouseOver?: MouseEventHandler<T> | undefined;\n        onMouseOverCapture?: MouseEventHandler<T> | undefined;\n        onMouseUp?: MouseEventHandler<T> | undefined;\n        onMouseUpCapture?: MouseEventHandler<T> | undefined;\n\n        // Selection Events\n        onSelect?: ReactEventHandler<T> | undefined;\n        onSelectCapture?: ReactEventHandler<T> | undefined;\n\n        // Touch Events\n        onTouchCancel?: TouchEventHandler<T> | undefined;\n        onTouchCancelCapture?: TouchEventHandler<T> | undefined;\n        onTouchEnd?: TouchEventHandler<T> | undefined;\n        onTouchEndCapture?: TouchEventHandler<T> | undefined;\n        onTouchMove?: TouchEventHandler<T> | undefined;\n        onTouchMoveCapture?: TouchEventHandler<T> | undefined;\n        onTouchStart?: TouchEventHandler<T> | undefined;\n        onTouchStartCapture?: TouchEventHandler<T> | undefined;\n\n        // Pointer Events\n        onPointerDown?: PointerEventHandler<T> | undefined;\n        onPointerDownCapture?: PointerEventHandler<T> | undefined;\n        onPointerMove?: PointerEventHandler<T> | undefined;\n        onPointerMoveCapture?: PointerEventHandler<T> | undefined;\n        onPointerUp?: PointerEventHandler<T> | undefined;\n        onPointerUpCapture?: PointerEventHandler<T> | undefined;\n        onPointerCancel?: PointerEventHandler<T> | undefined;\n        onPointerCancelCapture?: PointerEventHandler<T> | undefined;\n        onPointerEnter?: PointerEventHandler<T> | undefined;\n        onPointerEnterCapture?: PointerEventHandler<T> | undefined;\n        onPointerLeave?: PointerEventHandler<T> | undefined;\n        onPointerLeaveCapture?: PointerEventHandler<T> | undefined;\n        onPointerOver?: PointerEventHandler<T> | undefined;\n        onPointerOverCapture?: PointerEventHandler<T> | undefined;\n        onPointerOut?: PointerEventHandler<T> | undefined;\n        onPointerOutCapture?: PointerEventHandler<T> | undefined;\n        onGotPointerCapture?: PointerEventHandler<T> | undefined;\n        onGotPointerCaptureCapture?: PointerEventHandler<T> | undefined;\n        onLostPointerCapture?: PointerEventHandler<T> | undefined;\n        onLostPointerCaptureCapture?: PointerEventHandler<T> | undefined;\n\n        // UI Events\n        onScroll?: UIEventHandler<T> | undefined;\n        onScrollCapture?: UIEventHandler<T> | undefined;\n\n        // Wheel Events\n        onWheel?: WheelEventHandler<T> | undefined;\n        onWheelCapture?: WheelEventHandler<T> | undefined;\n\n        // Animation Events\n        onAnimationStart?: AnimationEventHandler<T> | undefined;\n        onAnimationStartCapture?: AnimationEventHandler<T> | undefined;\n        onAnimationEnd?: AnimationEventHandler<T> | undefined;\n        onAnimationEndCapture?: AnimationEventHandler<T> | undefined;\n        onAnimationIteration?: AnimationEventHandler<T> | undefined;\n        onAnimationIterationCapture?: AnimationEventHandler<T> | undefined;\n\n        // Transition Events\n        onTransitionEnd?: TransitionEventHandler<T> | undefined;\n        onTransitionEndCapture?: TransitionEventHandler<T> | undefined;\n    }\n\n    export interface CSSProperties extends CSS.Properties<string | number> {\n        /**\n         * The index signature was removed to enable closed typing for style\n         * using CSSType. You're able to use type assertion or module augmentation\n         * to add properties or an index signature of your own.\n         *\n         * For examples and more information, visit:\n         * https://github.com/frenic/csstype#what-should-i-do-when-i-get-type-errors\n         */\n    }\n\n    // All the WAI-ARIA 1.1 attributes from https://www.w3.org/TR/wai-aria-1.1/\n    interface AriaAttributes {\n        /** Identifies the currently active element when DOM focus is on a composite widget, textbox, group, or application. */\n        'aria-activedescendant'?: string | undefined;\n        /** Indicates whether assistive technologies will present all, or only parts of, the changed region based on the change notifications defined by the aria-relevant attribute. */\n        'aria-atomic'?: boolean | 'false' | 'true' | undefined;\n        /**\n         * Indicates whether inputting text could trigger display of one or more predictions of the user's intended value for an input and specifies how predictions would be\n         * presented if they are made.\n         */\n        'aria-autocomplete'?: 'none' | 'inline' | 'list' | 'both' | undefined;\n        /** Indicates an element is being modified and that assistive technologies MAY want to wait until the modifications are complete before exposing them to the user. */\n        'aria-busy'?: boolean | 'false' | 'true' | undefined;\n        /**\n         * Indicates the current \"checked\" state of checkboxes, radio buttons, and other widgets.\n         * @see aria-pressed @see aria-selected.\n         */\n        'aria-checked'?: boolean | 'false' | 'mixed' | 'true' | undefined;\n        /**\n         * Defines the total number of columns in a table, grid, or treegrid.\n         * @see aria-colindex.\n         */\n        'aria-colcount'?: number | undefined;\n        /**\n         * Defines an element's column index or position with respect to the total number of columns within a table, grid, or treegrid.\n         * @see aria-colcount @see aria-colspan.\n         */\n        'aria-colindex'?: number | undefined;\n        /**\n         * Defines the number of columns spanned by a cell or gridcell within a table, grid, or treegrid.\n         * @see aria-colindex @see aria-rowspan.\n         */\n        'aria-colspan'?: number | undefined;\n        /**\n         * Identifies the element (or elements) whose contents or presence are controlled by the current element.\n         * @see aria-owns.\n         */\n        'aria-controls'?: string | undefined;\n        /** Indicates the element that represents the current item within a container or set of related elements. */\n        'aria-current'?: boolean | 'false' | 'true' | 'page' | 'step' | 'location' | 'date' | 'time' | undefined;\n        /**\n         * Identifies the element (or elements) that describes the object.\n         * @see aria-labelledby\n         */\n        'aria-describedby'?: string | undefined;\n        /**\n         * Identifies the element that provides a detailed, extended description for the object.\n         * @see aria-describedby.\n         */\n        'aria-details'?: string | undefined;\n        /**\n         * Indicates that the element is perceivable but disabled, so it is not editable or otherwise operable.\n         * @see aria-hidden @see aria-readonly.\n         */\n        'aria-disabled'?: boolean | 'false' | 'true' | undefined;\n        /**\n         * Indicates what functions can be performed when a dragged object is released on the drop target.\n         * @deprecated in ARIA 1.1\n         */\n        'aria-dropeffect'?: 'none' | 'copy' | 'execute' | 'link' | 'move' | 'popover' | undefined;\n        /**\n         * Identifies the element that provides an error message for the object.\n         * @see aria-invalid @see aria-describedby.\n         */\n        'aria-errormessage'?: string | undefined;\n        /** Indicates whether the element, or another grouping element it controls, is currently expanded or collapsed. */\n        'aria-expanded'?: boolean | 'false' | 'true' | undefined;\n        /**\n         * Identifies the next element (or elements) in an alternate reading order of content which, at the user's discretion,\n         * allows assistive technology to override the general default of reading in document source order.\n         */\n        'aria-flowto'?: string | undefined;\n        /**\n         * Indicates an element's \"grabbed\" state in a drag-and-drop operation.\n         * @deprecated in ARIA 1.1\n         */\n        'aria-grabbed'?: boolean | 'false' | 'true' | undefined;\n        /** Indicates the availability and type of interactive popover element, such as menu or dialog, that can be triggered by an element. */\n        'aria-haspopover'?: boolean | 'false' | 'true' | 'menu' | 'listbox' | 'tree' | 'grid' | 'dialog' | undefined;\n        /**\n         * Indicates whether the element is exposed to an accessibility API.\n         * @see aria-disabled.\n         */\n        'aria-hidden'?: boolean | 'false' | 'true' | undefined;\n        /**\n         * Indicates the entered value does not conform to the format expected by the application.\n         * @see aria-errormessage.\n         */\n        'aria-invalid'?: boolean | 'false' | 'true' | 'grammar' | 'spelling' | undefined;\n        /** Indicates keyboard shortcuts that an author has implemented to activate or give focus to an element. */\n        'aria-keyshortcuts'?: string | undefined;\n        /**\n         * Defines a string value that labels the current element.\n         * @see aria-labelledby.\n         */\n        'aria-label'?: string | undefined;\n        /**\n         * Identifies the element (or elements) that labels the current element.\n         * @see aria-describedby.\n         */\n        'aria-labelledby'?: string | undefined;\n        /** Defines the hierarchical level of an element within a structure. */\n        'aria-level'?: number | undefined;\n        /** Indicates that an element will be updated, and describes the types of updates the user agents, assistive technologies, and user can expect from the live region. */\n        'aria-live'?: 'off' | 'assertive' | 'polite' | undefined;\n        /** Indicates whether an element is modal when displayed. */\n        'aria-modal'?: boolean | 'false' | 'true' | undefined;\n        /** Indicates whether a text box accepts multiple lines of input or only a single line. */\n        'aria-multiline'?: boolean | 'false' | 'true' | undefined;\n        /** Indicates that the user may select more than one item from the current selectable descendants. */\n        'aria-multiselectable'?: boolean | 'false' | 'true' | undefined;\n        /** Indicates whether the element's orientation is horizontal, vertical, or unknown/ambiguous. */\n        'aria-orientation'?: 'horizontal' | 'vertical' | undefined;\n        /**\n         * Identifies an element (or elements) in order to define a visual, functional, or contextual parent/child relationship\n         * between DOM elements where the DOM hierarchy cannot be used to represent the relationship.\n         * @see aria-controls.\n         */\n        'aria-owns'?: string | undefined;\n        /**\n         * Defines a short hint (a word or short phrase) intended to aid the user with data entry when the control has no value.\n         * A hint could be a sample value or a brief description of the expected format.\n         */\n        'aria-placeholder'?: string | undefined;\n        /**\n         * Defines an element's number or position in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM.\n         * @see aria-setsize.\n         */\n        'aria-posinset'?: number | undefined;\n        /**\n         * Indicates the current \"pressed\" state of toggle buttons.\n         * @see aria-checked @see aria-selected.\n         */\n        'aria-pressed'?: boolean | 'false' | 'mixed' | 'true' | undefined;\n        /**\n         * Indicates that the element is not editable, but is otherwise operable.\n         * @see aria-disabled.\n         */\n        'aria-readonly'?: boolean | 'false' | 'true' | undefined;\n        /**\n         * Indicates what notifications the user agent will trigger when the accessibility tree within a live region is modified.\n         * @see aria-atomic.\n         */\n        'aria-relevant'?: 'additions' | 'additions removals' | 'additions text' | 'all' | 'removals' | 'removals additions' | 'removals text' | 'text' | 'text additions' | 'text removals' | undefined;\n        /** Indicates that user input is required on the element before a form may be submitted. */\n        'aria-required'?: boolean | 'false' | 'true' | undefined;\n        /** Defines a human-readable, author-localized description for the role of an element. */\n        'aria-roledescription'?: string | undefined;\n        /**\n         * Defines the total number of rows in a table, grid, or treegrid.\n         * @see aria-rowindex.\n         */\n        'aria-rowcount'?: number | undefined;\n        /**\n         * Defines an element's row index or position with respect to the total number of rows within a table, grid, or treegrid.\n         * @see aria-rowcount @see aria-rowspan.\n         */\n        'aria-rowindex'?: number | undefined;\n        /**\n         * Defines the number of rows spanned by a cell or gridcell within a table, grid, or treegrid.\n         * @see aria-rowindex @see aria-colspan.\n         */\n        'aria-rowspan'?: number | undefined;\n        /**\n         * Indicates the current \"selected\" state of various widgets.\n         * @see aria-checked @see aria-pressed.\n         */\n        'aria-selected'?: boolean | 'false' | 'true' | undefined;\n        /**\n         * Defines the number of items in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM.\n         * @see aria-posinset.\n         */\n        'aria-setsize'?: number | undefined;\n        /** Indicates if items in a table or grid are sorted in ascending or descending order. */\n        'aria-sort'?: 'none' | 'ascending' | 'descending' | 'other' | undefined;\n        /** Defines the maximum allowed value for a range widget. */\n        'aria-valuemax'?: number | undefined;\n        /** Defines the minimum allowed value for a range widget. */\n        'aria-valuemin'?: number | undefined;\n        /**\n         * Defines the current value for a range widget.\n         * @see aria-valuetext.\n         */\n        'aria-valuenow'?: number | undefined;\n        /** Defines the human readable text alternative of aria-valuenow for a range widget. */\n        'aria-valuetext'?: string | undefined;\n    }\n\n    // All the WAI-ARIA 1.1 role attribute values from https://www.w3.org/TR/wai-aria-1.1/#role_definitions\n    type AriaRole =\n        | 'alert'\n        | 'alertdialog'\n        | 'application'\n        | 'article'\n        | 'banner'\n        | 'button'\n        | 'cell'\n        | 'checkbox'\n        | 'columnheader'\n        | 'combobox'\n        | 'complementary'\n        | 'contentinfo'\n        | 'definition'\n        | 'dialog'\n        | 'directory'\n        | 'document'\n        | 'feed'\n        | 'figure'\n        | 'form'\n        | 'grid'\n        | 'gridcell'\n        | 'group'\n        | 'heading'\n        | 'img'\n        | 'link'\n        | 'list'\n        | 'listbox'\n        | 'listitem'\n        | 'log'\n        | 'main'\n        | 'marquee'\n        | 'math'\n        | 'menu'\n        | 'menubar'\n        | 'menuitem'\n        | 'menuitemcheckbox'\n        | 'menuitemradio'\n        | 'navigation'\n        | 'none'\n        | 'note'\n        | 'option'\n        | 'presentation'\n        | 'progressbar'\n        | 'radio'\n        | 'radiogroup'\n        | 'region'\n        | 'row'\n        | 'rowgroup'\n        | 'rowheader'\n        | 'scrollbar'\n        | 'search'\n        | 'searchbox'\n        | 'separator'\n        | 'slider'\n        | 'spinbutton'\n        | 'status'\n        | 'switch'\n        | 'tab'\n        | 'table'\n        | 'tablist'\n        | 'tabpanel'\n        | 'term'\n        | 'textbox'\n        | 'timer'\n        | 'toolbar'\n        | 'tooltip'\n        | 'tree'\n        | 'treegrid'\n        | 'treeitem'\n        | (string & {});\n\n    interface HTMLAttributes<T> extends AriaAttributes, DOMAttributes<T> {\n        // React-specific Attributes\n        defaultChecked?: boolean | undefined;\n        defaultValue?: string | number | ReadonlyArray<string> | undefined;\n        suppressContentEditableWarning?: boolean | undefined;\n        suppressHydrationWarning?: boolean | undefined;\n\n        // Standard HTML Attributes\n        accessKey?: string | undefined;\n        className?: string | undefined;\n        contentEditable?: Booleanish | \"inherit\" | undefined;\n        contextMenu?: string | undefined;\n        dir?: string | undefined;\n        draggable?: Booleanish | undefined;\n        hidden?: boolean | undefined;\n        id?: string | undefined;\n        lang?: string | undefined;\n        nonce?: string | undefined;\n        placeholder?: string | undefined;\n        slot?: string | undefined;\n        spellCheck?: Booleanish | undefined;\n        style?: CSSProperties | undefined;\n        tabIndex?: number | undefined;\n        title?: string | undefined;\n        translate?: 'yes' | 'no' | undefined;\n\n        // Unknown\n        radioGroup?: string | undefined; // <command>, <menuitem>\n\n        // WAI-ARIA\n        role?: AriaRole | undefined;\n\n        // RDFa Attributes\n        about?: string | undefined;\n        datatype?: string | undefined;\n        inlist?: any;\n        prefix?: string | undefined;\n        property?: string | undefined;\n        resource?: string | undefined;\n        typeof?: string | undefined;\n        vocab?: string | undefined;\n\n        // Non-standard Attributes\n        autoCapitalize?: string | undefined;\n        autoCorrect?: string | undefined;\n        autoSave?: string | undefined;\n        color?: string | undefined;\n        itemProp?: string | undefined;\n        itemScope?: boolean | undefined;\n        itemType?: string | undefined;\n        itemID?: string | undefined;\n        itemRef?: string | undefined;\n        results?: number | undefined;\n        security?: string | undefined;\n        unselectable?: 'on' | 'off' | undefined;\n\n        // Living Standard\n        /**\n         * Hints at the type of data that might be entered by the user while editing the element or its contents\n         * @see https://html.spec.whatwg.org/multipage/interaction.html#input-modalities:-the-inputmode-attribute\n         */\n        inputMode?: 'none' | 'text' | 'tel' | 'url' | 'email' | 'numeric' | 'decimal' | 'search' | undefined;\n        /**\n         * Specify that a standard HTML element should behave like a defined custom built-in element\n         * @see https://html.spec.whatwg.org/multipage/custom-elements.html#attr-is\n         */\n        is?: string | undefined;\n    }\n\n    interface AllHTMLAttributes<T> extends HTMLAttributes<T> {\n        // Standard HTML Attributes\n        accept?: string | undefined;\n        acceptCharset?: string | undefined;\n        action?: string | undefined;\n        allowFullScreen?: boolean | undefined;\n        allowTransparency?: boolean | undefined;\n        alt?: string | undefined;\n        as?: string | undefined;\n        async?: boolean | undefined;\n        autoComplete?: string | undefined;\n        autoFocus?: boolean | undefined;\n        autoPlay?: boolean | undefined;\n        capture?: boolean | string | undefined;\n        cellPadding?: number | string | undefined;\n        cellSpacing?: number | string | undefined;\n        charSet?: string | undefined;\n        challenge?: string | undefined;\n        checked?: boolean | undefined;\n        cite?: string | undefined;\n        classID?: string | undefined;\n        cols?: number | undefined;\n        colSpan?: number | undefined;\n        content?: string | undefined;\n        controls?: boolean | undefined;\n        coords?: string | undefined;\n        crossOrigin?: string | undefined;\n        data?: string | undefined;\n        dateTime?: string | undefined;\n        default?: boolean | undefined;\n        defer?: boolean | undefined;\n        disabled?: boolean | undefined;\n        download?: any;\n        encType?: string | undefined;\n        form?: string | undefined;\n        formAction?: string | undefined;\n        formEncType?: string | undefined;\n        formMethod?: string | undefined;\n        formNoValidate?: boolean | undefined;\n        formTarget?: string | undefined;\n        frameBorder?: number | string | undefined;\n        headers?: string | undefined;\n        height?: number | string | undefined;\n        high?: number | undefined;\n        href?: string | undefined;\n        hrefLang?: string | undefined;\n        htmlFor?: string | undefined;\n        httpEquiv?: string | undefined;\n        integrity?: string | undefined;\n        keyParams?: string | undefined;\n        keyType?: string | undefined;\n        kind?: string | undefined;\n        label?: string | undefined;\n        list?: string | undefined;\n        loop?: boolean | undefined;\n        low?: number | undefined;\n        manifest?: string | undefined;\n        marginHeight?: number | undefined;\n        marginWidth?: number | undefined;\n        max?: number | string | undefined;\n        maxLength?: number | undefined;\n        media?: string | undefined;\n        mediaGroup?: string | undefined;\n        method?: string | undefined;\n        min?: number | string | undefined;\n        minLength?: number | undefined;\n        multiple?: boolean | undefined;\n        muted?: boolean | undefined;\n        name?: string | undefined;\n        noValidate?: boolean | undefined;\n        open?: boolean | undefined;\n        optimum?: number | undefined;\n        pattern?: string | undefined;\n        placeholder?: string | undefined;\n        playsInline?: boolean | undefined;\n        poster?: string | undefined;\n        preload?: string | undefined;\n        readOnly?: boolean | undefined;\n        rel?: string | undefined;\n        required?: boolean | undefined;\n        reversed?: boolean | undefined;\n        rows?: number | undefined;\n        rowSpan?: number | undefined;\n        sandbox?: string | undefined;\n        scope?: string | undefined;\n        scoped?: boolean | undefined;\n        scrolling?: string | undefined;\n        seamless?: boolean | undefined;\n        selected?: boolean | undefined;\n        shape?: string | undefined;\n        size?: number | undefined;\n        sizes?: string | undefined;\n        span?: number | undefined;\n        src?: string | undefined;\n        srcDoc?: string | undefined;\n        srcLang?: string | undefined;\n        srcSet?: string | undefined;\n        start?: number | undefined;\n        step?: number | string | undefined;\n        summary?: string | undefined;\n        target?: string | undefined;\n        type?: string | undefined;\n        useMap?: string | undefined;\n        value?: string | ReadonlyArray<string> | number | undefined;\n        width?: number | string | undefined;\n        wmode?: string | undefined;\n        wrap?: string | undefined;\n    }\n\n    type HTMLAttributeReferrerPolicy =\n        | ''\n        | 'no-referrer'\n        | 'no-referrer-when-downgrade'\n        | 'origin'\n        | 'origin-when-cross-origin'\n        | 'same-origin'\n        | 'strict-origin'\n        | 'strict-origin-when-cross-origin'\n        | 'unsafe-url';\n\n    type HTMLAttributeAnchorTarget =\n        | '_self'\n        | '_blank'\n        | '_parent'\n        | '_top'\n        | (string & {});\n\n    interface AnchorHTMLAttributes<T> extends HTMLAttributes<T> {\n        download?: any;\n        href?: string | undefined;\n        hrefLang?: string | undefined;\n        media?: string | undefined;\n        ping?: string | undefined;\n        rel?: string | undefined;\n        target?: HTMLAttributeAnchorTarget | undefined;\n        type?: string | undefined;\n        referrerPolicy?: HTMLAttributeReferrerPolicy | undefined;\n    }\n\n    // tslint:disable-next-line:no-empty-interface\n    interface AudioHTMLAttributes<T> extends MediaHTMLAttributes<T> {}\n\n    interface AreaHTMLAttributes<T> extends HTMLAttributes<T> {\n        alt?: string | undefined;\n        coords?: string | undefined;\n        download?: any;\n        href?: string | undefined;\n        hrefLang?: string | undefined;\n        media?: string | undefined;\n        referrerPolicy?: HTMLAttributeReferrerPolicy | undefined;\n        rel?: string | undefined;\n        shape?: string | undefined;\n        target?: string | undefined;\n    }\n\n    interface BaseHTMLAttributes<T> extends HTMLAttributes<T> {\n        href?: string | undefined;\n        target?: string | undefined;\n    }\n\n    interface BlockquoteHTMLAttributes<T> extends HTMLAttributes<T> {\n        cite?: string | undefined;\n    }\n\n    interface ButtonHTMLAttributes<T> extends HTMLAttributes<T> {\n        autoFocus?: boolean | undefined;\n        disabled?: boolean | undefined;\n        form?: string | undefined;\n        formAction?: string | undefined;\n        formEncType?: string | undefined;\n        formMethod?: string | undefined;\n        formNoValidate?: boolean | undefined;\n        formTarget?: string | undefined;\n        name?: string | undefined;\n        type?: 'submit' | 'reset' | 'button' | undefined;\n        value?: string | ReadonlyArray<string> | number | undefined;\n    }\n\n    interface CanvasHTMLAttributes<T> extends HTMLAttributes<T> {\n        height?: number | string | undefined;\n        width?: number | string | undefined;\n    }\n\n    interface ColHTMLAttributes<T> extends HTMLAttributes<T> {\n        span?: number | undefined;\n        width?: number | string | undefined;\n    }\n\n    interface ColgroupHTMLAttributes<T> extends HTMLAttributes<T> {\n        span?: number | undefined;\n    }\n\n    interface DataHTMLAttributes<T> extends HTMLAttributes<T> {\n        value?: string | ReadonlyArray<string> | number | undefined;\n    }\n\n    interface DetailsHTMLAttributes<T> extends HTMLAttributes<T> {\n        open?: boolean | undefined;\n        onToggle?: ReactEventHandler<T> | undefined;\n    }\n\n    interface DelHTMLAttributes<T> extends HTMLAttributes<T> {\n        cite?: string | undefined;\n        dateTime?: string | undefined;\n    }\n\n    interface DialogHTMLAttributes<T> extends HTMLAttributes<T> {\n        onCancel?: ReactEventHandler<T> |  undefined;\n        onClose?: ReactEventHandler<T> |  undefined;\n        open?: boolean | undefined;\n    }\n\n    interface EmbedHTMLAttributes<T> extends HTMLAttributes<T> {\n        height?: number | string | undefined;\n        src?: string | undefined;\n        type?: string | undefined;\n        width?: number | string | undefined;\n    }\n\n    interface FieldsetHTMLAttributes<T> extends HTMLAttributes<T> {\n        disabled?: boolean | undefined;\n        form?: string | undefined;\n        name?: string | undefined;\n    }\n\n    interface FormHTMLAttributes<T> extends HTMLAttributes<T> {\n        acceptCharset?: string | undefined;\n        action?: string | undefined;\n        autoComplete?: string | undefined;\n        encType?: string | undefined;\n        method?: string | undefined;\n        name?: string | undefined;\n        noValidate?: boolean | undefined;\n        target?: string | undefined;\n        rel?: string | undefined;\n    }\n\n    interface HtmlHTMLAttributes<T> extends HTMLAttributes<T> {\n        manifest?: string | undefined;\n    }\n\n    interface IframeHTMLAttributes<T> extends HTMLAttributes<T> {\n        allow?: string | undefined;\n        allowFullScreen?: boolean | undefined;\n        allowTransparency?: boolean | undefined;\n        /** @deprecated */\n        frameBorder?: number | string | undefined;\n        height?: number | string | undefined;\n        loading?: \"eager\" | \"lazy\" | undefined;\n        /** @deprecated */\n        marginHeight?: number | undefined;\n        /** @deprecated */\n        marginWidth?: number | undefined;\n        name?: string | undefined;\n        referrerPolicy?: HTMLAttributeReferrerPolicy | undefined;\n        sandbox?: string | undefined;\n        /** @deprecated */\n        scrolling?: string | undefined;\n        seamless?: boolean | undefined;\n        src?: string | undefined;\n        srcDoc?: string | undefined;\n        width?: number | string | undefined;\n    }\n\n    interface ImgHTMLAttributes<T> extends HTMLAttributes<T> {\n        alt?: string | undefined;\n        crossOrigin?: \"anonymous\" | \"use-credentials\" | \"\" | undefined;\n        decoding?: \"async\" | \"auto\" | \"sync\" | undefined;\n        height?: number | string | undefined;\n        loading?: \"eager\" | \"lazy\" | undefined;\n        referrerPolicy?: HTMLAttributeReferrerPolicy | undefined;\n        sizes?: string | undefined;\n        src?: string | undefined;\n        srcSet?: string | undefined;\n        useMap?: string | undefined;\n        width?: number | string | undefined;\n    }\n\n    interface InsHTMLAttributes<T> extends HTMLAttributes<T> {\n        cite?: string | undefined;\n        dateTime?: string | undefined;\n    }\n\n    type HTMLInputTypeAttribute =\n        | 'button'\n        | 'checkbox'\n        | 'color'\n        | 'date'\n        | 'datetime-local'\n        | 'email'\n        | 'file'\n        | 'hidden'\n        | 'image'\n        | 'month'\n        | 'number'\n        | 'password'\n        | 'radio'\n        | 'range'\n        | 'reset'\n        | 'search'\n        | 'submit'\n        | 'tel'\n        | 'text'\n        | 'time'\n        | 'url'\n        | 'week'\n        | (string & {});\n\n    interface InputHTMLAttributes<T> extends HTMLAttributes<T> {\n        accept?: string | undefined;\n        alt?: string | undefined;\n        autoComplete?: string | undefined;\n        autoFocus?: boolean | undefined;\n        capture?: boolean | string | undefined; // https://www.w3.org/TR/html-media-capture/#the-capture-attribute\n        checked?: boolean | undefined;\n        crossOrigin?: string | undefined;\n        disabled?: boolean | undefined;\n        form?: string | undefined;\n        formAction?: string | undefined;\n        formEncType?: string | undefined;\n        formMethod?: string | undefined;\n        formNoValidate?: boolean | undefined;\n        formTarget?: string | undefined;\n        height?: number | string | undefined;\n        list?: string | undefined;\n        max?: number | string | undefined;\n        maxLength?: number | undefined;\n        min?: number | string | undefined;\n        minLength?: number | undefined;\n        multiple?: boolean | undefined;\n        name?: string | undefined;\n        pattern?: string | undefined;\n        placeholder?: string | undefined;\n        readOnly?: boolean | undefined;\n        required?: boolean | undefined;\n        size?: number | undefined;\n        src?: string | undefined;\n        step?: number | string | undefined;\n        type?: HTMLInputTypeAttribute | undefined;\n        value?: string | ReadonlyArray<string> | number | undefined;\n        width?: number | string | undefined;\n\n        onChange?: ChangeEventHandler<T> | undefined;\n    }\n\n    interface KeygenHTMLAttributes<T> extends HTMLAttributes<T> {\n        autoFocus?: boolean | undefined;\n        challenge?: string | undefined;\n        disabled?: boolean | undefined;\n        form?: string | undefined;\n        keyType?: string | undefined;\n        keyParams?: string | undefined;\n        name?: string | undefined;\n    }\n\n    interface LabelHTMLAttributes<T> extends HTMLAttributes<T> {\n        form?: string | undefined;\n        htmlFor?: string | undefined;\n    }\n\n    interface LiHTMLAttributes<T> extends HTMLAttributes<T> {\n        value?: string | ReadonlyArray<string> | number | undefined;\n    }\n\n    interface LinkHTMLAttributes<T> extends HTMLAttributes<T> {\n        as?: string | undefined;\n        crossOrigin?: string | undefined;\n        href?: string | undefined;\n        hrefLang?: string | undefined;\n        integrity?: string | undefined;\n        imageSrcSet?: string | undefined;\n        media?: string | undefined;\n        referrerPolicy?: HTMLAttributeReferrerPolicy | undefined;\n        rel?: string | undefined;\n        sizes?: string | undefined;\n        type?: string | undefined;\n        charSet?: string | undefined;\n    }\n\n    interface MapHTMLAttributes<T> extends HTMLAttributes<T> {\n        name?: string | undefined;\n    }\n\n    interface MenuHTMLAttributes<T> extends HTMLAttributes<T> {\n        type?: string | undefined;\n    }\n\n    interface MediaHTMLAttributes<T> extends HTMLAttributes<T> {\n        autoPlay?: boolean | undefined;\n        controls?: boolean | undefined;\n        controlsList?: string | undefined;\n        crossOrigin?: string | undefined;\n        loop?: boolean | undefined;\n        mediaGroup?: string | undefined;\n        muted?: boolean | undefined;\n        playsInline?: boolean | undefined;\n        preload?: string | undefined;\n        src?: string | undefined;\n    }\n\n    interface MetaHTMLAttributes<T> extends HTMLAttributes<T> {\n        charSet?: string | undefined;\n        content?: string | undefined;\n        httpEquiv?: string | undefined;\n        name?: string | undefined;\n        media?: string | undefined;\n    }\n\n    interface MeterHTMLAttributes<T> extends HTMLAttributes<T> {\n        form?: string | undefined;\n        high?: number | undefined;\n        low?: number | undefined;\n        max?: number | string | undefined;\n        min?: number | string | undefined;\n        optimum?: number | undefined;\n        value?: string | ReadonlyArray<string> | number | undefined;\n    }\n\n    interface QuoteHTMLAttributes<T> extends HTMLAttributes<T> {\n        cite?: string | undefined;\n    }\n\n    interface ObjectHTMLAttributes<T> extends HTMLAttributes<T> {\n        classID?: string | undefined;\n        data?: string | undefined;\n        form?: string | undefined;\n        height?: number | string | undefined;\n        name?: string | undefined;\n        type?: string | undefined;\n        useMap?: string | undefined;\n        width?: number | string | undefined;\n        wmode?: string | undefined;\n    }\n\n    interface OlHTMLAttributes<T> extends HTMLAttributes<T> {\n        reversed?: boolean | undefined;\n        start?: number | undefined;\n        type?: '1' | 'a' | 'A' | 'i' | 'I' | undefined;\n    }\n\n    interface OptgroupHTMLAttributes<T> extends HTMLAttributes<T> {\n        disabled?: boolean | undefined;\n        label?: string | undefined;\n    }\n\n    interface OptionHTMLAttributes<T> extends HTMLAttributes<T> {\n        disabled?: boolean | undefined;\n        label?: string | undefined;\n        selected?: boolean | undefined;\n        value?: string | ReadonlyArray<string> | number | undefined;\n    }\n\n    interface OutputHTMLAttributes<T> extends HTMLAttributes<T> {\n        form?: string | undefined;\n        htmlFor?: string | undefined;\n        name?: string | undefined;\n    }\n\n    interface ParamHTMLAttributes<T> extends HTMLAttributes<T> {\n        name?: string | undefined;\n        value?: string | ReadonlyArray<string> | number | undefined;\n    }\n\n    interface ProgressHTMLAttributes<T> extends HTMLAttributes<T> {\n        max?: number | string | undefined;\n        value?: string | ReadonlyArray<string> | number | undefined;\n    }\n\n    interface SlotHTMLAttributes<T> extends HTMLAttributes<T> {\n        name?: string | undefined;\n    }\n\n    interface ScriptHTMLAttributes<T> extends HTMLAttributes<T> {\n        async?: boolean | undefined;\n        /** @deprecated */\n        charSet?: string | undefined;\n        crossOrigin?: string | undefined;\n        defer?: boolean | undefined;\n        integrity?: string | undefined;\n        noModule?: boolean | undefined;\n        referrerPolicy?: HTMLAttributeReferrerPolicy | undefined;\n        src?: string | undefined;\n        type?: string | undefined;\n    }\n\n    interface SelectHTMLAttributes<T> extends HTMLAttributes<T> {\n        autoComplete?: string | undefined;\n        autoFocus?: boolean | undefined;\n        disabled?: boolean | undefined;\n        form?: string | undefined;\n        multiple?: boolean | undefined;\n        name?: string | undefined;\n        required?: boolean | undefined;\n        size?: number | undefined;\n        value?: string | ReadonlyArray<string> | number | undefined;\n        onChange?: ChangeEventHandler<T> | undefined;\n    }\n\n    interface SourceHTMLAttributes<T> extends HTMLAttributes<T> {\n        height?: number | string | undefined;\n        media?: string | undefined;\n        sizes?: string | undefined;\n        src?: string | undefined;\n        srcSet?: string | undefined;\n        type?: string | undefined;\n        width?: number | string | undefined;\n    }\n\n    interface StyleHTMLAttributes<T> extends HTMLAttributes<T> {\n        media?: string | undefined;\n        scoped?: boolean | undefined;\n        type?: string | undefined;\n    }\n\n    interface TableHTMLAttributes<T> extends HTMLAttributes<T> {\n        cellPadding?: number | string | undefined;\n        cellSpacing?: number | string | undefined;\n        summary?: string | undefined;\n        width?: number | string | undefined;\n    }\n\n    interface TextareaHTMLAttributes<T> extends HTMLAttributes<T> {\n        autoComplete?: string | undefined;\n        autoFocus?: boolean | undefined;\n        cols?: number | undefined;\n        dirName?: string | undefined;\n        disabled?: boolean | undefined;\n        form?: string | undefined;\n        maxLength?: number | undefined;\n        minLength?: number | undefined;\n        name?: string | undefined;\n        placeholder?: string | undefined;\n        readOnly?: boolean | undefined;\n        required?: boolean | undefined;\n        rows?: number | undefined;\n        value?: string | ReadonlyArray<string> | number | undefined;\n        wrap?: string | undefined;\n\n        onChange?: ChangeEventHandler<T> | undefined;\n    }\n\n    interface TdHTMLAttributes<T> extends HTMLAttributes<T> {\n        align?: \"left\" | \"center\" | \"right\" | \"justify\" | \"char\" | undefined;\n        colSpan?: number | undefined;\n        headers?: string | undefined;\n        rowSpan?: number | undefined;\n        scope?: string | undefined;\n        abbr?: string | undefined;\n        height?: number | string | undefined;\n        width?: number | string | undefined;\n        valign?: \"top\" | \"middle\" | \"bottom\" | \"baseline\" | undefined;\n    }\n\n    interface ThHTMLAttributes<T> extends HTMLAttributes<T> {\n        align?: \"left\" | \"center\" | \"right\" | \"justify\" | \"char\" | undefined;\n        colSpan?: number | undefined;\n        headers?: string | undefined;\n        rowSpan?: number | undefined;\n        scope?: string | undefined;\n        abbr?: string | undefined;\n    }\n\n    interface TimeHTMLAttributes<T> extends HTMLAttributes<T> {\n        dateTime?: string | undefined;\n    }\n\n    interface TrackHTMLAttributes<T> extends HTMLAttributes<T> {\n        default?: boolean | undefined;\n        kind?: string | undefined;\n        label?: string | undefined;\n        src?: string | undefined;\n        srcLang?: string | undefined;\n    }\n\n    interface VideoHTMLAttributes<T> extends MediaHTMLAttributes<T> {\n        height?: number | string | undefined;\n        playsInline?: boolean | undefined;\n        poster?: string | undefined;\n        width?: number | string | undefined;\n        disablePictureInPicture?: boolean | undefined;\n    }\n\n    // this list is \"complete\" in that it contains every SVG attribute\n    // that React supports, but the types can be improved.\n    // Full list here: https://facebook.github.io/react/docs/dom-elements.html\n    //\n    // The three broad type categories are (in order of restrictiveness):\n    //   - \"number | string\"\n    //   - \"string\"\n    //   - union of string literals\n    interface SVGAttributes<T> extends AriaAttributes, DOMAttributes<T> {\n        // Attributes which also defined in HTMLAttributes\n        // See comment in SVGDOMPropertyConfig.js\n        className?: string | undefined;\n        color?: string | undefined;\n        height?: number | string | undefined;\n        id?: string | undefined;\n        lang?: string | undefined;\n        max?: number | string | undefined;\n        media?: string | undefined;\n        method?: string | undefined;\n        min?: number | string | undefined;\n        name?: string | undefined;\n        style?: CSSProperties | undefined;\n        target?: string | undefined;\n        type?: string | undefined;\n        width?: number | string | undefined;\n\n        // Other HTML properties supported by SVG elements in browsers\n        role?: AriaRole | undefined;\n        tabIndex?: number | undefined;\n        crossOrigin?: \"anonymous\" | \"use-credentials\" | \"\" | undefined;\n\n        // SVG Specific attributes\n        accentHeight?: number | string | undefined;\n        accumulate?: \"none\" | \"sum\" | undefined;\n        additive?: \"replace\" | \"sum\" | undefined;\n        alignmentBaseline?: \"auto\" | \"baseline\" | \"before-edge\" | \"text-before-edge\" | \"middle\" | \"central\" | \"after-edge\" |\n        \"text-after-edge\" | \"ideographic\" | \"alphabetic\" | \"hanging\" | \"mathematical\" | \"inherit\" | undefined;\n        allowReorder?: \"no\" | \"yes\" | undefined;\n        alphabetic?: number | string | undefined;\n        amplitude?: number | string | undefined;\n        arabicForm?: \"initial\" | \"medial\" | \"terminal\" | \"isolated\" | undefined;\n        ascent?: number | string | undefined;\n        attributeName?: string | undefined;\n        attributeType?: string | undefined;\n        autoReverse?: Booleanish | undefined;\n        azimuth?: number | string | undefined;\n        baseFrequency?: number | string | undefined;\n        baselineShift?: number | string | undefined;\n        baseProfile?: number | string | undefined;\n        bbox?: number | string | undefined;\n        begin?: number | string | undefined;\n        bias?: number | string | undefined;\n        by?: number | string | undefined;\n        calcMode?: number | string | undefined;\n        capHeight?: number | string | undefined;\n        clip?: number | string | undefined;\n        clipPath?: string | undefined;\n        clipPathUnits?: number | string | undefined;\n        clipRule?: number | string | undefined;\n        colorInterpolation?: number | string | undefined;\n        colorInterpolationFilters?: \"auto\" | \"sRGB\" | \"linearRGB\" | \"inherit\" | undefined;\n        colorProfile?: number | string | undefined;\n        colorRendering?: number | string | undefined;\n        contentScriptType?: number | string | undefined;\n        contentStyleType?: number | string | undefined;\n        cursor?: number | string | undefined;\n        cx?: number | string | undefined;\n        cy?: number | string | undefined;\n        d?: string | undefined;\n        decelerate?: number | string | undefined;\n        descent?: number | string | undefined;\n        diffuseConstant?: number | string | undefined;\n        direction?: number | string | undefined;\n        display?: number | string | undefined;\n        divisor?: number | string | undefined;\n        dominantBaseline?: number | string | undefined;\n        dur?: number | string | undefined;\n        dx?: number | string | undefined;\n        dy?: number | string | undefined;\n        edgeMode?: number | string | undefined;\n        elevation?: number | string | undefined;\n        enableBackground?: number | string | undefined;\n        end?: number | string | undefined;\n        exponent?: number | string | undefined;\n        externalResourcesRequired?: Booleanish | undefined;\n        fill?: string | undefined;\n        fillOpacity?: number | string | undefined;\n        fillRule?: \"nonzero\" | \"evenodd\" | \"inherit\" | undefined;\n        filter?: string | undefined;\n        filterRes?: number | string | undefined;\n        filterUnits?: number | string | undefined;\n        floodColor?: number | string | undefined;\n        floodOpacity?: number | string | undefined;\n        focusable?: Booleanish | \"auto\" | undefined;\n        fontFamily?: string | undefined;\n        fontSize?: number | string | undefined;\n        fontSizeAdjust?: number | string | undefined;\n        fontStretch?: number | string | undefined;\n        fontStyle?: number | string | undefined;\n        fontVariant?: number | string | undefined;\n        fontWeight?: number | string | undefined;\n        format?: number | string | undefined;\n        fr?: number | string | undefined;\n        from?: number | string | undefined;\n        fx?: number | string | undefined;\n        fy?: number | string | undefined;\n        g1?: number | string | undefined;\n        g2?: number | string | undefined;\n        glyphName?: number | string | undefined;\n        glyphOrientationHorizontal?: number | string | undefined;\n        glyphOrientationVertical?: number | string | undefined;\n        glyphRef?: number | string | undefined;\n        gradientTransform?: string | undefined;\n        gradientUnits?: string | undefined;\n        hanging?: number | string | undefined;\n        horizAdvX?: number | string | undefined;\n        horizOriginX?: number | string | undefined;\n        href?: string | undefined;\n        ideographic?: number | string | undefined;\n        imageRendering?: number | string | undefined;\n        in2?: number | string | undefined;\n        in?: string | undefined;\n        intercept?: number | string | undefined;\n        k1?: number | string | undefined;\n        k2?: number | string | undefined;\n        k3?: number | string | undefined;\n        k4?: number | string | undefined;\n        k?: number | string | undefined;\n        kernelMatrix?: number | string | undefined;\n        kernelUnitLength?: number | string | undefined;\n        kerning?: number | string | undefined;\n        keyPoints?: number | string | undefined;\n        keySplines?: number | string | undefined;\n        keyTimes?: number | string | undefined;\n        lengthAdjust?: number | string | undefined;\n        letterSpacing?: number | string | undefined;\n        lightingColor?: number | string | undefined;\n        limitingConeAngle?: number | string | undefined;\n        local?: number | string | undefined;\n        markerEnd?: string | undefined;\n        markerHeight?: number | string | undefined;\n        markerMid?: string | undefined;\n        markerStart?: string | undefined;\n        markerUnits?: number | string | undefined;\n        markerWidth?: number | string | undefined;\n        mask?: string | undefined;\n        maskContentUnits?: number | string | undefined;\n        maskUnits?: number | string | undefined;\n        mathematical?: number | string | undefined;\n        mode?: number | string | undefined;\n        numOctaves?: number | string | undefined;\n        offset?: number | string | undefined;\n        opacity?: number | string | undefined;\n        operator?: number | string | undefined;\n        order?: number | string | undefined;\n        orient?: number | string | undefined;\n        orientation?: number | string | undefined;\n        origin?: number | string | undefined;\n        overflow?: number | string | undefined;\n        overlinePosition?: number | string | undefined;\n        overlineThickness?: number | string | undefined;\n        paintOrder?: number | string | undefined;\n        panose1?: number | string | undefined;\n        path?: string | undefined;\n        pathLength?: number | string | undefined;\n        patternContentUnits?: string | undefined;\n        patternTransform?: number | string | undefined;\n        patternUnits?: string | undefined;\n        pointerEvents?: number | string | undefined;\n        points?: string | undefined;\n        pointsAtX?: number | string | undefined;\n        pointsAtY?: number | string | undefined;\n        pointsAtZ?: number | string | undefined;\n        preserveAlpha?: Booleanish | undefined;\n        preserveAspectRatio?: string | undefined;\n        primitiveUnits?: number | string | undefined;\n        r?: number | string | undefined;\n        radius?: number | string | undefined;\n        refX?: number | string | undefined;\n        refY?: number | string | undefined;\n        renderingIntent?: number | string | undefined;\n        repeatCount?: number | string | undefined;\n        repeatDur?: number | string | undefined;\n        requiredExtensions?: number | string | undefined;\n        requiredFeatures?: number | string | undefined;\n        restart?: number | string | undefined;\n        result?: string | undefined;\n        rotate?: number | string | undefined;\n        rx?: number | string | undefined;\n        ry?: number | string | undefined;\n        scale?: number | string | undefined;\n        seed?: number | string | undefined;\n        shapeRendering?: number | string | undefined;\n        slope?: number | string | undefined;\n        spacing?: number | string | undefined;\n        specularConstant?: number | string | undefined;\n        specularExponent?: number | string | undefined;\n        speed?: number | string | undefined;\n        spreadMethod?: string | undefined;\n        startOffset?: number | string | undefined;\n        stdDeviation?: number | string | undefined;\n        stemh?: number | string | undefined;\n        stemv?: number | string | undefined;\n        stitchTiles?: number | string | undefined;\n        stopColor?: string | undefined;\n        stopOpacity?: number | string | undefined;\n        strikethroughPosition?: number | string | undefined;\n        strikethroughThickness?: number | string | undefined;\n        string?: number | string | undefined;\n        stroke?: string | undefined;\n        strokeDasharray?: string | number | undefined;\n        strokeDashoffset?: string | number | undefined;\n        strokeLinecap?: \"butt\" | \"round\" | \"square\" | \"inherit\" | undefined;\n        strokeLinejoin?: \"miter\" | \"round\" | \"bevel\" | \"inherit\" | undefined;\n        strokeMiterlimit?: number | string | undefined;\n        strokeOpacity?: number | string | undefined;\n        strokeWidth?: number | string | undefined;\n        surfaceScale?: number | string | undefined;\n        systemLanguage?: number | string | undefined;\n        tableValues?: number | string | undefined;\n        targetX?: number | string | undefined;\n        targetY?: number | string | undefined;\n        textAnchor?: string | undefined;\n        textDecoration?: number | string | undefined;\n        textLength?: number | string | undefined;\n        textRendering?: number | string | undefined;\n        to?: number | string | undefined;\n        transform?: string | undefined;\n        u1?: number | string | undefined;\n        u2?: number | string | undefined;\n        underlinePosition?: number | string | undefined;\n        underlineThickness?: number | string | undefined;\n        unicode?: number | string | undefined;\n        unicodeBidi?: number | string | undefined;\n        unicodeRange?: number | string | undefined;\n        unitsPerEm?: number | string | undefined;\n        vAlphabetic?: number | string | undefined;\n        values?: string | undefined;\n        vectorEffect?: number | string | undefined;\n        version?: string | undefined;\n        vertAdvY?: number | string | undefined;\n        vertOriginX?: number | string | undefined;\n        vertOriginY?: number | string | undefined;\n        vHanging?: number | string | undefined;\n        vIdeographic?: number | string | undefined;\n        viewBox?: string | undefined;\n        viewTarget?: number | string | undefined;\n        visibility?: number | string | undefined;\n        vMathematical?: number | string | undefined;\n        widths?: number | string | undefined;\n        wordSpacing?: number | string | undefined;\n        writingMode?: number | string | undefined;\n        x1?: number | string | undefined;\n        x2?: number | string | undefined;\n        x?: number | string | undefined;\n        xChannelSelector?: string | undefined;\n        xHeight?: number | string | undefined;\n        xlinkActuate?: string | undefined;\n        xlinkArcrole?: string | undefined;\n        xlinkHref?: string | undefined;\n        xlinkRole?: string | undefined;\n        xlinkShow?: string | undefined;\n        xlinkTitle?: string | undefined;\n        xlinkType?: string | undefined;\n        xmlBase?: string | undefined;\n        xmlLang?: string | undefined;\n        xmlns?: string | undefined;\n        xmlnsXlink?: string | undefined;\n        xmlSpace?: string | undefined;\n        y1?: number | string | undefined;\n        y2?: number | string | undefined;\n        y?: number | string | undefined;\n        yChannelSelector?: string | undefined;\n        z?: number | string | undefined;\n        zoomAndPan?: string | undefined;\n    }\n\n    interface WebViewHTMLAttributes<T> extends HTMLAttributes<T> {\n        allowFullScreen?: boolean | undefined;\n        allowpopovers?: boolean | undefined;\n        autoFocus?: boolean | undefined;\n        autosize?: boolean | undefined;\n        blinkfeatures?: string | undefined;\n        disableblinkfeatures?: string | undefined;\n        disableguestresize?: boolean | undefined;\n        disablewebsecurity?: boolean | undefined;\n        guestinstance?: string | undefined;\n        httpreferrer?: string | undefined;\n        nodeintegration?: boolean | undefined;\n        partition?: string | undefined;\n        plugins?: boolean | undefined;\n        preload?: string | undefined;\n        src?: string | undefined;\n        useragent?: string | undefined;\n        webpreferences?: string | undefined;\n    }\n\n    //\n    // React.DOM\n    // ----------------------------------------------------------------------\n\n    interface ReactHTML {\n        a: DetailedHTMLFactory<AnchorHTMLAttributes<HTMLAnchorElement>, HTMLAnchorElement>;\n        abbr: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        address: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        area: DetailedHTMLFactory<AreaHTMLAttributes<HTMLAreaElement>, HTMLAreaElement>;\n        article: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        aside: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        audio: DetailedHTMLFactory<AudioHTMLAttributes<HTMLAudioElement>, HTMLAudioElement>;\n        b: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        base: DetailedHTMLFactory<BaseHTMLAttributes<HTMLBaseElement>, HTMLBaseElement>;\n        bdi: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        bdo: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        big: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        blockquote: DetailedHTMLFactory<BlockquoteHTMLAttributes<HTMLElement>, HTMLElement>;\n        body: DetailedHTMLFactory<HTMLAttributes<HTMLBodyElement>, HTMLBodyElement>;\n        br: DetailedHTMLFactory<HTMLAttributes<HTMLBRElement>, HTMLBRElement>;\n        button: DetailedHTMLFactory<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>;\n        canvas: DetailedHTMLFactory<CanvasHTMLAttributes<HTMLCanvasElement>, HTMLCanvasElement>;\n        caption: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        cite: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        code: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        col: DetailedHTMLFactory<ColHTMLAttributes<HTMLTableColElement>, HTMLTableColElement>;\n        colgroup: DetailedHTMLFactory<ColgroupHTMLAttributes<HTMLTableColElement>, HTMLTableColElement>;\n        data: DetailedHTMLFactory<DataHTMLAttributes<HTMLDataElement>, HTMLDataElement>;\n        datalist: DetailedHTMLFactory<HTMLAttributes<HTMLDataListElement>, HTMLDataListElement>;\n        dd: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        del: DetailedHTMLFactory<DelHTMLAttributes<HTMLElement>, HTMLElement>;\n        details: DetailedHTMLFactory<DetailsHTMLAttributes<HTMLElement>, HTMLElement>;\n        dfn: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        dialog: DetailedHTMLFactory<DialogHTMLAttributes<HTMLDialogElement>, HTMLDialogElement>;\n        div: DetailedHTMLFactory<HTMLAttributes<HTMLDivElement>, HTMLDivElement>;\n        dl: DetailedHTMLFactory<HTMLAttributes<HTMLDListElement>, HTMLDListElement>;\n        dt: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        em: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        embed: DetailedHTMLFactory<EmbedHTMLAttributes<HTMLEmbedElement>, HTMLEmbedElement>;\n        fieldset: DetailedHTMLFactory<FieldsetHTMLAttributes<HTMLFieldSetElement>, HTMLFieldSetElement>;\n        figcaption: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        figure: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        footer: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        form: DetailedHTMLFactory<FormHTMLAttributes<HTMLFormElement>, HTMLFormElement>;\n        h1: DetailedHTMLFactory<HTMLAttributes<HTMLHeadingElement>, HTMLHeadingElement>;\n        h2: DetailedHTMLFactory<HTMLAttributes<HTMLHeadingElement>, HTMLHeadingElement>;\n        h3: DetailedHTMLFactory<HTMLAttributes<HTMLHeadingElement>, HTMLHeadingElement>;\n        h4: DetailedHTMLFactory<HTMLAttributes<HTMLHeadingElement>, HTMLHeadingElement>;\n        h5: DetailedHTMLFactory<HTMLAttributes<HTMLHeadingElement>, HTMLHeadingElement>;\n        h6: DetailedHTMLFactory<HTMLAttributes<HTMLHeadingElement>, HTMLHeadingElement>;\n        head: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLHeadElement>;\n        header: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        hgroup: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        hr: DetailedHTMLFactory<HTMLAttributes<HTMLHRElement>, HTMLHRElement>;\n        html: DetailedHTMLFactory<HtmlHTMLAttributes<HTMLHtmlElement>, HTMLHtmlElement>;\n        i: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        iframe: DetailedHTMLFactory<IframeHTMLAttributes<HTMLIFrameElement>, HTMLIFrameElement>;\n        img: DetailedHTMLFactory<ImgHTMLAttributes<HTMLImageElement>, HTMLImageElement>;\n        input: DetailedHTMLFactory<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\n        ins: DetailedHTMLFactory<InsHTMLAttributes<HTMLModElement>, HTMLModElement>;\n        kbd: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        keygen: DetailedHTMLFactory<KeygenHTMLAttributes<HTMLElement>, HTMLElement>;\n        label: DetailedHTMLFactory<LabelHTMLAttributes<HTMLLabelElement>, HTMLLabelElement>;\n        legend: DetailedHTMLFactory<HTMLAttributes<HTMLLegendElement>, HTMLLegendElement>;\n        li: DetailedHTMLFactory<LiHTMLAttributes<HTMLLIElement>, HTMLLIElement>;\n        link: DetailedHTMLFactory<LinkHTMLAttributes<HTMLLinkElement>, HTMLLinkElement>;\n        main: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        map: DetailedHTMLFactory<MapHTMLAttributes<HTMLMapElement>, HTMLMapElement>;\n        mark: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        menu: DetailedHTMLFactory<MenuHTMLAttributes<HTMLElement>, HTMLElement>;\n        menuitem: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        meta: DetailedHTMLFactory<MetaHTMLAttributes<HTMLMetaElement>, HTMLMetaElement>;\n        meter: DetailedHTMLFactory<MeterHTMLAttributes<HTMLElement>, HTMLElement>;\n        nav: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        noscript: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        object: DetailedHTMLFactory<ObjectHTMLAttributes<HTMLObjectElement>, HTMLObjectElement>;\n        ol: DetailedHTMLFactory<OlHTMLAttributes<HTMLOListElement>, HTMLOListElement>;\n        optgroup: DetailedHTMLFactory<OptgroupHTMLAttributes<HTMLOptGroupElement>, HTMLOptGroupElement>;\n        option: DetailedHTMLFactory<OptionHTMLAttributes<HTMLOptionElement>, HTMLOptionElement>;\n        output: DetailedHTMLFactory<OutputHTMLAttributes<HTMLElement>, HTMLElement>;\n        p: DetailedHTMLFactory<HTMLAttributes<HTMLParagraphElement>, HTMLParagraphElement>;\n        param: DetailedHTMLFactory<ParamHTMLAttributes<HTMLParamElement>, HTMLParamElement>;\n        picture: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        pre: DetailedHTMLFactory<HTMLAttributes<HTMLPreElement>, HTMLPreElement>;\n        progress: DetailedHTMLFactory<ProgressHTMLAttributes<HTMLProgressElement>, HTMLProgressElement>;\n        q: DetailedHTMLFactory<QuoteHTMLAttributes<HTMLQuoteElement>, HTMLQuoteElement>;\n        rp: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        rt: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        ruby: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        s: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        samp: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        slot: DetailedHTMLFactory<SlotHTMLAttributes<HTMLSlotElement>, HTMLSlotElement>;\n        script: DetailedHTMLFactory<ScriptHTMLAttributes<HTMLScriptElement>, HTMLScriptElement>;\n        section: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        select: DetailedHTMLFactory<SelectHTMLAttributes<HTMLSelectElement>, HTMLSelectElement>;\n        small: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        source: DetailedHTMLFactory<SourceHTMLAttributes<HTMLSourceElement>, HTMLSourceElement>;\n        span: DetailedHTMLFactory<HTMLAttributes<HTMLSpanElement>, HTMLSpanElement>;\n        strong: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        style: DetailedHTMLFactory<StyleHTMLAttributes<HTMLStyleElement>, HTMLStyleElement>;\n        sub: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        summary: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        sup: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        table: DetailedHTMLFactory<TableHTMLAttributes<HTMLTableElement>, HTMLTableElement>;\n        template: DetailedHTMLFactory<HTMLAttributes<HTMLTemplateElement>, HTMLTemplateElement>;\n        tbody: DetailedHTMLFactory<HTMLAttributes<HTMLTableSectionElement>, HTMLTableSectionElement>;\n        td: DetailedHTMLFactory<TdHTMLAttributes<HTMLTableDataCellElement>, HTMLTableDataCellElement>;\n        textarea: DetailedHTMLFactory<TextareaHTMLAttributes<HTMLTextAreaElement>, HTMLTextAreaElement>;\n        tfoot: DetailedHTMLFactory<HTMLAttributes<HTMLTableSectionElement>, HTMLTableSectionElement>;\n        th: DetailedHTMLFactory<ThHTMLAttributes<HTMLTableHeaderCellElement>, HTMLTableHeaderCellElement>;\n        thead: DetailedHTMLFactory<HTMLAttributes<HTMLTableSectionElement>, HTMLTableSectionElement>;\n        time: DetailedHTMLFactory<TimeHTMLAttributes<HTMLElement>, HTMLElement>;\n        title: DetailedHTMLFactory<HTMLAttributes<HTMLTitleElement>, HTMLTitleElement>;\n        tr: DetailedHTMLFactory<HTMLAttributes<HTMLTableRowElement>, HTMLTableRowElement>;\n        track: DetailedHTMLFactory<TrackHTMLAttributes<HTMLTrackElement>, HTMLTrackElement>;\n        u: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        ul: DetailedHTMLFactory<HTMLAttributes<HTMLUListElement>, HTMLUListElement>;\n        \"var\": DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        video: DetailedHTMLFactory<VideoHTMLAttributes<HTMLVideoElement>, HTMLVideoElement>;\n        wbr: DetailedHTMLFactory<HTMLAttributes<HTMLElement>, HTMLElement>;\n        webview: DetailedHTMLFactory<WebViewHTMLAttributes<HTMLWebViewElement>, HTMLWebViewElement>;\n    }\n\n    interface ReactSVG {\n        animate: SVGFactory;\n        circle: SVGFactory;\n        clipPath: SVGFactory;\n        defs: SVGFactory;\n        desc: SVGFactory;\n        ellipse: SVGFactory;\n        feBlend: SVGFactory;\n        feColorMatrix: SVGFactory;\n        feComponentTransfer: SVGFactory;\n        feComposite: SVGFactory;\n        feConvolveMatrix: SVGFactory;\n        feDiffuseLighting: SVGFactory;\n        feDisplacementMap: SVGFactory;\n        feDistantLight: SVGFactory;\n        feDropShadow: SVGFactory;\n        feFlood: SVGFactory;\n        feFuncA: SVGFactory;\n        feFuncB: SVGFactory;\n        feFuncG: SVGFactory;\n        feFuncR: SVGFactory;\n        feGaussianBlur: SVGFactory;\n        feImage: SVGFactory;\n        feMerge: SVGFactory;\n        feMergeNode: SVGFactory;\n        feMorphology: SVGFactory;\n        feOffset: SVGFactory;\n        fePointLight: SVGFactory;\n        feSpecularLighting: SVGFactory;\n        feSpotLight: SVGFactory;\n        feTile: SVGFactory;\n        feTurbulence: SVGFactory;\n        filter: SVGFactory;\n        foreignObject: SVGFactory;\n        g: SVGFactory;\n        image: SVGFactory;\n        line: SVGFactory;\n        linearGradient: SVGFactory;\n        marker: SVGFactory;\n        mask: SVGFactory;\n        metadata: SVGFactory;\n        path: SVGFactory;\n        pattern: SVGFactory;\n        polygon: SVGFactory;\n        polyline: SVGFactory;\n        radialGradient: SVGFactory;\n        rect: SVGFactory;\n        stop: SVGFactory;\n        svg: SVGFactory;\n        switch: SVGFactory;\n        symbol: SVGFactory;\n        text: SVGFactory;\n        textPath: SVGFactory;\n        tspan: SVGFactory;\n        use: SVGFactory;\n        view: SVGFactory;\n    }\n\n    interface ReactDOM extends ReactHTML, ReactSVG { }\n\n    //\n    // React.PropTypes\n    // ----------------------------------------------------------------------\n\n    type Validator<T> = PropTypes.Validator<T>;\n\n    type Requireable<T> = PropTypes.Requireable<T>;\n\n    type ValidationMap<T> = PropTypes.ValidationMap<T>;\n\n    type WeakValidationMap<T> = {\n        [K in keyof T]?: null extends T[K]\n            ? Validator<T[K] | null | undefined>\n            : undefined extends T[K]\n            ? Validator<T[K] | null | undefined>\n            : Validator<T[K]>\n    };\n\n    interface ReactPropTypes {\n        any: typeof PropTypes.any;\n        array: typeof PropTypes.array;\n        bool: typeof PropTypes.bool;\n        func: typeof PropTypes.func;\n        number: typeof PropTypes.number;\n        object: typeof PropTypes.object;\n        string: typeof PropTypes.string;\n        node: typeof PropTypes.node;\n        element: typeof PropTypes.element;\n        instanceOf: typeof PropTypes.instanceOf;\n        oneOf: typeof PropTypes.oneOf;\n        oneOfType: typeof PropTypes.oneOfType;\n        arrayOf: typeof PropTypes.arrayOf;\n        objectOf: typeof PropTypes.objectOf;\n        shape: typeof PropTypes.shape;\n        exact: typeof PropTypes.exact;\n    }\n\n    //\n    // React.Children\n    // ----------------------------------------------------------------------\n\n    interface ReactChildren {\n        map<T, C>(children: C | C[], fn: (child: C, index: number) => T):\n            C extends null | undefined ? C : Array<Exclude<T, boolean | null | undefined>>;\n        forEach<C>(children: C | C[], fn: (child: C, index: number) => void): void;\n        count(children: any): number;\n        only<C>(children: C): C extends any[] ? never : C;\n        toArray(children: ReactNode | ReactNode[]): Array<Exclude<ReactNode, boolean | null | undefined>>;\n    }\n\n    //\n    // Browser Interfaces\n    // https://github.com/nikeee/2048-typescript/blob/master/2048/js/touch.d.ts\n    // ----------------------------------------------------------------------\n\n    interface AbstractView {\n        styleMedia: StyleMedia;\n        document: Document;\n    }\n\n    interface Touch {\n        identifier: number;\n        target: EventTarget;\n        screenX: number;\n        screenY: number;\n        clientX: number;\n        clientY: number;\n        pageX: number;\n        pageY: number;\n    }\n\n    interface TouchList {\n        [index: number]: Touch;\n        length: number;\n        item(index: number): Touch;\n        identifiedTouch(identifier: number): Touch;\n    }\n\n    //\n    // Error Interfaces\n    // ----------------------------------------------------------------------\n    interface ErrorInfo {\n        /**\n         * Captures which component contained the exception, and its ancestors.\n         */\n        componentStack: string;\n    }\n}\n\n// naked 'any' type in a conditional type will short circuit and union both the then/else branches\n// so boolean is only resolved for T = any\ntype IsExactlyAny<T> = boolean extends (T extends never ? true : false) ? true : false;\n\ntype ExactlyAnyPropertyKeys<T> = { [K in keyof T]: IsExactlyAny<T[K]> extends true ? K : never }[keyof T];\ntype NotExactlyAnyPropertyKeys<T> = Exclude<keyof T, ExactlyAnyPropertyKeys<T>>;\n\n// Try to resolve ill-defined props like for JS users: props can be any, or sometimes objects with properties of type any\ntype MergePropTypes<P, T> =\n    // Distribute over P in case it is a union type\n    P extends any\n        // If props is type any, use propTypes definitions\n        ? IsExactlyAny<P> extends true ? T :\n            // If declared props have indexed properties, ignore inferred props entirely as keyof gets widened\n            string extends keyof P ? P :\n                // Prefer declared types which are not exactly any\n                & Pick<P, NotExactlyAnyPropertyKeys<P>>\n                // For props which are exactly any, use the type inferred from propTypes if present\n                & Pick<T, Exclude<keyof T, NotExactlyAnyPropertyKeys<P>>>\n                // Keep leftover props not specified in propTypes\n                & Pick<P, Exclude<keyof P, keyof T>>\n        : never;\n\ntype InexactPartial<T> = { [K in keyof T]?: T[K] | undefined };\n\n// Any prop that has a default prop becomes optional, but its type is unchanged\n// Undeclared default props are augmented into the resulting allowable attributes\n// If declared props have indexed properties, ignore default props entirely as keyof gets widened\n// Wrap in an outer-level conditional type to allow distribution over props that are unions\ntype Defaultize<P, D> = P extends any\n    ? string extends keyof P ? P :\n        & Pick<P, Exclude<keyof P, keyof D>>\n        & InexactPartial<Pick<P, Extract<keyof P, keyof D>>>\n        & InexactPartial<Pick<D, Exclude<keyof D, keyof P>>>\n    : never;\n\ntype ReactManagedAttributes<C, P> = C extends { propTypes: infer T; defaultProps: infer D; }\n    ? Defaultize<MergePropTypes<P, PropTypes.InferProps<T>>, D>\n    : C extends { propTypes: infer T; }\n        ? MergePropTypes<P, PropTypes.InferProps<T>>\n        : C extends { defaultProps: infer D; }\n            ? Defaultize<P, D>\n            : P;\n\ndeclare global {\n    namespace JSX {\n        // tslint:disable-next-line:no-empty-interface\n        interface Element extends React.ReactElement<any, any> { }\n        interface ElementClass extends React.Component<any> {\n            render(): React.ReactNode;\n        }\n        interface ElementAttributesProperty { props: {}; }\n        interface ElementChildrenAttribute { children: {}; }\n\n        // We can't recurse forever because `type` can't be self-referential;\n        // let's assume it's reasonable to do a single React.lazy() around a single React.memo() / vice-versa\n        type LibraryManagedAttributes<C, P> = C extends React.MemoExoticComponent<infer T> | React.LazyExoticComponent<infer T>\n            ? T extends React.MemoExoticComponent<infer U> | React.LazyExoticComponent<infer U>\n                ? ReactManagedAttributes<U, P>\n                : ReactManagedAttributes<T, P>\n            : ReactManagedAttributes<C, P>;\n\n        // tslint:disable-next-line:no-empty-interface\n        interface IntrinsicAttributes extends React.Attributes { }\n        // tslint:disable-next-line:no-empty-interface\n        interface IntrinsicClassAttributes<T> extends React.ClassAttributes<T> { }\n\n        interface IntrinsicElements {\n            // HTML\n            a: React.DetailedHTMLProps<React.AnchorHTMLAttributes<HTMLAnchorElement>, HTMLAnchorElement>;\n            abbr: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            address: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            area: React.DetailedHTMLProps<React.AreaHTMLAttributes<HTMLAreaElement>, HTMLAreaElement>;\n            article: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            aside: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            audio: React.DetailedHTMLProps<React.AudioHTMLAttributes<HTMLAudioElement>, HTMLAudioElement>;\n            b: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            base: React.DetailedHTMLProps<React.BaseHTMLAttributes<HTMLBaseElement>, HTMLBaseElement>;\n            bdi: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            bdo: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            big: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            blockquote: React.DetailedHTMLProps<React.BlockquoteHTMLAttributes<HTMLElement>, HTMLElement>;\n            body: React.DetailedHTMLProps<React.HTMLAttributes<HTMLBodyElement>, HTMLBodyElement>;\n            br: React.DetailedHTMLProps<React.HTMLAttributes<HTMLBRElement>, HTMLBRElement>;\n            button: React.DetailedHTMLProps<React.ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>;\n            canvas: React.DetailedHTMLProps<React.CanvasHTMLAttributes<HTMLCanvasElement>, HTMLCanvasElement>;\n            caption: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            cite: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            code: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            col: React.DetailedHTMLProps<React.ColHTMLAttributes<HTMLTableColElement>, HTMLTableColElement>;\n            colgroup: React.DetailedHTMLProps<React.ColgroupHTMLAttributes<HTMLTableColElement>, HTMLTableColElement>;\n            data: React.DetailedHTMLProps<React.DataHTMLAttributes<HTMLDataElement>, HTMLDataElement>;\n            datalist: React.DetailedHTMLProps<React.HTMLAttributes<HTMLDataListElement>, HTMLDataListElement>;\n            dd: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            del: React.DetailedHTMLProps<React.DelHTMLAttributes<HTMLElement>, HTMLElement>;\n            details: React.DetailedHTMLProps<React.DetailsHTMLAttributes<HTMLElement>, HTMLElement>;\n            dfn: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            dialog: React.DetailedHTMLProps<React.DialogHTMLAttributes<HTMLDialogElement>, HTMLDialogElement>;\n            div: React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement>;\n            dl: React.DetailedHTMLProps<React.HTMLAttributes<HTMLDListElement>, HTMLDListElement>;\n            dt: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            em: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            embed: React.DetailedHTMLProps<React.EmbedHTMLAttributes<HTMLEmbedElement>, HTMLEmbedElement>;\n            fieldset: React.DetailedHTMLProps<React.FieldsetHTMLAttributes<HTMLFieldSetElement>, HTMLFieldSetElement>;\n            figcaption: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            figure: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            footer: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            form: React.DetailedHTMLProps<React.FormHTMLAttributes<HTMLFormElement>, HTMLFormElement>;\n            h1: React.DetailedHTMLProps<React.HTMLAttributes<HTMLHeadingElement>, HTMLHeadingElement>;\n            h2: React.DetailedHTMLProps<React.HTMLAttributes<HTMLHeadingElement>, HTMLHeadingElement>;\n            h3: React.DetailedHTMLProps<React.HTMLAttributes<HTMLHeadingElement>, HTMLHeadingElement>;\n            h4: React.DetailedHTMLProps<React.HTMLAttributes<HTMLHeadingElement>, HTMLHeadingElement>;\n            h5: React.DetailedHTMLProps<React.HTMLAttributes<HTMLHeadingElement>, HTMLHeadingElement>;\n            h6: React.DetailedHTMLProps<React.HTMLAttributes<HTMLHeadingElement>, HTMLHeadingElement>;\n            head: React.DetailedHTMLProps<React.HTMLAttributes<HTMLHeadElement>, HTMLHeadElement>;\n            header: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            hgroup: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            hr: React.DetailedHTMLProps<React.HTMLAttributes<HTMLHRElement>, HTMLHRElement>;\n            html: React.DetailedHTMLProps<React.HtmlHTMLAttributes<HTMLHtmlElement>, HTMLHtmlElement>;\n            i: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            iframe: React.DetailedHTMLProps<React.IframeHTMLAttributes<HTMLIFrameElement>, HTMLIFrameElement>;\n            img: React.DetailedHTMLProps<React.ImgHTMLAttributes<HTMLImageElement>, HTMLImageElement>;\n            input: React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\n            ins: React.DetailedHTMLProps<React.InsHTMLAttributes<HTMLModElement>, HTMLModElement>;\n            kbd: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            keygen: React.DetailedHTMLProps<React.KeygenHTMLAttributes<HTMLElement>, HTMLElement>;\n            label: React.DetailedHTMLProps<React.LabelHTMLAttributes<HTMLLabelElement>, HTMLLabelElement>;\n            legend: React.DetailedHTMLProps<React.HTMLAttributes<HTMLLegendElement>, HTMLLegendElement>;\n            li: React.DetailedHTMLProps<React.LiHTMLAttributes<HTMLLIElement>, HTMLLIElement>;\n            link: React.DetailedHTMLProps<React.LinkHTMLAttributes<HTMLLinkElement>, HTMLLinkElement>;\n            main: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            map: React.DetailedHTMLProps<React.MapHTMLAttributes<HTMLMapElement>, HTMLMapElement>;\n            mark: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            menu: React.DetailedHTMLProps<React.MenuHTMLAttributes<HTMLElement>, HTMLElement>;\n            menuitem: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            meta: React.DetailedHTMLProps<React.MetaHTMLAttributes<HTMLMetaElement>, HTMLMetaElement>;\n            meter: React.DetailedHTMLProps<React.MeterHTMLAttributes<HTMLElement>, HTMLElement>;\n            nav: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            noindex: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            noscript: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            object: React.DetailedHTMLProps<React.ObjectHTMLAttributes<HTMLObjectElement>, HTMLObjectElement>;\n            ol: React.DetailedHTMLProps<React.OlHTMLAttributes<HTMLOListElement>, HTMLOListElement>;\n            optgroup: React.DetailedHTMLProps<React.OptgroupHTMLAttributes<HTMLOptGroupElement>, HTMLOptGroupElement>;\n            option: React.DetailedHTMLProps<React.OptionHTMLAttributes<HTMLOptionElement>, HTMLOptionElement>;\n            output: React.DetailedHTMLProps<React.OutputHTMLAttributes<HTMLElement>, HTMLElement>;\n            p: React.DetailedHTMLProps<React.HTMLAttributes<HTMLParagraphElement>, HTMLParagraphElement>;\n            param: React.DetailedHTMLProps<React.ParamHTMLAttributes<HTMLParamElement>, HTMLParamElement>;\n            picture: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            pre: React.DetailedHTMLProps<React.HTMLAttributes<HTMLPreElement>, HTMLPreElement>;\n            progress: React.DetailedHTMLProps<React.ProgressHTMLAttributes<HTMLProgressElement>, HTMLProgressElement>;\n            q: React.DetailedHTMLProps<React.QuoteHTMLAttributes<HTMLQuoteElement>, HTMLQuoteElement>;\n            rp: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            rt: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            ruby: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            s: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            samp: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            slot: React.DetailedHTMLProps<React.SlotHTMLAttributes<HTMLSlotElement>, HTMLSlotElement>;\n            script: React.DetailedHTMLProps<React.ScriptHTMLAttributes<HTMLScriptElement>, HTMLScriptElement>;\n            section: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            select: React.DetailedHTMLProps<React.SelectHTMLAttributes<HTMLSelectElement>, HTMLSelectElement>;\n            small: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            source: React.DetailedHTMLProps<React.SourceHTMLAttributes<HTMLSourceElement>, HTMLSourceElement>;\n            span: React.DetailedHTMLProps<React.HTMLAttributes<HTMLSpanElement>, HTMLSpanElement>;\n            strong: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            style: React.DetailedHTMLProps<React.StyleHTMLAttributes<HTMLStyleElement>, HTMLStyleElement>;\n            sub: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            summary: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            sup: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            table: React.DetailedHTMLProps<React.TableHTMLAttributes<HTMLTableElement>, HTMLTableElement>;\n            template: React.DetailedHTMLProps<React.HTMLAttributes<HTMLTemplateElement>, HTMLTemplateElement>;\n            tbody: React.DetailedHTMLProps<React.HTMLAttributes<HTMLTableSectionElement>, HTMLTableSectionElement>;\n            td: React.DetailedHTMLProps<React.TdHTMLAttributes<HTMLTableDataCellElement>, HTMLTableDataCellElement>;\n            textarea: React.DetailedHTMLProps<React.TextareaHTMLAttributes<HTMLTextAreaElement>, HTMLTextAreaElement>;\n            tfoot: React.DetailedHTMLProps<React.HTMLAttributes<HTMLTableSectionElement>, HTMLTableSectionElement>;\n            th: React.DetailedHTMLProps<React.ThHTMLAttributes<HTMLTableHeaderCellElement>, HTMLTableHeaderCellElement>;\n            thead: React.DetailedHTMLProps<React.HTMLAttributes<HTMLTableSectionElement>, HTMLTableSectionElement>;\n            time: React.DetailedHTMLProps<React.TimeHTMLAttributes<HTMLElement>, HTMLElement>;\n            title: React.DetailedHTMLProps<React.HTMLAttributes<HTMLTitleElement>, HTMLTitleElement>;\n            tr: React.DetailedHTMLProps<React.HTMLAttributes<HTMLTableRowElement>, HTMLTableRowElement>;\n            track: React.DetailedHTMLProps<React.TrackHTMLAttributes<HTMLTrackElement>, HTMLTrackElement>;\n            u: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            ul: React.DetailedHTMLProps<React.HTMLAttributes<HTMLUListElement>, HTMLUListElement>;\n            \"var\": React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            video: React.DetailedHTMLProps<React.VideoHTMLAttributes<HTMLVideoElement>, HTMLVideoElement>;\n            wbr: React.DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n            webview: React.DetailedHTMLProps<React.WebViewHTMLAttributes<HTMLWebViewElement>, HTMLWebViewElement>;\n\n            // SVG\n            svg: React.SVGProps<SVGSVGElement>;\n\n            animate: React.SVGProps<SVGElement>; // TODO: It is SVGAnimateElement but is not in TypeScript's lib.dom.d.ts for now.\n            animateMotion: React.SVGProps<SVGElement>;\n            animateTransform: React.SVGProps<SVGElement>; // TODO: It is SVGAnimateTransformElement but is not in TypeScript's lib.dom.d.ts for now.\n            circle: React.SVGProps<SVGCircleElement>;\n            clipPath: React.SVGProps<SVGClipPathElement>;\n            defs: React.SVGProps<SVGDefsElement>;\n            desc: React.SVGProps<SVGDescElement>;\n            ellipse: React.SVGProps<SVGEllipseElement>;\n            feBlend: React.SVGProps<SVGFEBlendElement>;\n            feColorMatrix: React.SVGProps<SVGFEColorMatrixElement>;\n            feComponentTransfer: React.SVGProps<SVGFEComponentTransferElement>;\n            feComposite: React.SVGProps<SVGFECompositeElement>;\n            feConvolveMatrix: React.SVGProps<SVGFEConvolveMatrixElement>;\n            feDiffuseLighting: React.SVGProps<SVGFEDiffuseLightingElement>;\n            feDisplacementMap: React.SVGProps<SVGFEDisplacementMapElement>;\n            feDistantLight: React.SVGProps<SVGFEDistantLightElement>;\n            feDropShadow: React.SVGProps<SVGFEDropShadowElement>;\n            feFlood: React.SVGProps<SVGFEFloodElement>;\n            feFuncA: React.SVGProps<SVGFEFuncAElement>;\n            feFuncB: React.SVGProps<SVGFEFuncBElement>;\n            feFuncG: React.SVGProps<SVGFEFuncGElement>;\n            feFuncR: React.SVGProps<SVGFEFuncRElement>;\n            feGaussianBlur: React.SVGProps<SVGFEGaussianBlurElement>;\n            feImage: React.SVGProps<SVGFEImageElement>;\n            feMerge: React.SVGProps<SVGFEMergeElement>;\n            feMergeNode: React.SVGProps<SVGFEMergeNodeElement>;\n            feMorphology: React.SVGProps<SVGFEMorphologyElement>;\n            feOffset: React.SVGProps<SVGFEOffsetElement>;\n            fePointLight: React.SVGProps<SVGFEPointLightElement>;\n            feSpecularLighting: React.SVGProps<SVGFESpecularLightingElement>;\n            feSpotLight: React.SVGProps<SVGFESpotLightElement>;\n            feTile: React.SVGProps<SVGFETileElement>;\n            feTurbulence: React.SVGProps<SVGFETurbulenceElement>;\n            filter: React.SVGProps<SVGFilterElement>;\n            foreignObject: React.SVGProps<SVGForeignObjectElement>;\n            g: React.SVGProps<SVGGElement>;\n            image: React.SVGProps<SVGImageElement>;\n            line: React.SVGProps<SVGLineElement>;\n            linearGradient: React.SVGProps<SVGLinearGradientElement>;\n            marker: React.SVGProps<SVGMarkerElement>;\n            mask: React.SVGProps<SVGMaskElement>;\n            metadata: React.SVGProps<SVGMetadataElement>;\n            mpath: React.SVGProps<SVGElement>;\n            path: React.SVGProps<SVGPathElement>;\n            pattern: React.SVGProps<SVGPatternElement>;\n            polygon: React.SVGProps<SVGPolygonElement>;\n            polyline: React.SVGProps<SVGPolylineElement>;\n            radialGradient: React.SVGProps<SVGRadialGradientElement>;\n            rect: React.SVGProps<SVGRectElement>;\n            stop: React.SVGProps<SVGStopElement>;\n            switch: React.SVGProps<SVGSwitchElement>;\n            symbol: React.SVGProps<SVGSymbolElement>;\n            text: React.SVGProps<SVGTextElement>;\n            textPath: React.SVGProps<SVGTextPathElement>;\n            tspan: React.SVGProps<SVGTSpanElement>;\n            use: React.SVGProps<SVGUseElement>;\n            view: React.SVGProps<SVGViewElement>;\n        }\n    }\n}\n",
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/types/packages.json[m[K[36m[K-[m[K[32m[K3[m[K[36m[K-[m[K    "@types/react/global.d.ts": "/*\nReact projects that don't include the DOM library need these interfaces to compile.\nReact Native applications use React, but there is no DOM available. The JavaScript runtime\nis ES6/ES2015 only. These definitions allow such projects to compile with only `--lib ES6`.\n\nWarning: all of these interfaces are empty. If you want type definitions for various properties\n(such as HTMLInputElement.prototype.value), you need to add `--lib DOM` (via command line or tsconfig.json).\n*/\n\ninterface Event { }\ninterface AnimationEvent extends Event { }\ninterface ClipboardEvent extends Event { }\ninterface CompositionEvent extends Event { }\ninterface DragEvent extends Event { }\ninterface FocusEvent extends Event { }\ninterface KeyboardEvent extends Event { }\ninterface MouseEvent extends Event { }\ninterface TouchEvent extends Event { }\ninterface PointerEvent extends Event { }\ninterface TransitionEvent extends Event { }\ninterface UIEvent extends Event { }\ninterface WheelEvent extends Event { }\n\ninterface EventTarget { }\ninterface Document { }\ninterface DataTransfer { }\ninterface StyleMedia { }\n\ninterface Element { }\ninterface DocumentFragment { }\n\ninterface HTMLElement extends Element { }\ninterface HTMLAnchorElement extends HTMLElement { }\ninterface HTMLAreaElement extends HTMLElement { }\ninterface HTMLAudioElement extends HTMLElement { }\ninterface HTMLBaseElement extends HTMLElement { }\ninterface HTMLBodyElement extends HTMLElement { }\ninterface HTMLBRElement extends HTMLElement { }\ninterface HTMLButtonElement extends HTMLElement { }\ninterface HTMLCanvasElement extends HTMLElement { }\ninterface HTMLDataElement extends HTMLElement { }\ninterface HTMLDataListElement extends HTMLElement { }\ninterface HTMLDialogElement extends HTMLElement { }\ninterface HTMLDivElement extends HTMLElement { }\ninterface HTMLDListElement extends HTMLElement { }\ninterface HTMLEmbedElement extends HTMLElement { }\ninterface HTMLFieldSetElement extends HTMLElement { }\ninterface HTMLFormElement extends HTMLElement { }\ninterface HTMLHeadingElement extends HTMLElement { }\ninterface HTMLHeadElement extends HTMLElement { }\ninterface HTMLHRElement extends HTMLElement { }\ninterface HTMLHtmlElement extends HTMLElement { }\ninterface HTMLIFrameElement extends HTMLElement { }\ninterface HTMLImageElement extends HTMLElement { }\ninterface HTMLInputElement extends HTMLElement { }\ninterface HTMLModElement extends HTMLElement { }\ninterface HTMLLabelElement extends HTMLElement { }\ninterface HTMLLegendElement extends HTMLElement { }\ninterface HTMLLIElement extends HTMLElement { }\ninterface HTMLLinkElement extends HTMLElement { }\ninterface HTMLMapElement extends HTMLElement { }\ninterface HTMLMetaElement extends HTMLElement { }\ninterface HTMLObjectElement extends HTMLElement { }\ninterface HTMLOListElement extends HTMLElement { }\ninterface HTMLOptGroupElement extends HTMLElement { }\ninterface HTMLOptionElement extends HTMLElement { }\ninterface HTMLParagraphElement extends HTMLElement { }\ninterface HTMLParamElement extends HTMLElement { }\ninterface HTMLPreElement extends HTMLElement { }\ninterface HTMLProgressElement extends HTMLElement { }\ninterface HTMLQuoteElement extends HTMLElement { }\ninterface HTMLSlotElement extends HTMLElement { }\ninterface HTMLScriptElement extends HTMLElement { }\ninterface HTMLSelectElement extends HTMLElement { }\ninterface HTMLSourceElement extends HTMLElement { }\ninterface HTMLSpanElement extends HTMLElement { }\ninterface HTMLStyleElement extends HTMLElement { }\ninterface HTMLTableElement extends HTMLElement { }\ninterface HTMLTableColElement extends HTMLElement { }\ninterface HTMLTableDataCellElement extends HTMLElement { }\ninterface HTMLTableHeaderCellElement extends HTMLElement { }\ninterface HTMLTableRowElement extends HTMLElement { }\ninterface HTMLTableSectionElement extends HTMLElement { }\ninterface HTMLTemplateElement extends HTMLElement { }\ninterface HTMLTextAreaElement extends HTMLElement { }\ninterface HTMLTitleElement extends HTMLElement { }\ninterface HTMLTrackElement extends HTMLElement { }\ninterface HTMLUListElement extends HTMLElement { }\ninterface HTMLVideoElement extends HTMLElement { }\ninterface HTMLWebViewElement extends HTMLElement { }\n\ninterface SVGElement extends Element { }\ninterface SVGSVGElement extends SVGElement { }\ninterface SVGCircleElement extends SVGElement { }\ninterface SVGClipPathElement extends SVGElement { }\ninterface SVGDefsElement extends SVGElement { }\ninterface SVGDescElement extends SVGElement { }\ninterface SVGEllipseElement extends SVGElement { }\ninterface SVGFEBlendElement extends SVGElement { }\ninterface SVGFEColorMatrixElement extends SVGElement { }\ninterface SVGFEComponentTransferElement extends SVGElement { }\ninterface SVGFECompositeElement extends SVGElement { }\ninterface SVGFEConvolveMatrixElement extends SVGElement { }\ninterface SVGFEDiffuseLightingElement extends SVGElement { }\ninterface SVGFEDisplacementMapElement extends SVGElement { }\ninterface SVGFEDistantLightElement extends SVGElement { }\ninterface SVGFEDropShadowElement extends SVGElement { }\ninterface SVGFEFloodElement extends SVGElement { }\ninterface SVGFEFuncAElement extends SVGElement { }\ninterface SVGFEFuncBElement extends SVGElement { }\ninterface SVGFEFuncGElement extends SVGElement { }\ninterface SVGFEFuncRElement extends SVGElement { }\ninterface SVGFEGaussianBlurElement extends SVGElement { }\ninterface SVGFEImageElement extends SVGElement { }\ninterface SVGFEMergeElement extends SVGElement { }\ninterface SVGFEMergeNodeElement extends SVGElement { }\ninterface SVGFEMorphologyElement extends SVGElement { }\ninterface SVGFEOffsetElement extends SVGElement { }\ninterface SVGFEPointLightElement extends SVGElement { }\ninterface SVGFESpecularLightingElement extends SVGElement { }\ninterface SVGFESpotLightElement extends SVGElement { }\ninterface SVGFETileElement extends SVGElement { }\ninterface SVGFETurbulenceElement extends SVGElement { }\ninterface SVGFilterElement extends SVGElement { }\ninterface SVGForeignObjectElement extends SVGElement { }\ninterface SVGGElement extends SVGElement { }\ninterface SVGImageElement extends SVGElement { }\ninterface SVGLineElement extends SVGElement { }\ninterface SVGLinearGradientElement extends SVGElement { }\ninterface SVGMarkerElement extends SVGElement { }\ninterface SVGMaskElement extends SVGElement { }\ninterface SVGMetadataElement extends SVGElement { }\ninterface SVGPathElement extends SVGElement { }\ninterface SVGPatternElement extends SVGElement { }\ninterface SVGPolygonElement extends SVGElement { }\ninterface SVGPolylineElement extends SVGElement { }\ninterface SVGRadialGradientElement extends SVGElement { }\ninterface SVGRectElement extends SVGElement { }\ninterface SVGStopElement extends SVGElement { }\ninterface SVGSwitchElement extends SVGElement { }\ninterface SVGSymbolElement extends SVGElement { }\ninterface SVGTextElement extends SVGElement { }\ninterface SVGTextPathElement extends SVGElement { }\ninterface SVGTSpanElement extends SVGElement { }\ninterface SVGUseElement extends SVGElement { }\ninterface SVGViewElement extends SVGElement { }\n\ninterface Text { }\ninterface TouchList { }\ninterface WebGLRenderingContext { }\ninterface WebGL2RenderingContext { }\n",
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/types/packages.json[m[K[36m[K-[m[K[32m[K5[m[K[36m[K-[m[K    "@posthog/apps-common/index.d.ts": "import { UploadFile } from 'antd/lib/upload/interface';\nimport { Layout } from 'react-grid-layout';\nimport dayjs from 'dayjs';\nimport * as antd_lib_checkbox_Group from 'antd/lib/checkbox/Group';\n\n/** Collaboration restriction level (which is a dashboard setting). Sync with DashboardPrivilegeLevel. */\ndeclare enum DashboardRestrictionLevel {\n    EveryoneInProjectCanEdit = 21,\n    OnlyCollaboratorsCanEdit = 37\n}\n/** Collaboration privilege level (which is a user property). Sync with DashboardRestrictionLevel. */\ndeclare enum DashboardPrivilegeLevel {\n    CanView = 21,\n    CanEdit = 37,\n    /** This is not a value that can be set in the DB – it's inferred. */\n    _ProjectAdmin = 888,\n    /** This is not a value that can be set in the DB – it's inferred. */\n    _Owner = 999\n}\ndeclare enum ShownAsValue {\n    VOLUME = \"Volume\",\n    STICKINESS = \"Stickiness\",\n    LIFECYCLE = \"Lifecycle\"\n}\ndeclare const RETENTION_RECURRING = \"retention_recurring\";\ndeclare const RETENTION_FIRST_TIME = \"retention_first_time\";\ndeclare const ENTITY_MATCH_TYPE = \"entities\";\ndeclare const PROPERTY_MATCH_TYPE = \"properties\";\ndeclare enum FunnelLayout {\n    horizontal = \"horizontal\",\n    vertical = \"vertical\"\n}\ndeclare const BIN_COUNT_AUTO: \"auto\";\n\ndeclare enum TaxonomicFilterGroupType {\n    Actions = \"actions\",\n    Cohorts = \"cohorts\",\n    CohortsWithAllUsers = \"cohorts_with_all\",\n    Elements = \"elements\",\n    Events = \"events\",\n    EventProperties = \"event_properties\",\n    EventFeatureFlags = \"event_feature_flags\",\n    NumericalEventProperties = \"numerical_event_properties\",\n    PersonProperties = \"person_properties\",\n    PageviewUrls = \"pageview_urls\",\n    Screens = \"screens\",\n    CustomEvents = \"custom_events\",\n    Wildcards = \"wildcard\",\n    GroupsPrefix = \"groups\",\n    Persons = \"persons\",\n    FeatureFlags = \"feature_flags\",\n    Insights = \"insights\",\n    Experiments = \"experiments\",\n    Plugins = \"plugins\",\n    Dashboards = \"dashboards\",\n    GroupNamesPrefix = \"name_groups\",\n    Sessions = \"sessions\"\n}\n\ndeclare type BehavioralFilterType = BehavioralEventType | BehavioralCohortType | BehavioralLifecycleType;\ndeclare enum BehavioralFilterKey {\n    Behavioral = \"behavioral\",\n    Cohort = \"cohort\",\n    Person = \"person\"\n}\n\ndeclare const formats: readonly [\"numeric\", \"duration\", \"duration_ms\", \"percentage\", \"percentage_scaled\"];\ndeclare type AggregationAxisFormat = typeof formats[number];\n\ndeclare enum LicensePlan {\n    Scale = \"scale\",\n    Enterprise = \"enterprise\"\n}\ninterface UserBaseType {\n    uuid: string;\n    distinct_id: string;\n    first_name: string;\n    email: string;\n}\ninterface UserBasicType extends UserBaseType {\n    id: number;\n}\ninterface ActionType {\n    count?: number;\n    created_at: string;\n    deleted?: boolean;\n    id: number;\n    is_calculating?: boolean;\n    last_calculated_at?: string;\n    last_updated_at?: string;\n    name: string | null;\n    description?: string;\n    post_to_slack?: boolean;\n    slack_message_format?: string;\n    steps?: ActionStepType[];\n    created_by: UserBasicType | null;\n    tags?: string[];\n    verified?: boolean;\n    is_action?: true;\n    action_id?: number;\n}\n/** Sync with plugin-server/src/types.ts */\ndeclare enum ActionStepUrlMatching {\n    Contains = \"contains\",\n    Regex = \"regex\",\n    Exact = \"exact\"\n}\ninterface ActionStepType {\n    event?: string;\n    href?: string | null;\n    id?: number;\n    name?: string;\n    properties?: AnyPropertyFilter[];\n    selector?: string | null;\n    tag_name?: string;\n    text?: string | null;\n    url?: string | null;\n    url_matching?: ActionStepUrlMatching;\n    isNew?: string;\n}\ninterface ElementType {\n    attr_class?: string[];\n    attr_id?: string;\n    attributes: Record<string, string>;\n    href: string;\n    nth_child: number;\n    nth_of_type: number;\n    order: number;\n    tag_name: string;\n    text?: string;\n}\ndeclare type PropertyFilterValue = string | number | (string | number)[] | null;\n/** Sync with plugin-server/src/types.ts */\ndeclare enum PropertyOperator {\n    Exact = \"exact\",\n    IsNot = \"is_not\",\n    IContains = \"icontains\",\n    NotIContains = \"not_icontains\",\n    Regex = \"regex\",\n    NotRegex = \"not_regex\",\n    GreaterThan = \"gt\",\n    GreaterThanOrEqual = \"gte\",\n    LessThan = \"lt\",\n    LessThanOrEqual = \"lte\",\n    IsSet = \"is_set\",\n    IsNotSet = \"is_not_set\",\n    IsDateExact = \"is_date_exact\",\n    IsDateBefore = \"is_date_before\",\n    IsDateAfter = \"is_date_after\",\n    Between = \"between\",\n    NotBetween = \"not_between\",\n    Minimum = \"min\",\n    Maximum = \"max\"\n}\ndeclare enum SessionRecordingsTabs {\n    Recent = \"recent\",\n    Playlists = \"playlists\",\n    FilePlayback = \"file-playback\"\n}\ndeclare enum PropertyFilterType {\n    /** Event metadata and fields on the clickhouse events table */\n    Meta = \"meta\",\n    /** Event properties */\n    Event = \"event\",\n    /** Person properties */\n    Person = \"person\",\n    Element = \"element\",\n    /** Event property with \"$feature/\" prepended */\n    Feature = \"feature\",\n    Session = \"session\",\n    Cohort = \"cohort\",\n    Recording = \"recording\",\n    Group = \"group\"\n}\n/** Sync with plugin-server/src/types.ts */\ninterface BasePropertyFilter {\n    key: string;\n    value: PropertyFilterValue;\n    label?: string;\n    type?: PropertyFilterType;\n}\n/** Sync with plugin-server/src/types.ts */\ninterface EventPropertyFilter extends BasePropertyFilter {\n    type: PropertyFilterType.Event;\n    operator: PropertyOperator;\n}\n/** Sync with plugin-server/src/types.ts */\ninterface PersonPropertyFilter extends BasePropertyFilter {\n    type: PropertyFilterType.Person;\n    operator: PropertyOperator;\n}\n/** Sync with plugin-server/src/types.ts */\ninterface ElementPropertyFilter extends BasePropertyFilter {\n    type: PropertyFilterType.Element;\n    key: 'tag_name' | 'text' | 'href' | 'selector';\n    operator: PropertyOperator;\n}\ninterface SessionPropertyFilter extends BasePropertyFilter {\n    type: PropertyFilterType.Session;\n    key: '$session_duration';\n    operator: PropertyOperator;\n}\n/** Sync with plugin-server/src/types.ts */\ninterface CohortPropertyFilter extends BasePropertyFilter {\n    type: PropertyFilterType.Cohort;\n    key: 'id';\n    value: number;\n}\ninterface GroupPropertyFilter extends BasePropertyFilter {\n    type: PropertyFilterType.Group;\n    group_type_index?: number | null;\n    operator: PropertyOperator;\n}\ninterface FeaturePropertyFilter extends BasePropertyFilter {\n    type: PropertyFilterType.Feature;\n    operator: PropertyOperator;\n}\ndeclare type AnyPropertyFilter = Partial<EventPropertyFilter> | Partial<PersonPropertyFilter> | Partial<ElementPropertyFilter> | Partial<SessionPropertyFilter> | Partial<CohortPropertyFilter> | Partial<RecordingDurationFilter> | Partial<GroupPropertyFilter> | Partial<FeaturePropertyFilter>;\ninterface RecordingDurationFilter extends BasePropertyFilter {\n    type: PropertyFilterType.Recording;\n    key: 'duration';\n    value: number;\n    operator: PropertyOperator;\n}\ninterface RecordingFilters {\n    date_from?: string | null;\n    date_to?: string | null;\n    events?: FilterType['events'];\n    actions?: FilterType['actions'];\n    properties?: AnyPropertyFilter[];\n    offset?: number;\n    session_recording_duration?: RecordingDurationFilter;\n    static_recordings?: SessionRecordingPlaylistType['playlist_items'];\n}\ninterface SessionRecordingsResponse {\n    results: SessionRecordingType[];\n    has_next: boolean;\n}\ndeclare type EntityType = 'actions' | 'events' | 'new_entity';\ninterface FunnelStepRangeEntityFilter {\n    funnel_from_step?: number;\n    funnel_to_step?: number;\n}\ninterface PersonType {\n    id?: string;\n    uuid?: string;\n    name?: string;\n    distinct_ids: string[];\n    properties: Record<string, any>;\n    created_at?: string;\n    is_identified?: boolean;\n}\ninterface PersonListParams {\n    properties?: AnyPropertyFilter[];\n    search?: string;\n    cohort?: number;\n    distinct_id?: string;\n}\ninterface MatchedRecordingEvents {\n    uuid: string;\n    session_id: string;\n    window_id: string;\n    timestamp: string;\n}\ninterface MatchedRecording {\n    session_id?: string;\n    events: MatchedRecordingEvents[];\n}\ninterface CommonActorType {\n    id: string | number;\n    properties: Record<string, any>;\n    created_at: string;\n    matched_recordings: MatchedRecording[];\n    value_at_data_point: number | null;\n}\ninterface PersonActorType extends CommonActorType {\n    id: number;\n    type: 'person';\n    uuid?: string;\n    name?: string;\n    distinct_ids: string[];\n    is_identified: boolean;\n}\ninterface CohortGroupType {\n    id: string;\n    days?: string;\n    action_id?: number;\n    event_id?: string;\n    label?: string;\n    count?: number;\n    count_operator?: string;\n    properties?: AnyPropertyFilter[];\n    matchType: MatchType;\n    name?: string;\n}\ninterface CohortCriteriaType {\n    id: string;\n    key: string;\n    value: BehavioralFilterType;\n    type: BehavioralFilterKey;\n    operator?: PropertyOperator | null;\n    group_type_index?: number | null;\n    event_type?: TaxonomicFilterGroupType | null;\n    operator_value?: PropertyFilterValue;\n    time_value?: number | string | null;\n    time_interval?: TimeUnitType | null;\n    total_periods?: number | null;\n    min_periods?: number | null;\n    seq_event_type?: TaxonomicFilterGroupType | null;\n    seq_event?: string | number | null;\n    seq_time_value?: number | string | null;\n    seq_time_interval?: TimeUnitType | null;\n    negation?: boolean;\n    value_property?: string | null;\n}\ndeclare type EmptyCohortCriteriaType = Partial<CohortCriteriaType>;\ndeclare type AnyCohortCriteriaType = CohortCriteriaType | EmptyCohortCriteriaType;\ndeclare type MatchType = typeof ENTITY_MATCH_TYPE | typeof PROPERTY_MATCH_TYPE;\ninterface CohortType {\n    count?: number;\n    description?: string;\n    created_by?: UserBasicType | null;\n    created_at?: string;\n    deleted?: boolean;\n    id: number | 'new';\n    is_calculating?: boolean;\n    errors_calculating?: number;\n    last_calculation?: string;\n    is_static?: boolean;\n    name?: string;\n    csv?: UploadFile;\n    groups: CohortGroupType[];\n    filters: {\n        properties: CohortCriteriaGroupFilter;\n    };\n}\ndeclare type BinCountValue = number | typeof BIN_COUNT_AUTO;\ndeclare enum StepOrderValue {\n    STRICT = \"strict\",\n    UNORDERED = \"unordered\",\n    ORDERED = \"ordered\"\n}\ninterface EventType {\n    id: string;\n    distinct_id: string;\n    properties: Record<string, any>;\n    event: string;\n    timestamp: string;\n    person?: Pick<PersonType, 'is_identified' | 'distinct_ids' | 'properties'>;\n    elements: ElementType[];\n    elements_chain?: string | null;\n    /** Used in session recording events list */\n    colonTimestamp?: string;\n}\ninterface SessionRecordingPlaylistType {\n    /** The primary key in the database, used as well in API endpoints */\n    id: number;\n    short_id: string;\n    name: string;\n    derived_name?: string | null;\n    description?: string;\n    pinned?: boolean;\n    deleted: boolean;\n    created_at: string;\n    created_by: UserBasicType | null;\n    last_modified_at: string;\n    last_modified_by: UserBasicType | null;\n    filters?: RecordingFilters;\n    playlist_items?: Pick<SessionRecordingType, 'id'>[];\n    is_static?: boolean;\n}\ninterface SessionRecordingType {\n    id: string;\n    /** Whether this recording has been viewed already. */\n    viewed: boolean;\n    /** Length of recording in seconds. */\n    recording_duration: number;\n    /** When the recording starts in ISO format. */\n    start_time: string;\n    /** When the recording ends in ISO format. */\n    end_time: string;\n    /** List of matching events. **/\n    matching_events?: MatchedRecording[];\n    distinct_id?: string;\n    email?: string;\n    person?: PersonType;\n    /** List of static playlists that this recording is referenced on */\n    playlists?: SessionRecordingPlaylistType['id'][];\n    click_count?: number;\n    keypress_count?: number;\n    urls?: string[];\n}\ninterface SessionRecordingPropertiesType {\n    id: string;\n    properties?: Record<string, any>;\n}\ndeclare type InsightShortId = string & {\n    readonly '': unique symbol;\n};\ndeclare enum InsightColor {\n    White = \"white\",\n    Black = \"black\",\n    Blue = \"blue\",\n    Green = \"green\",\n    Purple = \"purple\"\n}\ninterface Cacheable {\n    last_refresh: string | null;\n    filters_hash: string;\n    refreshing: boolean;\n}\ninterface TileLayout extends Omit<Layout, 'i'> {\n    i?: string;\n}\ninterface Tileable {\n    layouts: Record<DashboardLayoutSize, TileLayout> | Record<string, never>;\n    color: InsightColor | null;\n}\ninterface DashboardTile extends Tileable, Cacheable {\n    id: number;\n    insight?: InsightModel;\n    text?: TextModel;\n    deleted?: boolean;\n    is_cached?: boolean;\n}\ninterface TextModel {\n    body: string;\n    created_by?: UserBasicType;\n    last_modified_by?: UserBasicType;\n    last_modified_at: string;\n}\ninterface InsightModel extends Cacheable {\n    /** The unique key we use when communicating with the user, e.g. in URLs */\n    short_id: InsightShortId;\n    /** The primary key in the database, used as well in API endpoints */\n    id: number;\n    name: string;\n    derived_name?: string | null;\n    description?: string;\n    favorited?: boolean;\n    order: number | null;\n    result: any | null;\n    deleted: boolean;\n    saved: boolean;\n    created_at: string;\n    created_by: UserBasicType | null;\n    is_sample: boolean;\n    dashboards: number[] | null;\n    updated_at: string;\n    tags?: string[];\n    last_modified_at: string;\n    last_modified_by: UserBasicType | null;\n    effective_restriction_level: DashboardRestrictionLevel;\n    effective_privilege_level: DashboardPrivilegeLevel;\n    timezone?: string | null;\n    /** Only used in the frontend to store the next breakdown url */\n    next?: string;\n    /** Only used in the frontend to toggle showing Baseline in funnels or not */\n    disable_baseline?: boolean;\n    filters: Partial<FilterType>;\n}\ninterface DashboardType {\n    id: number;\n    name: string;\n    description: string;\n    pinned: boolean;\n    tiles: DashboardTile[];\n    created_at: string;\n    created_by: UserBasicType | null;\n    is_shared: boolean;\n    deleted: boolean;\n    filters: Record<string, any>;\n    creation_mode: 'default' | 'template' | 'duplicate';\n    restriction_level: DashboardRestrictionLevel;\n    effective_restriction_level: DashboardRestrictionLevel;\n    effective_privilege_level: DashboardPrivilegeLevel;\n    tags?: string[];\n    /** Purely local value to determine whether the dashboard should be highlighted, e.g. as a fresh duplicate. */\n    _highlight?: boolean;\n}\ndeclare type DashboardLayoutSize = 'sm' | 'xs';\n/** Explicit dashboard collaborator, based on DashboardPrivilege. */\ninterface DashboardCollaboratorType {\n    id: string;\n    dashboard_id: DashboardType['id'];\n    user: UserBasicType;\n    level: DashboardPrivilegeLevel;\n    added_at: string;\n    updated_at: string;\n}\ndeclare enum PluginLogEntryType {\n    Debug = \"DEBUG\",\n    Log = \"LOG\",\n    Info = \"INFO\",\n    Warn = \"WARN\",\n    Error = \"ERROR\"\n}\ninterface PluginLogEntry {\n    id: string;\n    team_id: number;\n    plugin_id: number;\n    plugin_config_id: number;\n    timestamp: string;\n    type: PluginLogEntryType;\n    is_system: boolean;\n    message: string;\n    instance_id: string;\n}\ndeclare enum AnnotationScope {\n    Insight = \"dashboard_item\",\n    Project = \"project\",\n    Organization = \"organization\"\n}\ninterface RawAnnotationType {\n    id: number;\n    scope: AnnotationScope;\n    content: string;\n    date_marker: string;\n    created_by?: UserBasicType | null;\n    created_at: string;\n    updated_at: string;\n    dashboard_item?: number | null;\n    insight_short_id?: InsightModel['short_id'] | null;\n    insight_name?: InsightModel['name'] | null;\n    deleted?: boolean;\n    creation_type?: string;\n}\ndeclare enum ChartDisplayType {\n    ActionsLineGraph = \"ActionsLineGraph\",\n    ActionsLineGraphCumulative = \"ActionsLineGraphCumulative\",\n    ActionsAreaGraph = \"ActionsAreaGraph\",\n    ActionsTable = \"ActionsTable\",\n    ActionsPie = \"ActionsPie\",\n    ActionsBar = \"ActionsBar\",\n    ActionsBarValue = \"ActionsBarValue\",\n    WorldMap = \"WorldMap\",\n    BoldNumber = \"BoldNumber\"\n}\ndeclare type BreakdownType = 'cohort' | 'person' | 'event' | 'group' | 'session';\ndeclare type IntervalType = 'hour' | 'day' | 'week' | 'month';\ndeclare enum InsightType {\n    TRENDS = \"TRENDS\",\n    STICKINESS = \"STICKINESS\",\n    LIFECYCLE = \"LIFECYCLE\",\n    FUNNELS = \"FUNNELS\",\n    RETENTION = \"RETENTION\",\n    PATHS = \"PATHS\"\n}\ndeclare enum PathType {\n    PageView = \"$pageview\",\n    Screen = \"$screen\",\n    CustomEvent = \"custom_event\"\n}\ndeclare enum FunnelPathType {\n    before = \"funnel_path_before_step\",\n    between = \"funnel_path_between_steps\",\n    after = \"funnel_path_after_step\"\n}\ndeclare enum FunnelVizType {\n    Steps = \"steps\",\n    TimeToConvert = \"time_to_convert\",\n    Trends = \"trends\"\n}\ndeclare type RetentionType = typeof RETENTION_RECURRING | typeof RETENTION_FIRST_TIME;\ndeclare type BreakdownKeyType = string | number | (string | number)[] | null;\ninterface Breakdown {\n    property: string | number;\n    type: BreakdownType;\n    normalize_url?: boolean;\n}\ninterface FilterType {\n    insight?: InsightType;\n    date_from?: string | null;\n    date_to?: string | null;\n    properties?: AnyPropertyFilter[] | PropertyGroupFilter;\n    events?: Record<string, any>[];\n    actions?: Record<string, any>[];\n    filter_test_accounts?: boolean;\n    from_dashboard?: boolean | number;\n    entity_id?: string | number;\n    entity_type?: EntityType;\n    entity_math?: string;\n    interval?: IntervalType;\n    breakdown_type?: BreakdownType | null;\n    breakdown?: BreakdownKeyType;\n    breakdown_normalize_url?: boolean;\n    breakdowns?: Breakdown[];\n    breakdown_value?: string | number;\n    breakdown_group_type_index?: number | null;\n    aggregation_group_type_index?: number | undefined;\n}\ninterface TrendsFilterType extends FilterType {\n    smoothing_intervals?: number;\n    show_legend?: boolean;\n    hidden_legend_keys?: Record<string, boolean | undefined>;\n    compare?: boolean;\n    aggregation_axis_format?: AggregationAxisFormat;\n    aggregation_axis_prefix?: string;\n    aggregation_axis_postfix?: string;\n    breakdown_histogram_bin_count?: number;\n    formula?: any;\n    shown_as?: ShownAsValue;\n    display?: ChartDisplayType;\n}\ninterface StickinessFilterType extends FilterType {\n    compare?: boolean;\n    show_legend?: boolean;\n    hidden_legend_keys?: Record<string, boolean | undefined>;\n    stickiness_days?: number;\n    shown_as?: ShownAsValue;\n    display?: ChartDisplayType;\n}\ninterface FunnelsFilterType extends FilterType {\n    funnel_viz_type?: FunnelVizType;\n    funnel_from_step?: number;\n    funnel_to_step?: number;\n    funnel_step_reference?: FunnelStepReference;\n    funnel_step_breakdown?: string | number[] | number | null;\n    breakdown_attribution_type?: BreakdownAttributionType;\n    breakdown_attribution_value?: number;\n    bin_count?: BinCountValue;\n    funnel_window_interval_unit?: FunnelConversionWindowTimeUnit;\n    funnel_window_interval?: number | undefined;\n    funnel_order_type?: StepOrderValue;\n    exclusions?: FunnelStepRangeEntityFilter[];\n    funnel_correlation_person_entity?: Record<string, any>;\n    funnel_correlation_person_converted?: 'true' | 'false';\n    funnel_custom_steps?: number[];\n    funnel_advanced?: boolean;\n    layout?: FunnelLayout;\n    funnel_step?: number;\n    entrance_period_start?: string;\n    drop_off?: boolean;\n    new_entity?: Record<string, any>[];\n    hidden_legend_keys?: Record<string, boolean | undefined>;\n}\ninterface PathsFilterType extends FilterType {\n    path_type?: PathType;\n    include_event_types?: PathType[];\n    start_point?: string;\n    end_point?: string;\n    path_groupings?: string[];\n    funnel_paths?: FunnelPathType;\n    funnel_filter?: Record<string, any>;\n    exclude_events?: string[];\n    step_limit?: number;\n    path_start_key?: string;\n    path_end_key?: string;\n    path_dropoff_key?: string;\n    path_replacements?: boolean;\n    local_path_cleaning_filters?: Record<string, any>[];\n    edge_limit?: number | undefined;\n    min_edge_weight?: number | undefined;\n    max_edge_weight?: number | undefined;\n}\ninterface RetentionFilterType extends FilterType {\n    retention_type?: RetentionType;\n    retention_reference?: 'total' | 'previous';\n    total_intervals?: number;\n    returning_entity?: Record<string, any>;\n    target_entity?: Record<string, any>;\n    period?: string;\n}\ninterface LifecycleFilterType extends FilterType {\n    shown_as?: ShownAsValue;\n}\ndeclare type AnyPartialFilterType = Partial<TrendsFilterType> | Partial<StickinessFilterType> | Partial<FunnelsFilterType> | Partial<PathsFilterType> | Partial<RetentionFilterType> | Partial<LifecycleFilterType> | Partial<FilterType>;\ninterface EventsListQueryParams {\n    event?: string;\n    properties?: AnyPropertyFilter[] | PropertyGroupFilter;\n    orderBy?: string[];\n    action_id?: number;\n    after?: string;\n    before?: string;\n    limit?: number;\n}\ndeclare enum FunnelConversionWindowTimeUnit {\n    Minute = \"minute\",\n    Hour = \"hour\",\n    Day = \"day\",\n    Week = \"week\",\n    Month = \"month\"\n}\ndeclare enum FunnelStepReference {\n    total = \"total\",\n    previous = \"previous\"\n}\ndeclare enum BreakdownAttributionType {\n    FirstTouch = \"first_touch\",\n    LastTouch = \"last_touch\",\n    AllSteps = \"all_events\",\n    Step = \"step\"\n}\ninterface FeatureFlagGroupType {\n    properties: AnyPropertyFilter[];\n    rollout_percentage: number | null;\n    variant: string | null;\n    users_affected?: number;\n}\ninterface MultivariateFlagVariant {\n    key: string;\n    name?: string | null;\n    rollout_percentage: number;\n}\ninterface MultivariateFlagOptions {\n    variants: MultivariateFlagVariant[];\n}\ninterface FeatureFlagFilters {\n    groups: FeatureFlagGroupType[];\n    multivariate: MultivariateFlagOptions | null;\n    aggregation_group_type_index?: number | null;\n}\ninterface FeatureFlagType {\n    id: number | null;\n    key: string;\n    name: string;\n    filters: FeatureFlagFilters;\n    deleted: boolean;\n    active: boolean;\n    created_by: UserBasicType | null;\n    created_at: string | null;\n    is_simple_flag: boolean;\n    rollout_percentage: number | null;\n    ensure_experience_continuity: boolean | null;\n    experiment_set: string[] | null;\n    rollback_conditions: FeatureFlagRollbackConditions[];\n    performed_rollback: boolean;\n    can_edit: boolean;\n}\ninterface FeatureFlagRollbackConditions {\n    threshold: number;\n    threshold_type: string;\n    threshold_metric?: FilterType;\n    operator?: string;\n}\ninterface LicenseType {\n    id: number;\n    plan: LicensePlan;\n    valid_until: string;\n    created_at: string;\n}\ninterface EventDefinition {\n    id: string;\n    name: string;\n    description?: string;\n    tags?: string[];\n    volume_30_day?: number | null;\n    query_usage_30_day?: number | null;\n    owner?: UserBasicType | null;\n    created_at?: string;\n    last_seen_at?: string;\n    last_updated_at?: string;\n    updated_at?: string;\n    updated_by?: UserBasicType | null;\n    verified?: boolean;\n    verified_at?: string;\n    verified_by?: string;\n    is_action?: boolean;\n}\ndeclare enum PropertyType {\n    DateTime = \"DateTime\",\n    String = \"String\",\n    Numeric = \"Numeric\",\n    Boolean = \"Boolean\",\n    Duration = \"Duration\",\n    Selector = \"Selector\"\n}\ninterface PropertyDefinition {\n    id: string;\n    name: string;\n    description?: string;\n    tags?: string[];\n    volume_30_day?: number | null;\n    query_usage_30_day?: number | null;\n    updated_at?: string;\n    updated_by?: UserBasicType | null;\n    is_numerical?: boolean;\n    filter_by_event_names?: boolean;\n    property_type?: PropertyType;\n    created_at?: string;\n    last_seen_at?: string;\n    example?: string;\n    is_action?: boolean;\n}\ninterface PersonProperty {\n    id: number;\n    name: string;\n    count: number;\n}\ndeclare enum FilterLogicalOperator {\n    And = \"AND\",\n    Or = \"OR\"\n}\ninterface PropertyGroupFilter {\n    type: FilterLogicalOperator;\n    values: PropertyGroupFilterValue[];\n}\ninterface PropertyGroupFilterValue {\n    type: FilterLogicalOperator;\n    values: (AnyPropertyFilter | PropertyGroupFilterValue)[];\n}\ninterface CohortCriteriaGroupFilter {\n    id?: string;\n    type: FilterLogicalOperator;\n    values: AnyCohortCriteriaType[] | CohortCriteriaGroupFilter[];\n}\ndeclare enum BehavioralEventType {\n    PerformEvent = \"performed_event\",\n    PerformMultipleEvents = \"performed_event_multiple\",\n    PerformSequenceEvents = \"performed_event_sequence\",\n    NotPerformedEvent = \"not_performed_event\",\n    NotPerformSequenceEvents = \"not_performed_event_sequence\",\n    HaveProperty = \"have_property\",\n    NotHaveProperty = \"not_have_property\"\n}\ndeclare enum BehavioralCohortType {\n    InCohort = \"in_cohort\",\n    NotInCohort = \"not_in_cohort\"\n}\ndeclare enum BehavioralLifecycleType {\n    PerformEventFirstTime = \"performed_event_first_time\",\n    PerformEventRegularly = \"performed_event_regularly\",\n    StopPerformEvent = \"stopped_performing_event\",\n    StartPerformEventAgain = \"restarted_performing_event\"\n}\ndeclare enum TimeUnitType {\n    Day = \"day\",\n    Week = \"week\",\n    Month = \"month\",\n    Year = \"year\"\n}\ndeclare type WeekdayType = 'monday' | 'tuesday' | 'wednesday' | 'thursday' | 'friday' | 'saturday' | 'sunday';\ninterface SubscriptionType {\n    id: number;\n    insight?: number;\n    dashboard?: number;\n    target_type: string;\n    target_value: string;\n    frequency: 'daily' | 'weekly' | 'monthly' | 'yearly';\n    interval: number;\n    byweekday: WeekdayType[] | null;\n    bysetpos: number | null;\n    start_date: string;\n    until_date?: string;\n    title: string;\n    summary: string;\n    created_by?: UserBasicType | null;\n    created_at: string;\n    updated_at: string;\n    deleted?: boolean;\n}\ndeclare enum EventDefinitionType {\n    Event = \"event\",\n    EventCustom = \"event_custom\",\n    EventPostHog = \"event_posthog\"\n}\ninterface IntegrationType {\n    id: number;\n    kind: 'slack';\n    config: any;\n    created_by?: UserBasicType | null;\n    created_at: string;\n}\ninterface SlackChannelType {\n    id: string;\n    name: string;\n    is_private: boolean;\n    is_ext_shared: boolean;\n    is_member: boolean;\n}\ninterface SharingConfigurationType {\n    enabled: boolean;\n    access_token: string;\n    created_at: string;\n}\ndeclare enum ExporterFormat {\n    PNG = \"image/png\",\n    CSV = \"text/csv\",\n    PDF = \"application/pdf\",\n    JSON = \"application/json\"\n}\n/** Exporting directly from the browser to a file */\ndeclare type LocalExportContext = {\n    localData: string;\n    filename: string;\n    mediaType: ExporterFormat;\n};\ndeclare type OnlineExportContext = {\n    method?: string;\n    path: string;\n    query?: any;\n    body?: any;\n    filename?: string;\n    max_limit?: number;\n};\ndeclare type ExportContext = OnlineExportContext | LocalExportContext;\ninterface ExportedAssetType {\n    id: number;\n    export_format: ExporterFormat;\n    dashboard?: number;\n    insight?: number;\n    export_context?: ExportContext;\n    has_content: boolean;\n    filename: string;\n}\ninterface MediaUploadResponse {\n    id: string;\n    image_location: string;\n    name: string;\n}\ndeclare enum Resource {\n    FEATURE_FLAGS = \"feature flags\"\n}\ndeclare enum AccessLevel {\n    READ = 21,\n    WRITE = 37\n}\ninterface RoleType {\n    id: string;\n    name: string;\n    feature_flags_access_level: AccessLevel;\n    members: RoleMemberType[];\n    associated_flags: {\n        id: number;\n        key: string;\n    }[];\n    created_at: string;\n    created_by: UserBasicType | null;\n}\ninterface RolesListParams {\n    feature_flags_access_level?: AccessLevel;\n}\ninterface FeatureFlagAssociatedRoleType {\n    id: string;\n    feature_flag: FeatureFlagType;\n    role: RoleType;\n    updated_at: string;\n    added_at: string;\n}\ninterface RoleMemberType {\n    id: string;\n    user: UserBaseType;\n    role_id: string;\n    joined_at: string;\n    updated_at: string;\n    user_uuid: string;\n}\ninterface OrganizationResourcePermissionType {\n    id: string;\n    resource: Resource;\n    access_level: AccessLevel;\n    created_at: string;\n    updated_at: string;\n    created_by: UserBaseType | null;\n}\n\ninterface ActivityChange {\n    type: 'FeatureFlag' | 'Person' | 'Insight' | 'Plugin' | 'PluginConfig';\n    action: 'changed' | 'created' | 'deleted' | 'exported' | 'split';\n    field?: string;\n    before?: string | Record<string, any> | boolean;\n    after?: string | Record<string, any> | boolean;\n}\ninterface PersonMerge {\n    type: 'Person';\n    source: PersonType[];\n    target: PersonType;\n}\ninterface Trigger {\n    job_type: string;\n    job_id: string;\n    payload: Record<string, any>;\n}\ninterface ActivityLogDetail {\n    merge: PersonMerge | null;\n    trigger: Trigger | null;\n    changes: ActivityChange[] | null;\n    name: string | null;\n    short_id?: InsightShortId | null;\n}\ninterface ActivityUser {\n    email: string | null;\n    first_name: string;\n    is_system?: boolean;\n}\ndeclare enum ActivityScope {\n    FEATURE_FLAG = \"FeatureFlag\",\n    PERSON = \"Person\",\n    INSIGHT = \"Insight\",\n    PLUGIN = \"Plugin\",\n    PLUGIN_CONFIG = \"PluginConfig\"\n}\ninterface ActivityLogItem {\n    user: ActivityUser;\n    activity: string;\n    created_at: string;\n    scope: ActivityScope;\n    item_id?: string;\n    detail: ActivityLogDetail;\n    unread?: boolean;\n}\n\ninterface ActivityLogProps {\n    scope: ActivityScope;\n    id?: number | string;\n    startingPage?: number;\n    caption?: string | JSX.Element;\n}\n\ndeclare type RecordingTypeWithIdAndPlaylist = Partial<SessionRecordingType> & Pick<SessionRecordingType, 'id' | 'playlists'>;\ninterface UpdatedRecordingResponse {\n    result: {\n        session_recording: RecordingTypeWithIdAndPlaylist;\n    };\n}\n\ninterface PaginatedResponse<T> {\n    results: T[];\n    next?: string;\n    previous?: string;\n    missing_persons?: number;\n}\ninterface CountedPaginatedResponse<T> extends PaginatedResponse<T> {\n    total_count: number;\n}\ninterface ApiMethodOptions {\n    signal?: AbortSignal;\n}\n\ninterface SavedSessionRecordingPlaylistsResult extends PaginatedResponse<SessionRecordingPlaylistType> {\n    count: number;\n    /** not in the API response */\n    filters?: SavedSessionRecordingPlaylistsFilters | null;\n}\ninterface SavedSessionRecordingPlaylistsFilters {\n    order: string;\n    search: string;\n    createdBy: number | 'All users';\n    dateFrom: string | dayjs.Dayjs | undefined | 'all' | null;\n    dateTo: string | dayjs.Dayjs | undefined | null;\n    page: number;\n    pinned: boolean;\n}\n\ndeclare function AdHocInsight({ filters, style, }: {\n    filters: Partial<FilterType>;\n    style?: React.CSSProperties;\n}): JSX.Element;\n\ndeclare type RoutePart = string | Record<string, any>;\ndeclare type LinkProps = Pick<React.HTMLProps<HTMLAnchorElement>, 'target' | 'className' | 'onClick' | 'children' | 'title'> & {\n    /** The location to go to. This can be a kea-location or a \"href\"-like string */\n    to?: string | [string, RoutePart?, RoutePart?];\n    /** If true, in-app navigation will not be used and the link will navigate with a page load */\n    disableClientSideRouting?: boolean;\n    preventClick?: boolean;\n};\n/**\n * Link\n *\n * This component wraps an <a> element to ensure that proper tags are added related to target=\"_blank\"\n * as well deciding when a given \"to\" link should be opened as a standard navigation (i.e. a standard href)\n * or whether to be routed internally via kea-router\n */\ndeclare function Link({ to, target, disableClientSideRouting, preventClick, ...props }: LinkProps): JSX.Element;\n\ninterface TZLabelRawProps {\n    time: string | dayjs.Dayjs;\n    showSeconds?: boolean;\n    formatDate?: string;\n    formatTime?: string;\n    showPopover?: boolean;\n    className?: string;\n}\n/** Return a simple label component with timezone conversion UI. */\ndeclare function TZLabelRaw({ time, showSeconds, formatDate, formatTime, showPopover, className, }: TZLabelRawProps): JSX.Element;\ndeclare const TZLabel: typeof TZLabelRaw;\n\ninterface PersonDisplayProps {\n    person?: Pick<PersonType, 'properties' | 'distinct_ids'> | null;\n    withIcon?: boolean;\n    noLink?: boolean;\n    noEllipsis?: boolean;\n}\ndeclare function asDisplay(person: PersonType | PersonActorType | null | undefined, maxLength?: number): string;\ndeclare const asLink: (person: Partial<PersonType> | null | undefined) => string | undefined;\ndeclare function PersonDisplay(props: PersonDisplayProps): JSX.Element;\n\ninterface ExportOptions {\n    whitelabel?: boolean;\n    noHeader?: boolean;\n    legend?: boolean;\n}\n\ninterface AppMetricsUrlParams {\n    tab?: AppMetricsTab;\n    from?: string;\n    error?: [string, string];\n}\ndeclare enum AppMetricsTab {\n    ProcessEvent = \"processEvent\",\n    OnEvent = \"onEvent\",\n    ExportEvents = \"exportEvents\",\n    ScheduledTask = \"scheduledTask\",\n    HistoricalExports = \"historical_exports\",\n    History = \"history\"\n}\n\n/**\n * To add a new URL to the front end:\n * - add a URL function here\n * - add a scene to the enum in sceneTypes.ts\n * - add a scene configuration in scenes.ts\n * - add a route to scene mapping in scenes.ts\n * - and add a scene import in appScenes.ts\n *\n * Sync the paths with AutoProjectMiddleware!\n */\ndeclare const urls: {\n    default: () => string;\n    dashboards: () => string;\n    dashboard: (id: string | number, highlightInsightId?: string) => string;\n    dashboardTextTile: (id: string | number, textTileId: string | number) => string;\n    dashboardSharing: (id: string | number) => string;\n    dashboardSubcriptions: (id: string | number) => string;\n    dashboardSubcription: (id: string | number, subscriptionId: string) => string;\n    sharedDashboard: (shareToken: string) => string;\n    createAction: () => string;\n    action: (id: string | number) => string;\n    actions: () => string;\n    eventDefinitions: () => string;\n    eventDefinition: (id: string | number) => string;\n    eventPropertyDefinitions: () => string;\n    eventPropertyDefinition: (id: string | number) => string;\n    events: () => string;\n    ingestionWarnings: () => string;\n    insightNew: (filters?: AnyPartialFilterType, dashboardId?: DashboardType['id'] | null) => string;\n    insightEdit: (id: InsightShortId) => string;\n    insightView: (id: InsightShortId) => string;\n    insightSubcriptions: (id: InsightShortId) => string;\n    insightSubcription: (id: InsightShortId, subscriptionId: string) => string;\n    insightSharing: (id: InsightShortId) => string;\n    savedInsights: () => string;\n    webPerformance: () => string;\n    webPerformanceWaterfall: (id: string) => string;\n    sessionRecordings: (tab?: SessionRecordingsTabs, filters?: Partial<FilterType>) => string;\n    sessionRecordingPlaylist: (id: string, filters?: Partial<FilterType>) => string;\n    sessionRecording: (id: string, filters?: Partial<FilterType>) => string;\n    person: (id: string, encode?: boolean) => string;\n    persons: () => string;\n    groups: (groupTypeIndex: string) => string;\n    group: (groupTypeIndex: string | number, groupKey: string, encode?: boolean) => string;\n    cohort: (id: string | number) => string;\n    cohorts: () => string;\n    experiment: (id: string | number) => string;\n    experiments: () => string;\n    featureFlags: () => string;\n    featureFlag: (id: string | number) => string;\n    annotations: () => string;\n    projectApps: () => string;\n    projectApp: (id: string | number) => string;\n    projectAppLogs: (id: string | number) => string;\n    projectAppSource: (id: string | number) => string;\n    frontendApp: (id: string | number) => string;\n    appMetrics: (pluginConfigId: string | number, params?: AppMetricsUrlParams) => string;\n    appHistoricalExports: (pluginConfigId: string | number) => string;\n    appHistory: (pluginConfigId: string | number, searchParams?: Record<string, any>) => string;\n    projectCreateFirst: () => string;\n    projectHomepage: () => string;\n    projectSettings: (section?: string) => string;\n    mySettings: () => string;\n    organizationSettings: () => string;\n    organizationCreationConfirm: () => string;\n    organizationCreateFirst: () => string;\n    toolbarLaunch: () => string;\n    login: () => string;\n    passwordReset: () => string;\n    passwordResetComplete: (userUuid: string, token: string) => string;\n    preflight: () => string;\n    signup: () => string;\n    inviteSignup: (id: string) => string;\n    ingestion: () => string;\n    organizationBilling: () => string;\n    billingSubscribed: () => string;\n    billingLocked: () => string;\n    instanceLicenses: () => string;\n    instanceStatus: () => string;\n    instanceStaffUsers: () => string;\n    instanceKafkaInspector: () => string;\n    instanceSettings: () => string;\n    instanceMetrics: () => string;\n    asyncMigrations: () => string;\n    asyncMigrationsFuture: () => string;\n    asyncMigrationsSettings: () => string;\n    deadLetterQueue: () => string;\n    unsubscribe: () => string;\n    integrationsRedirect: (kind: string) => string;\n    shared: (token: string, exportOptions?: ExportOptions) => string;\n    embedded: (token: string, exportOptions?: ExportOptions) => string;\n    query: (query?: string | Record<string, any>) => string;\n};\n\ndeclare const api: {\n    actions: {\n        get(actionId: number): Promise<ActionType>;\n        create(actionData: Partial<ActionType>, temporaryToken?: string | undefined): Promise<ActionType>;\n        update(actionId: number, actionData: Partial<ActionType>, temporaryToken?: string | undefined): Promise<ActionType>;\n        list(params?: string | undefined): Promise<PaginatedResponse<ActionType>>;\n        getCount(actionId: number): Promise<number>;\n        determineDeleteEndpoint(): string;\n    };\n    activity: {\n        list(activityLogProps: ActivityLogProps, page?: number, teamId?: number): Promise<CountedPaginatedResponse<ActivityLogItem>>;\n    };\n    exports: {\n        determineExportUrl(exportId: number, teamId?: number): string;\n        create(data: Partial<ExportedAssetType>, params?: Record<string, any>, teamId?: number): Promise<ExportedAssetType>;\n        get(id: number, teamId?: number): Promise<ExportedAssetType>;\n    };\n    events: {\n        get(id: string, includePerson?: boolean, teamId?: number): Promise<EventType>;\n        list(filters: EventsListQueryParams, limit?: number, teamId?: number): Promise<PaginatedResponse<EventType[]>>;\n        determineListEndpoint(filters: EventsListQueryParams, limit?: number, teamId?: number): string;\n    };\n    tags: {\n        list(teamId?: number): Promise<string[]>;\n    };\n    eventDefinitions: {\n        get({ eventDefinitionId }: {\n            eventDefinitionId: string;\n        }): Promise<EventDefinition>;\n        update({ eventDefinitionId, eventDefinitionData, }: {\n            eventDefinitionId: string;\n            eventDefinitionData: Partial<Omit<EventDefinition, \"owner\"> & {\n                owner: number | null;\n            }>;\n        }): Promise<EventDefinition>;\n        list({ limit, teamId, ...params }: {\n            limit?: number | undefined;\n            offset?: number | undefined;\n            teamId?: number | undefined;\n            event_type?: EventDefinitionType | undefined;\n        }): Promise<PaginatedResponse<EventDefinition>>;\n        determineListEndpoint({ limit, teamId, ...params }: {\n            limit?: number | undefined;\n            offset?: number | undefined;\n            teamId?: number | undefined;\n            event_type?: EventDefinitionType | undefined;\n        }): string;\n    };\n    propertyDefinitions: {\n        get({ propertyDefinitionId, }: {\n            propertyDefinitionId: string;\n        }): Promise<PropertyDefinition>;\n        update({ propertyDefinitionId, propertyDefinitionData, }: {\n            propertyDefinitionId: string;\n            propertyDefinitionData: Partial<PropertyDefinition>;\n        }): Promise<PropertyDefinition>;\n        list({ limit, teamId, ...params }: {\n            event_names?: string[] | undefined;\n            excluded_properties?: string[] | undefined;\n            properties?: string[] | undefined;\n            filter_by_event_names?: boolean | undefined;\n            limit?: number | undefined;\n            offset?: number | undefined;\n            teamId?: number | undefined;\n        }): Promise<PaginatedResponse<PropertyDefinition>>;\n        determineListEndpoint({ limit, teamId, ...params }: {\n            event_names?: string[] | undefined;\n            excluded_properties?: string[] | undefined;\n            filter_by_event_names?: boolean | undefined;\n            is_feature_flag?: boolean | undefined;\n            limit?: number | undefined;\n            offset?: number | undefined;\n            teamId?: number | undefined;\n        }): string;\n    };\n    cohorts: {\n        get(cohortId: number | \"new\"): Promise<CohortType>;\n        create(cohortData: Partial<CohortType>, filterParams?: string | undefined): Promise<CohortType>;\n        update(cohortId: number | \"new\", cohortData: Partial<CohortType>, filterParams?: string | undefined): Promise<CohortType>;\n        list(): Promise<PaginatedResponse<CohortType>>;\n        determineDeleteEndpoint(): string;\n        determineListUrl(cohortId: number | \"new\", params: PersonListParams): string;\n    };\n    dashboards: {\n        collaborators: {\n            list(dashboardId: number): Promise<DashboardCollaboratorType[]>;\n            create(dashboardId: number, userUuid: string, level: DashboardPrivilegeLevel): Promise<DashboardCollaboratorType>;\n            delete(dashboardId: number, userUuid: string): Promise<void>;\n        };\n    };\n    resourceAccessPermissions: {\n        featureFlags: {\n            create(featureFlagId: number, roleId: string): Promise<FeatureFlagAssociatedRoleType>;\n            list(featureFlagId: number): Promise<PaginatedResponse<FeatureFlagAssociatedRoleType>>;\n            delete(featureFlagId: number, id: string): Promise<PaginatedResponse<FeatureFlagAssociatedRoleType>>;\n        };\n    };\n    roles: {\n        get(roleId: string): Promise<RoleType>;\n        list(params?: RolesListParams): Promise<PaginatedResponse<RoleType>>;\n        delete(roleId: string): Promise<void>;\n        create(roleName: string, featureFlagAccessLevel: AccessLevel): Promise<RoleType>;\n        update(roleId: string, roleData: Partial<RoleType>): Promise<ActionType>;\n        members: {\n            list(roleId: string): Promise<PaginatedResponse<RoleMemberType>>;\n            create(roleId: string, userUuid: string): Promise<RoleMemberType>;\n            get(roleId: string, userUuid: string): Promise<void>;\n            delete(roleId: string, userUuid: string): Promise<void>;\n        };\n    };\n    persons: {\n        getProperties(): Promise<PersonProperty[]>;\n        update(id: number, person: Partial<PersonType>): Promise<PersonType>;\n        updateProperty(id: string, property: string, value: any): Promise<void>;\n        deleteProperty(id: string, property: string): Promise<void>;\n        list(params?: PersonListParams): Promise<PaginatedResponse<PersonType>>;\n        determineListUrl(params?: PersonListParams): string;\n    };\n    sharing: {\n        get({ dashboardId, insightId, }: {\n            dashboardId?: number | undefined;\n            insightId?: number | undefined;\n        }): Promise<SharingConfigurationType | null>;\n        update({ dashboardId, insightId, }: {\n            dashboardId?: number | undefined;\n            insightId?: number | undefined;\n        }, data: Partial<SharingConfigurationType>): Promise<SharingConfigurationType | null>;\n    };\n    pluginLogs: {\n        search(pluginConfigId: number, currentTeamId: number | null, searchTerm?: string | null, typeFilters?: antd_lib_checkbox_Group.CheckboxValueType[], trailingEntry?: PluginLogEntry | null, leadingEntry?: PluginLogEntry | null): Promise<PluginLogEntry[]>;\n    };\n    annotations: {\n        get(annotationId: number): Promise<RawAnnotationType>;\n        update(annotationId: number, data: Pick<RawAnnotationType, \"date_marker\" | \"scope\" | \"content\" | \"dashboard_item\">): Promise<RawAnnotationType>;\n        list(): Promise<PaginatedResponse<RawAnnotationType>>;\n        create(data: Pick<RawAnnotationType, \"date_marker\" | \"scope\" | \"content\" | \"dashboard_item\">): Promise<RawAnnotationType>;\n        determineDeleteEndpoint(): string;\n    };\n    licenses: {\n        get(licenseId: number): Promise<LicenseType>;\n        list(): Promise<PaginatedResponse<LicenseType>>;\n        create(key: string): Promise<LicenseType>;\n        delete(licenseId: number): Promise<LicenseType>;\n    };\n    recordings: {\n        list(params: string): Promise<SessionRecordingsResponse>;\n        listProperties(params: string): Promise<PaginatedResponse<SessionRecordingPropertiesType>>;\n        updateRecording(recordingId: string, recording: Partial<SessionRecordingType>, params?: string | undefined): Promise<UpdatedRecordingResponse>;\n        listPlaylists(params: string): Promise<SavedSessionRecordingPlaylistsResult>;\n        getPlaylist(playlistId: string): Promise<SessionRecordingPlaylistType>;\n        createPlaylist(playlist: Partial<SessionRecordingPlaylistType>): Promise<SessionRecordingPlaylistType>;\n        updatePlaylist(playlistId: string, playlist: Partial<SessionRecordingPlaylistType>): Promise<SessionRecordingPlaylistType>;\n    };\n    subscriptions: {\n        get(subscriptionId: number): Promise<SubscriptionType>;\n        create(data: Partial<SubscriptionType>): Promise<SubscriptionType>;\n        update(subscriptionId: number, data: Partial<SubscriptionType>): Promise<SubscriptionType>;\n        list({ insightId, dashboardId, }: {\n            insightId?: number | undefined;\n            dashboardId?: number | undefined;\n        }): Promise<PaginatedResponse<SubscriptionType>>;\n        determineDeleteEndpoint(): string;\n    };\n    integrations: {\n        get(id: number): Promise<IntegrationType>;\n        create(data: Partial<IntegrationType>): Promise<IntegrationType>;\n        delete(integrationId: number): Promise<IntegrationType>;\n        list(): Promise<PaginatedResponse<IntegrationType>>;\n        slackChannels(id: number): Promise<{\n            channels: SlackChannelType[];\n        }>;\n    };\n    resourcePermissions: {\n        list(): Promise<PaginatedResponse<OrganizationResourcePermissionType>>;\n        create(data: Partial<OrganizationResourcePermissionType>): Promise<OrganizationResourcePermissionType>;\n        update(resourceId: string, data: Partial<OrganizationResourcePermissionType>): Promise<OrganizationResourcePermissionType>;\n    };\n    media: {\n        upload(data: FormData): Promise<MediaUploadResponse>;\n    };\n    get(url: string, options?: ApiMethodOptions | undefined): Promise<any>;\n    getResponse(url: string, options?: ApiMethodOptions | undefined): Promise<Response>;\n    update(url: string, data: any, options?: ApiMethodOptions | undefined): Promise<any>;\n    create(url: string, data?: any, options?: ApiMethodOptions | undefined): Promise<any>;\n    createResponse(url: string, data?: any, options?: ApiMethodOptions | undefined): Promise<Response>;\n    delete(url: string): Promise<any>;\n};\n\nexport { AdHocInsight, Link, LinkProps, PersonDisplay, PersonDisplayProps, TZLabel, api, asDisplay, asLink, urls };\n",
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/types/packages.json[m[K[36m[K:[m[K[32m[K6[m[K[36m[K:[m[K    "@posthog/lemon-ui/index.d.ts": "import React$1, { MouseEventHandler, MutableRefObject, ReactNode, HTMLProps } from 'react';\nimport { Placement, Middleware } from '@floating-ui/react';\nimport { TooltipProps as TooltipProps$1 } from 'antd/lib/tooltip';\nimport { ToastOptions } from 'react-toastify';\n\ninterface LemonBadgePropsBase {\n    size?: 'small' | 'medium' | 'large';\n    position?: 'none' | 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right';\n    className?: string;\n    status?: 'primary' | 'danger' | 'muted';\n    style?: React.CSSProperties;\n    title?: string;\n}\ninterface LemonBadgeProps extends LemonBadgePropsBase {\n    content: string | JSX.Element;\n    visible?: boolean;\n}\ninterface LemonBadgeNumberProps extends LemonBadgePropsBase {\n    count: number;\n    /** Maximum number of digits shown at once. Default value: 1 (so all numbers above 9 are shown as \"9+\"). */\n    maxDigits?: number;\n    showZero?: boolean;\n}\n/** An icon-sized badge. */\ndeclare function LemonBadge({ content, visible, size, position, className, status, ...spanProps }: LemonBadgeProps): JSX.Element;\ndeclare namespace LemonBadge {\n    var Number: typeof LemonBadgeNumber;\n}\n/** An icon-sized badge f[01;31m[Kor displaying a count.\n *\n * Numbers up to 9 are displayed in full, in integer form, with 9+ for higher values.\n * JSX elements are rendered outright to support use cases where the badge is meant to show an icon.\n * If `showZero` is set to `true`, the component won't be hidden if the count is 0.\n */\ndeclare function LemonBadgeNumber({ count, maxDigits, showZero, ...badgeProps }: LemonBadgeNumberProps): JSX.Element;\n\ninterface PopoverProps {\n    ref?: React$1.MutableRefObject<HTMLDivElement | null> | React$1.Ref<HTMLDivElement> | null;\n    visible?: boolean;\n    onClickOutside?: (event: Event) => void;\n    onClickInside?: MouseEventHandler<HTMLDivElement>;\n    /** Popover trigger element. If you pass one <Component/> child, it will get the `ref` prop automatically. */\n    children?: React$1.ReactChild | ((props: {\n        ref: MutableRefObject<HTMLElement | null>;\n    }) => JSX.Element);\n    /** External reference element not passed as a direct child */\n    referenceElement?: HTMLElement;\n    /** Content of the overlay. */\n    overlay: React$1.ReactNode | React$1.ReactNode[];\n    /** Where the popover should start relative to children. */\n    placement?: Placement;\n    /** Where the popover should start relative to children if there's insufficient space for original placement. */\n    fallbackPlacements?: Placement[];\n    /** Whether the popover is actionable rather than just informative - actionable means a colored border. */\n    actionable?: boolean;\n    /** Whether the popover's width should be synced with the children's width. */\n    sameWidth?: boolean;\n    maxContentWidth?: boolean;\n    className?: string;\n    middleware?: Middleware[];\n    /** Any other refs that needs to be taken into account for handling outside clicks e.g. other nested popovers.\n     * Works also with strings, matching classnames or ids, for antd legacy components that don't support refs\n     * **/\n    additionalRefs?: (React$1.MutableRefObject<HTMLDivElement | null> | string)[];\n    style?: React$1.CSSProperties;\n    /** Whether the parent popover should be closed as well on click. Useful for menus  */\n    closeParentPopoverOnClickInside?: boolean;\n    getPopupContainer?: () => HTMLElement;\n    /** Whether to show an arrow pointing to a reference element */\n    showArrow?: boolean;\n}\n\ndeclare type TooltipProps = TooltipProps$1 & {\n    /** Whether Ant Design's default Tooltip behavior should be used instead of PostHog's. */\n    isDefaultTooltip?: boolean;\n    delayMs?: number;\n};\n\ninterface LemonButtonPopover extends Omit<PopoverProps, 'children'> {\n    closeOnClickInside?: boolean;\n}\ninterface LemonButtonPropsBase extends Pick<React$1.ButtonHTMLAttributes<HTMLElement>, 'title' | 'onClick' | 'id' | 'tabIndex' | 'form' | 'onMouseDown'> {\n    children?: React$1.ReactNode;\n    type?: 'primary' | 'secondary' | 'tertiary';\n    /** What color scheme the button should follow */\n    status?: 'primary' | 'danger' | 'primary-alt' | 'muted' | 'muted-alt' | 'stealth';\n    /** Whether hover style should be applied, signaling that the button is held active in some way. */\n    active?: boolean;\n    /** URL to link to. */\n    to?: string;\n    /** force the \"to\" link to reload the page */\n    disableClientSideRouting?: boolean;\n    /** If set clicking this button will open the page in a new tab. */\n    targetBlank?: boolean;\n    /** External URL to link to. */\n    className?: string;\n    icon?: React$1.ReactElement | null;\n    sideIcon?: React$1.ReactElement | null;\n    htmlType?: 'button' | 'submit' | 'reset';\n    loading?: boolean;\n    /** Tooltip to display on hover. */\n    tooltip?: TooltipProps['title'];\n    tooltipPlacement?: TooltipProps['placement'];\n    /** Whether the row should take up the parent's full width. */\n    fullWidth?: boolean;\n    center?: boolean;\n    /** @deprecated Buttons should never be disabled. Work with Design to find an alternative approach. */\n    disabled?: boolean;\n    noPadding?: boolean;\n    size?: 'small' | 'medium' | 'large';\n    'data-attr'?: string;\n    'aria-label'?: string;\n}\ninterface LemonButtonProps extends LemonButtonPropsBase {\n    sideIcon?: React$1.ReactElement | null;\n}\ndeclare const LemonButton: (props: LemonButtonProps & React$1.RefAttributes<HTMLElement>) => React$1.ReactElement<any, string | React$1.JSXElementConstructor<any>> | null;\ndeclare type SideAction = Pick<LemonButtonProps, 'onClick' | 'to' | 'disabled' | 'icon' | 'type' | 'tooltip' | 'data-attr' | 'aria-label' | 'status'> & {\n    popover?: LemonButtonPopover;\n};\n/** A LemonButtonWithSideAction can't have a sideIcon - instead it has a clickable sideAction. */\ninterface LemonButtonWithSideActionProps extends LemonButtonPropsBase {\n    sideAction: SideAction;\n}\n/**\n * Styled button with a side action on the right.\n * We can't use `LemonRow`'s `sideIcon` prop because putting `onClick` on it clashes with the parent`s `onClick`.\n */\ndeclare function LemonButtonWithSideAction({ sideAction, children, ...buttonProps }: LemonButtonWithSideActionProps): JSX.Element;\ninterface LemonButtonWithDropdownProps extends LemonButtonPropsBase {\n    popover: LemonButtonPopover;\n    sideIcon?: React$1.ReactElement | null;\n}\n/**\n * Styled button that opens a popover menu on click.\n * The difference vs. plain `LemonButton` is popover visibility being controlled internally, which is more convenient.\n */\ndeclare function LemonButtonWithDropdown({ popover: { onClickOutside, onClickInside, closeOnClickInside, className: popoverClassName, ...popoverProps }, onClick, className, ...buttonProps }: LemonButtonWithDropdownProps): JSX.Element;\n\ninterface LemonCheckboxProps {\n    checked?: boolean | 'indeterminate';\n    defaultChecked?: boolean;\n    disabled?: boolean;\n    onChange?: (value: boolean) => void;\n    label?: string | JSX.Element;\n    id?: string;\n    className?: string;\n    fullWidth?: boolean;\n    size?: 'small' | 'medium';\n    bordered?: boolean;\n    /** @deprecated See https://github.com/PostHog/posthog/pull/9357#pullrequestreview-933783868. */\n    color?: string;\n}\ninterface BoxCSSProperties extends React.CSSProperties {\n    '--box-color': string;\n}\n/**\n * As opposed to switches, checkboxes don't always have to result in the change being applied immediately.\n * E.g. the change may only be applied when the user clicks \"Save\" in a form.\n */\ndeclare function LemonCheckbox({ checked, defaultChecked, disabled, onChange, label, id: rawId, className, fullWidth, bordered, color, size, }: LemonCheckboxProps): JSX.Element;\n\ninterface LemonDividerProps {\n    /** 3x the thickness of the line. */\n    thick?: boolean;\n    /** Whether the divider should be vertical (for separating left-to-right) instead of horizontal (top-to-bottom). */\n    vertical?: boolean;\n    /** Whether the divider should be a dashed line. */\n    dashed?: boolean;\n    /** Adding a className will remove the default margin class names, allowing the greatest flexibility */\n    className?: string;\n}\n/** A line separator for separating rows of content\n *\n * Horizontal by default but can be used in vertical form too.\n * Default padding is `m-2` (e.g. 0.5rem) and can be overridden with `className`\n */\ndeclare function LemonDivider({ vertical, dashed, thick, className, }: LemonDividerProps): JSX.Element;\n\ndeclare type LemonInputPropsBase = Pick<React$1.InputHTMLAttributes<HTMLInputElement>, 'className' | 'onFocus' | 'onBlur' | 'autoFocus' | 'maxLength' | 'onKeyDown' | 'onKeyUp' | 'onKeyPress' | 'autoComplete' | 'autoCorrect' | 'autoCapitalize' | 'spellCheck'> & {\n    ref?: React$1.Ref<HTMLInputElement>;\n    id?: string;\n    placeholder?: string;\n    /** Whether there should be a clear icon to the right allowing you to reset the input. The `suffix` prop will be ignored if clearing is allowed. */\n    allowClear?: boolean;\n    /** Element to prefix input field */\n    prefix?: React$1.ReactElement | null;\n    /** Element to suffix input field */\n    suffix?: React$1.ReactElement | null;\n    /** Whether input field is disabled */\n    disabled?: boolean;\n    /** Whether input field is full width */\n    fullWidth?: boolean;\n    /** Special case - show a transparent background rather than white */\n    transparentBackground?: boolean;\n    'data-attr'?: string;\n    'aria-label'?: string;\n};\ndeclare type LemonInputPropsText = LemonInputPropsBase & {\n    type?: 'text' | 'email' | 'search' | 'url' | 'password';\n    value?: string;\n    defaultValue?: string;\n    onChange?: (newValue: string) => void;\n    onPressEnter?: (newValue: string) => void;\n};\ndeclare type LemonInputPropsNumber = LemonInputPropsBase & Pick<React$1.InputHTMLAttributes<HTMLInputElement>, 'step' | 'min' | 'max'> & {\n    type: 'number';\n    value?: number;\n    defaultValue?: number;\n    onChange?: (newValue: number | undefined) => void;\n    onPressEnter?: (newValue: number | undefined) => void;\n};\ndeclare type LemonInputProps = LemonInputPropsText | LemonInputPropsNumber;\ndeclare const LemonInput: (props: LemonInputProps & React$1.RefAttributes<HTMLInputElement>) => React$1.ReactElement<any, string | React$1.JSXElementConstructor<any>> | null;\n\ninterface LemonModalInnerProps {\n    children?: React.ReactNode;\n    className?: string;\n}\ninterface LemonModalContentProps extends LemonModalInnerProps {\n    embedded?: boolean;\n}\ninterface LemonModalProps {\n    children?: React.ReactNode;\n    isOpen?: boolean;\n    onClose?: () => void;\n    onAfterClose?: () => void;\n    width?: number | string;\n    inline?: boolean;\n    title: React.ReactNode;\n    description?: React.ReactNode;\n    footer?: React.ReactNode;\n    /** When enabled, the modal content will only include children allowing greater customisation */\n    simple?: boolean;\n    closable?: boolean;\n    /** Expands the modal to fill the entire screen */\n    fullScreen?: boolean;\n    /**\n     * A modal launched from a popover can appear behind the popover. This allows you to force the modal to appear above the popover.\n     * */\n    forceAbovePopovers?: boolean;\n    contentRef?: React.RefCallback<HTMLDivElement>;\n    overlayRef?: React.RefCallback<HTMLDivElement>;\n}\ndeclare const LemonModalHeader: ({ children, className }: LemonModalInnerProps) => JSX.Element;\ndeclare const LemonModalFooter: ({ children, className }: LemonModalInnerProps) => JSX.Element;\ndeclare const LemonModalContent: ({ children, className, embedded }: LemonModalContentProps) => JSX.Element;\ndeclare function LemonModal({ width, children, isOpen, onClose, onAfterClose, title, description, footer, inline, simple, closable, fullScreen, forceAbovePopovers, contentRef, overlayRef, }: LemonModalProps): JSX.Element;\ndeclare namespace LemonModal {\n    var Header: ({ children, className }: LemonModalInnerProps) => JSX.Element;\n    var Footer: ({ children, className }: LemonModalInnerProps) => JSX.Element;\n    var Content: ({ children, className, embedded }: LemonModalContentProps) => JSX.Element;\n}\n\ndeclare module 'react' {\n    function forwardRef<T, P>(render: (props: P, ref: React$1.Ref<T>) => React$1.ReactElement | null): (props: P & React$1.RefAttributes<T>) => React$1.ReactElement | null;\n}\ninterface LemonRowPropsBase<T extends keyof JSX.IntrinsicElements> extends Omit<React$1.HTMLProps<JSX.IntrinsicElements[T]>, 'ref' | 'size'> {\n    /** If icon width is relaxed, width of icon box is set to auto. Default icon width is 1em  */\n    relaxedIconWidth?: boolean;\n    icon?: React$1.ReactElement | null;\n    /** HTML tag to render the row with. */\n    tag?: T;\n    status?: 'default' | 'success' | 'warning' | 'danger' | 'highlighted' | 'muted';\n    /** Extended content, e.g. a description, to show in the lower button area. */\n    extendedContent?: React$1.ReactNode;\n    loading?: boolean;\n    /** Tooltip to display on hover. */\n    tooltip?: any;\n    /** Whether the row should take up the parent's full width. */\n    fullWidth?: boolean;\n    /** Whether the row's contents should be centered. */\n    center?: boolean;\n    /** Whether the element should be outlined with a standard border. */\n    outlined?: any;\n    /** Variation on sizes - default is medium.\n     * Small looks better inline with text.\n     * Large is a chunkier row.\n     * Tall is a chunkier row without changing font size.\n     * */\n    size?: 'small' | 'medium' | 'tall' | 'large';\n    'data-attr'?: string;\n}\ninterface LemonRowProps<T extends keyof JSX.IntrinsicElements = 'div'> extends LemonRowPropsBase<T> {\n    sideIcon?: React$1.ReactElement | false | null;\n}\n/** Generic UI row component. Can be exploited as a button (see LemonButton) or just as a standard row of content.\n *\n * Do NOT use for general layout if you simply need flexbox though. In that case `<div className=\"flex\">` is much lighter.\n */\ndeclare const LemonRow: <T extends keyof JSX.IntrinsicElements = \"div\">(props: LemonRowProps<T> & React$1.RefAttributes<HTMLElement>) => React$1.ReactElement<any, string | React$1.JSXElementConstructor<any>> | null;\n\ninterface LemonSelectOptionBase {\n    label: string | JSX.Element;\n    icon?: React.ReactElement;\n    sideIcon?: React.ReactElement;\n    /** Like plain `disabled`, except we enforce a reason to be shown in the tooltip. */\n    disabledReason?: string;\n    tooltip?: string | JSX.Element;\n    'data-attr'?: string;\n}\ninterface LemonSelectOptionLeaf<T> extends LemonSelectOptionBase {\n    value: T;\n    element?: React.ReactElement;\n}\ninterface LemonSelectOptionNode<T> extends LemonSelectOptionBase {\n    options: LemonSelectOption<T>[];\n}\ndeclare type LemonSelectOption<T> = LemonSelectOptionLeaf<T> | LemonSelectOptionNode<T>;\ndeclare type LemonSelectOptions<T> = LemonSelectSection<T>[] | LemonSelectOption<T>[];\ninterface LemonSelectSection<T> {\n    title?: string | React.ReactNode;\n    options: LemonSelectOption<T>[];\n    footer?: string | React.ReactNode;\n}\ninterface LemonSelectProps<T> extends Pick<LemonButtonWithDropdownProps, 'id' | 'className' | 'loading' | 'fullWidth' | 'disabled' | 'data-attr' | 'aria-label' | 'onClick' | 'tabIndex'> {\n    options: LemonSelectOptions<T>;\n    value?: T;\n    /** Callback fired when a value different from the one currently set is selected. */\n    onChange?: (newValue: T | null) => void;\n    /** Callback fired when a value is selected, even if it already is set. */\n    onSelect?: (newValue: T) => void;\n    optionTooltipPlacement?: TooltipProps['placement'];\n    dropdownMatchSelectWidth?: boolean;\n    dropdownMaxContentWidth?: boolean;\n    dropdownPlacement?: PopoverProps['placement'];\n    allowClear?: boolean;\n    className?: string;\n    placeholder?: string;\n    size?: 'small' | undefined;\n    popover?: {\n        className?: string;\n        ref?: React.MutableRefObject<HTMLDivElement | null>;\n    };\n}\ndeclare const isLemonSelectSection: <T extends unknown>(candidate: LemonSelectSection<T> | LemonSelectOption<T>) => candidate is LemonSelectSection<T>;\n/**\n * The select can receive `options` that are either Options or Sections.\n *\n * To simplify the implementation we box the options so that the code only deals with sections\n * and also generate a single list of options since selection is separate from display structure\n * */\ndeclare const boxToSections: <T>(sectionsAndOptions: LemonSelectSection<T>[] | LemonSelectOption<T>[]) => [LemonSelectSection<T>[], LemonSelectOptionLeaf<T>[]];\ndeclare function LemonSelect<T>({ value, onChange, onSelect, options, placeholder, optionTooltipPlacement, dropdownMatchSelectWidth, dropdownMaxContentWidth, dropdownPlacement, allowClear, className, popover, ...buttonProps }: LemonSelectProps<T>): JSX.Element;\n\ninterface LemonSwitchProps {\n    className?: string;\n    onChange?: (newChecked: boolean) => void;\n    checked: boolean;\n    label?: string | JSX.Element;\n    labelClassName?: string;\n    id?: string;\n    fullWidth?: boolean;\n    bordered?: boolean;\n    disabled?: boolean;\n    'data-attr'?: string;\n    size?: 'small' | 'medium';\n    icon?: React.ReactElement | null;\n}\ndeclare function LemonSwitch({ className, id: rawId, onChange, checked, fullWidth, bordered, disabled, label, labelClassName, icon, 'data-attr': dataAttr, }: LemonSwitchProps): JSX.Element;\n\n/** Sorting state. */\ninterface Sorting {\n    columnKey: string;\n    /** 1 means ascending, -1 means descending. */\n    order: 1 | -1;\n}\n\ninterface TableCellRepresentation {\n    children?: any;\n    props?: HTMLProps<HTMLTableCellElement>;\n}\ndeclare type TableCellRenderResult = TableCellRepresentation | ReactNode | JSX.Element | string | number | false | null | undefined;\ninterface LemonTableColumn<T extends Record<string, any>, D extends keyof T | undefined> {\n    title?: string | React.ReactNode;\n    key?: string;\n    dataIndex?: D;\n    render?: (dataValue: D extends keyof T ? T[D] : undefined, record: T, recordIndex: number) => TableCellRenderResult;\n    /** Sorting function. Set to `true` if using manual pagination, in which case you'll also have to provide `sorting` on the table. */\n    sorter?: ((a: T, b: T) => number) | true;\n    className?: string;\n    /** Column content alignment. Left by default. Set to right for numerical values (amounts, days ago etc.) */\n    align?: 'left' | 'right' | 'center';\n    /** TODO: Whether the column should be sticky when scrolling */\n    sticky?: boolean;\n    /** Set width. */\n    width?: string | number;\n}\ninterface LemonTableColumnGroup<T extends Record<string, any>> {\n    title?: string | React.ReactNode;\n    children: LemonTableColumn<T, keyof T | undefined>[];\n}\ndeclare type LemonTableColumns<T extends Record<string, any>> = LemonTableColumn<T, keyof T | undefined>[] | LemonTableColumnGroup<T>[];\ninterface ExpandableConfig<T extends Record<string, any>> {\n    /** Row expansion render function. */\n    expandedRowRender: (record: T, recordIndex: number) => any;\n    /**\n     * Function determining whether the row should be expandable:\n     * A positive value (like true or 1) means that the row is expandable.\n     * A zero (like 0 or false) means that the row isn't expandable.\n     * A negative value (like -1) means that the row isn't expandable and that also the expand button cell is skipped.\n     */\n    rowExpandable?: (record: T, recordIndex: number) => boolean | number;\n    /** Called when row is expanded */\n    onRowExpand?: (record: T, recordIndex: number) => void;\n    /** Called when row is collapsed */\n    onRowCollapse?: (record: T, recordIndex: number) => void;\n    /** Disable indentation */\n    noIndent?: boolean;\n    /**\n     * Callback that checks if a row expandable state should be overridden\n     * A positive value (like true or 1) means that the row is expanded.\n     * A zero (like 0 or false) means that the row is collapsed.\n     * A negative value (like -1) means that the row is uncontrolled.\n     */\n    isRowExpanded?: (record: T, recordIndex: number) => boolean | number;\n}\n\ninterface PaginationBase {\n    /** By default pagination is only shown when there are multiple pages, but will always be if this is `false`. */\n    hideOnSinglePage?: boolean;\n}\ninterface PaginationAuto extends PaginationBase {\n    controlled?: false;\n    /** Size of each page (except the last one which can be smaller). */\n    pageSize: number;\n}\ninterface PaginationManual extends PaginationBase {\n    controlled: true;\n    /** Size of each page (except the last one which can be smaller)/ */\n    pageSize?: number;\n    /** Page currently on display. */\n    currentPage?: number;\n    /** Total entry count for determining current position using `currentPage`. If not set, position is not shown. */\n    entryCount?: number;\n    /** Next page navigation handler. */\n    onForward?: () => void;\n    /** Previous page navigation handler. */\n    onBackward?: () => void;\n}\n\ninterface LemonTableProps<T extends Record<string, any>> {\n    /** Table ID that will also be used in pagination to add uniqueness to search params (page + order). */\n    id?: string;\n    columns: LemonTableColumns<T>;\n    dataSource: T[];\n    /** Which column to use for the row key, as an alternative to the default row index mechanism. */\n    rowKey?: keyof T | ((record: T) => string | number);\n    /** Class to append to each row. */\n    rowClassName?: string | ((record: T) => string | null);\n    /** Color to mark each row with. */\n    rowRibbonColor?: string | ((record: T) => string | null);\n    /** Status of each row. Defaults no status. */\n    rowStatus?: 'highlighted' | ((record: T) => 'highlighted' | null);\n    /** Function that for each row determines what props should its `tr` element have based on the row's record. */\n    onRow?: (record: T) => Omit<HTMLProps<HTMLTableRowElement>, 'key'>;\n    /** How tall should rows be. The default value is `\"middle\"`. */\n    size?: 'xs' | 'small' | 'middle';\n    /** An embedded table has no border around it and no background. This way it blends better into other components. */\n    embedded?: boolean;\n    /** Whether inner table borders should be shown. **/\n    bordered?: boolean;\n    loading?: boolean;\n    pagination?: PaginationAuto | PaginationManual;\n    expandable?: ExpandableConfig<T>;\n    /** Whether the header should be shown. The default value is `true`. */\n    showHeader?: boolean;\n    /** Whether header titles should be uppercased. The default value is `true`. */\n    uppercaseHeader?: boolean;\n    /**\n     * By default sorting goes: 0. unsorted > 1. ascending > 2. descending > GOTO 0 (loop).\n     * With sorting cancellation disabled, GOTO 0 is replaced by GOTO 1. */\n    noSortingCancellation?: boolean;\n    /** Sorting order to start with. */\n    defaultSorting?: Sorting | null;\n    /** Controlled sort order. */\n    sorting?: Sorting | null;\n    /** Sorting change handler for controlled sort order. */\n    onSort?: (newSorting: Sorting | null) => void;\n    /** Defaults to true. Used if you don't want to use the URL to store sort order **/\n    useURLForSorting?: boolean;\n    /** How many skeleton rows should be used for the empty loading state. The default value is 1. */\n    loadingSkeletonRows?: number;\n    /** What to show when there's no data. */\n    emptyState?: React.ReactNode;\n    /** What to describe the entries as, singular and plural. The default value is `['entry', 'entries']`. */\n    nouns?: [string, string];\n    className?: string;\n    style?: React.CSSProperties;\n    'data-attr'?: string;\n}\ndeclare function LemonTable<T extends Record<string, any>>({ id, columns: rawColumns, dataSource, rowKey, rowClassName, rowRibbonColor, rowStatus, onRow, size, embedded, bordered, loading, pagination, expandable, showHeader, uppercaseHeader, noSortingCancellation: disableSortingCancellation, defaultSorting, sorting, onSort, useURLForSorting, loadingSkeletonRows, emptyState, nouns, className, style, 'data-attr': dataAttr, }: LemonTableProps<T>): JSX.Element;\n\ndeclare type LemonTagPropsType = 'highlight' | 'warning' | 'danger' | 'success' | 'default' | 'purple';\ninterface LemonTagProps extends React.HTMLAttributes<HTMLDivElement> {\n    type?: LemonTagPropsType;\n    children: React.ReactNode;\n    icon?: JSX.Element;\n    closable?: boolean;\n    onClose?: () => void;\n    popover?: LemonButtonPopover;\n}\ndeclare function LemonTag({ type, children, className, icon, closable, onClose, popover, ...props }: LemonTagProps): JSX.Element;\n\ninterface LemonTextAreaProps extends Pick<React$1.TextareaHTMLAttributes<HTMLTextAreaElement>, 'onFocus' | 'onBlur' | 'maxLength' | 'autoFocus' | 'onKeyDown'> {\n    id?: string;\n    value?: string;\n    defaultValue?: string;\n    placeholder?: string;\n    className?: string;\n    /** Whether input field is disabled */\n    disabled?: boolean;\n    ref?: React$1.Ref<HTMLTextAreaElement>;\n    onChange?: (newValue: string) => void;\n    /** Callback called when Cmd + Enter (or Ctrl + Enter) is pressed.\n     * This checks for Cmd/Ctrl, as opposed to LemonInput, to avoid blocking multi-line input. */\n    onPressCmdEnter?: (newValue: string) => void;\n    minRows?: number;\n    maxRows?: number;\n    rows?: number;\n}\n/** A `textarea` component for multi-line text. */\ndeclare const LemonTextArea: (props: LemonTextAreaProps & React$1.RefAttributes<HTMLTextAreaElement>) => React$1.ReactElement<any, string | React$[m[K1.JSXElementConstructor<any>> | null;\ninterface LemonTextMarkdownProps {\n    'data-attr'?: string;\n    value: string;\n    onChange: (s: string) => void;\n}\ndeclare function LemonTextMarkdown({ value, onChange, ...editAreaProps }: LemonTextMarkdownProps): JSX.Element;\n\ndeclare function ToastCloseButton({ closeToast }: {\n    closeToast?: () => void;\n}): JSX.Element;\ninterface ToastButton {\n    label: string;\n    action: () => void;\n    dataAttr?: string;\n}\ninterface ToastOptionsWithButton extends ToastOptions {\n    button?: ToastButton;\n}\ndeclare const GET_HELP_BUTTON: ToastButton;\ninterface ToastContentProps {\n    type: 'info' | 'success' | 'warning' | 'error';\n    message: string | JSX.Element;\n    button?: ToastButton;\n    id?: number | string;\n}\ndeclare function ToastContent({ type, message, button, id }: ToastContentProps): JSX.Element;\ndeclare const lemonToast: {\n    info(message: string | JSX.Element, { button, ...toastOptions }?: ToastOptionsWithButton): void;\n    success(message: string | JSX.Element, { button, ...toastOptions }?: ToastOptionsWithButton): void;\n    warning(message: string | JSX.Element, { button, ...toastOptions }?: ToastOptionsWithButton): void;\n    error(message: string | JSX.Element, { button, ...toastOptions }?: ToastOptionsWithButton): void;\n    promise(promise: Promise<any>, messages: {\n        pending: string | JSX.Element;\n        success: string | JSX.Element;\n        error: string | JSX.Element;\n    }, icons?: {\n        pending?: JSX.Element;\n        success?: JSX.Element;\n        error?: JSX.Element;\n    }, { button, ...toastOptions }?: ToastOptionsWithButton): Promise<any>;\n    dismiss(id?: number | string): void;\n};\n\ndeclare type RoutePart = string | Record<string, any>;\ndeclare type LinkProps = Pick<React.HTMLProps<HTMLAnchorElement>, 'target' | 'className' | 'onClick' | 'children' | 'title'> & {\n    /** The location to go to. This can be a kea-location or a \"href\"-like string */\n    to?: string | [string, RoutePart?, RoutePart?];\n    /** If true, in-app navigation will not be used and the link will navigate with a page load */\n    disableClientSideRouting?: boolean;\n    preventClick?: boolean;\n};\n/**\n * Link\n *\n * This component wraps an <a> element to ensure that proper tags are added related to target=\"_blank\"\n * as well deciding when a given \"to\" link should be opened as a standard navigation (i.e. a standard href)\n * or whether to be routed internally via kea-router\n */\ndeclare function Link({ to, target, disableClientSideRouting, preventClick, ...props }: LinkProps): JSX.Element;\n\nexport { BoxCSSProperties, GET_HELP_BUTTON, LemonBadge, LemonBadgeNumberProps, LemonBadgeProps, LemonButton, LemonButtonPopover, LemonButtonProps, LemonButtonPropsBase, LemonButtonWithDropdown, LemonButtonWithDropdownProps, LemonButtonWithSideAction, LemonButtonWithSideActionProps, LemonCheckbox, LemonCheckboxProps, LemonDivider, LemonDividerProps, LemonInput, LemonInputProps, LemonModal, LemonModalContent, LemonModalContentProps, LemonModalFooter, LemonModalHeader, LemonModalProps, LemonRow, LemonRowProps, LemonRowPropsBase, LemonSelect, LemonSelectOption, LemonSelectOptionLeaf, LemonSelectOptionNode, LemonSelectOptions, LemonSelectProps, LemonSelectSection, LemonSwitch, LemonSwitchProps, LemonTable, LemonTableProps, LemonTag, LemonTagPropsType, LemonTextArea, LemonTextAreaProps, LemonTextMarkdown, Link, LinkProps, SideAction, ToastCloseButton, ToastContent, ToastContentProps, boxToSections, isLemonSelectSection, lemonToast };\n"
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/types/packages.json[m[K[36m[K-[m[K[32m[K7[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/pluginSourceLogic.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K    props({} as PluginSourceProps),
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/pluginSourceLogic.tsx[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K    key((props) => props.pluginConfigId ?? [01;31m[K`plugin-${props.pluginId}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/pluginSourceLogic.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/pluginSourceLogic.tsx[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K                const response = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/pluginSourceLogic.tsx[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K                    [01;31m[K`api/organizations/@current/plugins/${props.pluginId}/update_source`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/pluginSourceLogic.tsx[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K                    values.pluginSource
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/pluginSourceLogic.tsx[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K            fetchPluginSource: async () => {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/pluginSourceLogic.tsx[m[K[36m[K:[m[K[32m[K99[m[K[36m[K:[m[K                const response = await api.get([01;31m[K`api/organizations/@current/plugins/${props.pluginId}/source`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/pluginSourceLogic.tsx[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K                return response ?? {}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/pluginSourceLogic.tsx[m[K[36m[K-[m[K[32m[K147[m[K[36m[K-[m[K                position: 'top-right',
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/pluginSourceLogic.tsx[m[K[36m[K:[m[K[32m[K148[m[K[36m[K:[m[K                toastId: [01;31m[K`submit-plugin-${props.pluginConfigId}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/pluginSourceLogic.tsx[m[K[36m[K-[m[K[32m[K149[m[K[36m[K-[m[K            })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/PluginSource.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K            )) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/PluginSource.tsx[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K                const fakePath = [01;31m[K`file:///node_modules/${fileName}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/PluginSource.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K                monaco?.languages.typescript.typescriptDefaults.addExtraLib(fileContents as string, fakePath)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/PluginSource.tsx[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K            width={'min(90vw, 64rem)'}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/PluginSource.tsx[m[K[36m[K:[m[K[32m[K80[m[K[36m[K:[m[K            title={pluginSourceLoading ? 'Loading...' : [01;31m[K`Edit App: ${name}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/source/PluginSource.tsx[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K            placement={placement ?? 'left'}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/PluginJobConfiguration.tsx[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K            onClose={() => setIsJobModalOpen(false)}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/PluginJobConfiguration.tsx[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K            title={[01;31m[K`Configuring job '${jobName}'`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/PluginJobConfiguration.tsx[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K            footer={
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K    key((props) => {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[K        return [01;31m[K`${props.pluginId}_${props.jobName}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K    }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K                try {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K:[m[K[32m[K88[m[K[36m[K:[m[K                    await api.create([01;31m[K`api/plugin_config/${props.pluginConfigId}/job`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K                        job: {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K-[m[K[32m[K94[m[K[36m[K-[m[K                } catch (error) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K:[m[K[32m[K95[m[K[36m[K:[m[K                    lemonToast.error([01;31m[K`Enqueuing job "${props.jobName}" failed`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K                    return
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginDrawer.tsx[m[K[36m[K-[m[K[32m[K243[m[K[36m[K-[m[K                            {getConfigSchemaArray(editingPlugin.config_schema).map((fieldConfig, index) => (
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginDrawer.tsx[m[K[36m[K:[m[K[32m[K244[m[K[36m[K:[m[K                                <React.Fragment key={fieldConfig.key || [01;31m[K`__key__${index}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/plugins/edit/PluginDrawer.tsx[m[K[36m[K-[m[K[32m[K245[m[K[36m[K-[m[K                                    {fieldConfig.markdown && <LemonMarkdown>{fieldConfig.markdown}</LemonMarkdown>}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/plugins/utils.ts[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K            if (value && !value.saved) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/utils.ts[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K                formData.append([01;31m[K`add_attachment[${key}]`[m[K, value)
[35m[K/tmp/posthog/frontend/src/scenes/plugins/utils.ts[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/frontend/src/scenes/plugins/utils.ts[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K            if (!value && editingPlugin.pluginConfig.config?.[key]) {
[35m[K/tmp/posthog/frontend/src/scenes/plugins/utils.ts[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K                formData.append([01;31m[K`remove_attachment[${key}]`[m[K, 'true')
[35m[K/tmp/posthog/frontend/src/scenes/plugins/utils.ts[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonDisplay.tsx[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K                    }}
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonDisplay.tsx[m[K[36m[K:[m[K[32m[K104[m[K[36m[K:[m[K                    data-attr={[01;31m[K`goto-person-email-${person?.distinct_id || person?.distinct_ids?.[0]}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonDisplay.tsx[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K                >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonDeleteModal.tsx[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K            onClose={() => showPersonDeleteModal(null)}
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonDeleteModal.tsx[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[K            title={[01;31m[K`Are you sure you want to delete "${asDisplay(personDeleteModal)}"?`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonDeleteModal.tsx[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K            description={
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonFeedCanvas.tsx[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K            editable={false}
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonFeedCanvas.tsx[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[K            shortId={[01;31m[K`canvas-${id}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonFeedCanvas.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K            mode="canvas"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonPageHeader.tsx[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K            <PageHeader
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonPageHeader.tsx[m[K[36m[K:[m[K[32m[K12[m[K[36m[K:[m[K                title={[01;31m[K`Persons${showGroupsOptions ? ' & Groups' : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonPageHeader.tsx[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K                caption={[01;31m[K`A catalog of your product's end users${showGroupsOptions ? ' and groups' : ''}.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonPageHeader.tsx[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K            />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.test.ts[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K                // has encoded from + in the action to %2B in the API call
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.test.ts[m[K[36m[K:[m[K[32m[K105[m[K[36m[K:[m[K                expect(api.get).toHaveBeenCalledWith([01;31m[K`api/projects/${MOCK_TEAM_ID}/persons?distinct_id=%2B`[m[K, undefined)
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.test.ts[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K            })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonDashboard.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K            // TODO: needs https://github.com/PostHog/posthog/pull/16653 so we can filter by person ID
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonDashboard.tsx[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K            const hogQLPersonFilter = [01;31m[K`person.properties.email = '${person.properties.email}'`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonDashboard.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K            const desired: HogQLPropertyFilter = {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonScene.tsx[m[K[36m[K-[m[K[32m[K241[m[K[36m[K-[m[K                                            feature, please go to your{' '}
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonScene.tsx[m[K[36m[K:[m[K[32m[K242[m[K[36m[K:[m[K                                            <Link to={[01;31m[K`${urls.projectSettings()}#recordings`[m[K}>project settings</Link>{' '}
[35m[K/tmp/posthog/frontend/src/scenes/persons/PersonScene.tsx[m[K[36m[K-[m[K[32m[K243[m[K[36m[K-[m[K                                            and enable it.
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.tsx[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K        return props.cohort ? [01;31m[K`cohort_${props.cohort}`[m[K : 'scene'
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.tsx[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K    }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.tsx[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K                            result = {
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.tsx[m[K[36m[K:[m[K[32m[K84[m[K[36m[K:[m[K                                ...(await api.get([01;31m[K`api/cohort/${props.cohort}/persons/?${toParams(newFilters)}`[m[K)),
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.tsx[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K                                offset: 0,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.tsx[m[K[36m[K-[m[K[32m[K156[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.tsx[m[K[36m[K:[m[K[32m[K157[m[K[36m[K:[m[K                    const response = await api.get([01;31m[K`api/person/cohorts/?person_id=${values.person?.id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.tsx[m[K[36m[K-[m[K[32m[K158[m[K[36m[K-[m[K                    return response.results
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.tsx[m[K[36m[K-[m[K[32m[K318[m[K[36m[K-[m[K                await api.persons.updateProperty(person.id, key, parsedValue)
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.tsx[m[K[36m[K:[m[K[32m[K319[m[K[36m[K:[m[K                lemonToast.success([01;31m[K`Person property ${action}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.tsx[m[K[36m[K-[m[K[32m[K320[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.tsx[m[K[36m[K-[m[K[32m[K336[m[K[36m[K-[m[K                actions.setPerson({ ...person, properties: updatedProperties }) // To update the UI immediately
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.tsx[m[K[36m[K:[m[K[32m[K337[m[K[36m[K:[m[K                // await api.create([01;31m[K`api/person/${person.id}/delete_property`[m[K, { $unset: key })
[35m[K/tmp/posthog/frontend/src/scenes/persons/personsLogic.tsx[m[K[36m[K-[m[K[32m[K338[m[K[36m[K-[m[K                await api.persons.deleteProperty(person.id, key)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/personDeleteModalLogic.tsx[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K                    const params = deleteEvents ? { delete_events: true } : {}
[35m[K/tmp/posthog/frontend/src/scenes/persons/personDeleteModalLogic.tsx[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K                    await api.delete([01;31m[K`api/person/${person.id}?${toParams(params)}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/persons/personDeleteModalLogic.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                    lemonToast.success(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/persons/relatedFeatureFlagsLogic.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K    ),
[35m[K/tmp/posthog/frontend/src/scenes/persons/relatedFeatureFlagsLogic.ts[m[K[36m[K:[m[K[32m[K44[m[K[36m[K:[m[K    key((props) => [01;31m[K`${props.distinctId}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/persons/relatedFeatureFlagsLogic.ts[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K    actions({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K    return i === 0
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K        ? [01;31m[K`First ${summarizeUsage(tiers[i].up_to)} ${product.unit}s / ${interval}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K        : tiers[i].up_to
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K        ? [01;31m[K`${summarizeUsage(tiers?.[i - 1].up_to || null)} - ${summarizeUsage(tiers[i].up_to)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K        : [01;31m[K`> ${summarizeUsage(tiers?.[i - 1].up_to || null)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K50[m[K[36m[K:[m[K    const productType = { plural: [01;31m[K`${addon.unit}s`[m[K, singular: addon.unit }
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K    const tierDisplayOptions: LemonSelectOptions<string> = [
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K        { label: [01;31m[K`Per ${productType.singular}`[m[K, value: 'individual' },
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K    ]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                    {addon.image_url ? (
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K                        <img className="w-10 h-10" alt={[01;31m[K`Logo for PostHog ${addon.name}`[m[K} src={addon.image_url} />
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K                    ) : null}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K                                    currentAndUpgradePlans?.upgradePlan?.plan_key
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K123[m[K[36m[K:[m[K                                }${redirectPath && [01;31m[K`&redirect_path=${redirectPath}`[m[K}`}
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K                                disableClientSideRouting
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K192[m[K[36m[K-[m[K        .map((addon) => ({
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K193[m[K[36m[K:[m[K            title: [01;31m[K`${addon.name} price`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K194[m[K[36m[K:[m[K            dataIndex: [01;31m[K`${addon.type}-price`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K195[m[K[36m[K-[m[K        }))
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K197[m[K[36m[K-[m[K    const tableColumns = [
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K198[m[K[36m[K:[m[K        { title: [01;31m[K`Priced per ${product.unit}`[m[K, dataIndex: 'volume' },
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K199[m[K[36m[K-[m[K        { title: addonPriceColumns?.length > 0 ? 'Base price' : 'Price', dataIndex: 'basePrice' },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K221[m[K[36m[K-[m[K                      const addonPricesForTier = product.addons?.map((addon) => ({
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K222[m[K[36m[K:[m[K                          [[01;31m[K`${addon.type}-price`[m[K]: `${
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K223[m[K[36m[K-[m[K                              addon.tiers?.[i]?.unit_amount_usd !== '0'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K246[m[K[36m[K-[m[K                              : '',
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K247[m[K[36m[K:[m[K                          basePrice: tier.unit_amount_usd !== '0' ? [01;31m[K`$${tier.unit_amount_usd}`[m[K : 'Free',
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K248[m[K[36m[K-[m[K                          usage: compactNumber(tier.current_usage),
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K249[m[K[36m[K:[m[K                          total: [01;31m[K`$${totalForTier.toFixed(2) || '0.00'}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K250[m[K[36m[K:[m[K                          projectedTotal: [01;31m[K`$${projectedTotalForTier.toFixed(2) || '0.00'}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K251[m[K[36m[K-[m[K                      }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K262[m[K[36m[K-[m[K                      usage: '',
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K263[m[K[36m[K:[m[K                      total: [01;31m[K`$${product.current_amount_usd || '0.00'}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K264[m[K[36m[K:[m[K                      projectedTotal: [01;31m[K`$${product.projected_amount_usd || '0.00'}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K265[m[K[36m[K-[m[K                  })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K299[m[K[36m[K-[m[K                                className="w-10 h-10"
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K300[m[K[36m[K:[m[K                                alt={[01;31m[K`Logo for PostHog ${product.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K301[m[K[36m[K-[m[K                                src={product.image_url}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K483[m[K[36m[K-[m[K                                            <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K484[m[K[36m[K:[m[K                                                title={[01;31m[K`The current amount you will be billed for this ${billing?.billing_period?.interval}.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K485[m[K[36m[K-[m[K                                                className="flex flex-col items-center"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K564[m[K[36m[K-[m[K                    <div
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K565[m[K[36m[K:[m[K                        data-attr={[01;31m[K`upgrade-card-${product.type}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K566[m[K[36m[K-[m[K                        className={`border-t border-border p-8 flex justify-between ${
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K570[m[K[36m[K-[m[K                        <div>
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K:[m[K[32m[K571[m[K[36m[K:[m[K                            <h4 className={[01;31m[K`${product.subscribed ? 'text-success-dark' : 'text-warning-dark'}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingProduct.tsx[m[K[36m[K-[m[K[32m[K572[m[K[36m[K-[m[K                                You're on the {product.subscribed ? 'paid' : 'free'} plan for {product.name}.
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/ProductPricingModal.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K                                    <div
[35m[K/tmp/posthog/frontend/src/scenes/billing/ProductPricingModal.tsx[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K                                        key={[01;31m[K`tiers-modal-${product.name}-tier-${i}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/ProductPricingModal.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                                        className="flex justify-between border-b border-border border-dashed py-1 gap-x-8"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/ProductPricingModal.tsx[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K                                                ? 'Free'
[35m[K/tmp/posthog/frontend/src/scenes/billing/ProductPricingModal.tsx[m[K[36m[K:[m[K[32m[K61[m[K[36m[K:[m[K                                                : [01;31m[K`$${parseFloat(tier.unit_amount_usd).toFixed(numberOfSigFigs)}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/ProductPricingModal.tsx[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K                                        </p>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K-[m[K[32m[K7[m[K[36m[K-[m[K    } else if (usage < 1000) {
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K:[m[K[32m[K8[m[K[36m[K:[m[K        return [01;31m[K`${usage}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K-[m[K[32m[K9[m[K[36m[K-[m[K    } else if (Math.round(usage / 1000) < 1000) {
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K:[m[K[32m[K10[m[K[36m[K:[m[K        return [01;31m[K`${Math.round(usage / 1000)} thousand`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K    } else {
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K:[m[K[32m[K12[m[K[36m[K:[m[K        return [01;31m[K`${Math.round(usage / 1000000)} million`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K-[m[K[32m[K153[m[K[36m[K-[m[K    let url = '/api/billing-v2/activation?products='
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K:[m[K[32m[K154[m[K[36m[K:[m[K    url += [01;31m[K`${product.type}:${upgradeToPlanKey},`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K-[m[K[32m[K155[m[K[36m[K-[m[K    if (includeAddons && product.addons?.length) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K-[m[K[32m[K157[m[K[36m[K-[m[K            if (addon.plans?.[0]?.plan_key) {
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K:[m[K[32m[K158[m[K[36m[K:[m[K                url += [01;31m[K`${addon.type}:${addon.plans[0].plan_key},`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K-[m[K[32m[K159[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K-[m[K[32m[K164[m[K[36m[K-[m[K    if (redirectPath) {
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K:[m[K[32m[K165[m[K[36m[K:[m[K        url += [01;31m[K`&redirect_path=${redirectPath}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K-[m[K[32m[K166[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K-[m[K[32m[K180[m[K[36m[K-[m[K    if (num === null && previousNum) {
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K:[m[K[32m[K181[m[K[36m[K:[m[K        return [01;31m[K`${convertLargeNumberToWords(previousNum, null)} +`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K-[m[K[32m[K182[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K-[m[K[32m[K200[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K:[m[K[32m[K201[m[K[36m[K:[m[K    return [01;31m[K`${previousNum ? `[m[K${((previousNum + 1) / prevDenominator).toFixed(0)}-` : multipleTiers ? 'First ' : ''}${(
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K-[m[K[32m[K202[m[K[36m[K-[m[K        num / denominator
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K-[m[K[32m[K203[m[K[36m[K-[m[K    ).toFixed(0)}${denominator === 1000000 ? ' million' : denominator === 1000 ? 'k' : ''}${
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K:[m[K[32m[K204[m[K[36m[K:[m[K        !previousNum && multipleTiers ? [01;31m[K` ${productType}s/mo`[m[K : ''
[35m[K/tmp/posthog/frontend/src/scenes/billing/billing-utils.ts[m[K[36m[K-[m[K[32m[K205[m[K[36m[K-[m[K    }`
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingProductLogic.ts[m[K[36m[K-[m[K[32m[K139[m[K[36m[K-[m[K                    ? isEditingBillingLimit
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingProductLogic.ts[m[K[36m[K:[m[K[32m[K140[m[K[36m[K:[m[K                        ? convertAmountToUsage([01;31m[K`${billingLimitInput}`[m[K, productAndAddonTiers, billing?.discount_percent)
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingProductLogic.ts[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K                        : convertAmountToUsage(customLimitUsd || '', productAndAddonTiers, billing?.discount_percent)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingLogic.ts[m[K[36m[K-[m[K[32m[K241[m[K[36m[K-[m[K                    router.actions.replace(
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingLogic.ts[m[K[36m[K:[m[K[32m[K242[m[K[36m[K:[m[K                        [01;31m[K`/${values.isOnboarding ? 'ingestion' : 'organization'}/billing?success=true`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingLogic.ts[m[K[36m[K-[m[K[32m[K243[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingLogic.ts[m[K[36m[K-[m[K[32m[K291[m[K[36m[K-[m[K                    for (const product of Object.keys(values.billing.custom_limits_usd)) {
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingLogic.ts[m[K[36m[K:[m[K[32m[K292[m[K[36m[K:[m[K                        payload[[01;31m[K`custom_limits_usd.${product}`[m[K] = values.billing.custom_limits_usd[product]
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingLogic.ts[m[K[36m[K-[m[K[32m[K293[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingLogic.ts[m[K[36m[K-[m[K[32m[K297[m[K[36m[K-[m[K                        const type = product.type.toLowerCase()
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingLogic.ts[m[K[36m[K:[m[K[32m[K298[m[K[36m[K:[m[K                        payload[[01;31m[K`percentage_usage.${type}`[m[K] = product.percentage_usage
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingLogic.ts[m[K[36m[K:[m[K[32m[K299[m[K[36m[K:[m[K                        payload[[01;31m[K`current_amount_usd.${type}`[m[K] = product.current_amount_usd
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingLogic.ts[m[K[36m[K:[m[K[32m[K300[m[K[36m[K:[m[K                        payload[[01;31m[K`unit_amount_usd.${type}`[m[K] = product.unit_amount_usd
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingLogic.ts[m[K[36m[K:[m[K[32m[K301[m[K[36m[K:[m[K                        payload[[01;31m[K`usage_limit.${type}`[m[K] = product.usage_limit
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingLogic.ts[m[K[36m[K:[m[K[32m[K302[m[K[36m[K:[m[K                        payload[[01;31m[K`current_usage.${type}`[m[K] = product.current_usage
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingLogic.ts[m[K[36m[K:[m[K[32m[K303[m[K[36m[K:[m[K                        payload[[01;31m[K`projected_usage.${type}`[m[K] = product.projected_usage
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingLogic.ts[m[K[36m[K:[m[K[32m[K304[m[K[36m[K:[m[K                        payload[[01;31m[K`free_allocation.${type}`[m[K] = product.free_allocation
[35m[K/tmp/posthog/frontend/src/scenes/billing/billingLogic.ts[m[K[36m[K-[m[K[32m[K305[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingLimitInput.tsx[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K            updateBillingLimits({
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingLimitInput.tsx[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[K                [product.type]: typeof value === 'number' ? [01;31m[K`${value}`[m[K : null,
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingLimitInput.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K            })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingLimitInput.tsx[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K        const newAmountAsUsage = product.tiers
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingLimitInput.tsx[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K            ? convertAmountToUsage([01;31m[K`${value}`[m[K, productAndAddonTiers, billing?.discount_percent)
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingLimitInput.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K            : 0
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/UnsubscribeSurveyModal.tsx[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K            <div>
[35m[K/tmp/posthog/frontend/src/scenes/billing/UnsubscribeSurveyModal.tsx[m[K[36m[K:[m[K[32m[K21[m[K[36m[K:[m[K                <h3 className="mt-2 mb-4">{[01;31m[K`Why are you unsubscribing from ${product.name}?`[m[K}</h3>
[35m[K/tmp/posthog/frontend/src/scenes/billing/UnsubscribeSurveyModal.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K                <div className="flex flex-col gap-3.5">
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/UnsubscribeSurveyModal.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                            </Link>
[35m[K/tmp/posthog/frontend/src/scenes/billing/UnsubscribeSurveyModal.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K                            {[01;31m[K`${product.type !== 'session_replay' ? ' or ' : ', '}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/UnsubscribeSurveyModal.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K                            <Link
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K                <>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K                    <IconClose className={[01;31m[K`text-danger mr-4 ${className}`[m[K} />
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K                </>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K                <>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K                    <IconWarning className={[01;31m[K`text-warning mr-4 ${className}`[m[K} />
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                    {feature.limit &&
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K                        `${convertLargeNumberToWords(feature.limit, null)} ${feature.unit && feature.unit}${
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K                            timeDenominator ? [01;31m[K`/${timeDenominator}`[m[K : ''
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K                        }`}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K                <>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K                    <IconCheckmark className={[01;31m[K`text-success mr-4 ${className}`[m[K} />
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K                    {feature.note}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K    if (basePlan?.unit_amount_usd) {
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K        return [01;31m[K`$${parseInt(basePlan.unit_amount_usd)}/mo`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K    if (num === null && previousNum) {
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K:[m[K[32m[K67[m[K[36m[K:[m[K        return [01;31m[K`${convertLargeNumberToWords(previousNum, null)} +`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K:[m[K[32m[K81[m[K[36m[K:[m[K    return [01;31m[K`${previousNum ? `[m[K${(previousNum / denominator).toFixed(0)}-` : multipleTiers ? 'First ' : ''}${(
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K        num / denominator
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K    ).toFixed(0)}${denominator === 1000000 ? ' million' : denominator === 1000 ? 'k' : ''}${
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K:[m[K[32m[K84[m[K[36m[K:[m[K        !previousNum && multipleTiers ? [01;31m[K` ${productType}/mo`[m[K : ''
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K    }`
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K                    <div
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K:[m[K[32m[K96[m[K[36m[K:[m[K                        key={[01;31m[K`${plan.name}-${productType}-${tier.up_to}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K                        className="flex justify-between items-center"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K                                    : 'Free'
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K:[m[K[32m[K108[m[K[36m[K:[m[K                                : [01;31m[K`$${parseFloat(tier.unit_amount_usd).toFixed(6)}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K                        </span>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K            ) : product?.free_allocation ? (
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K:[m[K[32m[K113[m[K[36m[K:[m[K                <div key={[01;31m[K`${plan.name}-${productType}-tiers`[m[K} className="flex justify-between items-center">
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K114[m[K[36m[K-[m[K                    <span className="text-xs">
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K    const upgradeButtons = plans?.map((plan) => (
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K:[m[K[32m[K133[m[K[36m[K:[m[K        <td key={[01;31m[K`${plan.name}-cta`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K            <LemonButton
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K:[m[K[32m[K135[m[K[36m[K:[m[K                to={[01;31m[K`/api/billing-v2/activation?plan=${plan.key}&redirect_path=${redirectPath}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K136[m[K[36m[K-[m[K                type={plan.is_free ? 'secondary' : 'primary'}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K179[m[K[36m[K-[m[K                        {plans?.map((plan) => (
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K:[m[K[32m[K180[m[K[36m[K:[m[K                            <td key={[01;31m[K`${plan.name}-basePrice`[m[K} className="text-sm font-bold">
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K181[m[K[36m[K-[m[K                                {getPlanBasePrice(plan)}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K203[m[K[36m[K-[m[K                                      {plans?.map((plan) => (
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K:[m[K[32m[K204[m[K[36m[K:[m[K                                          <td key={[01;31m[K`${plan.key}-${product}`[m[K}>{getProductTiers(plan, product.type)}</td>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K205[m[K[36m[K-[m[K                                      ))}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K232[m[K[36m[K-[m[K                                              plans?.map((plan) => (
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K:[m[K[32m[K233[m[K[36m[K:[m[K                                                  <td key={[01;31m[K`${plan.name}-${feature_group.name}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K234[m[K[36m[K-[m[K                                                      <PlanIcon
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K264[m[K[36m[K-[m[K                                                  {plans?.map((plan) => (
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K:[m[K[32m[K265[m[K[36m[K:[m[K                                                      <td key={[01;31m[K`${plan.name}-${feature.name}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanTable.tsx[m[K[36m[K-[m[K[32m[K266[m[K[36m[K-[m[K                                                          <PlanIcon
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K                <>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K                    <IconClose className={[01;31m[K`text-danger mx-4 ${className}`[m[K} />
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K                </>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K                <>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K                    <IconWarning className={[01;31m[K`text-warning mx-4 ${className}`[m[K} />
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K                    {feature.limit &&
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K                        `${convertLargeNumberToWords(feature.limit, null)} ${feature.unit && feature.unit}${
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K                            timeDenominator ? [01;31m[K`/${timeDenominator}`[m[K : ''
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K                        }`}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K                <>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K                    <IconCheckmark className={[01;31m[K`text-success mx-4 ${className}`[m[K} />
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                    {feature.note}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K                    <div
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K                        key={[01;31m[K`${plan.key}-${product.type}-${tier.up_to}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                        className="flex justify-between items-center"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K                                ? 'Free'
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[K                                : [01;31m[K`$${parseFloat(tier.unit_amount_usd).toFixed(sigFigs)}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                        </span>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K            ) : product?.free_allocation ? (
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                <div key={[01;31m[K`${plan.key}-${product.type}-tiers`[m[K} className="flex justify-between items-center">
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                    <span className="text-xs">
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K101[m[K[36m[K-[m[K        return (
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K102[m[K[36m[K:[m[K            <td key={[01;31m[K`${plan.key}-cta`[m[K} className="PlanTable__td__upgradeButton">
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K                <LemonButton
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K120[m[K[36m[K-[m[K                        <Link
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K121[m[K[36m[K:[m[K                            to={[01;31m[K`/api/billing-v2/activation?products=${product.type}:${plan.plan_key}&redirect_path=${redirectPath}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K                            className="text-muted text-xs"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K138[m[K[36m[K-[m[K                    {plans?.map((plan) => (
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K139[m[K[36m[K:[m[K                        <td key={[01;31m[K`plan-type-${plan.plan_key}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K140[m[K[36m[K-[m[K                            <h3 className="font-bold">{plan.free_allocation && !plan.tiers ? 'Free' : 'Paid'}</h3>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K157[m[K[36m[K-[m[K                    {plans?.map((plan) => (
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K158[m[K[36m[K:[m[K                        <td key={[01;31m[K`${plan.plan_key}-basePrice`[m[K} className="text-sm font-bold">
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K159[m[K[36m[K-[m[K                            {plan.free_allocation && !plan.tiers ? 'Free forever' : '$0 per month'}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K173[m[K[36m[K-[m[K                    {plans?.map((plan) => (
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K174[m[K[36m[K:[m[K                        <td key={[01;31m[K`${plan.plan_key}-tiers-td`[m[K}>{getProductTiers(plan, product)}</td>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K175[m[K[36m[K-[m[K                    ))}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K193[m[K[36m[K-[m[K                                    plan.free_allocation && !plan.tiers ? (
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K194[m[K[36m[K:[m[K                                        <td key={[01;31m[K`${addon.name}-free-tiers-td`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K195[m[K[36m[K-[m[K                                            <p className="text-muted text-xs">Not available on this plan.</p>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K197[m[K[36m[K-[m[K                                    ) : (
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K198[m[K[36m[K:[m[K                                        <td key={[01;31m[K`${addon.type}-tiers-td`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K199[m[K[36m[K-[m[K                                            {getProductTiers(addon.plans?.[0], addon)}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K216[m[K[36m[K-[m[K                                    className="w-6 h-6"
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K217[m[K[36m[K:[m[K                                    alt={[01;31m[K`Logo for PostHog ${product.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K                                    src={product.image_url}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K229[m[K[36m[K-[m[K                    <tr
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K230[m[K[36m[K:[m[K                        key={[01;31m[K`tr-${feature.key}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K231[m[K[36m[K-[m[K                        className={
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K244[m[K[36m[K-[m[K                        {plans?.map((plan) => (
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K245[m[K[36m[K:[m[K                            <td key={[01;31m[K`${plan.plan_key}-${feature.key}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K246[m[K[36m[K-[m[K                                <PlanIcon
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K270[m[K[36m[K-[m[K                            .map((includedProduct) => (
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K271[m[K[36m[K:[m[K                                <React.Fragment key={[01;31m[K`inclusion-only-product-features-${includedProduct.type}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K272[m[K[36m[K-[m[K                                    <tr>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K280[m[K[36m[K-[m[K                                                        className="w-6 h-6"
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K281[m[K[36m[K:[m[K                                                        alt={[01;31m[K`Logo for PostHog ${includedProduct.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K282[m[K[36m[K-[m[K                                                        src={includedProduct.image_url}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K293[m[K[36m[K-[m[K                                        ?.features?.map((feature, i) => (
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K294[m[K[36m[K:[m[K                                            <tr key={[01;31m[K`tr-${feature.key}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K295[m[K[36m[K-[m[K                                                <th
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K310[m[K[36m[K-[m[K                                                {includedProduct.plans?.map((plan) => (
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K:[m[K[32m[K311[m[K[36m[K:[m[K                                                    <React.Fragment key={[01;31m[K`${plan.plan_key}-${feature.key}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/billing/PlanComparison.tsx[m[K[36m[K-[m[K[32m[K312[m[K[36m[K-[m[K                                                        {/* Some products don't have a free plan, so we need to pretend there is one 
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingGauge.tsx[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K        <div
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingGauge.tsx[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K            className={[01;31m[K`BillingGaugeItem absolute top-0 left-0 bottom-0 h-2 ${className}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingGauge.tsx[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K            style={{
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingGauge.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                    width={expanded ? `${(item.value / maxScale) * 100}%` : '0%'}
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingGauge.tsx[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K                    className={[01;31m[K`bg-${item.color}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/BillingGauge.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K                    tooltip={<b>{item.text}</b>}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/Billing.tsx[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/frontend/src/scenes/billing/Billing.tsx[m[K[36m[K:[m[K[32m[K103[m[K[36m[K:[m[K            productsToUpgrade += [01;31m[K`${product.type}:${upgradePlanKey},`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/Billing.tsx[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K            if (product.addons?.length) {
[35m[K/tmp/posthog/frontend/src/scenes/billing/Billing.tsx[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K                for (const addon of product.addons) {
[35m[K/tmp/posthog/frontend/src/scenes/billing/Billing.tsx[m[K[36m[K:[m[K[32m[K106[m[K[36m[K:[m[K                    productsToUpgrade += [01;31m[K`${addon.type}:${addon.plans[0].plan_key},`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/Billing.tsx[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/Billing.tsx[m[K[36m[K-[m[K[32m[K115[m[K[36m[K-[m[K        if (redirectPath) {
[35m[K/tmp/posthog/frontend/src/scenes/billing/Billing.tsx[m[K[36m[K:[m[K[32m[K116[m[K[36m[K:[m[K            url += [01;31m[K`&redirect_path=${redirectPath}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/Billing.tsx[m[K[36m[K-[m[K[32m[K117[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/billing/Billing.tsx[m[K[36m[K-[m[K[32m[K199[m[K[36m[K-[m[K                                    <LemonLabel
[35m[K/tmp/posthog/frontend/src/scenes/billing/Billing.tsx[m[K[36m[K:[m[K[32m[K200[m[K[36m[K:[m[K                                        info={[01;31m[K`This is the current amount you have been billed for this ${billing.billing_period.interval} so far.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/billing/Billing.tsx[m[K[36m[K-[m[K[32m[K201[m[K[36m[K-[m[K                                    >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/Trends.tsx[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K                    embedded
[35m[K/tmp/posthog/frontend/src/scenes/trends/Trends.tsx[m[K[36m[K:[m[K[32m[K43[m[K[36m[K:[m[K                    filterKey={[01;31m[K`trends_${view}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/trends/Trends.tsx[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K                    canEditSeriesNameInline={insightMode === ItemMode.Edit}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/mathsLogic.tsx[m[K[36m[K-[m[K[32m[K271[m[K[36m[K-[m[K    if (math === 'unique_group') {
[35m[K/tmp/posthog/frontend/src/scenes/trends/mathsLogic.tsx[m[K[36m[K:[m[K[32m[K272[m[K[36m[K:[m[K        assembledMath += [01;31m[K`::${groupTypeIndex}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/mathsLogic.tsx[m[K[36m[K-[m[K[32m[K273[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/mathsLogic.tsx[m[K[36m[K-[m[K[32m[K330[m[K[36m[K-[m[K                            {
[35m[K/tmp/posthog/frontend/src/scenes/trends/mathsLogic.tsx[m[K[36m[K:[m[K[32m[K331[m[K[36m[K:[m[K                                name: [01;31m[K`Unique ${aggregationLabel(groupType.group_type_index).plural}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/trends/mathsLogic.tsx[m[K[36m[K:[m[K[32m[K332[m[K[36m[K:[m[K                                shortName: [01;31m[K`unique ${aggregationLabel(groupType.group_type_index).plural}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/trends/mathsLogic.tsx[m[K[36m[K-[m[K[32m[K333[m[K[36m[K-[m[K                                description: (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/PersonsModal.tsx[m[K[36m[K-[m[K[32m[K262[m[K[36m[K-[m[K                    title={expanded ? 'Show less' : 'Show more'}
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/PersonsModal.tsx[m[K[36m[K:[m[K[32m[K263[m[K[36m[K:[m[K                    data-attr={[01;31m[K`persons-modal-expand-${actor.id}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/PersonsModal.tsx[m[K[36m[K-[m[K[32m[K264[m[K[36m[K-[m[K                />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/PersonsModal.tsx[m[K[36m[K-[m[K[32m[K297[m[K[36m[K-[m[K                        >
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/PersonsModal.tsx[m[K[36m[K:[m[K[32m[K298[m[K[36m[K:[m[K                            {matchedRecordings.length > 1 ? [01;31m[K`${matchedRecordings.length} recordings`[m[K : 'View recording'}
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/PersonsModal.tsx[m[K[36m[K-[m[K[32m[K299[m[K[36m[K-[m[K                        </LemonButton>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/PersonsModal.tsx[m[K[36m[K-[m[K[32m[K370[m[K[36m[K-[m[K            {actor.value_at_data_point !== null && (
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/PersonsModal.tsx[m[K[36m[K:[m[K[32m[K371[m[K[36m[K:[m[K                <Tooltip title={[01;31m[K`${name}'s value for this data point.`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/PersonsModal.tsx[m[K[36m[K-[m[K[32m[K372[m[K[36m[K-[m[K                    <LemonBadge.Number
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/PersonsModal.tsx[m[K[36m[K-[m[K[32m[K392[m[K[36m[K-[m[K        <LemonBanner type="info" className="mb-2">
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/PersonsModal.tsx[m[K[36m[K:[m[K[32m[K393[m[K[36m[K:[m[K            {missingActorsCount} {missingActorsCount > 1 ? [01;31m[K`${actorLabel.plural} are`[m[K : [01;31m[K`${actorLabel.singular} is`[m[K} not
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/PersonsModal.tsx[m[K[36m[K-[m[K[32m[K394[m[K[36m[K-[m[K            shown because they've been merged with those listed, or deleted.{' '}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K                    if (values.searchTerm) {
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/personsModalLogic.ts[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K                        url += [01;31m[K`&search=${values.searchTerm}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K119[m[K[36m[K-[m[K            lemonToast.success('Cohort saved', {
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/personsModalLogic.ts[m[K[36m[K:[m[K[32m[K120[m[K[36m[K:[m[K                toastId: [01;31m[K`cohort-saved-${cohort.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/personsModalLogic.ts[m[K[36m[K-[m[K[32m[K121[m[K[36m[K-[m[K                button: {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/persons-modal-utils.tsx[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K            )}
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/persons-modal-utils.tsx[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K            {props?.breakdown_value ? [01;31m[K`• ${props.breakdown_value}`[m[K : ''}
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/persons-modal-utils.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K        </>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/persons-modal-utils.tsx[m[K[36m[K-[m[K[32m[K143[m[K[36m[K-[m[K        // we should never land here, invalidate always
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/persons-modal-utils.tsx[m[K[36m[K:[m[K[32m[K144[m[K[36m[K:[m[K        return [01;31m[K`fe_${Date.now().toString()}_invalidate_always`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/persons-modal-utils.tsx[m[K[36m[K-[m[K[32m[K145[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/persons-modal-utils.tsx[m[K[36m[K-[m[K[32m[K147[m[K[36m[K-[m[K    // "fe_" for signaling this is a frontend side generated cache invalidation key
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/persons-modal-utils.tsx[m[K[36m[K:[m[K[32m[K148[m[K[36m[K:[m[K    return [01;31m[K`fe_${md5(payload).slice(0, 8)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/persons-modal-utils.tsx[m[K[36m[K-[m[K[32m[K149[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/persons-modal-utils.tsx[m[K[36m[K-[m[K[32m[K171[m[K[36m[K-[m[K            const funnelParams = toParams(cleanedParams)
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/persons-modal-utils.tsx[m[K[36m[K:[m[K[32m[K172[m[K[36m[K:[m[K            return [01;31m[K`api/person/funnel/?${funnelParams}&cache_invalidation_key=${cacheInvalidationKey}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/persons-modal-utils.tsx[m[K[36m[K-[m[K[32m[K173[m[K[36m[K-[m[K        } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/persons-modal-utils.tsx[m[K[36m[K-[m[K[32m[K181[m[K[36m[K-[m[K        const pathParams = toParams(cleanedParams)
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/persons-modal-utils.tsx[m[K[36m[K:[m[K[32m[K182[m[K[36m[K:[m[K        return [01;31m[K`api/person/path/?${pathParams}&cache_invalidation_key=${cacheInvalidationKey}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/persons-modal-utils.tsx[m[K[36m[K-[m[K[32m[K183[m[K[36m[K-[m[K    } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/PersonsModal.stories.tsx[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K            [EXAMPLE_PERSONS_RESPONSE.initial]: EXAMPLE_PERSONS_RESPONSE,
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/PersonsModal.stories.tsx[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K            [[01;31m[K`/api/projects/${MOCK_TEAM_ID}/persons/${EXAMPLE_PERSONS_RESPONSE.results[0].people[0].uuid}/properties_timeline/`[m[K]:
[35m[K/tmp/posthog/frontend/src/scenes/trends/persons-modal/PersonsModal.stories.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K                {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K358[m[K[36m[K-[m[K                                object: insight,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K:[m[K[32m[K359[m[K[36m[K:[m[K                                endpoint: [01;31m[K`projects/${currentTeamId}/insights`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K360[m[K[36m[K-[m[K                                callback: loadInsights,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K431[m[K[36m[K-[m[K                                }
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K:[m[K[32m[K432[m[K[36m[K:[m[K                                tooltip={[01;31m[K`${insight.favorited ? 'Add to' : 'Remove from'} favorite insights`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K433[m[K[36m[K-[m[K                            />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K486[m[K[36m[K-[m[K                                    onClick={() => renameInsight(insight)}
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K:[m[K[32m[K487[m[K[36m[K:[m[K                                    data-attr={[01;31m[K`insight-item-${insight.short_id}-dropdown-rename`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K488[m[K[36m[K-[m[K                                    fullWidth
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K505[m[K[36m[K-[m[K                                            object: insight,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K:[m[K[32m[K506[m[K[36m[K:[m[K                                            endpoint: [01;31m[K`projects/${currentTeamId}/insights`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K507[m[K[36m[K-[m[K                                            callback: loadInsights,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K509[m[K[36m[K-[m[K                                    }
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K:[m[K[32m[K510[m[K[36m[K:[m[K                                    data-attr={[01;31m[K`insight-item-${insight.short_id}-dropdown-remove`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K511[m[K[36m[K-[m[K                                    fullWidth
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K585[m[K[36m[K-[m[K                                            order: newSorting
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K:[m[K[32m[K586[m[K[36m[K:[m[K                                                ? [01;31m[K`${newSorting.order === -1 ? '-' : ''}${newSorting.columnKey}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/SavedInsights.tsx[m[K[36m[K-[m[K[32m[K587[m[K[36m[K-[m[K                                                : undefined,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K99[m[K[36m[K-[m[K                const response = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K:[m[K[32m[K100[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/?${toParams(params)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K101[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K                        const insight: InsightModel = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K:[m[K[32m[K106[m[K[36m[K:[m[K                            [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${filters.search}/?include_query_insights=true`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K                        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K                const response = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K:[m[K[32m[K132[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${insight.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K133[m[K[36m[K-[m[K                    {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K279[m[K[36m[K-[m[K        duplicateInsight: async ({ insight, redirectToInsight }) => {
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K:[m[K[32m[K280[m[K[36m[K:[m[K            const newInsight = await api.create([01;31m[K`api/projects/${values.currentTeamId}/insights`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K281[m[K[36m[K-[m[K                ...insight,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K:[m[K[32m[K282[m[K[36m[K:[m[K                name: insight.name ? [01;31m[K`${insight.name} (copy)`[m[K : insight.name,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K283[m[K[36m[K-[m[K            })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K347[m[K[36m[K-[m[K                    const { short_id }: InsightModel = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K:[m[K[32m[K348[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${insightNumericId}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K349[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K354[m[K[36m[K-[m[K                } catch (e) {
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K:[m[K[32m[K355[m[K[36m[K:[m[K                    lemonToast.error([01;31m[K`Insight ID ${insightNumericId} couldn't be retrieved`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.ts[m[K[36m[K-[m[K[32m[K356[m[K[36m[K-[m[K                    router.actions.push(urls.savedInsights())
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.test.ts[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K        id: id || 1,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.test.ts[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[K        name: [01;31m[K`${string} ${id || 1}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.test.ts[m[K[36m[K:[m[K[32m[K21[m[K[36m[K:[m[K        short_id: [01;31m[K`ii${id || 1}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.test.ts[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K        order: 0,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.test.ts[m[K[36m[K-[m[K[32m[K197[m[K[36m[K-[m[K        expect(api.create).toHaveBeenCalledWith(
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.test.ts[m[K[36m[K:[m[K[32m[K198[m[K[36m[K:[m[K            [01;31m[K`api/projects/${MOCK_TEAM_ID}/insights`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.test.ts[m[K[36m[K-[m[K[32m[K199[m[K[36m[K-[m[K            expect.objectContaining({ name: '' })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.test.ts[m[K[36m[K-[m[K[32m[K208[m[K[36m[K-[m[K        expect(api.create).toHaveBeenCalledWith(
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.test.ts[m[K[36m[K:[m[K[32m[K209[m[K[36m[K:[m[K            [01;31m[K`api/projects/${MOCK_TEAM_ID}/insights`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/saved-insights/savedInsightsLogic.test.ts[m[K[36m[K-[m[K[32m[K210[m[K[36m[K-[m[K            expect.objectContaining({ name: 'should be copied (copy)' })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/passwordResetLogic.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K                    try {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/passwordResetLogic.ts[m[K[36m[K:[m[K[32m[K36[m[K[36m[K:[m[K                        await api.get([01;31m[K`api/reset/${uuid}/?token=${token}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/authentication/passwordResetLogic.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K                        return { success: true, token, uuid }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/passwordResetLogic.ts[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K                try {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/passwordResetLogic.ts[m[K[36m[K:[m[K[32m[K97[m[K[36m[K:[m[K                    await api.create([01;31m[K`api/reset/${values.validatedResetToken.uuid}/`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/passwordResetLogic.ts[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K                        password,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/SignupContainer.tsx[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K        const { pathname, search, hash } = router.values.currentLocation
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/SignupContainer.tsx[m[K[36m[K:[m[K[32m[K59[m[K[36m[K:[m[K        return [01;31m[K`https://${CLOUD_HOSTNAMES[region]}${pathname}${search}${hash}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/SignupContainer.tsx[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/verify-email/verifyEmailLogic.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K                    try {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/verify-email/verifyEmailLogic.ts[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K                        await api.create([01;31m[K`api/users/${uuid}/verify_email/`[m[K, { token, uuid })
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/verify-email/verifyEmailLogic.ts[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K                        actions.setView('success')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/verify-email/verifyEmailLogic.ts[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K                    try {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/verify-email/verifyEmailLogic.ts[m[K[36m[K:[m[K[32m[K50[m[K[36m[K:[m[K                        await api.create([01;31m[K`api/users/${uuid}/request_email_verification/`[m[K, { uuid })
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/verify-email/verifyEmailLogic.ts[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K                        lemonToast.success(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/signupForm/panels/SignupPanel2.tsx[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K                By {!preflight?.demo ? 'creating an account' : 'entering the demo environment'}, you agree to our{' '}
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/signupForm/panels/SignupPanel2.tsx[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[K                <Link to={[01;31m[K`https://posthog.com/terms?${UTM_TAGS}`[m[K} target="_blank">
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/signupForm/panels/SignupPanel2.tsx[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K                    Terms of Service
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/signupForm/panels/SignupPanel2.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                and{' '}
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/signupForm/panels/SignupPanel2.tsx[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K                <Link to={[01;31m[K`https://posthog.com/privacy?${UTM_TAGS}`[m[K} target="_blank">
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/signupForm/panels/SignupPanel2.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                    Privacy Policy
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/signupForm/signupLogic.ts[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K                    lemonToast.info(
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/signupForm/signupLogic.ts[m[K[36m[K:[m[K[32m[K131[m[K[36m[K:[m[K                        [01;31m[K`You've been redirected to signup on our ${regionOverrideFlag.toUpperCase()} instance while we perform maintenance on our other instance.`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/signup/signupForm/signupLogic.ts[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/RegionSelect.tsx[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K                        const { pathname, search, hash } = router.values.currentLocation
[35m[K/tmp/posthog/frontend/src/scenes/authentication/RegionSelect.tsx[m[K[36m[K:[m[K[32m[K85[m[K[36m[K:[m[K                        const newUrl = [01;31m[K`https://${CLOUD_HOSTNAMES[region]}${pathname}${search}${hash}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/RegionSelect.tsx[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                        window.location.href = newUrl
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K                    try {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K                        return await api.get([01;31m[K`api/signup/${id}/`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K                    } catch (e: any) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                    return await api.create([01;31m[K`api/signup/${values.invite.id}/`[m[K, payload)
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K                try {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K:[m[K[32m[K98[m[K[36m[K:[m[K                    const res = await api.create([01;31m[K`api/signup/${values.invite.id}/`[m[K, payload)
[35m[K/tmp/posthog/frontend/src/scenes/authentication/inviteSignupLogic.ts[m[K[36m[K-[m[K[32m[K99[m[K[36m[K-[m[K                    location.href = res.redirect_url || '/' // hard refresh because the current_organization changed
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K            <span className="mx-2">|</span>
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K            <Link to={[01;31m[K`https://posthog.com?${UTM_TAGS}&utm_message=invalid-invite`[m[K}>PostHog Website</Link>
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K        </div>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K            hedgehog
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K:[m[K[32m[K131[m[K[36m[K:[m[K            message={user?.first_name ? [01;31m[K`Hey ${user?.first_name}!`[m[K : 'Hello!'}
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K            footer={<SupportModalButton name={user?.first_name} email={user?.email} />}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K296[m[K[36m[K-[m[K                title="Or sign in with"
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K:[m[K[32m[K297[m[K[36m[K:[m[K                caption={[01;31m[K`Remember to log in with ${invite?.target_email}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/authentication/InviteSignup.tsx[m[K[36m[K-[m[K[32m[K298[m[K[36m[K-[m[K                captionLocation="bottom"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/Login.stories.tsx[m[K[36m[K-[m[K[32m[K116[m[K[36m[K-[m[K        // Change the URL
[35m[K/tmp/posthog/frontend/src/scenes/authentication/Login.stories.tsx[m[K[36m[K:[m[K[32m[K117[m[K[36m[K:[m[K        router.actions.push([01;31m[K`${urls.login()}?error_code=improperly_configured_sso`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/authentication/Login.stories.tsx[m[K[36m[K-[m[K[32m[K118[m[K[36m[K-[m[K    }, [])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/redirectToLoggedInInstance.ts[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K        lemonToast.info(
[35m[K/tmp/posthog/frontend/src/scenes/authentication/redirectToLoggedInInstance.ts[m[K[36m[K:[m[K[32m[K94[m[K[36m[K:[m[K            [01;31m[K`Redirecting to your logged-in account in the Cloud ${regionFromSubdomain(loggedInSubdomain)} region`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/authentication/redirectToLoggedInInstance.ts[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K            {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K-[m[K[32m[K8[m[K[36m[K-[m[Kexport function WelcomeLogo({ view }: { view?: string }): JSX.Element {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K:[m[K[32m[K9[m[K[36m[K:[m[K    const UTM_TAGS = [01;31m[K`utm_campaign=in-product&utm_tag=${view || 'welcome'}-header`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K-[m[K[32m[K10[m[K[36m[K-[m[K    const { preflight } = useValues(preflightLogic)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K        <Link to={[01;31m[K`https://posthog.com?${UTM_TAGS}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K            <div className="header-logo">
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K                    src={preflight?.demo ? demoLogo : preflight?.cloud ? cloudLogo : defaultLogo}
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K                    alt={[01;31m[K`PostHog${preflight?.cloud ? ' Cloud' : ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/authentication/WelcomeLogo.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K                />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K            ['/bla', '/bla'],
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K            [[01;31m[K`${origin}/bla`[m[K, '/bla'],
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K            [`http://some-other.origin/bla`, '/bla'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K        for (const [next, result] of matches) {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K            it([01;31m[K`for next param "${next}" it returns "${result}"`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K                router.actions.push(next ? [01;31m[K`${origin}/?next=${encodeURIComponent(next)}`[m[K : origin)
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K                handleLoginRedirect()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K        it('should throw an exception on redirecting to a different origin', () => {
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K:[m[K[32m[K49[m[K[36m[K:[m[K            router.actions.push([01;31m[K`${origin}/login?next=//google.com`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/authentication/loginLogic.test.ts[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K            expect(() => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/DefinitionView.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/DefinitionView.tsx[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K        <div className={clsx('definition-page', [01;31m[K`definition-${mode}-page`[m[K)}>
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/DefinitionView.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K            {mode === DefinitionPageMode.Edit ? (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/DefinitionView.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                                value={getPropertyLabel(definition.name) || ''}
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/DefinitionView.tsx[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                                placeholder={[01;31m[K`Name this ${singular}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/DefinitionView.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                                mode="view"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/DefinitionView.tsx[m[K[36m[K-[m[K[32m[K126[m[K[36m[K-[m[K                                            LemonDialog.open({
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/DefinitionView.tsx[m[K[36m[K:[m[K[32m[K127[m[K[36m[K:[m[K                                                title: [01;31m[K`Delete this ${singular} definition?`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/DefinitionView.tsx[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K                                                description: (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/definitionLogic.ts[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K    id: 'new',
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/definitionLogic.ts[m[K[36m[K:[m[K[32m[K21[m[K[36m[K:[m[K    name: [01;31m[K`New ${isEvent ? 'Event' : 'Event property'}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/definitionLogic.ts[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K})
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/definitionLogic.ts[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                            updatePropertyDefinitions({
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/definitionLogic.ts[m[K[36m[K:[m[K[32m[K79[m[K[36m[K:[m[K                                [[01;31m[K`event/${definition.name}`[m[K]: definition as PropertyDefinition,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/definitionLogic.ts[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K                            })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/definitionEditLogic.ts[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                        updatePropertyDefinitions({
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/definitionEditLogic.ts[m[K[36m[K:[m[K[32m[K77[m[K[36m[K:[m[K                            [[01;31m[K`event/${definition.name}`[m[K]: definition as PropertyDefinition,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/definitionEditLogic.ts[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                        })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/definitionEditLogic.ts[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/definitionEditLogic.ts[m[K[36m[K:[m[K[32m[K82[m[K[36m[K:[m[K                    lemonToast.success([01;31m[K`${capitalizeFirstLetter(values.singular)} saved`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/definitionEditLogic.ts[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K                    // Update table values
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/DefinitionEdit.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K            <PageHeader
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/DefinitionEdit.tsx[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K                title={[01;31m[K`Edit ${isProperty ? 'Property' : 'Event'} Definition`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/data-management/definition/DefinitionEdit.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K                buttons={
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K                        previous: null,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K93[m[K[36m[K:[m[K                        next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=50&offset=50`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K94[m[K[36m[K-[m[K                    }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K119[m[K[36m[K-[m[K                        count: 50,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K120[m[K[36m[K:[m[K                        next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=50&offset=50`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K121[m[K[36m[K-[m[K                    }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K126[m[K[36m[K-[m[K                logic.actions.loadPropertyDefinitions(
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K127[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=50&offset=50`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K                        count: 6,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K135[m[K[36m[K:[m[K                        previous: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=50`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K136[m[K[36m[K-[m[K                        next: null,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K147[m[K[36m[K-[m[K                        count: 50,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K148[m[K[36m[K:[m[K                        next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=50&offset=50`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K149[m[K[36m[K-[m[K                    }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/PropertyDefinitionsTable.tsx[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K                    options={propertyTypeOptions}
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/PropertyDefinitionsTable.tsx[m[K[36m[K:[m[K[32m[K105[m[K[36m[K:[m[K                    value={[01;31m[K`${filters.type}::${filters.group_type_index ?? ''}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/PropertyDefinitionsTable.tsx[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K                    onSelect={setPropertyType}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.ts[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K                const groupChoices: Array<LemonSelectOption<string>> = Array.from(groupTypes.values()).map((type) => ({
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.ts[m[K[36m[K:[m[K[32m[K104[m[K[36m[K:[m[K                    label: [01;31m[K`${capitalizeFirstLetter(aggregationLabel(type.group_type_index).singular)} properties`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.ts[m[K[36m[K:[m[K[32m[K105[m[K[36m[K:[m[K                    value: [01;31m[K`group::${type.group_type_index}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.ts[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K                }))
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.ts[m[K[36m[K-[m[K[32m[K136[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.ts[m[K[36m[K:[m[K[32m[K137[m[K[36m[K:[m[K                    const currentUrl = [01;31m[K`${normalizePropertyDefinitionEndpointUrl(url)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.ts[m[K[36m[K-[m[K[32m[K138[m[K[36m[K-[m[K                    cache.apiCache = {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/ingestion-warnings/ingestionWarningsLogic.ts[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K                loadData: async () => {
[35m[K/tmp/posthog/frontend/src/scenes/data-management/ingestion-warnings/ingestionWarningsLogic.ts[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K                    const { results } = await api.get([01;31m[K`api/projects/${values.currentTeamId}/ingestion_warnings`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/data-management/ingestion-warnings/ingestionWarningsLogic.ts[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K                    return results
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K151[m[K[36m[K-[m[K                        previous: null,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K152[m[K[36m[K:[m[K                        next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/event_definitions?limit=50&offset=50&event_type=event`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K153[m[K[36m[K-[m[K                    }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K183[m[K[36m[K-[m[K                        count: 50,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K184[m[K[36m[K:[m[K                        next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/event_definitions?limit=50&offset=50&event_type=event`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K185[m[K[36m[K-[m[K                    }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K190[m[K[36m[K-[m[K                logic.actions.loadEventDefinitions(
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K191[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${MOCK_TEAM_ID}/event_definitions?limit=50&offset=50&event_type=event`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K192[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K198[m[K[36m[K-[m[K                        count: 6,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K199[m[K[36m[K:[m[K                        previous: [01;31m[K`api/projects/${MOCK_TEAM_ID}/event_definitions?limit=50&event_type=event`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K200[m[K[36m[K-[m[K                        next: null,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K211[m[K[36m[K-[m[K                        count: 50,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K212[m[K[36m[K:[m[K                        next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/event_definitions?limit=50&offset=50&event_type=event`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K213[m[K[36m[K-[m[K                    }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K253[m[K[36m[K-[m[K                            current: propertiesStartingUrl,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K254[m[K[36m[K:[m[K                            next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=5&offset=5`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K255[m[K[36m[K-[m[K                        }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K263[m[K[36m[K-[m[K                        }),
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K264[m[K[36m[K:[m[K                        [[01;31m[K`api/projects/${MOCK_TEAM_ID}/events?event=event1&limit=1`[m[K]: partial(mockEvent.properties),
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K265[m[K[36m[K-[m[K                    }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K269[m[K[36m[K-[m[K            expect(api.get).toHaveBeenNthCalledWith(1, propertiesStartingUrl)
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K270[m[K[36m[K:[m[K            expect(api.get).toHaveBeenNthCalledWith(2, [01;31m[K`api/projects/${MOCK_TEAM_ID}/events?event=event1&limit=1`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K271[m[K[36m[K-[m[K            expect(api.get).toHaveBeenNthCalledWith(3, startingUrl)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K302[m[K[36m[K-[m[K                            ),
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K303[m[K[36m[K:[m[K                            next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=5&offset=5`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K304[m[K[36m[K-[m[K                        }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K317[m[K[36m[K-[m[K                            count: 5,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K318[m[K[36m[K:[m[K                            next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=5&offset=5`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K319[m[K[36m[K-[m[K                        }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K326[m[K[36m[K-[m[K                    eventDefinition,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K327[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=5&offset=5`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K328[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K334[m[K[36m[K-[m[K                            count: 3,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K335[m[K[36m[K:[m[K                            previous: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=5`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K336[m[K[36m[K-[m[K                            next: null,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K349[m[K[36m[K-[m[K                            count: 5,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K:[m[K[32m[K350[m[K[36m[K:[m[K                            next: [01;31m[K`api/projects/${MOCK_TEAM_ID}/property_definitions?limit=5&offset=5`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.test.ts[m[K[36m[K-[m[K[32m[K351[m[K[36m[K-[m[K                        }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K            <LemonTable
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx[m[K[36m[K:[m[K[32m[K77[m[K[36m[K:[m[K                id={[01;31m[K`event-properties-definition-table-${definition.id}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                data-attr="event-properties-definition-nested-table"
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K                columns={columns}
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx[m[K[36m[K:[m[K[32m[K80[m[K[36m[K:[m[K                className={[01;31m[K`event-properties-definition-table-${definition.id}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K                dataSource={eventPropertiesCacheMap?.[definition.id]?.results ?? []}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionsTable.tsx[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K                    <More
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionsTable.tsx[m[K[36m[K:[m[K[32m[K92[m[K[36m[K:[m[K                        data-attr={[01;31m[K`event-definitions-table-more-button-${definition.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionsTable.tsx[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K                        overlay={
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionsTable.tsx[m[K[36m[K-[m[K[32m[K148[m[K[36m[K-[m[K                            (filters.event_type === 'event_custom'
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionsTable.tsx[m[K[36m[K:[m[K[32m[K149[m[K[36m[K:[m[K                                ? "[01;31m[KAND event NOT LIKE '$[m[K%'\n"
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionsTable.tsx[m[K[36m[K-[m[K[32m[K150[m[K[36m[K-[m[K                                : filters.event_type === 'event_posthog'
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionsTable.tsx[m[K[36m[K:[m[K[32m[K151[m[K[36m[K:[m[K                                ? "[01;31m[KAND event LIKE '$[m[K%'\n"
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionsTable.tsx[m[K[36m[K-[m[K[32m[K152[m[K[36m[K-[m[K                                : '') +
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionsTable.tsx[m[K[36m[K-[m[K[32m[K206[m[K[36m[K-[m[K                        ordering: newSorting
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionsTable.tsx[m[K[36m[K:[m[K[32m[K207[m[K[36m[K:[m[K                            ? [01;31m[K`${newSorting.order === -1 ? '-' : ''}${newSorting.columnKey}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/EventDefinitionsTable.tsx[m[K[36m[K-[m[K[32m[K208[m[K[36m[K-[m[K                            : undefined,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/DefinitionHeader.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K        return (
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/DefinitionHeader.tsx[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K            <Tooltip title={[01;31m[K`${KEY_MAPPING.event[definition.name] ? 'PostHog' : 'Verified'} event`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/DefinitionHeader.tsx[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K                <IconVerifiedEvent className="taxonomy-icon taxonomy-icon-verified" />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[Kexport function createDefinitionKey(event?: EventDefinition, property?: PropertyDefinition): string {
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K    return [01;31m[K`${event?.id ?? 'event'}-${property?.id ?? 'property'}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts[m[K[36m[K-[m[K[32m[K228[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts[m[K[36m[K:[m[K[32m[K229[m[K[36m[K:[m[K                    const currentUrl = [01;31m[K`${normalizePropertyDefinitionEndpointUrl(url)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts[m[K[36m[K-[m[K[32m[K230[m[K[36m[K-[m[K                    cache.apiCache = {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K-[m[K[32m[K219[m[K[36m[K-[m[K                </LemonButton>
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K:[m[K[32m[K220[m[K[36m[K:[m[K                <Link to={[01;31m[K`${learnMoreLink}#autocapture-based-actions`[m[K} target="_blank">
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K-[m[K[32m[K221[m[K[36m[K-[m[K                    See documentation.
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K-[m[K[32m[K254[m[K[36m[K-[m[K                        <code>button[data-attr="signup"]</code>.{' '}
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K:[m[K[32m[K255[m[K[36m[K:[m[K                        <Link to={[01;31m[K`${learnMoreLink}#matching-selectors`[m[K}>Learn more in Docs.</Link>
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K-[m[K[32m[K256[m[K[36m[K-[m[K                    </span>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K-[m[K[32m[K324[m[K[36m[K-[m[K}): JSX.Element {
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K:[m[K[32m[K325[m[K[36m[K:[m[K    const key = [01;31m[K`${field}_matching`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionStep.tsx[m[K[36m[K-[m[K[32m[K326[m[K[36m[K-[m[K    const handleURLMatchChange = (e: RadioChangeEvent): void => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionEdit.tsx[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K                                    maxLength={400} // Sync with action model
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionEdit.tsx[m[K[36m[K:[m[K[32m[K91[m[K[36m[K:[m[K                                    data-attr={[01;31m[K`action-name-${id ? 'edit' : 'create'}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/actions/ActionEdit.tsx[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K                                    className="action-name"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/actions/actionEditLogic.tsx[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K                            // Below works because `detail` in the format:
[35m[K/tmp/posthog/frontend/src/scenes/actions/actionEditLogic.tsx[m[K[36m[K:[m[K[32m[K103[m[K[36m[K:[m[K                            // [01;31m[K`This project already has an action with this name, ID ${errorActionId}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/actions/actionEditLogic.tsx[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K                            const dupeId = response.detail.split(' ').pop()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/actions/actionEditLogic.tsx[m[K[36m[K-[m[K[32m[K170[m[K[36m[K-[m[K                            }),
[35m[K/tmp/posthog/frontend/src/scenes/actions/actionEditLogic.tsx[m[K[36m[K:[m[K[32m[K171[m[K[36m[K:[m[K                            name: [01;31m[K`${actionToCopy.name} (copy)`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/actions/actionEditLogic.tsx[m[K[36m[K-[m[K[32m[K172[m[K[36m[K-[m[K                        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K    dashboard: (id: string | number, highlightInsightId?: string): string =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K        combineUrl([01;31m[K`/dashboard/${id}`[m[K, highlightInsightId ? { highlightInsightId } : {}).url,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K    dashboardTextTile: (id: string | number, textTileId: string | number): string =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K        [01;31m[K`${urls.dashboard(id)}/text-tiles/${textTileId}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K    dashboardSharing: (id: string | number): string => [01;31m[K`/dashboard/${id}/sharing`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K    dashboardSubcriptions: (id: string | number): string => [01;31m[K`/dashboard/${id}/subscriptions`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K    dashboardSubcription: (id: string | number, subscriptionId: string): string =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K        [01;31m[K`/dashboard/${id}/subscriptions/${subscriptionId}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K39[m[K[36m[K:[m[K    sharedDashboard: (shareToken: string): string => [01;31m[K`/shared_dashboard/${shareToken}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K    createAction: (): string => `/data-management/actions/new`,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K    copyAction: (action: ActionType | null): string => {
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K        const queryParams = action ? [01;31m[K`?copy=${encodeURIComponent(JSON.stringify(action))}`[m[K : ''
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K43[m[K[36m[K:[m[K        return [01;31m[K`/data-management/actions/new/${queryParams}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K    },
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K    action: (id: string | number): string => [01;31m[K`/data-management/actions/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K    actions: (): string => '/data-management/actions',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K    eventDefinitions: (): string => '/data-management/events',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K    eventDefinition: (id: string | number): string => [01;31m[K`/data-management/events/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K    propertyDefinitions: (type?: string): string => combineUrl('/data-management/properties', type ? { type } : {}).url,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K50[m[K[36m[K:[m[K    propertyDefinition: (id: string | number): string => [01;31m[K`/data-management/properties/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K    dataManagementHistory: (): string => '/data-management/history',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K    event: (id: string, timestamp: string): string =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K        [01;31m[K`/events/${encodeURIComponent(id)}/${encodeURIComponent(timestamp)}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K    batchExports: (): string => '/batch_exports',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K    batchExport: (id: string, params?: { runId?: string }): string =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K59[m[K[36m[K:[m[K        [01;31m[K`/batch_exports/${id}`[m[K + (params ? [01;31m[K`?${toParams(params)}`[m[K : ''),
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K    batchExportEdit: (id: string): string => [01;31m[K`/batch_exports/${id}/edit`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K    ingestionWarnings: (): string => '/data-management/ingestion-warnings',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K        ),
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K77[m[K[36m[K:[m[K    insightEdit: (id: InsightShortId): string => [01;31m[K`/insights/${id}/edit`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K78[m[K[36m[K:[m[K    insightView: (id: InsightShortId): string => [01;31m[K`/insights/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K79[m[K[36m[K:[m[K    insightSubcriptions: (id: InsightShortId): string => [01;31m[K`/insights/${id}/subscriptions`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K    insightSubcription: (id: InsightShortId, subscriptionId: string): string =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K81[m[K[36m[K:[m[K        [01;31m[K`/insights/${id}/subscriptions/${subscriptionId}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K82[m[K[36m[K:[m[K    insightSharing: (id: InsightShortId): string => [01;31m[K`/insights/${id}/sharing`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K83[m[K[36m[K:[m[K    savedInsights: (tab?: string): string => [01;31m[K`/insights${tab ? `[m[K?tab=${tab}` : ''}`,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K    webAnalytics: (): string => `/web`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K    replay: (tab?: ReplayTabs, filters?: Partial<FilterType>): string =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K87[m[K[36m[K:[m[K        combineUrl(tab ? [01;31m[K`/replay/${tab}`[m[K : '/replay/recent', filters ? { filters } : {}).url,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K    replayPlaylist: (id: string, filters?: Partial<FilterType>): string =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K89[m[K[36m[K:[m[K        combineUrl([01;31m[K`/replay/playlists/${id}`[m[K, filters ? { filters } : {}).url,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K    replaySingle: (id: string, filters?: Partial<FilterType>): string =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K91[m[K[36m[K:[m[K        combineUrl([01;31m[K`/replay/${id}`[m[K, filters ? { filters } : {}).url,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K    personByDistinctId: (id: string, encode: boolean = true): string =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K93[m[K[36m[K:[m[K        encode ? [01;31m[K`/person/${encodeURIComponent(id)}`[m[K : [01;31m[K`/person/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K94[m[K[36m[K-[m[K    personByUUID: (uuid: string, encode: boolean = true): string =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K95[m[K[36m[K:[m[K        encode ? [01;31m[K`/persons/${encodeURIComponent(uuid)}`[m[K : [01;31m[K`/persons/${uuid}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K    persons: (): string => '/persons',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K97[m[K[36m[K:[m[K    pipeline: (tab?: PipelineTabs): string => [01;31m[K`/pipeline/${tab ? tab : 'destinations'}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K98[m[K[36m[K:[m[K    pipelineNew: (tab?: PipelineTabs): string => [01;31m[K`/pipeline/${tab ? tab : 'destinations'}/new`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K99[m[K[36m[K:[m[K    groups: (groupTypeIndex: string | number): string => [01;31m[K`/groups/${groupTypeIndex}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K    // :TRICKY: Note that groupKey is provided by user. We need to override urlPatternOptions for kea-router.
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K101[m[K[36m[K-[m[K    group: (groupTypeIndex: string | number, groupKey: string, encode: boolean = true, tab?: string | null): string =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K102[m[K[36m[K:[m[K        [01;31m[K`/groups/${groupTypeIndex}/${encode ? encodeURIComponent(groupKey) : groupKey}${tab ? `[m[K/${tab}` : ''}`,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K103[m[K[36m[K:[m[K    cohort: (id: string | number): string => [01;31m[K`/cohorts/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K    cohorts: (): string => '/cohorts',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K105[m[K[36m[K:[m[K    experiment: (id: string | number): string => [01;31m[K`/experiments/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K    experiments: (): string => '/experiments',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K107[m[K[36m[K:[m[K    featureFlags: (tab?: string): string => [01;31m[K`/feature_flags${tab ? `[m[K?tab=${tab}` : ''}`,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K108[m[K[36m[K:[m[K    featureFlag: (id: string | number): string => [01;31m[K`/feature_flags/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K    earlyAccessFeatures: (): string => '/early_access_features',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K110[m[K[36m[K:[m[K    earlyAccessFeature: (id: ':id' | 'new' | string): string => [01;31m[K`/early_access_features/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K    surveys: (): string => '/surveys',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K112[m[K[36m[K:[m[K    survey: (id: ':id' | 'new' | string): string => [01;31m[K`/surveys/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[K    surveyTemplates: (): string => '/survey_templates',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K119[m[K[36m[K-[m[K    annotations: (): string => '/annotations',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K120[m[K[36m[K:[m[K    annotation: (id: AnnotationType['id'] | ':id'): string => [01;31m[K`/annotations/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K121[m[K[36m[K:[m[K    projectApps: (tab?: PluginTab): string => [01;31m[K`/project/apps${tab ? `[m[K?tab=${tab}` : ''}`,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K122[m[K[36m[K:[m[K    projectApp: (id: string | number): string => [01;31m[K`/project/apps/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K123[m[K[36m[K:[m[K    projectAppSearch: (name: string): string => [01;31m[K`/project/apps?name=${name}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K124[m[K[36m[K:[m[K    projectAppLogs: (id: string | number): string => [01;31m[K`/project/apps/${id}/logs`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K125[m[K[36m[K:[m[K    projectAppSource: (id: string | number): string => [01;31m[K`/project/apps/${id}/source`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K    frontendApp: (id: string | number): string => [01;31m[K`/app/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K    appMetrics: (pluginConfigId: string | number, params: AppMetricsUrlParams = {}): string =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K128[m[K[36m[K:[m[K        combineUrl([01;31m[K`/app/${pluginConfigId}/metrics`[m[K, params).url,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K129[m[K[36m[K:[m[K    appHistoricalExports: (pluginConfigId: string | number): string => [01;31m[K`/app/${pluginConfigId}/historical_exports`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K    appHistory: (pluginConfigId: string | number, searchParams?: Record<string, any>): string =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K131[m[K[36m[K:[m[K        combineUrl([01;31m[K`/app/${pluginConfigId}/history`[m[K, searchParams).url,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K    appLogs: (pluginConfigId: string | number, searchParams?: Record<string, any>): string =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K133[m[K[36m[K:[m[K        combineUrl([01;31m[K`/app/${pluginConfigId}/logs`[m[K, searchParams).url,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K    projectCreateFirst: (): string => '/project/create',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K135[m[K[36m[K-[m[K    projectHomepage: (): string => '/home',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K136[m[K[36m[K:[m[K    projectSettings: (section?: string): string => [01;31m[K`/project/settings${section ? `[m[K#${section}` : ''}`,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K137[m[K[36m[K-[m[K    mySettings: (): string => '/me/settings',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K    toolbarLaunch: (): string => '/toolbar',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K142[m[K[36m[K:[m[K    site: (url: string): string => [01;31m[K`/site/${url === ':url' ? url : encodeURIComponent(url)}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K143[m[K[36m[K-[m[K    // Onboarding / setup routes
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K147[m[K[36m[K-[m[K    passwordReset: (): string => '/reset',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K148[m[K[36m[K:[m[K    passwordResetComplete: (userUuid: string, token: string): string => [01;31m[K`/reset/${userUuid}/${token}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K149[m[K[36m[K-[m[K    preflight: (): string => '/preflight',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K151[m[K[36m[K-[m[K    verifyEmail: (userUuid: string = '', token: string = ''): string =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K152[m[K[36m[K:[m[K        [01;31m[K`/verify_email${userUuid ? `[m[K/${userUuid}[01;31m[K` : ''}${token ? `[m[K/${token}` : ''}`,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K153[m[K[36m[K:[m[K    inviteSignup: (id: string): string => [01;31m[K`/signup/${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K154[m[K[36m[K-[m[K    ingestion: (): string => '/ingestion',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K155[m[K[36m[K-[m[K    products: (): string => '/products',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K156[m[K[36m[K:[m[K    onboarding: (productKey: string): string => [01;31m[K`/onboarding/${productKey}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K157[m[K[36m[K-[m[K    // Cloud only
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K169[m[K[36m[K-[m[K    unsubscribe: (): string => '/unsubscribe',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K170[m[K[36m[K:[m[K    integrationsRedirect: (kind: string): string => [01;31m[K`/integrations/${kind}/redirect`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K171[m[K[36m[K-[m[K    shared: (token: string, exportOptions: ExportOptions = {}): string =>
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K172[m[K[36m[K-[m[K        combineUrl(
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K173[m[K[36m[K:[m[K            [01;31m[K`/shared/${token}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K174[m[K[36m[K-[m[K            Object.entries(exportOptions)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K190[m[K[36m[K-[m[K    notebooks: (): string => '/notebooks',
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K:[m[K[32m[K191[m[K[36m[K:[m[K    notebook: (shortId: string): string => [01;31m[K`/notebooks/${shortId}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/urls.ts[m[K[36m[K-[m[K[32m[K192[m[K[36m[K-[m[K    canvas: (): string => `/canvas`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyFormAppearance.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K                            ...survey.questions.map((question, index) => ({
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyFormAppearance.tsx[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K                                label: [01;31m[K`${index + 1}. ${question.question ?? ''}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyFormAppearance.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                                value: index,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyFormAppearance.tsx[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K                                      {
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyFormAppearance.tsx[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[K                                          label: [01;31m[K`${survey.questions.length + 1}. Confirmation message`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyFormAppearance.tsx[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K                                          value: survey.questions.length,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/Surveys.stories.tsx[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K//     "hogql": "SELECT count() AS `survey dismissed` FROM events WHERE and(equals(event, 'survey dismissed'), equals(properties.$survey_id, '0188e637-3b72-0000-f407-07a338652af9')) LIMIT 100",
[35m[K/tmp/posthog/frontend/src/scenes/surveys/Surveys.stories.tsx[m[K[36m[K:[m[K[32m[K112[m[K[36m[K:[m[K//     "query": "select count() as 'survey dismissed' from events [01;31m[Kwhere event == 'survey dismissed' and properties.$survey_id[m[K == '0188e637-3b72-0000-f407-07a338652af9'",
[35m[K/tmp/posthog/frontend/src/scenes/surveys/Surveys.stories.tsx[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[K//     "results": [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/Surveys.stories.tsx[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K    hogql: "SELECT count() AS `survey shown` FROM events WHERE and(equals(event, 'survey shown'), equals(properties.$survey_id, '0188e637-3b72-0000-f407-07a338652af9')) LIMIT 100",
[35m[K/tmp/posthog/frontend/src/scenes/surveys/Surveys.stories.tsx[m[K[36m[K:[m[K[32m[K131[m[K[36m[K:[m[K    query: "select count() as 'survey shown' from events [01;31m[Kwhere event == 'survey shown' and properties.$survey_id[m[K == '0187c279-bcae-0000-34f5-4f121921f006'",
[35m[K/tmp/posthog/frontend/src/scenes/surveys/Surveys.stories.tsx[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K    results: [[0]],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K    return [01;31m[K`${count}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K                                label: 'Viewed',
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K                                classes: [01;31m[K`rounded-l ${dismissed === 0 && sent === 0 ? 'rounded-r' : ''}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                                style: { backgroundColor: '#1D4AFF', width: [01;31m[K`${seenPercentage}%`[m[K },
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                            },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                                label: 'Dismissed',
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K79[m[K[36m[K:[m[K                                classes: [01;31m[K`${seen === 0 ? 'rounded-l' : ''} ${sent === 0 ? 'rounded-r' : ''}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K                                style: {
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K                                    backgroundColor: '#E3A506',
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K82[m[K[36m[K:[m[K                                    width: [01;31m[K`${dismissedPercentage}%`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K83[m[K[36m[K:[m[K                                    left: [01;31m[K`${seenPercentage}%`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K                                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K                                label: 'Submitted',
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K89[m[K[36m[K:[m[K                                classes: [01;31m[K`rounded-r ${seen === 0 && dismissed === 0 ? 'rounded-l' : ''}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K                                style: {
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K                                    backgroundColor: '#529B08',
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K92[m[K[36m[K:[m[K                                    width: [01;31m[K`${sentPercentage}%`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K93[m[K[36m[K:[m[K                                    left: [01;31m[K`${seenPercentage + dismissedPercentage}%`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K94[m[K[36m[K-[m[K                                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K                            <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K98[m[K[36m[K:[m[K                                key={[01;31m[K`survey-summary-chart-${label}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K99[m[K[36m[K:[m[K                                title={[01;31m[K`${label} surveys: ${count}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K                                delayMs={0}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K                                <div
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K104[m[K[36m[K:[m[K                                    className={[01;31m[K`h-10 text-white text-center absolute cursor-pointer ${classes}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K                                    style={style}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K                                    count > 0 && (
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K123[m[K[36m[K:[m[K                                        <div key={[01;31m[K`survey-summary-legend-${label}`[m[K} className="flex items-center mr-6">
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K                                            <div className="w-3 h-3 rounded-full mr-2" style={style} />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K179[m[K[36m[K-[m[K    if (question.type !== SurveyQuestionType.Rating) {
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K180[m[K[36m[K:[m[K        throw new Error([01;31m[K`Question type must be ${SurveyQuestionType.Rating}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K181[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K259[m[K[36m[K-[m[K    if (question.type !== SurveyQuestionType.SingleChoice) {
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K260[m[K[36m[K:[m[K        throw new Error([01;31m[K`Question type must be ${SurveyQuestionType.SingleChoice}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K261[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K342[m[K[36m[K-[m[K                                    <div
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K343[m[K[36m[K:[m[K                                        key={[01;31m[K`single-choice-legend-${questionIndex}-${i}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K344[m[K[36m[K-[m[K                                        className="flex items-center mr-6"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K349[m[K[36m[K-[m[K                                        />
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K350[m[K[36m[K:[m[K                                        <span className="font-semibold text-muted-alt max-w-48 truncate">{[01;31m[K`${labels[i]}`[m[K}</span>
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K351[m[K[36m[K:[m[K                                        <span className="font-bold ml-1 truncate">{[01;31m[K` ${percentage}% `[m[K}</span>
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K352[m[K[36m[K:[m[K                                        <span className="font-semibold text-muted-alt ml-1 truncate">{[01;31m[K`(${count})`[m[K}</span>
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K353[m[K[36m[K-[m[K                                    </div>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K378[m[K[36m[K-[m[K    if (question.type !== SurveyQuestionType.MultipleChoice) {
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K379[m[K[36m[K:[m[K        throw new Error([01;31m[K`Question type must be ${SurveyQuestionType.MultipleChoice}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K380[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K445[m[K[36m[K-[m[K    const { survey } = useValues(surveyLogic)
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K446[m[K[36m[K:[m[K    const surveyResponseField = questionIndex === 0 ? '$survey_response' : [01;31m[K`$survey_response_${questionIndex}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K447[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K449[m[K[36m[K-[m[K    if (question.type !== SurveyQuestionType.Open) {
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K450[m[K[36m[K:[m[K        throw new Error([01;31m[K`Question type must be ${SurveyQuestionType.Open}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K451[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K481[m[K[36m[K-[m[K                            return (
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K:[m[K[32m[K482[m[K[36m[K:[m[K                                <div key={[01;31m[K`open-text-${questionIndex}-${i}`[m[K} className="masonry-item border rounded">
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyViewViz.tsx[m[K[36m[K-[m[K[32m[K483[m[K[36m[K-[m[K                                    <div className="masonry-item-text text-center italic font-semibold px-5 py-4">
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyLogic.tsx[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyLogic.tsx[m[K[36m[K:[m[K[32m[K82[m[K[36m[K:[m[Kconst getResponseField = (i: number): string => (i === 0 ? '$survey_response' : [01;31m[K`$survey_response_${i}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyLogic.tsx[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyLogic.tsx[m[K[36m[K-[m[K[32m[K216[m[K[36m[K-[m[K                if (question.type !== SurveyQuestionType.Rating) {
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyLogic.tsx[m[K[36m[K:[m[K[32m[K217[m[K[36m[K:[m[K                    throw new Error([01;31m[K`Survey question type must be ${SurveyQuestionType.Rating}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyLogic.tsx[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyLogic.tsx[m[K[36m[K-[m[K[32m[K300[m[K[36m[K-[m[K                if (question.type !== SurveyQuestionType.MultipleChoice) {
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyLogic.tsx[m[K[36m[K:[m[K[32m[K301[m[K[36m[K:[m[K                    throw new Error([01;31m[K`Survey question type must be ${SurveyQuestionType.MultipleChoice}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyLogic.tsx[m[K[36m[K-[m[K[32m[K302[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyLogic.tsx[m[K[36m[K-[m[K[32m[K354[m[K[36m[K-[m[K                if (question.type !== SurveyQuestionType.Open) {
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyLogic.tsx[m[K[36m[K:[m[K[32m[K355[m[K[36m[K:[m[K                    throw new Error([01;31m[K`Survey question type must be ${SurveyQuestionType.Open}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/surveys/surveyLogic.tsx[m[K[36m[K-[m[K[32m[K356[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyEdit.tsx[m[K[36m[K-[m[K[32m[K151[m[K[36m[K-[m[K                                                                    status="primary-alt"
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyEdit.tsx[m[K[36m[K:[m[K[32m[K152[m[K[36m[K:[m[K                                                                    data-attr={[01;31m[K`delete-survey-question-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyEdit.tsx[m[K[36m[K-[m[K[32m[K153[m[K[36m[K-[m[K                                                                    onClick={(e) => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyEdit.tsx[m[K[36m[K-[m[K[32m[K168[m[K[36m[K-[m[K                                                    content: (
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyEdit.tsx[m[K[36m[K:[m[K[32m[K169[m[K[36m[K:[m[K                                                        <Group name={[01;31m[K`questions.${index}`[m[K} key={index}>
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyEdit.tsx[m[K[36m[K-[m[K[32m[K170[m[K[36m[K-[m[K                                                            <div className="flex flex-col gap-2">
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyEdit.tsx[m[K[36m[K-[m[K[32m[K176[m[K[36m[K-[m[K                                                                    <LemonSelect
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyEdit.tsx[m[K[36m[K:[m[K[32m[K177[m[K[36m[K:[m[K                                                                        data-attr={[01;31m[K`survey-question-type-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyEdit.tsx[m[K[36m[K-[m[K[32m[K178[m[K[36m[K-[m[K                                                                        onSelect={(newType) => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyView.tsx[m[K[36m[K-[m[K[32m[K279[m[K[36m[K-[m[K                                <RatingQuestionBarChart
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyView.tsx[m[K[36m[K:[m[K[32m[K280[m[K[36m[K:[m[K                                    key={[01;31m[K`survey-q-${i}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyView.tsx[m[K[36m[K-[m[K[32m[K281[m[K[36m[K-[m[K                                    surveyRatingResults={surveyRatingResults}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyView.tsx[m[K[36m[K-[m[K[32m[K289[m[K[36m[K-[m[K                            <SingleChoiceQuestionPieChart
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyView.tsx[m[K[36m[K:[m[K[32m[K290[m[K[36m[K:[m[K                                key={[01;31m[K`survey-q-${i}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyView.tsx[m[K[36m[K-[m[K[32m[K291[m[K[36m[K-[m[K                                surveySingleChoiceResults={surveySingleChoiceResults}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyView.tsx[m[K[36m[K-[m[K[32m[K298[m[K[36m[K-[m[K                            <MultipleChoiceQuestionBarChart
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyView.tsx[m[K[36m[K:[m[K[32m[K299[m[K[36m[K:[m[K                                key={[01;31m[K`survey-q-${i}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyView.tsx[m[K[36m[K-[m[K[32m[K300[m[K[36m[K-[m[K                                surveyMultipleChoiceResults={surveyMultipleChoiceResults}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyView.tsx[m[K[36m[K-[m[K[32m[K307[m[K[36m[K-[m[K                            <OpenTextViz
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyView.tsx[m[K[36m[K:[m[K[32m[K308[m[K[36m[K:[m[K                                key={[01;31m[K`survey-q-${i}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyView.tsx[m[K[36m[K-[m[K[32m[K309[m[K[36m[K-[m[K                                surveyOpenTextResults={surveyOpenTextResults}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K267[m[K[36m[K-[m[K                backgroundColor: appearance.backgroundColor,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K:[m[K[32m[K268[m[K[36m[K:[m[K                border: [01;31m[K`1.5px solid ${appearance.borderColor || defaultSurveyAppearance.borderColor}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K269[m[K[36m[K-[m[K                color: textColor,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K275[m[K[36m[K-[m[K                        style={{
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K:[m[K[32m[K276[m[K[36m[K:[m[K                            border: [01;31m[K`1.5px solid ${appearance.borderColor || defaultSurveyAppearance.borderColor}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K277[m[K[36m[K-[m[K                        }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K296[m[K[36m[K-[m[K                            style={{
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K:[m[K[32m[K297[m[K[36m[K:[m[K                                border: [01;31m[K`1px solid ${appearance.borderColor || defaultSurveyAppearance.borderColor}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K298[m[K[36m[K-[m[K                            }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K386[m[K[36m[K-[m[K            style={{
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K:[m[K[32m[K387[m[K[36m[K:[m[K                border: [01;31m[K`1.5px solid ${appearance.borderColor || defaultSurveyAppearance.borderColor}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K:[m[K[32m[K388[m[K[36m[K:[m[K                gridTemplateColumns: [01;31m[K`repeat(${totalNumbers}, minmax(0, 1fr))`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K389[m[K[36m[K-[m[K            }}
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K:[m[K[32m[K390[m[K[36m[K:[m[K            className={[01;31m[K`rating-options-buttons ${ratingSurveyQuestion.scale === 5 ? '' : 'max-numbers'}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K391[m[K[36m[K-[m[K        >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K475[m[K[36m[K-[m[K                backgroundColor: appearance.backgroundColor,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K:[m[K[32m[K476[m[K[36m[K:[m[K                border: [01;31m[K`1.5px solid ${appearance.borderColor || defaultSurveyAppearance.borderColor}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K477[m[K[36m[K-[m[K                color: textColor,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K483[m[K[36m[K-[m[K                        style={{
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K:[m[K[32m[K484[m[K[36m[K:[m[K                            border: [01;31m[K`1.5px solid ${appearance.borderColor || defaultSurveyAppearance.borderColor}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K485[m[K[36m[K-[m[K                        }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K575[m[K[36m[K-[m[K                backgroundColor: appearance.backgroundColor,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K:[m[K[32m[K576[m[K[36m[K:[m[K                border: [01;31m[K`1.5px solid ${appearance.borderColor || defaultSurveyAppearance.borderColor}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K577[m[K[36m[K-[m[K                color: textColor,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K583[m[K[36m[K-[m[K                        style={{
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K:[m[K[32m[K584[m[K[36m[K:[m[K                            border: [01;31m[K`1.5px solid ${appearance.borderColor || defaultSurveyAppearance.borderColor}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K585[m[K[36m[K-[m[K                        }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K645[m[K[36m[K-[m[K                backgroundColor: appearance.backgroundColor,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K:[m[K[32m[K646[m[K[36m[K:[m[K                border: [01;31m[K`1.5px solid ${appearance.borderColor || defaultSurveyAppearance.borderColor}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K647[m[K[36m[K-[m[K                color: textColor,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K651[m[K[36m[K-[m[K                <div
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K:[m[K[32m[K652[m[K[36m[K:[m[K                    style={{ border: [01;31m[K`1.5px solid ${appearance.borderColor || defaultSurveyAppearance.borderColor}`[m[K }}
[35m[K/tmp/posthog/frontend/src/scenes/surveys/SurveyAppearance.tsx[m[K[36m[K-[m[K[32m[K653[m[K[36m[K-[m[K                    className="cancel-btn-wrapper"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/pipeline/Pipeline.tsx[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K                buttons={
[35m[K/tmp/posthog/frontend/src/scenes/pipeline/Pipeline.tsx[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[K                    <LemonButton data-attr={[01;31m[K`new-${singular}`[m[K} to={urls.pipelineNew(currentTab)} type="primary">
[35m[K/tmp/posthog/frontend/src/scenes/pipeline/Pipeline.tsx[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K                        New {singular}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project-homepage/RecentRecordings.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K            title={asDisplay(recording.person)}
[35m[K/tmp/posthog/frontend/src/scenes/project-homepage/RecentRecordings.tsx[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K            subtitle={[01;31m[K`Recorded ${dayjs(recording.start_time).fromNow()}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/project-homepage/RecentRecordings.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K            prefix={<ProfilePicture name={asDisplay(recording.person)} />}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project-homepage/projectHomepageLogic.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K                    return await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/project-homepage/projectHomepageLogic.tsx[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${values.currentTeamId}/insights/my_last_viewed?include_query_insights=true`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project-homepage/projectHomepageLogic.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project-homepage/RecentInsights.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K            title={insight.name || insight.derived_name || 'Insight'}
[35m[K/tmp/posthog/frontend/src/scenes/project-homepage/RecentInsights.tsx[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K            subtitle={[01;31m[K`Last modified ${dayjs(insight.last_modified_at).fromNow()}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/project-homepage/RecentInsights.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K            prefix={<InsightIcon insight={insight} />}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project-homepage/NewlySeenPersons.tsx[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K            title={asDisplay(person)}
[35m[K/tmp/posthog/frontend/src/scenes/project-homepage/NewlySeenPersons.tsx[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[K            subtitle={[01;31m[K`First seen ${dayjs(person.created_at).fromNow()}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/project-homepage/NewlySeenPersons.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K            prefix={<ProfilePicture name={asDisplay(person)} />}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppSceneLogic.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                            name: frontendApp
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppSceneLogic.ts[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K                                ? frontendApp?.title || [01;31m[K`App #${frontendApp?.id ?? id}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppSceneLogic.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K                                : `Loading app...`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/appMetricsSceneLogic.ts[m[K[36m[K-[m[K[32m[K146[m[K[36m[K-[m[K                    return await api.get<PluginConfigWithPluginInfo>(
[35m[K/tmp/posthog/frontend/src/scenes/apps/appMetricsSceneLogic.ts[m[K[36m[K:[m[K[32m[K147[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/plugin_configs/${props.pluginConfigId}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/appMetricsSceneLogic.ts[m[K[36m[K-[m[K[32m[K148[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/appMetricsSceneLogic.ts[m[K[36m[K-[m[K[32m[K161[m[K[36m[K-[m[K                    return await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/apps/appMetricsSceneLogic.ts[m[K[36m[K:[m[K[32m[K162[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/app_metrics/${props.pluginConfigId}?${params}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/appMetricsSceneLogic.ts[m[K[36m[K-[m[K[32m[K163[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/appMetricsSceneLogic.ts[m[K[36m[K-[m[K[32m[K171[m[K[36m[K-[m[K                    const { results } = await api.get<PaginatedResponse<HistoricalExportInfo>>(
[35m[K/tmp/posthog/frontend/src/scenes/apps/appMetricsSceneLogic.ts[m[K[36m[K:[m[K[32m[K172[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/app_metrics/${props.pluginConfigId}/historical_exports`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/appMetricsSceneLogic.ts[m[K[36m[K-[m[K[32m[K173[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/appMetricsSceneLogic.ts[m[K[36m[K-[m[K[32m[K183[m[K[36m[K-[m[K                    const { result } = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/apps/appMetricsSceneLogic.ts[m[K[36m[K:[m[K[32m[K184[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/app_metrics/${props.pluginConfigId}/error_details?${params}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/appMetricsSceneLogic.ts[m[K[36m[K-[m[K[32m[K185[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/historicalExportLogic.ts[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K    props({} as HistoricalExportLogicProps),
[35m[K/tmp/posthog/frontend/src/scenes/apps/historicalExportLogic.ts[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K    key(({ pluginConfigId, jobId }) => [01;31m[K`${pluginConfigId}_${jobId}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/apps/historicalExportLogic.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K    loaders(({ props }) => ({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/historicalExportLogic.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                    return await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/apps/historicalExportLogic.ts[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/app_metrics/${props.pluginConfigId}/historical_exports/${props.jobId}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/historicalExportLogic.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K                        if (!plugin && !pluginConfig) {
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K                            throw Error([01;31m[K`Could not load metadata for app with ID ${id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K                                pluginType: plugin?.plugin_type ?? null,
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K                                name: plugin?.name ?? [01;31m[K`App #${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K                            },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                    const exports = await import(
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K                        [01;31m[K`${siteUrl}/api/plugin_config/${id}/frontend${reload ? '?_=' + new Date().valueOf() : ''}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K                            } else {
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K                                lemonToast.error([01;31m[K`Timeout waiting for app ${id} to reload.`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K                        if ('error' in app) {
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K:[m[K[32m[K80[m[K[36m[K:[m[K                            lemonToast.error([01;31m[K`Cannot load frontend for app ${id}: ${app.error}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K                            return values.frontendApps
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K                        }
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K:[m[K[32m[K83[m[K[36m[K:[m[K                        throw Error([01;31m[K`Could not find exported "scene" or "error" for app ${id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K:[m[K[32m[K85[m[K[36m[K:[m[K                    throw Error([01;31m[K`Could not find exported "getFrontendApp" for app ${id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                } catch (error) {
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K:[m[K[32m[K87[m[K[36m[K:[m[K                    console.error([01;31m[K`Cannot load frontend for app ${id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K                    console.error(error)
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K:[m[K[32m[K89[m[K[36m[K:[m[K                    lemonToast.error([01;31m[K`Cannot load frontend for app ${id}: ${error}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppsLogic.tsx[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K                    throw error
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/HistoricalExportsTab.tsx[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K                            }
[35m[K/tmp/posthog/frontend/src/scenes/apps/HistoricalExportsTab.tsx[m[K[36m[K:[m[K[32m[K57[m[K[36m[K:[m[K                            return [01;31m[K`${dateFrom} - ${dateTo}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/HistoricalExportsTab.tsx[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K                        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppRequire.ts[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K    } else {
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppRequire.ts[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K        throw new Error([01;31m[K`Cannot import from unknown module "${module}"`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/apps/frontendAppRequire.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/annotations/Annotations.tsx[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K        {
[35m[K/tmp/posthog/frontend/src/scenes/annotations/Annotations.tsx[m[K[36m[K:[m[K[32m[K56[m[K[36m[K:[m[K            title: [01;31m[K`Date and time (${shortTimeZone(timezone)})`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/annotations/Annotations.tsx[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K            dataIndex: 'date_marker',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/annotations/Annotations.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                    annotation.scope === AnnotationScope.Insight
[35m[K/tmp/posthog/frontend/src/scenes/annotations/Annotations.tsx[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K                        ? [01;31m[K`This annotation only applies to the "${annotation.insight_name}" insight`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/annotations/Annotations.tsx[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K                        : annotation.scope === AnnotationScope.Project
[35m[K/tmp/posthog/frontend/src/scenes/annotations/Annotations.tsx[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K                        ? [01;31m[K`This annotation applies to all insights in the ${currentTeam?.name} project`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/annotations/Annotations.tsx[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                        : [01;31m[K`This annotation applies to all insights in the ${currentOrganization?.name} organization`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/annotations/Annotations.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                return (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/sharedUtils.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K        return props.dashboardItemId
[35m[K/tmp/posthog/frontend/src/scenes/insights/sharedUtils.ts[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K            ? [01;31m[K`${props.dashboardItemId}${props.dashboardId ? `[m[K/on-dashboard-${props.dashboardId}` : ''}`
[35m[K/tmp/posthog/frontend/src/scenes/insights/sharedUtils.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K            : defaultKey
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.test.ts[m[K[36m[K-[m[K[32m[K1323[m[K[36m[K-[m[K                [
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.test.ts[m[K[36m[K:[m[K[32m[K1324[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${MOCK_TEAM_ID}/insights/`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.test.ts[m[K[36m[K-[m[K[32m[K1325[m[K[36m[K-[m[K                    {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/BoldNumber/BoldNumber.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                    const desiredLeft = divRect.left + divRect.width / 2 - tooltipRect.width / 2
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/BoldNumber/BoldNumber.tsx[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K                    tooltipEl.style.top = [01;31m[K`${Math.min(desiredTop, window.innerHeight)}px`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/BoldNumber/BoldNumber.tsx[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K                    tooltipEl.style.left = [01;31m[K`${Math.min(desiredLeft, window.innerWidth)}px`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/BoldNumber/BoldNumber.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/BoldNumber/BoldNumber.tsx[m[K[36m[K-[m[K[32m[K147[m[K[36m[K-[m[K            : percentageDiff > 0
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/BoldNumber/BoldNumber.tsx[m[K[36m[K:[m[K[32m[K148[m[K[36m[K:[m[K            ? [01;31m[K`Up ${percentage(percentageDiff)} from`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/BoldNumber/BoldNumber.tsx[m[K[36m[K-[m[K[32m[K149[m[K[36m[K-[m[K            : percentageDiff < 0
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/BoldNumber/BoldNumber.tsx[m[K[36m[K:[m[K[32m[K150[m[K[36m[K:[m[K            ? [01;31m[K`Down ${percentage(-percentageDiff)} from`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/BoldNumber/BoldNumber.tsx[m[K[36m[K-[m[K[32m[K151[m[K[36m[K-[m[K            : 'No change from'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelVizType.tsx[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K            label: 'Conversion steps',
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelVizType.tsx[m[K[36m[K:[m[K[32m[K21[m[K[36m[K:[m[K            description: [01;31m[K`Track ${aggregationTargetLabel.plural} progress between steps of the funnel`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelVizType.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K            icon: <FunnelPlotOutlined />,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelVizType.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K            label: 'Time to convert',
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelVizType.tsx[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K            description: [01;31m[K`Track how long it takes for ${aggregationTargetLabel.plural} to convert`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelVizType.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K            icon: <ClockCircleOutlined />,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelStepsPicker.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                          value: stepIndex,
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelStepsPicker.tsx[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K                          label: [01;31m[K`Step ${stepIndex + 1}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelStepsPicker.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K                          labelInMenu: (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelConversionWindowFilter.tsx[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K        (unit) => ({
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelConversionWindowFilter.tsx[m[K[36m[K:[m[K[32m[K36[m[K[36m[K:[m[K            label: capitalizeFirstLetter(pluralize(funnel_window_interval ?? 7, unit, [01;31m[K`${unit}s`[m[K, false)),
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelConversionWindowFilter.tsx[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K            value: unit as FunnelConversionWindowTimeUnit,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K                                        <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K:[m[K[32m[K112[m[K[36m[K:[m[K                                            title={[01;31m[K`True positive (TP) - Percentage of users who ${action} and completed the funnel.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[K                                        >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K                                            <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K:[m[K[32m[K135[m[K[36m[K:[m[K                                                title={[01;31m[K`False negative (FN) - Percentage of users who ${action} and did not complete the funnel.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K136[m[K[36m[K-[m[K                                            >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K159[m[K[36m[K-[m[K                                            <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K:[m[K[32m[K160[m[K[36m[K:[m[K                                                title={[01;31m[K`False positive (FP) - Percentage of users who did not ${action} and completed the funnel.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K161[m[K[36m[K-[m[K                                            >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K171[m[K[36m[K-[m[K                                            <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K:[m[K[32m[K172[m[K[36m[K:[m[K                                                title={[01;31m[K`True negative (TN) - Percentage of users who did not ${action} and did not complete the funnel.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K173[m[K[36m[K-[m[K                                            >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K197[m[K[36m[K-[m[K                                <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K:[m[K[32m[K198[m[K[36m[K:[m[K                                    title={[01;31m[K`Positive correlation means this ${actor} is correlated with a successful conversion.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K199[m[K[36m[K-[m[K                                >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K205[m[K[36m[K-[m[K                                <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K:[m[K[32m[K206[m[K[36m[K:[m[K                                    title={[01;31m[K`Negative correlation means this ${actor} is correlated with an unsuccessful conversion (user dropped off).`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K207[m[K[36m[K-[m[K                                >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K213[m[K[36m[K-[m[K                            score of{' '}
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K:[m[K[32m[K214[m[K[36m[K:[m[K                            <Tooltip title={[01;31m[K`This ${actor} has ${correlationScoreStrength} correlation.`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.tsx[m[K[36m[K-[m[K[32m[K215[m[K[36m[K-[m[K                                <strong
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelPropertyCorrelationTable.tsx[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K    return steps.length > 1 ? (
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelPropertyCorrelationTable.tsx[m[K[36m[K:[m[K[32m[K133[m[K[36m[K:[m[K        <VisibilitySensor offset={150} id={[01;31m[K`${correlationPropKey}-properties`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelPropertyCorrelationTable.tsx[m[K[36m[K-[m[K[32m[K134[m[K[36m[K-[m[K            <div className="funnel-correlation-table">
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelPropertyCorrelationTable.tsx[m[K[36m[K-[m[K[32m[K252[m[K[36m[K-[m[K                        <Column
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelPropertyCorrelationTable.tsx[m[K[36m[K:[m[K[32m[K253[m[K[36m[K:[m[K                            title={[01;31m[K`${capitalizeFirstLetter(aggregationTargetLabel.singular)} property`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelPropertyCorrelationTable.tsx[m[K[36m[K-[m[K[32m[K254[m[K[36m[K-[m[K                            key="propertName"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelBinsPicker.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K    ...Array.from(Array.from(Array(MAX + 1).keys()), (v) => ({
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelBinsPicker.tsx[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K        label: [01;31m[K`${v} bins`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Funnels/FunnelBinsPicker.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K        value: v,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/histogramUtils.ts[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K            x: isVertical
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/histogramUtils.ts[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K                ? [01;31m[K`translate(0,${_height - INITIAL_CONFIG.margin.bottom})`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/histogramUtils.ts[m[K[36m[K:[m[K[32m[K72[m[K[36m[K:[m[K                : [01;31m[K`translate(${INITIAL_CONFIG.margin.left},0)`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/histogramUtils.ts[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K            y: isVertical ? [01;31m[K`translate(${INITIAL_CONFIG.margin.left},0)`[m[K : [01;31m[K`translate(0,${INITIAL_CONFIG.margin.top})`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/histogramUtils.ts[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K            yGrid: isVertical
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/histogramUtils.ts[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K                ? [01;31m[K`translate(${INITIAL_CONFIG.margin.left - INITIAL_CONFIG.spacing.yLabel},0)`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/histogramUtils.ts[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K                : [01;31m[K`translate(0,${INITIAL_CONFIG.margin.top})`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/histogramUtils.ts[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K            if (v === -2) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/Histogram.tsx[m[K[36m[K:[m[K[32m[K57[m[K[36m[K:[m[K                return [01;31m[K`<${label}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K            if (v === -1) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/Histogram.tsx[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K                return [01;31m[K`>=${label}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K                        .append('svg:svg')
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/Histogram.tsx[m[K[36m[K:[m[K[32m[K106[m[K[36m[K:[m[K                        .attr('viewBox', [01;31m[K`0 0 ${config.inner.width} ${config.inner.height}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K                        .attr('width', '100%')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K                // update dimensions
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/Histogram.tsx[m[K[36m[K:[m[K[32m[K112[m[K[36m[K:[m[K                parentNode.select('svg').attr('viewBox', [01;31m[K`0 0 ${config.width} ${config.height}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K156[m[K[36m[K-[m[K                                .call((g) =>
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/Histogram.tsx[m[K[36m[K:[m[K[32m[K157[m[K[36m[K:[m[K                                    g.selectAll('.tick text').attr('dx', isVertical ? [01;31m[K`-${config.spacing.yLabel}`[m[K : 0)
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Histogram/Histogram.tsx[m[K[36m[K-[m[K[32m[K158[m[K[36m[K-[m[K                                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/WorldMap/WorldMap.tsx[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/WorldMap/WorldMap.tsx[m[K[36m[K:[m[K[32m[K87[m[K[36m[K:[m[K                    tooltipEl.style.left = [01;31m[K`${window.pageXOffset + tooltipCoordinates[0] + xOffset}px`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/WorldMap/WorldMap.tsx[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K                    tooltipEl.style.top = `${
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/WorldMap/countryCodes.ts[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[Kexport function countryCodeToFlag(countryCode: string): string {
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/WorldMap/countryCodes.ts[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K    return [01;31m[K`${letterToRegionalIndicator[countryCode[0]]}${letterToRegionalIndicator[countryCode[1]]}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/WorldMap/countryCodes.ts[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Paths/PathStepPicker.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K    const options: StepOption[] = Array.from(Array.from(Array.from(Array(MAX + 1).keys()).slice(MIN)), (v) => ({
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Paths/PathStepPicker.tsx[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K        label: [01;31m[K`${v} Steps`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/Paths/PathStepPicker.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K        value: v,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/InsightsTable/InsightsTable.stories.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[Kconst Template: StoryFn<typeof InsightsTable> = (props, { parameters }) => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/InsightsTable/InsightsTable.stories.tsx[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K    const [dashboardItemId] = useState(() => [01;31m[K`InsightTableStory.${uniqueNode++}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/InsightsTable/InsightsTable.stories.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/InsightsTable/InsightsTable.tsx[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K    const handleSeriesEditClick = (item: IndexedTrendResult): void => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/InsightsTable/InsightsTable.tsx[m[K[36m[K:[m[K[32m[K67[m[K[36m[K:[m[K        const typeKey = [01;31m[K`${filterKey}_data_exploration`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/InsightsTable/InsightsTable.tsx[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K        const entityFilter = entityFilterLogic.findMounted({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/InsightsTable/InsightsTable.tsx[m[K[36m[K-[m[K[32m[K210[m[K[36m[K-[m[K                ),
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/InsightsTable/InsightsTable.tsx[m[K[36m[K:[m[K[32m[K211[m[K[36m[K:[m[K                key: [01;31m[K`data-${index}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/InsightsTable/InsightsTable.tsx[m[K[36m[K-[m[K[32m[K212[m[K[36m[K-[m[K                sorter: (a, b) => (a.data[index] ?? NaN) - (b.data[index] ?? NaN),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/InsightsTable/DashboardInsightsTable.tsx[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/InsightsTable/DashboardInsightsTable.tsx[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K        <InsightsTable filterKey={[01;31m[K`dashboard_${insightProps.dashboardItemId}`[m[K} embedded canCheckUncheckSeries={false} />
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/InsightsTable/DashboardInsightsTable.tsx[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/LineGraph/PieChart.tsx[m[K[36m[K-[m[K[32m[K154[m[K[36m[K-[m[K                                const percentage = getPercentageForDataPoint(context)
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/LineGraph/PieChart.tsx[m[K[36m[K:[m[K[32m[K155[m[K[36m[K:[m[K                                return [01;31m[K`${percentage.toFixed(1)}%`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/LineGraph/PieChart.tsx[m[K[36m[K-[m[K[32m[K156[m[K[36m[K-[m[K                            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/LineGraph/LineGraph.tsx[m[K[36m[K-[m[K[32m[K684[m[K[36m[K-[m[K                            const parentNode: any = scale.chart?.canvas?.parentNode
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/LineGraph/LineGraph.tsx[m[K[36m[K:[m[K[32m[K685[m[K[36m[K:[m[K                            parentNode.style.height = [01;31m[K`${height}px`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/LineGraph/LineGraph.tsx[m[K[36m[K-[m[K[32m[K686[m[K[36m[K-[m[K                        } else if (shouldAutoResize) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/LineGraph/LineGraph.tsx[m[K[36m[K-[m[K[32m[K692[m[K[36m[K-[m[K                            const parentNode: any = scale.chart?.canvas?.parentNode
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/LineGraph/LineGraph.tsx[m[K[36m[K:[m[K[32m[K693[m[K[36m[K:[m[K                            parentNode.style.height = [01;31m[K`${height}px`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/LineGraph/LineGraph.tsx[m[K[36m[K-[m[K[32m[K694[m[K[36m[K-[m[K                        } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/LineGraph/LineGraph.tsx[m[K[36m[K-[m[K[32m[K733[m[K[36m[K-[m[K        <div
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/LineGraph/LineGraph.tsx[m[K[36m[K:[m[K[32m[K734[m[K[36m[K:[m[K            className={[01;31m[K`w-full h-full overflow-hidden ${shouldAutoResize ? 'mx-6 mb-6' : 'LineGraph absolute'}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/views/LineGraph/LineGraph.tsx[m[K[36m[K-[m[K[32m[K735[m[K[36m[K-[m[K            data-attr={dataAttr}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/InsightTooltip.stories.tsx[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K        hideColorCol: false,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/InsightTooltip.stories.tsx[m[K[36m[K:[m[K[32m[K129[m[K[36m[K:[m[K        renderCount: (value: number): string => [01;31m[K`${value}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/InsightTooltip.stories.tsx[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K        renderSeries: (value) => value,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/LEGACY_InsightTooltip.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/LEGACY_InsightTooltip.tsx[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K        <div className={[01;31m[K`inner-tooltip${bodyLines.length > 1 ? ' multiple' : ''}`[m[K} style={{ maxWidth: 300 }}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/LEGACY_InsightTooltip.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K            {!hideHeader && (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/insightTooltipUtils.tsx[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K        }
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/insightTooltipUtils.tsx[m[K[36m[K:[m[K[32m[K128[m[K[36m[K:[m[K        const datumKey = [01;31m[K`${s.breakdown_value}-${s.compare_label}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightTooltip/insightTooltipUtils.tsx[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K        if (datumKey in flattenedData) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/RetentionDatePicker.tsx[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K                    use12Hours
[35m[K/tmp/posthog/frontend/src/scenes/insights/RetentionDatePicker.tsx[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K                    format={period === 'Hour' ? [01;31m[K`MMM D${yearSuffix}, h a`[m[K : [01;31m[K`MMM D${yearSuffix}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/RetentionDatePicker.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K                    value={date_to ? dayjs(date_to) : undefined}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K    // Return custom name. If that doesn't exist then the name, then the id, then just null.
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K    return (isCustom ? customName : null) ?? name ?? (filter?.id ? [01;31m[K`${filter?.id}`[m[K : null)
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K    // Return custom name. If that doesn't exist then the name, then the id, then just null.
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K:[m[K[32m[K72[m[K[36m[K:[m[K    return (isCustom ? customName : null) ?? name ?? (id ? [01;31m[K`${id}`[m[K : null)
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K                            ...changedKeys,
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K:[m[K[32m[K97[m[K[36m[K:[m[K                            ...extractObjectDiffKeys(oldValue[idx], event, [01;31m[K`event_${idx}_`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K                            ...changedKeys,
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K:[m[K[32m[K109[m[K[36m[K:[m[K                            ...extractObjectDiffKeys(oldValue[idx], action, [01;31m[K`action_${idx}_`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[K            } else {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K:[m[K[32m[K114[m[K[36m[K:[m[K                changedKeys[[01;31m[K`changed_${prefix}${key}`[m[K] = oldValue
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K-[m[K[32m[K115[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K-[m[K[32m[K155[m[K[36m[K-[m[K        ? insightId
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K:[m[K[32m[K156[m[K[36m[K:[m[K        : (await api.get([01;31m[K`api/projects/${getCurrentTeamId()}/insights/?short_id=${encodeURIComponent(shortId)}`[m[K))
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K-[m[K[32m[K157[m[K[36m[K-[m[K              .results[0]?.id
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K-[m[K[32m[K237[m[K[36m[K-[m[K        )
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K:[m[K[32m[K238[m[K[36m[K:[m[K        return [01;31m[K`${formattedBucketStart} – ${formattedBucketEnd}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K-[m[K[32m[K239[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K-[m[K[32m[K293[m[K[36m[K-[m[K    } else if (phrases.length === 2) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K:[m[K[32m[K294[m[K[36m[K:[m[K        return [01;31m[K`${phrases[0]} and ${phrases[1]}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K-[m[K[32m[K295[m[K[36m[K-[m[K    } else {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K:[m[K[32m[K296[m[K[36m[K:[m[K        return [01;31m[K`${phrases.slice(0, phrases.length - 1).join(', ')}, and ${phrases[phrases.length - 1]}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.tsx[m[K[36m[K-[m[K[32m[K297[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilter.stories.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K            setFilters={(payload: Partial<FilterType>): void => setFilters(payload)}
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilter.stories.tsx[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K            typeKey={[01;31m[K`trends_${id.current}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilter.stories.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K            buttonCopy="Add graph series"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K251[m[K[36m[K-[m[K                title="Show filters"
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K252[m[K[36m[K:[m[K                data-attr={[01;31m[K`show-prop-filter-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K253[m[K[36m[K-[m[K                noPadding
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K269[m[K[36m[K-[m[K            title="Rename graph series"
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K270[m[K[36m[K:[m[K            data-attr={[01;31m[K`show-prop-rename-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K271[m[K[36m[K-[m[K            noPadding
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K284[m[K[36m[K-[m[K            title="Duplicate graph series"
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K285[m[K[36m[K:[m[K            data-attr={[01;31m[K`show-prop-duplicate-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K286[m[K[36m[K-[m[K            noPadding
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K298[m[K[36m[K-[m[K            title="Delete graph series"
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K299[m[K[36m[K:[m[K            data-attr={[01;31m[K`delete-prop-filter-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K300[m[K[36m[K-[m[K            noPadding
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K437[m[K[36m[K-[m[K                                                    type="secondary"
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K438[m[K[36m[K:[m[K                                                    data-attr={[01;31m[K`math-hogql-select-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K439[m[K[36m[K-[m[K                                                    onClick={() => setIsHogQLDropdownVisible(!isHogQLDropdownVisible)}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K457[m[K[36m[K-[m[K                    <PropertyFilters
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K458[m[K[36m[K:[m[K                        pageKey={[01;31m[K`${index}-${value}-${typeKey}-filter`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K459[m[K[36m[K-[m[K                        propertyFilters={filter.properties}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K518[m[K[36m[K-[m[K        tooltip: definition.description,
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K519[m[K[36m[K:[m[K        'data-attr': [01;31m[K`math-${key}-${index}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K520[m[K[36m[K-[m[K    }))
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K537[m[K[36m[K-[m[K                            tooltip: definition.description,
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K538[m[K[36m[K:[m[K                            'data-attr': [01;31m[K`math-${key}-${index}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K539[m[K[36m[K-[m[K                        }))}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K547[m[K[36m[K-[m[K            tooltip: 'Statistical analysis of event count per user.',
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K548[m[K[36m[K:[m[K            'data-attr': [01;31m[K`math-node-count-per-actor-${index}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K549[m[K[36m[K-[m[K        })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K564[m[K[36m[K-[m[K                            tooltip: definition.description,
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K565[m[K[36m[K:[m[K                            'data-attr': [01;31m[K`math-${key}-${index}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K566[m[K[36m[K-[m[K                        }))}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K574[m[K[36m[K-[m[K            tooltip: 'Statistical analysis of property value.',
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K575[m[K[36m[K:[m[K            'data-attr': [01;31m[K`math-node-property-value-${index}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K576[m[K[36m[K-[m[K        })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K582[m[K[36m[K-[m[K        tooltip: 'Aggregate events by custom SQL expression.',
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K583[m[K[36m[K:[m[K        'data-attr': [01;31m[K`math-node-hogql-expression-${index}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K584[m[K[36m[K-[m[K    })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K607[m[K[36m[K-[m[K            onChange={(value) => onMathSelect(index, value)}
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K:[m[K[32m[K608[m[K[36m[K:[m[K            data-attr={[01;31m[K`math-selector-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx[m[K[36m[K-[m[K[32m[K609[m[K[36m[K-[m[K            disabled={disabled}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/RenameModal.tsx[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/RenameModal.tsx[m[K[36m[K:[m[K[32m[K21[m[K[36m[K:[m[K    const title = [01;31m[K`Rename ${view === InsightType.FUNNELS ? 'funnel step' : 'graph series'}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/RenameModal.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/entityFilterLogic.ts[m[K[36m[K-[m[K[32m[K246[m[K[36m[K-[m[K                const filter = { id: null, type: EntityTypes.EVENTS, order: values.localFilters.length }
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/entityFilterLogic.ts[m[K[36m[K:[m[K[32m[K247[m[K[36m[K:[m[K                actions.setLocalFilters({ [[01;31m[K`${EntityTypes.EVENTS}`[m[K]: [filter] })
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/ActionFilter/entityFilterLogic.ts[m[K[36m[K-[m[K[32m[K248[m[K[36m[K-[m[K                actions.selectFilter({ ...filter, index: 0 })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/AggregationSelect.tsx[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[K    if (groupIndex !== undefined) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/AggregationSelect.tsx[m[K[36m[K:[m[K[32m[K14[m[K[36m[K:[m[K        return [01;31m[K`$group_${groupIndex}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/AggregationSelect.tsx[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K    } else if (aggregationQuery) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/AggregationSelect.tsx[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K        Array.from(groupTypes.values()).forEach((groupType) => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/AggregationSelect.tsx[m[K[36m[K:[m[K[32m[K88[m[K[36m[K:[m[K            baseValues.push([01;31m[K`$group_${groupType.group_type_index}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/AggregationSelect.tsx[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K            optionSections[0].options.push({
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/AggregationSelect.tsx[m[K[36m[K:[m[K[32m[K90[m[K[36m[K:[m[K                value: [01;31m[K`$group_${groupType.group_type_index}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/AggregationSelect.tsx[m[K[36m[K:[m[K[32m[K91[m[K[36m[K:[m[K                label: [01;31m[K`Unique ${aggregationLabel(groupType.group_type_index).plural}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/AggregationSelect.tsx[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K            })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/AggregationSelect.tsx[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K    if (hogqlAvailable) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/AggregationSelect.tsx[m[K[36m[K:[m[K[32m[K97[m[K[36m[K:[m[K        baseValues.push([01;31m[K`properties.$session_id`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/AggregationSelect.tsx[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K        optionSections[0].options.push({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/BreakdownFilter/BreakdownTag.tsx[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K    } else if (isCohort(breakdown)) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/BreakdownFilter/BreakdownTag.tsx[m[K[36m[K:[m[K[32m[K82[m[K[36m[K:[m[K        propertyName = cohortsById[breakdown]?.name || [01;31m[K`Cohort ${breakdown}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/BreakdownFilter/BreakdownTag.tsx[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/FunnelExclusionsFilter/ExclusionRowSuffix.tsx[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                    .map((stepIndex) => (
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/FunnelExclusionsFilter/ExclusionRowSuffix.tsx[m[K[36m[K:[m[K[32m[K87[m[K[36m[K:[m[K                        <Select.Option key={stepIndex} value={stepIndex} label={[01;31m[K`Step ${stepIndex + 1}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/FunnelExclusionsFilter/ExclusionRowSuffix.tsx[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K                            Step {stepIndex + 1}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/FunnelExclusionsFilter/ExclusionRowSuffix.tsx[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K                    .map((stepIndex) => (
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/FunnelExclusionsFilter/ExclusionRowSuffix.tsx[m[K[36m[K:[m[K[32m[K108[m[K[36m[K:[m[K                        <Select.Option key={stepIndex} value={stepIndex} label={[01;31m[K`Step ${stepIndex + 1}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/insights/filters/FunnelExclusionsFilter/ExclusionRowSuffix.tsx[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K                            Step {stepIndex + 1}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K                            ? context.cohortsById[cohortId]?.name
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K                            : [01;31m[K`ID ${cohortId}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K        return (
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K79[m[K[36m[K:[m[K            [01;31m[K`Retention of ${context.aggregationLabel(filters.aggregation_group_type_index, true).plural}`[m[K +
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K80[m[K[36m[K:[m[K            [01;31m[K` based on doing ${getDisplayNameFromEntityFilter((filters.target_entity || {}) as EntityFilter)}`[m[K +
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K81[m[K[36m[K:[m[K            [01;31m[K` ${retentionOptions[filters.retention_type || RETENTION_FIRST_TIME]} and returning with `[m[K +
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K            (areTargetAndReturningIdentical
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K        // Sync format with PathsSummary in InsightDetails
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K88[m[K[36m[K:[m[K        let summary = [01;31m[K`User paths based on ${humanizePathsEventTypes(filters.include_event_types).join(' and ')}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K        if (filters.start_point) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K90[m[K[36m[K:[m[K            summary += [01;31m[K` starting at ${filters.start_point}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K        }
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K        if (filters.end_point) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K93[m[K[36m[K:[m[K            summary += [01;31m[K`${filters.start_point ? ' and' : ''} ending at ${filters.end_point}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K94[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K    } else if (isLifecycleFilter(filters)) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K97[m[K[36m[K:[m[K        return [01;31m[K`User lifecycle based on ${getDisplayNameFromEntityFilter(localFilters[0])}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K    } else if (isFunnelsFilter(filters)) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K                : '→'
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K106[m[K[36m[K:[m[K        summary = [01;31m[K`${localFilters.map((filter) => getDisplayNameFromEntityFilter(filter)).join(`[m[K ${linkSymbol} `)} ${
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K            context.aggregationLabel(filters.aggregation_group_type_index, true).singular
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K117[m[K[36m[K-[m[K        if (filters.breakdown_type) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K118[m[K[36m[K:[m[K            summary += [01;31m[K` by ${summarizeBreakdown(filters, context)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K119[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K                    ).singular
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K129[m[K[36m[K:[m[K                    return [01;31m[K`${actor} stickiness based on ${getDisplayNameFromEntityFilter(localFilter)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K                })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K139[m[K[36m[K-[m[K                if (mathDefinition?.category === MathCategory.EventCountPerActor) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K140[m[K[36m[K:[m[K                    series = [01;31m[K`${getDisplayNameFromEntityFilter(localFilter)} count per user ${mathDefinition.shortName}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K                } else if (mathDefinition?.category === MathCategory.PropertyValue) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K162[m[K[36m[K-[m[K                if (filters.formula) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K163[m[K[36m[K:[m[K                    series = [01;31m[K`${alphabet[localFilterIndex].toUpperCase()}. ${series}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K164[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K169[m[K[36m[K-[m[K        if (filters.breakdown_type) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K170[m[K[36m[K:[m[K            summary += [01;31m[K`${localFilters.length > 1 ? ',' : ''} by ${summarizeBreakdown(filters, context)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K171[m[K[36m[K-[m[K        }
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K172[m[K[36m[K-[m[K        if (filters.formula) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K173[m[K[36m[K:[m[K            summary = [01;31m[K`${filters.formula} on ${summary}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K174[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K188[m[K[36m[K-[m[K                if (mathDefinition?.category === MathCategory.EventCountPerActor) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K189[m[K[36m[K:[m[K                    series = [01;31m[K`${getDisplayNameFromEntityNode(s)} count per user ${mathDefinition.shortName}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K190[m[K[36m[K-[m[K                } else if (mathDefinition?.category === MathCategory.PropertyValue) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K209[m[K[36m[K-[m[K                if (query.trendsFilter?.formula) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K210[m[K[36m[K:[m[K                    series = [01;31m[K`${alphabet[index].toUpperCase()}. ${series}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K211[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K216[m[K[36m[K-[m[K        if (query.breakdown?.breakdown_type) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K217[m[K[36m[K:[m[K            summary += [01;31m[K`${query.series.length > 1 ? ',' : ''} by ${summarizeBreakdown(query.breakdown, context)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K        }
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K219[m[K[36m[K-[m[K        if (query.trendsFilter?.formula) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K220[m[K[36m[K:[m[K            summary = [01;31m[K`${query.trendsFilter.formula} on ${summary}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K221[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K231[m[K[36m[K-[m[K                : '→'
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K232[m[K[36m[K:[m[K        summary = [01;31m[K`${query.series.map((s) => getDisplayNameFromEntityNode(s)).join(`[m[K ${linkSymbol} `)} ${
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K233[m[K[36m[K-[m[K            context.aggregationLabel(query.aggregation_group_type_index, true).singular
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K243[m[K[36m[K-[m[K        if (query.breakdown?.breakdown_type) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K244[m[K[36m[K:[m[K            summary += [01;31m[K` by ${summarizeBreakdown(query.breakdown, context)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K245[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K251[m[K[36m[K-[m[K        return (
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K252[m[K[36m[K:[m[K            [01;31m[K`Retention of ${context.aggregationLabel(query.aggregation_group_type_index, true).plural}`[m[K +
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K253[m[K[36m[K-[m[K            ` based on doing ${getDisplayNameFromEntityFilter(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K255[m[K[36m[K-[m[K            )}` +
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K256[m[K[36m[K:[m[K            [01;31m[K` ${retentionOptions[query.retentionFilter?.retention_type || RETENTION_FIRST_TIME]} and returning with `[m[K +
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K257[m[K[36m[K-[m[K            (areTargetAndReturningIdentical
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K266[m[K[36m[K-[m[K        if (query.pathsFilter?.start_point) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K267[m[K[36m[K:[m[K            summary += [01;31m[K` starting at ${query.pathsFilter?.start_point}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K268[m[K[36m[K-[m[K        }
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K269[m[K[36m[K-[m[K        if (query.pathsFilter?.end_point) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K270[m[K[36m[K:[m[K            summary += [01;31m[K`${query.pathsFilter?.start_point ? ' and' : ''} ending at ${query.pathsFilter?.end_point}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K271[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K277[m[K[36m[K-[m[K                    const actor = context.aggregationLabel(s.math_group_type_index, true).singular
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K278[m[K[36m[K:[m[K                    return [01;31m[K`${actor} stickiness based on ${getDisplayNameFromEntityNode(s)}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K279[m[K[36m[K-[m[K                })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K282[m[K[36m[K-[m[K    } else if (isLifecycleQuery(query)) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K283[m[K[36m[K:[m[K        return [01;31m[K`User lifecycle based on ${getDisplayNameFromEntityNode(query.series[0])}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K284[m[K[36m[K-[m[K    } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K295[m[K[36m[K-[m[K        return `Time to see data in ${
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K296[m[K[36m[K:[m[K            query.source.sessionId ? [01;31m[K`session ${query.source.sessionId}`[m[K : 'the current session'
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K297[m[K[36m[K-[m[K        }`
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K326[m[K[36m[K-[m[K                .filter((c) => !query.hiddenColumns?.includes(c))
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K327[m[K[36m[K:[m[K                .join(', ')}${source ? [01;31m[K` from ${source}`[m[K : ''}`
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K328[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K330[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K:[m[K[32m[K331[m[K[36m[K:[m[K    return [01;31m[K`${query?.kind} query`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/summarizeInsight.ts[m[K[36m[K-[m[K[32m[K332[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K-[m[K[32m[K136[m[K[36m[K-[m[K    breakdownIndexTestCases.forEach((testCase) => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K:[m[K[32m[K137[m[K[36m[K:[m[K        it([01;31m[K`can add a breakdown_group_type_index of ${testCase.filters.breakdown_group_type_index} when breakdown type is ${testCase.filters.breakdown_type}`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K-[m[K[32m[K138[m[K[36m[K-[m[K            const cleanedFilters = cleanFilters(testCase.filters as Partial<FilterType>)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K-[m[K[32m[K252[m[K[36m[K-[m[K        ;[InsightType.TRENDS, InsightType.LIFECYCLE, InsightType.STICKINESS].forEach((insight) => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K:[m[K[32m[K253[m[K[36m[K:[m[K            it([01;31m[K`keeps show values on series for ${insight}`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K-[m[K[32m[K254[m[K[36m[K-[m[K                const cleanedFilters = cleanFilters({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K-[m[K[32m[K262[m[K[36m[K-[m[K        NON_VALUES_ON_SERIES_DISPLAY_TYPES.forEach((display) => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K:[m[K[32m[K263[m[K[36m[K:[m[K            it([01;31m[K`removes show values on series for ${display}`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K-[m[K[32m[K264[m[K[36m[K-[m[K                const cleanedFilters = cleanFilters({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K-[m[K[32m[K273[m[K[36m[K-[m[K        ;[(InsightType.PATHS, InsightType.FUNNELS, InsightType.RETENTION)].forEach((insight) => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K:[m[K[32m[K274[m[K[36m[K:[m[K            it([01;31m[K`removes show values on series for ${insight}`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils/cleanFilters.test.ts[m[K[36m[K-[m[K[32m[K275[m[K[36m[K-[m[K                const cleanedFilters = cleanFilters({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/__mocks__/createInsightScene.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K                        results: [
[35m[K/tmp/posthog/frontend/src/scenes/insights/__mocks__/createInsightScene.tsx[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K                            { ...insight, short_id: [01;31m[K`${insight.short_id}${count}`[m[K, id: (insight.id ?? 0) + 1 + count },
[35m[K/tmp/posthog/frontend/src/scenes/insights/__mocks__/createInsightScene.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K                        ],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/__mocks__/createInsightScene.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K        useEffect(() => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/__mocks__/createInsightScene.tsx[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K            router.actions.push([01;31m[K`/insights/${insight.short_id}${count}${mode === 'edit' ? '/edit' : ''}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/__mocks__/createInsightScene.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K        }, [])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[Kexport const createEmptyInsight = (
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K    insightId: InsightShortId | [01;31m[K`new-${string}`[m[K | 'new',
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K    filterTestAccounts: boolean
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K152[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K153[m[K[36m[K:[m[K                    throw new Error([01;31m[K`Insight "${shortId}" not found`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K154[m[K[36m[K-[m[K                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K172[m[K[36m[K-[m[K                    const response = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K173[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${values.insight.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K174[m[K[36m[K-[m[K                        insight
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K215[m[K[36m[K-[m[K                    const response = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K216[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${values.insight.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K217[m[K[36m[K-[m[K                        metadata
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K236[m[K[36m[K-[m[K                                const response = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K237[m[K[36m[K:[m[K                                    [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${values.insight.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K238[m[K[36m[K-[m[K                                    beforeUpdates
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K495[m[K[36m[K-[m[K                            filename,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K496[m[K[36m[K:[m[K                            path: [01;31m[K`api/projects/${currentTeamId}/insights/retention/?${toParams(params)}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K497[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K501[m[K[36m[K-[m[K                            method: 'POST',
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K502[m[K[36m[K:[m[K                            path: [01;31m[K`api/projects/${currentTeamId}/insights/funnel`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K503[m[K[36m[K-[m[K                            body: params,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K508[m[K[36m[K-[m[K                            method: 'POST',
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K509[m[K[36m[K:[m[K                            path: [01;31m[K`api/projects/${currentTeamId}/insights/path`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K510[m[K[36m[K-[m[K                            body: params,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K576[m[K[36m[K-[m[K            if (values.insight.id) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K577[m[K[36m[K:[m[K                return api.create([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${values.insight.id}/viewed`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K578[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K640[m[K[36m[K-[m[K                    ? await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K641[m[K[36m[K:[m[K                          [01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/${insightNumericId}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K642[m[K[36m[K-[m[K                          insightRequest
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K643[m[K[36m[K-[m[K                      )
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K644[m[K[36m[K:[m[K                    : await api.create([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/`[m[K, insightRequest)
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K645[m[K[36m[K-[m[K                savedInsightsLogic.findMounted()?.actions.loadInsights() // Load insights afresh
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K656[m[K[36m[K-[m[K            eventUsageLogic.actions.reportInsightSaved(filters || {}, insightNumericId === undefined)
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K657[m[K[36m[K:[m[K            lemonToast.success([01;31m[K`Insight saved${dashboards?.length === 1 ? ' & added to dashboard' : ''}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K658[m[K[36m[K-[m[K                button: {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K685[m[K[36m[K-[m[K                placeholder: 'Please enter the new name',
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K686[m[K[36m[K:[m[K                value: [01;31m[K`${values.insight.name || values.insight.derived_name} (copy)`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K687[m[K[36m[K-[m[K                error: 'You must enter a name',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K691[m[K[36m[K-[m[K        saveAsNamingSuccess: async ({ name }) => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K692[m[K[36m[K:[m[K            const insight: InsightModel = await api.create([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/insights/`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K693[m[K[36m[K-[m[K                name,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K696[m[K[36m[K-[m[K            })
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K697[m[K[36m[K:[m[K            lemonToast.info([01;31m[K`You're now working on a copy of ${values.insight.name ?? values.insight.derived_name}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K698[m[K[36m[K-[m[K            actions.setInsight(insight, { fromPersistentApi: true, overrideFilter: true })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K717[m[K[36m[K-[m[K                    ...values.hiddenLegendKeys,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K:[m[K[32m[K718[m[K[36m[K:[m[K                    [[01;31m[K`${index}`[m[K]: currentIsHidden ? undefined : true,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightLogic.ts[m[K[36m[K-[m[K[32m[K719[m[K[36m[K-[m[K                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/aggregationAxisFormats.test.ts[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K    formatTestcases.forEach((testcase) => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/aggregationAxisFormats.test.ts[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K        it([01;31m[K`correctly formats "${testcase.candidate}" as ${testcase.expected} when filters are ${testcase.filters}`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/aggregationAxisFormats.test.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K            expect(formatAggregationAxisValue(testcase.filters as Partial<FilterType>, testcase.candidate)).toEqual(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EditorFilters/AttributionFilter.tsx[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EditorFilters/AttributionFilter.tsx[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[K    const currentValue: BreakdownAttributionType | [01;31m[K`${BreakdownAttributionType.Step}/${number}`[m[K =
[35m[K/tmp/posthog/frontend/src/scenes/insights/EditorFilters/AttributionFilter.tsx[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K        !breakdown_attribution_type
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EditorFilters/AttributionFilter.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K            : breakdown_attribution_type === BreakdownAttributionType.Step
[35m[K/tmp/posthog/frontend/src/scenes/insights/EditorFilters/AttributionFilter.tsx[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K            ? [01;31m[K`${breakdown_attribution_type}/${breakdown_attribution_value || 0}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EditorFilters/AttributionFilter.tsx[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K            : breakdown_attribution_type
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EditorFilters/AttributionFilter.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                        .map((_, stepIndex) => ({
[35m[K/tmp/posthog/frontend/src/scenes/insights/EditorFilters/AttributionFilter.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K                            value: [01;31m[K`${BreakdownAttributionType.Step}/${stepIndex}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/EditorFilters/AttributionFilter.tsx[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K                            label: [01;31m[K`Step ${stepIndex + 1}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/EditorFilters/AttributionFilter.tsx[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K                            hidden: stepIndex >= steps.length,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EditorFilters/SamplingFilter.tsx[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K                                }}
[35m[K/tmp/posthog/frontend/src/scenes/insights/EditorFilters/SamplingFilter.tsx[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K                            >{[01;31m[K`${percentage}%`[m[K}</LemonButton>
[35m[K/tmp/posthog/frontend/src/scenes/insights/EditorFilters/SamplingFilter.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                        ))}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightCommandLogic.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K                            icon: RiseOutlined,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightCommandLogic.ts[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K                            display: [01;31m[K`Set Time Range to ${key}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/insightCommandLogic.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                            executor: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K    paramsToExpected.forEach(([filter, isCustom, expected]) => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K        it([01;31m[K`expect "${expected}" for Filter<custom_name="${filter.custom_name}", name="${filter.name}", id="${filter.id}">`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K            expect(getDisplayNameFromEntityFilter(filter, isCustom)).toEqual(expected)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K        if (isEventsNode(node)) {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K:[m[K[32m[K90[m[K[36m[K:[m[K            it([01;31m[K`expect "${expected}" for EventsNode<custom_name="${node.custom_name}", name="${node.name}", event="${node.event}">, isCustom<${isCustom}>`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K                expect(getDisplayNameFromEntityNode(node, isCustom)).toEqual(expected)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K        } else {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K:[m[K[32m[K94[m[K[36m[K:[m[K            it([01;31m[K`expect "${expected}" for ActionsNode<custom_name="${node.custom_name}", name="${node.name}", id="${node.id}">, isCustom<${isCustom}`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K                expect(getDisplayNameFromEntityNode(node, isCustom)).toEqual(expected)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K-[m[K[32m[K166[m[K[36m[K-[m[K    testCases.forEach(([testName, oldFilter, newFilter, prefix, expected]) => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K:[m[K[32m[K167[m[K[36m[K:[m[K        it([01;31m[K`expect ${JSON.stringify(expected)} for ${testName}`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/utils.test.ts[m[K[36m[K-[m[K[32m[K168[m[K[36m[K-[m[K            expect(extractObjectDiffKeys(oldFilter, newFilter, prefix)).toEqual(expected)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightPageHeader.tsx[m[K[36m[K-[m[K[32m[K207[m[K[36m[K-[m[K                                        <LemonButton
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightPageHeader.tsx[m[K[36m[K:[m[K[32m[K208[m[K[36m[K:[m[K                                            data-attr={[01;31m[K`${showQueryEditor ? 'hide' : 'show'}-insight-source`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightPageHeader.tsx[m[K[36m[K-[m[K[32m[K209[m[K[36m[K-[m[K                                            status="stealth"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightPageHeader.tsx[m[K[36m[K-[m[K[32m[K260[m[K[36m[K-[m[K                                                        object: insight,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightPageHeader.tsx[m[K[36m[K:[m[K[32m[K261[m[K[36m[K:[m[K                                                        endpoint: [01;31m[K`projects/${currentTeamId}/insights`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/insights/InsightPageHeader.tsx[m[K[36m[K-[m[K[32m[K262[m[K[36m[K-[m[K                                                        callback: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/sharedUtils.test.ts[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K    testCases.forEach((testCase) => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/sharedUtils.test.ts[m[K[36m[K:[m[K[32m[K21[m[K[36m[K:[m[K        it([01;31m[K`for ${JSON.stringify(testCase.in)} returns ${JSON.stringify(testCase.expect)}`[m[K, () => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/sharedUtils.test.ts[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K            expect(func(testCase.in)).toEqual(testCase.expect)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K        <Tooltip
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K:[m[K[32m[K50[m[K[36m[K:[m[K            title={[01;31m[K`Calculate results from ${suggestedSamplingPercentage}% of the total dataset for this insight, speeding up the calculation of results.`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K            placement="bottom"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K265[m[K[36m[K-[m[Kconst SAVED_INSIGHTS_COPY = {
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K:[m[K[32m[K266[m[K[36m[K:[m[K    [[01;31m[K`${SavedInsightsTabs.All}`[m[K]: {
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K267[m[K[36m[K-[m[K        title: 'There are no insights $CONDITION.',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K269[m[K[36m[K-[m[K    },
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K:[m[K[32m[K270[m[K[36m[K:[m[K    [[01;31m[K`${SavedInsightsTabs.Yours}`[m[K]: {
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K271[m[K[36m[K-[m[K        title: "You haven't created insights $CONDITION.",
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K273[m[K[36m[K-[m[K    },
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K:[m[K[32m[K274[m[K[36m[K:[m[K    [[01;31m[K`${SavedInsightsTabs.Favorites}`[m[K]: {
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K275[m[K[36m[K-[m[K        title: 'There are no favorited insights $CONDITION.',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K299[m[K[36m[K-[m[K                        ? searchString
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K:[m[K[32m[K300[m[K[36m[K:[m[K                            ? title.replace('$CONDITION', [01;31m[K`matching "${searchString}"`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.tsx[m[K[36m[K-[m[K[32m[K301[m[K[36m[K-[m[K                            : title.replace('$CONDITION', `matching these filters`)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K    useEffect(() => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K        router.actions.push([01;31m[K`/insights/${insight.short_id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K    }, [])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K    useEffect(() => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K        router.actions.push([01;31m[K`/insights/${insight.short_id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K    }, [])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K    useEffect(() => {
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K        router.actions.push([01;31m[K`/insights/${insight.short_id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/insights/EmptyStates/EmptyStates.stories.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K        window.setTimeout(() => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/retention/constants.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[Kexport const retentionOptionDescriptions = {
[35m[K/tmp/posthog/frontend/src/scenes/retention/constants.ts[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K    [[01;31m[K`${RETENTION_RECURRING}`[m[K]: 'A user will belong to any cohort where they have performed the event in its Period 0.',
[35m[K/tmp/posthog/frontend/src/scenes/retention/constants.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K    [[01;31m[K`${RETENTION_FIRST_TIME}`[m[K]:
[35m[K/tmp/posthog/frontend/src/scenes/retention/constants.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K        'A user will only belong to the cohort for which they performed the event for the first time.',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionLineGraphLogic.ts[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K                        id: datasetIndex,
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionLineGraphLogic.ts[m[K[36m[K:[m[K[32m[K67[m[K[36m[K:[m[K                        days: retentionPercentages.map((_, index) => [01;31m[K`${period} ${index}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionLineGraphLogic.ts[m[K[36m[K:[m[K[32m[K68[m[K[36m[K:[m[K                        labels: retentionPercentages.map((_, index) => [01;31m[K`${period} ${index}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionLineGraphLogic.ts[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K                        count: 0,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/retention/RetentionLineGraph.tsx[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                renderCount: (count) => {
[35m[K/tmp/posthog/frontend/src/scenes/retention/RetentionLineGraph.tsx[m[K[36m[K:[m[K[32m[K51[m[K[36m[K:[m[K                    return [01;31m[K`${roundToDecimal(count)}%`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/retention/RetentionLineGraph.tsx[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionPeopleLogic.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K                const urlParams = toParams({ ...values.apiFilters, selected_interval: rowIndex })
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionPeopleLogic.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K                return (await api.get([01;31m[K`api/person/retention/?${urlParams}`[m[K)) as RetentionTablePeoplePayload
[35m[K/tmp/posthog/frontend/src/scenes/retention/retentionPeopleLogic.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K            },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/retention/RetentionModal.tsx[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K            width={isEmpty ? undefined : '90%'}
[35m[K/tmp/posthog/frontend/src/scenes/retention/RetentionModal.tsx[m[K[36m[K:[m[K[32m[K59[m[K[36m[K:[m[K            title={[01;31m[K`${dayjs(row.date).format('MMMM D, YYYY')} Cohort`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/retention/RetentionModal.tsx[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K        >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/CreateProjectModal.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K            width={560}
[35m[K/tmp/posthog/frontend/src/scenes/project/CreateProjectModal.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K            title={currentOrganization ? [01;31m[K`Create a project within ${currentOrganization.name}`[m[K : 'Create a project'}
[35m[K/tmp/posthog/frontend/src/scenes/project/CreateProjectModal.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K            description={
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TimezoneConfig.tsx[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K                        LemonDialog.open({
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TimezoneConfig.tsx[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K                            title: [01;31m[K`Change time zone to ${tzLabel(newTimezone, newOffset)}?`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TimezoneConfig.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K                            description: (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/integrationsLogic.ts[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[Kexport const getSlackEventsUri = (): string =>
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/integrationsLogic.ts[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[K    [01;31m[K`${window.location.origin.replace('http://', 'https://')}/api/integrations/slack/events`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/integrationsLogic.ts[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/integrationsLogic.ts[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K                    if (error) {
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/integrationsLogic.ts[m[K[36m[K:[m[K[32m[K103[m[K[36m[K:[m[K                        lemonToast.error([01;31m[K`Failed due to "${error}"`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/integrationsLogic.ts[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K                        router.actions.replace(replaceUrl)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/ExtraTeamSettings.tsx[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K                <>
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/ExtraTeamSettings.tsx[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[K                    <h2 className="subtitle" id={[01;31m[K`extra_settings_${setting.key}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/ExtraTeamSettings.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                        {setting.name}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/ExtraTeamSettings.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                            <LemonSwitch
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/ExtraTeamSettings.tsx[m[K[36m[K:[m[K[32m[K79[m[K[36m[K:[m[K                                data-attr={[01;31m[K`extra_settings_${setting.key}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/ExtraTeamSettings.tsx[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K                                onChange={(checked) => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/ExtraTeamSettings.tsx[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K                                }}
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/ExtraTeamSettings.tsx[m[K[36m[K:[m[K[32m[K85[m[K[36m[K:[m[K                                label={[01;31m[K`Enable ${setting.name}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/ExtraTeamSettings.tsx[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                                checked={!!currentTeam?.extra_settings?.[setting.key]}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K    const isImplicit = member.organization_level >= OrganizationMembershipLevel.Admin
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K    const levelName = membershipLevelToName.get(member.level) ?? [01;31m[K`unknown (${member.level})`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K    const disallowedReason = isImplicit
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K        ? [01;31m[K`This user is a member of the project implicitly due to being an organization ${levelName}.`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K        : getReasonForAccessLevelChangeProhibition(myMembershipLevel, user, member, allowedLevels)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K                    ? 'Leave'
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K:[m[K[32m[K93[m[K[36m[K:[m[K                    : [01;31m[K`Remove ${member.user.first_name} (${member.user.email}) from`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K94[m[K[36m[K-[m[K            } project ${currentTeam?.name}?`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K144[m[K[36m[K-[m[K            render: (_, member) =>
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K:[m[K[32m[K145[m[K[36m[K:[m[K                member.user.uuid == user.uuid ? [01;31m[K`${member.user.first_name} (me)`[m[K : member.user.first_name,
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/TeamMembers.tsx[m[K[36m[K-[m[K[32m[K146[m[K[36m[K-[m[K            sorter: (a, b) => a.user.first_name.localeCompare(b.user.first_name),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/DangerZone.tsx[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K                        onClick={currentTeam ? () => deleteTeam(currentTeam as TeamType) : undefined}
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/DangerZone.tsx[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K                    >{[01;31m[K`Delete ${currentTeam ? currentTeam.name : 'the current project'}`[m[K}</LemonButton>
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/DangerZone.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                </>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/GroupAnalytics.tsx[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K                            groupType.name_plural ||
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/GroupAnalytics.tsx[m[K[36m[K:[m[K[32m[K56[m[K[36m[K:[m[K                            [01;31m[K`${groupType.group_type}(s)`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/GroupAnalytics.tsx[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K            loadMembers: async () => {
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K                return await api.get([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/explicit_members/`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K            },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K                    userUuids.map((userUuid) =>
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K                        api.create([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/explicit_members/`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K                            user_uuid: userUuid,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K                lemonToast.success(
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K                    [01;31m[K`Added ${newMembers.length} member${newMembers.length !== 1 ? 's' : ''} to the project.`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K            removeMember: async ({ member }: { member: BaseMemberType }) => {
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[K                await api.delete([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/explicit_members/${member.user.uuid}/`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K                lemonToast.success(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K                            ? 'Left'
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K                            : [01;31m[K`Removed ${member.user.first_name} (${member.user.email}) from`[m[K}{' '}
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K                        the project.
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K176[m[K[36m[K-[m[K        changeUserAccessLevel: async ({ user, newLevel }) => {
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K:[m[K[32m[K177[m[K[36m[K:[m[K            await api.update([01;31m[K`api/projects/${teamLogic.values.currentTeamId}/explicit_members/${user.uuid}/`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/teamMembersLogic.tsx[m[K[36m[K-[m[K[32m[K178[m[K[36m[K-[m[K                level: newLevel,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/AddMembersModal.tsx[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K                    <LemonModal.Header>
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/AddMembersModal.tsx[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K                        <h3>{[01;31m[K`Adding members${currentTeam?.name ? `[m[K to project ${currentTeam.name}` : ''}`}</h3>
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/AddMembersModal.tsx[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K                    </LemonModal.Header>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/WeekStartConfig.tsx[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K                LemonDialog.open({
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/WeekStartConfig.tsx[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[K                    title: [01;31m[K`Change the first day of the week to ${value === 0 ? 'Sunday' : 'Monday'}?`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/project/Settings/WeekStartConfig.tsx[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K                    description: 'Queries grouped by week will need to be recalculated.',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/debug/HogQLDebug.tsx[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K                                    {clickHouseTime !== undefined
[35m[K/tmp/posthog/frontend/src/scenes/debug/HogQLDebug.tsx[m[K[36m[K:[m[K[32m[K107[m[K[36m[K:[m[K                                        ? [01;31m[K` (${Math.floor(clickHouseTime * 1000) / 1000}s)`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/debug/HogQLDebug.tsx[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K                                        : ''}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/Unsubscribe/unsubscribeLogic.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K            attemptUnsubscribe: async ({ token }) => {
[35m[K/tmp/posthog/frontend/src/scenes/Unsubscribe/unsubscribeLogic.ts[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K                const res = await api.get([01;31m[K`api/unsubscribe?token=${token}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/Unsubscribe/unsubscribeLogic.ts[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K                return res.success
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingsLogic.ts[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingsLogic.ts[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[Kexport const PLAYLIST_LIMIT_REACHED_MESSAGE = [01;31m[K`You have reached the free limit of ${SESSION_RECORDINGS_PLAYLIST_FREE_COUNT} saved playlists`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/sessionRecordingsLogic.ts[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/saved-playlists/savedSessionRecordingPlaylistsLogic.test.ts[m[K[36m[K-[m[K[32m[K137[m[K[36m[K-[m[K                            playlists: expect.objectContaining({
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/saved-playlists/savedSessionRecordingPlaylistsLogic.test.ts[m[K[36m[K:[m[K[32m[K138[m[K[36m[K:[m[K                                results: [[01;31m[K`List of playlists filtered by ${key}`[m[K],
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/saved-playlists/savedSessionRecordingPlaylistsLogic.test.ts[m[K[36m[K-[m[K[32m[K139[m[K[36m[K-[m[K                            }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/saved-playlists/SavedSessionRecordingPlaylists.tsx[m[K[36m[K-[m[K[32m[K187[m[K[36m[K-[m[K                            order: newSorting
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/saved-playlists/SavedSessionRecordingPlaylists.tsx[m[K[36m[K:[m[K[32m[K188[m[K[36m[K:[m[K                                ? [01;31m[K`${newSorting.order === -1 ? '-' : ''}${newSorting.columnKey}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/saved-playlists/SavedSessionRecordingPlaylists.tsx[m[K[36m[K-[m[K[32m[K189[m[K[36m[K-[m[K                                : undefined,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/filters/DurationFilter.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K    const unit = duration.timeValue === 1 ? duration.unit.slice(0, -1) : duration.unit
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/filters/DurationFilter.tsx[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K    return [01;31m[K`${operator} ${duration.timeValue || 0} ${durationDescription}${unit}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/filters/DurationFilter.tsx[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx[m[K[36m[K:[m[K[32m[K108[m[K[36m[K:[m[K                    data-attr={[01;31m[K`session-recordings-show-${showAdvancedFilters ? 'simple' : 'advanced'}-filters`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K                >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/filters/SimpleSessionRecordingsFilters.tsx[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K                <PropertyFilters
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/filters/SimpleSessionRecordingsFilters.tsx[m[K[36m[K:[m[K[32m[K108[m[K[36m[K:[m[K                    pageKey={[01;31m[K`session-recordings-$current_url`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/filters/SimpleSessionRecordingsFilters.tsx[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K                    taxonomicGroupTypes={[TaxonomicFilterGroupType.EventProperties]}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/filters/SimpleSessionRecordingsFilters.tsx[m[K[36m[K-[m[K[32m[K148[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/filters/SimpleSessionRecordingsFilters.tsx[m[K[36m[K:[m[K[32m[K149[m[K[36m[K:[m[K    const pageKey = [01;31m[K`session-recordings-inserter-${propertyKey}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/filters/SimpleSessionRecordingsFilters.tsx[m[K[36m[K-[m[K[32m[K150[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/filters/AdvancedSessionRecordingsFilters.tsx[m[K[36m[K-[m[K[32m[K209[m[K[36m[K-[m[K            >
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/filters/AdvancedSessionRecordingsFilters.tsx[m[K[36m[K:[m[K[32m[K210[m[K[36m[K:[m[K                {filters.console_logs?.map((x) => [01;31m[K`console.${x}`[m[K).join(' or ') || (
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/filters/AdvancedSessionRecordingsFilters.tsx[m[K[36m[K-[m[K[32m[K211[m[K[36m[K-[m[K                    <span className={'text-muted'}>Console types to filter for...</span>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.ts[m[K[36m[K-[m[K[32m[K210[m[K[36m[K-[m[K        (props: SessionRecordingPlaylistLogicProps) =>
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.ts[m[K[36m[K:[m[K[32m[K211[m[K[36m[K:[m[K            [01;31m[K`${props.logicKey}-${props.personUUID}-${props.updateSearchParams ? '-with-search' : ''}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.ts[m[K[36m[K-[m[K[32m[K212[m[K[36m[K-[m[K    ),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.ts[m[K[36m[K-[m[K[32m[K456[m[K[36m[K-[m[K            // capture only the partial filters applied (not the full filters object)
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.ts[m[K[36m[K:[m[K[32m[K457[m[K[36m[K:[m[K            // take each key from the filter and change it to [01;31m[K`partial_filter_chosen_${key}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.ts[m[K[36m[K-[m[K[32m[K458[m[K[36m[K-[m[K            const partialFilters = Object.keys(filters).reduce((acc, key) => {
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.ts[m[K[36m[K:[m[K[32m[K459[m[K[36m[K:[m[K                acc[[01;31m[K`partial_filter_chosen_${key}`[m[K] = filters[key]
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.ts[m[K[36m[K-[m[K[32m[K460[m[K[36m[K-[m[K                return acc
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/SessionRecordingPreview.tsx[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                    if (property === '$geoip_country_code') {
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/SessionRecordingPreview.tsx[m[K[36m[K:[m[K[32m[K87[m[K[36m[K:[m[K                        tooltipValue = [01;31m[K`${iconProperties?.['$geoip_country_name']} (${value})`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/SessionRecordingPreview.tsx[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/SessionRecordingPreview.tsx[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K            <span
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/SessionRecordingPreview.tsx[m[K[36m[K:[m[K[32m[K123[m[K[36m[K:[m[K                title={[01;31m[K`Click count: ${recording.click_count}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/SessionRecordingPreview.tsx[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K                className="flex items-center gap-1  overflow-hidden shrink-0"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/SessionRecordingPreview.tsx[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K            <span
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/SessionRecordingPreview.tsx[m[K[36m[K:[m[K[32m[K131[m[K[36m[K:[m[K                title={[01;31m[K`Keyboard inputs: ${recording.keypress_count}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/SessionRecordingPreview.tsx[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K                className="flex items-center gap-1  overflow-hidden shrink-0"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/SessionRecordingPreview.tsx[m[K[36m[K-[m[K[32m[K145[m[K[36m[K-[m[K            <span className="flex items-center gap-1 overflow-hidden text-muted text-xs">
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/SessionRecordingPreview.tsx[m[K[36m[K:[m[K[32m[K146[m[K[36m[K:[m[K                <span title={[01;31m[K`First URL: ${props.startUrl}`[m[K} className="truncate">
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/SessionRecordingPreview.tsx[m[K[36m[K-[m[K[32m[K147[m[K[36m[K-[m[K                    {firstPath}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/playlistUtils.ts[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K                    const cohortId = Number(property.value)
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/playlistUtils.ts[m[K[36m[K:[m[K[32m[K49[m[K[36m[K:[m[K                    return [01;31m[K`cohorts: ${cohortId in cohortsById ? cohortsById[cohortId]?.name : `[m[KID ${cohortId}`}`
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/playlistUtils.ts[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/playlistUtils.ts[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K            .join(' & ')
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/playlistUtils.ts[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K        summary += [01;31m[K`${summary ? ', on ' : ''}${propertiesSummary}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/playlistUtils.ts[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.test.ts[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K                            ]
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.test.ts[m[K[36m[K:[m[K[32m[K92[m[K[36m[K:[m[K                        } else if (searchParams.get('offset') === [01;31m[K`${RECORDINGS_LIMIT}`[m[K) {
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.test.ts[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K                            return [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.test.ts[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K                                {
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.test.ts[m[K[36m[K:[m[K[32m[K96[m[K[36m[K:[m[K                                    results: [[01;31m[K`List of recordings offset by ${RECORDINGS_LIMIT}`[m[K],
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.test.ts[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K                                },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/__mocks__/recording_snapshots.ts[m[K[36m[K-[m[K[32m[K7[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/__mocks__/recording_snapshots.ts[m[K[36m[K:[m[K[32m[K8[m[K[36m[K:[m[Kexport const snapshotsAsJSONLines = (): string => [01;31m[K`${lineOne}\n${lineTwo}\n`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/__mocks__/recording_snapshots.ts[m[K[36m[K-[m[K[32m[K9[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/file-playback/sessionRecordingFilePlaybackLogic.ts[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K                } catch (error) {
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/file-playback/sessionRecordingFilePlaybackLogic.ts[m[K[36m[K:[m[K[32m[K107[m[K[36m[K:[m[K                    actions.reportRecordingLoadedFromFile({ success: false, error: [01;31m[K`${error}`[m[K })
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/file-playback/sessionRecordingFilePlaybackLogic.ts[m[K[36m[K:[m[K[32m[K108[m[K[36m[K:[m[K                    lemonToast.error([01;31m[K`File import failed: ${error}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/file-playback/sessionRecordingFilePlaybackLogic.ts[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K                    return null
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/file-playback/sessionRecordingFilePlaybackLogic.ts[m[K[36m[K-[m[K[32m[K120[m[K[36m[K-[m[K            {
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/file-playback/sessionRecordingFilePlaybackLogic.ts[m[K[36m[K:[m[K[32m[K121[m[K[36m[K:[m[K                loadFromFileSuccess: () => [01;31m[K`file-playback-${uuid()}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/file-playback/sessionRecordingFilePlaybackLogic.ts[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K                resetSessionRecording: () => 'file-playback',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/detail/SessionRecordingDetail.tsx[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K                        Session recordings are currently disabled for this project. To use this feature, please go to
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/detail/SessionRecordingDetail.tsx[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K                        your <Link to={[01;31m[K`${urls.projectSettings()}#recordings`[m[K}>project settings</Link> and enable it.
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/detail/SessionRecordingDetail.tsx[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K                    </LemonBanner>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/detail/SessionRecordingDetail.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                {id ? (
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/detail/SessionRecordingDetail.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K                    <SessionRecordingPlayer sessionRecordingId={id} playerKey={[01;31m[K`${id}-detail`[m[K} />
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/detail/SessionRecordingDetail.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K                ) : (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/SessionRecordings.tsx[m[K[36m[K-[m[K[32m[K166[m[K[36m[K-[m[K                        }}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/SessionRecordings.tsx[m[K[36m[K:[m[K[32m[K167[m[K[36m[K:[m[K                        dismissKey={[01;31m[K`session-recordings-authorized-domains-warning/${suggestions.join(',')}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/SessionRecordings.tsx[m[K[36m[K-[m[K[32m[K168[m[K[36m[K-[m[K                    >
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/playerInspectorLogic.ts[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K    props({} as PlayerInspectorLogicProps),
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/playerInspectorLogic.ts[m[K[36m[K:[m[K[32m[K130[m[K[36m[K:[m[K    key((props: PlayerInspectorLogicProps) => [01;31m[K`${props.playerKey}-${props.sessionRecordingId}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/playerInspectorLogic.ts[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K    connect((props: PlayerInspectorLogicProps) => ({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/playerInspectorLogic.ts[m[K[36m[K-[m[K[32m[K245[m[K[36m[K-[m[K                            const content = lines.join('\n')
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/playerInspectorLogic.ts[m[K[36m[K:[m[K[32m[K246[m[K[36m[K:[m[K                            const cacheKey = [01;31m[K`${snapshot.timestamp}::${content}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/playerInspectorLogic.ts[m[K[36m[K-[m[K[32m[K247[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/playerInspectorLogic.ts[m[K[36m[K-[m[K[32m[K565[m[K[36m[K-[m[K                                (['link', 'other'].includes(item.data.initiator_type || '') &&
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/playerInspectorLogic.ts[m[K[36m[K:[m[K[32m[K566[m[K[36m[K:[m[K                                    !!IMAGE_WEB_EXTENSIONS.some((ext) => item.data.name?.includes([01;31m[K`.${ext}`[m[K))))
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/playerInspectorLogic.ts[m[K[36m[K-[m[K[32m[K567[m[K[36m[K-[m[K                        ) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/playerInspectorLogic.ts[m[K[36m[K-[m[K[32m[K574[m[K[36m[K-[m[K                            ['other'].includes(item.data.initiator_type || '') &&
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/playerInspectorLogic.ts[m[K[36m[K:[m[K[32m[K575[m[K[36m[K:[m[K                            ![...IMAGE_WEB_EXTENSIONS, 'css', 'js'].some((ext) => item.data.name?.includes([01;31m[K`.${ext}`[m[K))
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/playerInspectorLogic.ts[m[K[36m[K-[m[K[32m[K576[m[K[36m[K-[m[K                        ) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/PlayerInspectorControls.tsx[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K                                    value: windowId,
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/PlayerInspectorControls.tsx[m[K[36m[K:[m[K[32m[K113[m[K[36m[K:[m[K                                    label: [01;31m[K`Window ${index + 1}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/PlayerInspectorControls.tsx[m[K[36m[K-[m[K[32m[K114[m[K[36m[K-[m[K                                    icon: <IconWindow size="small" value={index + 1} className="text-muted" />,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/PlayerInspectorList.tsx[m[K[36m[K-[m[K[32m[K126[m[K[36m[K-[m[K                .getElementById('PlayerInspectorListMarker')
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/PlayerInspectorList.tsx[m[K[36m[K:[m[K[32m[K127[m[K[36m[K:[m[K                ?.setAttribute('style', [01;31m[K`transform: translateY(${offset}px)`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/PlayerInspectorList.tsx[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/components/PlayerInspectorListItem.tsx[m[K[36m[K-[m[K[32m[K147[m[K[36m[K-[m[K                    isExpanded && 'border-primary',
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/components/PlayerInspectorListItem.tsx[m[K[36m[K:[m[K[32m[K148[m[K[36m[K:[m[K                    item.highlightColor && [01;31m[K`border-${item.highlightColor}-dark bg-${item.highlightColor}-highlight`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/components/PlayerInspectorListItem.tsx[m[K[36m[K-[m[K[32m[K149[m[K[36m[K-[m[K                    !item.highlightColor && 'bg-bg-light'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/components/ItemPerformanceEvent.tsx[m[K[36m[K-[m[K[32m[K156[m[K[36m[K-[m[K                            left: `${(startTime / contextLengthMs) * 100}%`,
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/components/ItemPerformanceEvent.tsx[m[K[36m[K:[m[K[32m[K157[m[K[36m[K:[m[K                            width: [01;31m[K`${Math.max((duration / contextLengthMs) * 100, 0.5)}%`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/inspector/components/ItemPerformanceEvent.tsx[m[K[36m[K-[m[K[32m[K158[m[K[36m[K-[m[K                        }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingDataLogic.ts[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K            // We can deduplicate by filtering out snapshots with the same timestamp and delay value (this is quite unique as a pairing)
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingDataLogic.ts[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K            const key = [01;31m[K`${snapshot.timestamp}-${snapshot.delay}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingDataLogic.ts[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.test.ts[m[K[36m[K-[m[K[32m[K195[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.test.ts[m[K[36m[K:[m[K[32m[K196[m[K[36m[K:[m[K            expect(api.delete).toHaveBeenCalledWith([01;31m[K`api/projects/${MOCK_TEAM_ID}/session_recordings/3`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.test.ts[m[K[36m[K-[m[K[32m[K197[m[K[36m[K-[m[K            resumeKeaLoadersErrors()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.test.ts[m[K[36m[K-[m[K[32m[K219[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.test.ts[m[K[36m[K:[m[K[32m[K220[m[K[36m[K:[m[K            expect(api.delete).toHaveBeenCalledWith([01;31m[K`api/projects/${MOCK_TEAM_ID}/session_recordings/3`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.test.ts[m[K[36m[K-[m[K[32m[K221[m[K[36m[K-[m[K            resumeKeaLoadersErrors()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.test.ts[m[K[36m[K-[m[K[32m[K241[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.test.ts[m[K[36m[K:[m[K[32m[K242[m[K[36m[K:[m[K            expect(api.delete).toHaveBeenCalledWith([01;31m[K`api/projects/${MOCK_TEAM_ID}/session_recordings/3`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.test.ts[m[K[36m[K-[m[K[32m[K243[m[K[36m[K-[m[K            resumeKeaLoadersErrors()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.test.ts[m[K[36m[K-[m[K[32m[K262[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.test.ts[m[K[36m[K:[m[K[32m[K263[m[K[36m[K:[m[K            expect(api.delete).toHaveBeenCalledWith([01;31m[K`api/projects/${MOCK_TEAM_ID}/session_recordings/3`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.test.ts[m[K[36m[K-[m[K[32m[K264[m[K[36m[K-[m[K            resumeKeaLoadersErrors()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/PlayerSeekbarPreview.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K        sessionRecordingId: sessionRecordingId,
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/PlayerSeekbarPreview.tsx[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K        playerKey: [01;31m[K`${logicProps.playerKey}-preview`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/PlayerSeekbarPreview.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K        autoPlay: false,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/PlayerSeekbarPreview.tsx[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K                style={{
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/PlayerSeekbarPreview.tsx[m[K[36m[K:[m[K[32m[K101[m[K[36m[K:[m[K                    transform: [01;31m[K`translateX(${percentage * 100}%)`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/PlayerSeekbarPreview.tsx[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K                }}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/Seekbar.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K                                <div
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/Seekbar.tsx[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K                                    key={[01;31m[K`${segment.startTimestamp}-${segment.endTimestamp}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/Seekbar.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                                    className={clsx(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/Seekbar.tsx[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K                            className="PlayerSeekbar__currentbar"
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/Seekbar.tsx[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[K                            style={{ width: [01;31m[K`${Math.max(thumbLeftPos, 0)}px`[m[K }}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/Seekbar.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                        />
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/Seekbar.tsx[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K                        {/* eslint-disable-next-line react/forbid-dom-props */}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/Seekbar.tsx[m[K[36m[K:[m[K[32m[K72[m[K[36m[K:[m[K                        <div className="PlayerSeekbar__bufferbar" style={{ width: [01;31m[K`${bufferPercent}%`[m[K }} />
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/Seekbar.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                        <div
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/Seekbar.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                            // eslint-disable-next-line react/forbid-dom-props
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/Seekbar.tsx[m[K[36m[K:[m[K[32m[K77[m[K[36m[K:[m[K                            style={{ transform: [01;31m[K`translateX(${thumbLeftPos}px)`[m[K }}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/Seekbar.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                        />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/seekbarLogic.ts[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K    props({} as SessionRecordingPlayerLogicProps),
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/seekbarLogic.ts[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[K    key((props: SessionRecordingPlayerLogicProps) => [01;31m[K`${props.playerKey}-${props.sessionRecordingId}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/seekbarLogic.ts[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K    connect((props: SessionRecordingPlayerLogicProps) => ({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/PlayerController.tsx[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/PlayerController.tsx[m[K[36m[K:[m[K[32m[K85[m[K[36m[K:[m[K                    <Tooltip title={[01;31m[K`Skip inactivity (${skipInactivitySetting ? 'on' : 'off'})`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/PlayerController.tsx[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                        <LemonButton
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/PlayerSeekbarTicks.tsx[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K                'PlayerSeekbarTick',
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/PlayerSeekbarTicks.tsx[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K                props.item.highlightColor && [01;31m[K`PlayerSeekbarTick--${props.item.highlightColor}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/controller/PlayerSeekbarTicks.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K            )}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/view-explorer/SessionRecordingPlayerExplorer.tsx[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K                        // eslint-disable-next-line react/forbid-dom-props
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/view-explorer/SessionRecordingPlayerExplorer.tsx[m[K[36m[K:[m[K[32m[K59[m[K[36m[K:[m[K                        style={{ transform: [01;31m[K`scale(${scale})`[m[K }}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/view-explorer/SessionRecordingPlayerExplorer.tsx[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K                    />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/eventIndex.ts[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K                return {
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/eventIndex.ts[m[K[36m[K:[m[K[32m[K68[m[K[36m[K:[m[K                    resolution: [01;31m[K`${width} x ${height}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/eventIndex.ts[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K                    height: height,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/PlayerFrame.tsx[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/PlayerFrame.tsx[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K        player.replayer.wrapper.style.transform = [01;31m[K`scale(${scale})`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/PlayerFrame.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/SessionRecordingPlayer.tsx[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[Kexport const createPlaybackSpeedKey = (action: (val: number) => void): HotkeysInterface => {
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/SessionRecordingPlayer.tsx[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K    return PLAYBACK_SPEEDS.map((x, i) => ({ key: [01;31m[K`${i}`[m[K, value: x })).reduce(
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/SessionRecordingPlayer.tsx[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K        (acc, x) => ({ ...acc, [x.key]: { action: () => action(x.value) } }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/playerMetaLogic.ts[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K    props({} as SessionRecordingPlayerLogicProps),
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/playerMetaLogic.ts[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[K    key((props: SessionRecordingPlayerLogicProps) => [01;31m[K`${props.playerKey}-${props.sessionRecordingId}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/playerMetaLogic.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K    connect((props: SessionRecordingPlayerLogicProps) => ({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/playlist-popover/playlistPopoverLogic.ts[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K    props({} as SessionRecordingPlayerLogicProps),
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/playlist-popover/playlistPopoverLogic.ts[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[K    key((props: SessionRecordingPlayerLogicProps) => [01;31m[K`${props.playerKey}-${props.sessionRecordingId}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/playlist-popover/playlistPopoverLogic.ts[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K    connect((props: SessionRecordingPlayerLogicProps) => ({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/rrweb/index.ts[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K            /url\("(https:\/\/\S*(?:.eot|.woff2|.ttf|.woff)\S*)"\)/gi,
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/rrweb/index.ts[m[K[36m[K:[m[K[32m[K12[m[K[36m[K:[m[K            [01;31m[K`url("${PROXY_URL}/proxy?url=$1")`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/rrweb/index.ts[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/rrweb/index.ts[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K    _replaceFontUrl: (value: string): string => {
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/rrweb/index.ts[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K        return value.replace(/^(https:\/\/\S*(?:.eot|.woff2|.ttf|.woff)\S*)$/i, [01;31m[K`${PROXY_URL}/proxy?url=$1`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/rrweb/index.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/PlayerMeta.tsx[m[K[36m[K-[m[K[32m[K119[m[K[36m[K-[m[K                    <>
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/PlayerMeta.tsx[m[K[36m[K:[m[K[32m[K120[m[K[36m[K:[m[K                        {resolution.width} x {resolution.height} {!isSmallPlayer && [01;31m[K`(${percentage(scale, 1, true)})`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/PlayerMeta.tsx[m[K[36m[K-[m[K[32m[K121[m[K[36m[K-[m[K                    </>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/share/playerShareLogic.ts[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K    props({} as PlayerShareLogicProps),
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/share/playerShareLogic.ts[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K    key((props: PlayerShareLogicProps) => [01;31m[K`${props.id}-${props.seconds}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/share/playerShareLogic.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/share/playerShareLogic.ts[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K                }
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/share/playerShareLogic.ts[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K                return { t: [01;31m[K`${reverseColonDelimitedDuration(shareUrl.time) || 0}`[m[K }
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/share/playerShareLogic.ts[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K            },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/share/playerShareLogic.ts[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K            (queryParams) => {
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/share/playerShareLogic.ts[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K                return combineUrl([01;31m[K`${window.location.origin}${urls.replaySingle(props.id)}`[m[K, queryParams).url
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/share/playerShareLogic.ts[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K            },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.ts[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K    props({} as SessionRecordingPlayerLogicProps),
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.ts[m[K[36m[K:[m[K[32m[K98[m[K[36m[K:[m[K    key((props: SessionRecordingPlayerLogicProps) => [01;31m[K`${props.playerKey}-${props.sessionRecordingId}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.ts[m[K[36m[K-[m[K[32m[K99[m[K[36m[K-[m[K    connect((props: SessionRecordingPlayerLogicProps) => ({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.ts[m[K[36m[K-[m[K[32m[K909[m[K[36m[K-[m[K                    [JSON.stringify(payload, null, 2)],
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.ts[m[K[36m[K:[m[K[32m[K910[m[K[36m[K:[m[K                    [01;31m[K`export-${props.sessionRecordingId}.ph-recording.json`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.ts[m[K[36m[K-[m[K[32m[K911[m[K[36m[K-[m[K                    { type: 'application/json' }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.ts[m[K[36m[K-[m[K[32m[K1068[m[K[36m[K-[m[K                actualConsoleWarn(
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.ts[m[K[36m[K:[m[K[32m[K1069[m[K[36m[K:[m[K                    [01;31m[K`[PostHog Replayer] ${counter} warnings (window.__posthog_player_warnings to safely log them)`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingPlayerLogic.ts[m[K[36m[K-[m[K[32m[K1070[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingDataLogic.test.ts[m[K[36m[K-[m[K[32m[K184[m[K[36m[K-[m[K            expect(api.create).toHaveBeenCalledWith(
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingDataLogic.test.ts[m[K[36m[K:[m[K[32m[K185[m[K[36m[K:[m[K                [01;31m[K`api/projects/${MOCK_TEAM_ID}/query`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/session-recordings/player/sessionRecordingDataLogic.test.ts[m[K[36m[K-[m[K[32m[K186[m[K[36m[K-[m[K                {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/web-analytics/WebDashboard.tsx[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K        <WebTabs
[35m[K/tmp/posthog/frontend/src/scenes/web-analytics/WebDashboard.tsx[m[K[36m[K:[m[K[32m[K86[m[K[36m[K:[m[K            className={[01;31m[K`col-span-1 row-span-1 md:col-span-${layout.colSpan ?? 6} md:row-span-${layout.rowSpan ?? 1}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/web-analytics/WebDashboard.tsx[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K            activeTabId={tile.activeTabId}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/web-analytics/WebTabs.tsx[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K                                left: 0,
[35m[K/tmp/posthog/frontend/src/scenes/web-analytics/WebTabs.tsx[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K                                transform: [01;31m[K`translateX(${sliderOffset}px)`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/web-analytics/WebTabs.tsx[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K                                transition: transitioning
[35m[K/tmp/posthog/frontend/src/scenes/web-analytics/WebTabs.tsx[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K                                    ? [01;31m[K`width ${TRANSITION_MS}ms ease, transform ${TRANSITION_MS}ms ease`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/web-analytics/WebTabs.tsx[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K                                    : undefined,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/web-analytics/webAnalyticsLogic.ts[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[Kconst setOncePropertyNames = ['$initial_pathname', '$initial_referrer', '$initial_utm_source', '$initial_utm_campaign']
[35m[K/tmp/posthog/frontend/src/scenes/web-analytics/webAnalyticsLogic.ts[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[Kconst hogqlForSetOnceProperty = (key: string, value: string): string => [01;31m[K`properties.$set_once.${key} = '${value}'`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/web-analytics/webAnalyticsLogic.ts[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[Kconst isHogqlForSetOnceProperty = (key: string, p: HogQLPropertyFilter): boolean =>
[35m[K/tmp/posthog/frontend/src/scenes/web-analytics/webAnalyticsLogic.ts[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K    setOncePropertyNames.includes(key) && p.key.startsWith([01;31m[K`properties.$set_once.${key} = `[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/web-analytics/webAnalyticsLogic.ts[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookCanvasScene.tsx[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K    const logicProps: NotebookLogicProps = {
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookCanvasScene.tsx[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[K        shortId: [01;31m[K`canvas-${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookCanvasScene.tsx[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K        mode: 'canvas',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookSelectButton/NotebookSelectButton.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                                        size="md"
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookSelectButton/NotebookSelectButton.tsx[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K                                        title={[01;31m[K`Created by ${notebook.created_by?.first_name} <${notebook.created_by?.email}>`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookSelectButton/NotebookSelectButton.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                                    />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookSelectButton/NotebookSelectButton.tsx[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K                        >
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookSelectButton/NotebookSelectButton.tsx[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[K                            <span className="truncate">{notebook.title || [01;31m[K`Untitled (${notebook.short_id})`[m[K}</span>
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookSelectButton/NotebookSelectButton.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                        </LemonButton>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookSelectButton/NotebookSelectButton.tsx[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K    const openNewNotebook = (): void => {
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookSelectButton/NotebookSelectButton.tsx[m[K[36m[K:[m[K[32m[K99[m[K[36m[K:[m[K        const title = newNotebookTitle ?? [01;31m[K`Notes ${dayjs().format('DD/MM')}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookSelectButton/NotebookSelectButton.tsx[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookPanel/notebookPopoverLogic.ts[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K            if (oldvalue !== undefined && value !== oldvalue) {
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookPanel/notebookPopoverLogic.ts[m[K[36m[K:[m[K[32m[K125[m[K[36m[K:[m[K                posthog.capture([01;31m[K`notebook sidebar ${value}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookPanel/notebookPopoverLogic.ts[m[K[36m[K-[m[K[32m[K126[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookPanel/NotebookPopover.tsx[m[K[36m[K-[m[K[32m[K142[m[K[36m[K-[m[K                'NotebookPopover',
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookPanel/NotebookPopover.tsx[m[K[36m[K:[m[K[32m[K143[m[K[36m[K:[m[K                [01;31m[K`NotebookPopover--${popoverVisibility}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/NotebookPanel/NotebookPopover.tsx[m[K[36m[K-[m[K[32m[K144[m[K[36m[K-[m[K                fullScreen && 'NotebookPopover--full-screen',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/notebookLogic.ts[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K    path((key) => ['scenes', 'notebooks', 'Notebook', 'notebookLogic', key]),
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/notebookLogic.ts[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K    key(({ shortId, mode }) => [01;31m[K`${shortId}-${mode}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/notebookLogic.ts[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K    connect(() => ({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/notebookLogic.ts[m[K[36m[K-[m[K[32m[K288[m[K[36m[K-[m[K                            : 'Template'
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/notebookLogic.ts[m[K[36m[K:[m[K[32m[K289[m[K[36m[K:[m[K                    lemonToast.success([01;31m[K`Notebook created from ${source}!`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/notebookLogic.ts[m[K[36m[K-[m[K[32m[K290[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/notebookLogic.ts[m[K[36m[K-[m[K[32m[K551[m[K[36m[K-[m[K                [JSON.stringify(values.editor?.getJSON(), null, 2)],
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/notebookLogic.ts[m[K[36m[K:[m[K[32m[K552[m[K[36m[K:[m[K                [01;31m[K`${slugify(values.title ?? 'untitled')}.ph-notebook.json`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/notebookLogic.ts[m[K[36m[K-[m[K[32m[K553[m[K[36m[K-[m[K                { type: 'application/json' }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/Notebook.tsx[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K                    !isExpanded && 'Notebook--compact',
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/Notebook.tsx[m[K[36m[K:[m[K[32m[K103[m[K[36m[K:[m[K                    mode && [01;31m[K`Notebook--${mode}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/Notebook.tsx[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K                    size === 'small' && `Notebook--single-column`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/Notebook.stories.tsx[m[K[36m[K-[m[K[32m[K208[m[K[36m[K-[m[K                    clickhouse:
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/Notebook.stories.tsx[m[K[36m[K:[m[K[32m[K209[m[K[36m[K:[m[K                        "SELECT nullIf(nullIf(events.[01;31m[K`$session_id`[m[K, ''), 'null') AS session_id, any(events.properties) AS properties FROM events WHERE and(equals(events.team_id, 1), in(events.event, [%(hogql_val_0)s, %(hogql_val_1)s]), ifNull(in(session_id, [%(hogql_val_2)s]), 0), ifNull(greaterOrEquals(toTimeZone(events.timestamp, %(hogql_val_3)s), %(hogql_val_4)s), 0), ifNull(lessOrEquals(toTimeZone(events.timestamp, %(hogql_val_5)s), %(hogql_val_6)s), 0)) GROUP BY session_id LIMIT 100 SETTINGS readonly=2, max_execution_time=60, allow_experimental_object_type=True",
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/Notebook.stories.tsx[m[K[36m[K-[m[K[32m[K210[m[K[36m[K-[m[K                    columns: ['session_id', 'properties'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/NotebookColumnLeft.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K        <LemonWidget
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/NotebookColumnLeft.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K            title={[01;31m[K`Editing '${title}'`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/NotebookColumnLeft.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K            className="NotebookColumn__widget"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/NotebookShare.tsx[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[Kexport function NotebookShare({ shortId }: NotebookShareProps): JSX.Element {
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/NotebookShare.tsx[m[K[36m[K:[m[K[32m[K14[m[K[36m[K:[m[K    const url = combineUrl([01;31m[K`${window.location.origin}${urls.notebook(shortId)}`[m[K).url
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/NotebookShare.tsx[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/Editor.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                    if (node.type.name === 'heading' && node.attrs.level === 1) {
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/Editor.tsx[m[K[36m[K:[m[K[32m[K77[m[K[36m[K:[m[K                        return [01;31m[K`Untitled - maybe.. "${headingPlaceholder}"`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/Editor.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/Editor.tsx[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K                    if (node.type.name === 'heading') {
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/Editor.tsx[m[K[36m[K:[m[K[32m[K81[m[K[36m[K:[m[K                        return [01;31m[K`Heading ${node.attrs.level}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Notebook/Editor.tsx[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePlaylist.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K    const { filters, pinned, nodeId } = attributes
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePlaylist.tsx[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K    const playerKey = [01;31m[K`notebook-${nodeId}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePlaylist.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeFlag.tsx[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K    useEffect(() => {
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeFlag.tsx[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K        setTitlePlaceholder(featureFlag.key ? [01;31m[K`Feature flag: ${featureFlag.key}`[m[K : 'Feature flag')
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeFlag.tsx[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeFlag.tsx[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K                icon: <IconSurveys />,
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeFlag.tsx[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K                text: [01;31m[K`${hasSurveys ? 'View' : 'Create'} survey`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeFlag.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K                onClick: () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeFlag.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                ? {
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeFlag.tsx[m[K[36m[K:[m[K[32m[K79[m[K[36m[K:[m[K                      text: [01;31m[K`${hasEarlyAccessFeatures ? 'View' : 'Create'} early access feature`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeFlag.tsx[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K                      icon: <IconRocketLaunch />,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeRecording.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                ? {
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeRecording.tsx[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K                      text: [01;31m[K`View ${asDisplay(person)}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeRecording.tsx[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                      icon: <IconPerson />,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeRecording.tsx[m[K[36m[K-[m[K[32m[K173[m[K[36m[K-[m[K        sessionRecordingId: id,
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeRecording.tsx[m[K[36m[K:[m[K[32m[K174[m[K[36m[K:[m[K        playerKey: [01;31m[K`notebook-${id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeRecording.tsx[m[K[36m[K-[m[K[32m[K175[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeSurvey.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K    useEffect(() => {
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeSurvey.tsx[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K        setTitlePlaceholder(survey.name ? [01;31m[K`Survey: ${survey.name}`[m[K : 'Survey')
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeSurvey.tsx[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K    }, [survey.name])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePersonFeed/Session.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePersonFeed/Session.tsx[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[K        const existingChild = newChildren.find((child) => child.attrs?.nodeId === [01;31m[K`${nodeId}-active-replay`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePersonFeed/Session.tsx[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePersonFeed/Session.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                    id: session.sessionId,
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePersonFeed/Session.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K                    nodeId: [01;31m[K`${nodeId}-active-replay`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePersonFeed/Session.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K                    height: '5rem',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePersonFeed/EventIcon.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K    return (
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePersonFeed/EventIcon.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K        <Tooltip title={[01;31m[K`${KEY_MAPPING.event[event.event]?.label || 'Custom'} event`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePersonFeed/EventIcon.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K            <Component className="text-2xl text-muted" />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeCohort.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K    useEffect(() => {
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeCohort.tsx[m[K[36m[K:[m[K[32m[K39[m[K[36m[K:[m[K        const title = cohort ? [01;31m[K`Cohort: ${cohort.name}`[m[K : 'Cohort'
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeCohort.tsx[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeCohort.tsx[m[K[36m[K-[m[K[32m[K173[m[K[36m[K-[m[K        const id = attrs?.id || ''
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeCohort.tsx[m[K[36m[K:[m[K[32m[K174[m[K[36m[K:[m[K        return [01;31m[K`${title} ${id}`[m[K.trim()
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeCohort.tsx[m[K[36m[K-[m[K[32m[K175[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeGroup.tsx[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K    useEffect(() => {
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeGroup.tsx[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K        const title = groupData ? [01;31m[K`${groupTypeName}: ${groupDisplay}`[m[K : 'Group'
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeGroup.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K        setTitlePlaceholder(title)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeGroup.tsx[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K                        attrs: {
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeGroup.tsx[m[K[36m[K:[m[K[32m[K36[m[K[36m[K:[m[K                            title: [01;31m[K`Events for ${title}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeGroup.tsx[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K                            query: {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeGroup.tsx[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K                                        {
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeGroup.tsx[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K                                            key: [01;31m[K`$group_${groupTypeIndex}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeGroup.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K                                            value: id,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeGroup.tsx[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K        const id = attrs?.id || ''
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeGroup.tsx[m[K[36m[K:[m[K[32m[K109[m[K[36m[K:[m[K        return [01;31m[K`${title} ${id}`[m[K.trim()
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeGroup.tsx[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/utils.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K        find: createUrlRegex(
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/utils.tsx[m[K[36m[K:[m[K[32m[K47[m[K[36m[K:[m[K            [01;31m[K`(?!${window.location.host})([a-zA-Z0-9-._~:/?#\\[\\]!@$&'()*,;=]*)`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/utils.tsx[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K            '^(https?|mailto)://'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeReplayTimestamp.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                    !relatedNodeInNotebook
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeReplayTimestamp.tsx[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K                        ? urls.replaySingle(sessionRecordingId) + [01;31m[K`?t=${playbackTime / 1000}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeReplayTimestamp.tsx[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K                        : undefined
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeReplayTimestamp.tsx[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K        // we need to add it manually
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeReplayTimestamp.tsx[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K        return [01;31m[K`${attrs.playbackTime ? formatTimestamp(attrs.playbackTime) : '00:00'}:\n`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeReplayTimestamp.tsx[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeFlagCodeExample.tsx[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K        setTitlePlaceholder(
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeFlagCodeExample.tsx[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[K            featureFlag.key ? [01;31m[K`Feature flag code example: ${featureFlag.key}`[m[K : 'Feature flag code example'
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeFlagCodeExample.tsx[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePerson.tsx[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K    useEffect(() => {
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePerson.tsx[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K        const title = person ? [01;31m[K`Person: ${asDisplay(person)}`[m[K : 'Person'
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePerson.tsx[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K        setTitlePlaceholder(title)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePerson.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K                        attrs: {
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePerson.tsx[m[K[36m[K:[m[K[32m[K39[m[K[36m[K:[m[K                            title: [01;31m[K`Events for ${title}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePerson.tsx[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K                            query: {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePerson.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                    if (property === '$geoip_country_code') {
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePerson.tsx[m[K[36m[K:[m[K[32m[K77[m[K[36m[K:[m[K                        tooltipValue = [01;31m[K`${iconProperties?.['$geoip_country_name']} (${value})`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePerson.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePerson.tsx[m[K[36m[K-[m[K[32m[K175[m[K[36m[K-[m[K        const personId = attrs?.id || ''
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePerson.tsx[m[K[36m[K:[m[K[32m[K176[m[K[36m[K:[m[K        return [01;31m[K`${personTitle} ${personId}`[m[K.trim()
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodePerson.tsx[m[K[36m[K-[m[K[32m[K177[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeEarlyAccessFeature.tsx[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K        setTitlePlaceholder(
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeEarlyAccessFeature.tsx[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K            earlyAccessFeature.name ? [01;31m[K`Early Access Management: ${earlyAccessFeature.name}`[m[K : 'Early Access Management'
[35m[K/tmp/posthog/frontend/src/scenes/notebooks/Nodes/NotebookNodeEarlyAccessFeature.tsx[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/Sidebar.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                    <div className="IngestionSidebar__help">
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/Sidebar.tsx[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K                        <Link to={[01;31m[K`https://posthog.com/slack${HELP_UTM_TAGS}`[m[K} target="_blank">
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/Sidebar.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K                            <LemonButton
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/Sidebar.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                        <Link
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/Sidebar.tsx[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K                            to={[01;31m[K`https://posthog.com/docs/integrate/ingest-live-data${HELP_UTM_TAGS}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/Sidebar.tsx[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                            target="_blank"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/ingestionLogic.ts[m[K[36m[K-[m[K[32m[K707[m[K[36m[K-[m[K        if (framework) {
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/ingestionLogic.ts[m[K[36m[K:[m[K[32m[K708[m[K[36m[K:[m[K            url += [01;31m[K`/${framework.toLowerCase()}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/ingestionLogic.ts[m[K[36m[K-[m[K[32m[K709[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/WebInstructions.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K                '',
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/WebInstructions.tsx[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K                [01;31m[K`posthog.init('${currentTeam?.api_token}', { api_host: '${window.location.origin}' })`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/WebInstructions.tsx[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K            ].join('\n')}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/iOSInstructions.tsx[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K        <CodeSnippet language={Language.ObjectiveC}>
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/iOSInstructions.tsx[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K            {[01;31m[K`#import <PostHog/PHGPostHog.h>\n#import <PostHog/PHGPostHogConfiguration.h>\n\nPHGPostHogConfiguration *configuration = [PHGPostHogConfiguration configurationWithApiKey:@"${currentTeam?.api_token}" host:@"${window.location.origin}"];\n\nconfiguration.captureApplicationLifecycleEvents = YES; // Record certain application events automatically!\nconfiguration.recordScreenViews = YES; // Record screen views automatically!\n\n[PHGPostHog setupWithConfiguration:configuration];`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/iOSInstructions.tsx[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K        </CodeSnippet>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/iOSInstructions.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K        <CodeSnippet language={Language.Swift}>
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/iOSInstructions.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K            {[01;31m[K`import PostHog\n\nlet configuration = PHGPostHogConfiguration(apiKey: "${currentTeam?.api_token}", host: "${window.location.origin}")\n\nconfiguration.captureApplicationLifecycleEvents = true; // Record certain application events automatically!\nconfiguration.recordScreenViews = true; // Record screen views automatically!\n\nPHGPostHog.setup(with: configuration)\nlet posthog = PHGPostHog.shared()`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/frameworks/iOSInstructions.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K        </CodeSnippet>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/panels/ThirdPartyPanel.tsx[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K                                                ? source.description
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/panels/ThirdPartyPanel.tsx[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K                                                : [01;31m[K`Send events from ${source.name} into PostHog`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/panels/ThirdPartyPanel.tsx[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K                                        </p>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/panels/InstructionsPanel.tsx[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K                <CardContainer nextProps={{ readyToVerify: true }}>
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/panels/InstructionsPanel.tsx[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K                    <h1>{[01;31m[K`Setup ${frameworkString}`[m[K}</h1>
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/panels/InstructionsPanel.tsx[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/panels/FrameworkPanel.tsx[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K                            key={item}
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/panels/FrameworkPanel.tsx[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K                            data-attr={[01;31m[K`select-framework-${item}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/ingestion/panels/FrameworkPanel.tsx[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                            fullWidth
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organizationLogic.tsx[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                    const updatedOrganization = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/organizationLogic.tsx[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K                        [01;31m[K`api/organizations/${values.currentOrganization.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/organizationLogic.tsx[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K                        payload
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organizationLogic.tsx[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K            try {
[35m[K/tmp/posthog/frontend/src/scenes/organizationLogic.tsx[m[K[36m[K:[m[K[32m[K103[m[K[36m[K:[m[K                await api.delete([01;31m[K`api/organizations/${organization.id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organizationLogic.tsx[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K                location.reload()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/scenes.ts[m[K[36m[K-[m[K[32m[K367[m[K[36m[K-[m[K                type: PropertyFilterType.HogQL,
[35m[K/tmp/posthog/frontend/src/scenes/scenes.ts[m[K[36m[K:[m[K[32m[K368[m[K[36m[K:[m[K                key: [01;31m[K`uuid = '${id.replaceAll(/[^a-f0-9-]/g, '')}'`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/scenes.ts[m[K[36m[K-[m[K[32m[K369[m[K[36m[K-[m[K                value: null,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagReleaseConditions.tsx[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K        return (
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagReleaseConditions.tsx[m[K[36m[K:[m[K[32m[K78[m[K[36m[K:[m[K            <Col span={24} md={24} key={[01;31m[K`${index}-${filterGroups.length}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagReleaseConditions.tsx[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K                {index > 0 && <div className="condition-set-separator">OR</div>}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagReleaseConditions.tsx[m[K[36m[K-[m[K[32m[K167[m[K[36m[K-[m[K                                                {(property.value && cohortsById[property.value]?.name) ||
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagReleaseConditions.tsx[m[K[36m[K:[m[K[32m[K168[m[K[36m[K:[m[K                                                    [01;31m[K`ID ${property.value}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagReleaseConditions.tsx[m[K[36m[K-[m[K[32m[K169[m[K[36m[K-[m[K                                            </Link>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagReleaseConditions.tsx[m[K[36m[K-[m[K[32m[K326[m[K[36m[K-[m[K        return (
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagReleaseConditions.tsx[m[K[36m[K:[m[K[32m[K327[m[K[36m[K:[m[K            <Col span={24} md={24} key={[01;31m[K`${index}-${filterGroups.length}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagReleaseConditions.tsx[m[K[36m[K-[m[K[32m[K328[m[K[36m[K-[m[K                {index > 0 && <div className="condition-set-separator">OR</div>}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagReleaseConditions.tsx[m[K[36m[K-[m[K[32m[K387[m[K[36m[K-[m[K        <>
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagReleaseConditions.tsx[m[K[36m[K:[m[K[32m[K388[m[K[36m[K:[m[K            <div className={[01;31m[K`feature-flag-form-row ${excludeTitle && 'mb-2'}`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagReleaseConditions.tsx[m[K[36m[K-[m[K[32m[K389[m[K[36m[K-[m[K                <div data-attr="feature-flag-release-conditions" className="w-full">
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K    setTimeout(
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K:[m[K[32m[K82[m[K[36m[K:[m[K        () => document.querySelector<HTMLElement>([01;31m[K`.variant-form-list input[data-key-index="${index}"]`[m[K)?.focus(),
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K        50
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K279[m[K[36m[K-[m[K                                                <Link
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K:[m[K[32m[K280[m[K[36m[K:[m[K                                                    to={[01;31m[K`https://posthog.com/docs/features/feature-flags${UTM_TAGS}#feature-flag-persistence`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K281[m[K[36m[K-[m[K                                                    target="_blank"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K656[m[K[36m[K-[m[K                <b>Log</b>
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K:[m[K[32m[K657[m[K[36m[K:[m[K                <div className="text-muted">{[01;31m[K`Feature flag calls for "${featureFlagKey}" will appear here`[m[K}</div>
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K658[m[K[36m[K-[m[K            </div>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K685[m[K[36m[K-[m[K    } else {
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K:[m[K[32m[K686[m[K[36m[K:[m[K        return [01;31m[K`${phrases[0]} and ${phrases.length - 1} more sets`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K687[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K931[m[K[36m[K-[m[K                                                className="ph-ignore-input"
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K:[m[K[32m[K932[m[K[36m[K:[m[K                                                placeholder={[01;31m[K`example-variant-${index + 1}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K933[m[K[36m[K-[m[K                                                autoComplete="off"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K1019[m[K[36m[K-[m[K                                                    status="primary-alt"
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K:[m[K[32m[K1020[m[K[36m[K:[m[K                                                    data-attr={[01;31m[K`delete-prop-filter-${index}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlag.tsx[m[K[36m[K-[m[K[32m[K1021[m[K[36m[K-[m[K                                                    noPadding
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K450[m[K[36m[K-[m[K                    ...state,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K451[m[K[36m[K:[m[K                    [[01;31m[K`${index}`[m[K]: average,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K452[m[K[36m[K-[m[K                }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K500[m[K[36m[K-[m[K                    if (!updatedFlag.id) {
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K501[m[K[36m[K:[m[K                        savedFlag = await api.create([01;31m[K`api/projects/${values.currentTeamId}/feature_flags`[m[K, preparedFlag)
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K502[m[K[36m[K-[m[K                        if (values.roleBasedAccessEnabled && savedFlag.id) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K506[m[K[36m[K-[m[K                        savedFlag = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K507[m[K[36m[K:[m[K                            [01;31m[K`api/projects/${values.currentTeamId}/feature_flags/${updatedFlag.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K508[m[K[36m[K-[m[K                            preparedFlag
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K526[m[K[36m[K-[m[K                        const response = await api.get(
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K527[m[K[36m[K:[m[K                            [01;31m[K`api/projects/${values.currentTeamId}/insights/?feature_flag=${values.featureFlag.key}&order=-created_at`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K528[m[K[36m[K-[m[K                        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K550[m[K[36m[K-[m[K                        ...NEW_EARLY_ACCESS_FEATURE,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K551[m[K[36m[K:[m[K                        name: [01;31m[K`Early access: ${values.featureFlag.key}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K552[m[K[36m[K-[m[K                        feature_flag_id: values.featureFlag.id,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K565[m[K[36m[K-[m[K                        ...NEW_SURVEY,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K566[m[K[36m[K:[m[K                        name: [01;31m[K`Survey: ${values.featureFlag.key}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K567[m[K[36m[K-[m[K                        linked_flag_id: values.featureFlag.id,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K570[m[K[36m[K-[m[K                                type: SurveyQuestionType.Open,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K571[m[K[36m[K:[m[K                                question: [01;31m[K`What do you think of ${values.featureFlag.key}?`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K572[m[K[36m[K-[m[K                            },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K587[m[K[36m[K-[m[K        submitNewDashboardSuccessWithResult: async ({ result }) => {
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K588[m[K[36m[K:[m[K            await api.update([01;31m[K`api/projects/${values.currentTeamId}/feature_flags/${values.featureFlag.id}`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K589[m[K[36m[K-[m[K                analytics_dashboards: [result.id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K593[m[K[36m[K-[m[K            if (props.id) {
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K594[m[K[36m[K:[m[K                await api.create([01;31m[K`api/projects/${values.currentTeamId}/feature_flags/${props.id}/dashboard`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K595[m[K[36m[K-[m[K                actions.loadFeatureFlag()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K601[m[K[36m[K-[m[K                await api.create(
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K602[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${values.currentTeamId}/feature_flags/${props.id}/enrich_usage_dashboard`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K603[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K613[m[K[36m[K-[m[K            deleteWithUndo({
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K614[m[K[36m[K:[m[K                endpoint: [01;31m[K`projects/${values.currentTeamId}/feature_flags`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K615[m[K[36m[K-[m[K                object: { name: featureFlag.key, id: featureFlag.id },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K679[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K680[m[K[36m[K:[m[K            const response = await api.create([01;31m[K`api/projects/${values.currentTeamId}/feature_flags/user_blast_radius`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K681[m[K[36m[K-[m[K                condition: { properties: newProperties },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K714[m[K[36m[K-[m[K                    const responsePromise = api.create(
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K715[m[K[36m[K:[m[K                        [01;31m[K`api/projects/${values.currentTeamId}/feature_flags/user_blast_radius`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K716[m[K[36m[K-[m[K                        {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K737[m[K[36m[K-[m[K                const updatedFlag = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K:[m[K[32m[K738[m[K[36m[K:[m[K                    [01;31m[K`api/projects/${values.currentTeamId}/feature_flags/${values.featureFlag.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagLogic.ts[m[K[36m[K-[m[K[32m[K739[m[K[36m[K-[m[K                    payload
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagsLogic.ts[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K            loadFeatureFlags: async () => {
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagsLogic.ts[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K                const response = await api.get([01;31m[K`api/projects/${values.currentTeamId}/feature_flags/?limit=300`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagsLogic.ts[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K                return response.results as FeatureFlagType[]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagsLogic.ts[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K            updateFeatureFlag: async ({ id, payload }: { id: number; payload: Partial<FeatureFlagType> }) => {
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagsLogic.ts[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[K                const response = await api.update([01;31m[K`api/projects/${values.currentTeamId}/feature_flags/${id}`[m[K, payload)
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagsLogic.ts[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K                return [...values.featureFlags].map((flag) => (flag.id === response.id ? response : flag))
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K        value: 'JavaScript',
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}integrations/js-integration${UTM_TAGS}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K        Snippet: JSSnippet,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K        value: 'Android',
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}integrate/client/android${UTM_TAGS}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K        Snippet: AndroidSnippet,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K        value: 'iOS',
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}integrate/client/ios${UTM_TAGS}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K        Snippet: iOSSnippet,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K        value: 'React Native',
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}integrate/client/react-native${UTM_TAGS}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K        Snippet: ReactNativeSnippet,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K        value: 'React',
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}libraries/react${UTM_TAGS}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K        Snippet: ReactSnippet,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K        value: 'Node.js',
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}integrations/node-integration${UTM_TAGS}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K        Snippet: NodeJSSnippet,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K        value: 'Python',
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K:[m[K[32m[K83[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}integrations/python-integration${UTM_TAGS}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K        Snippet: PythonSnippet,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K        value: 'Ruby',
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K:[m[K[32m[K90[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}integrations/ruby-integration${UTM_TAGS}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K        Snippet: RubySnippet,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K        value: 'API',
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K:[m[K[32m[K97[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}api/post-only-endpoints#example-request--response-decide-v3`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K        Snippet: APISnippet,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K103[m[K[36m[K-[m[K        value: 'PHP',
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K:[m[K[32m[K104[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}integrations/php-integration${UTM_TAGS}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K105[m[K[36m[K-[m[K        Snippet: PHPSnippet,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K        value: 'Go',
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K:[m[K[32m[K111[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}integrations/go-integration${UTM_TAGS}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K        Snippet: GolangSnippet,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K        value: 'JavaScript',
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K:[m[K[32m[K125[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}integrations/js-integration${UTM_TAGS}${BOOTSTRAPPING_ANCHOR}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K126[m[K[36m[K-[m[K        Snippet: JSBootstrappingSnippet,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K        value: 'React Native',
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K:[m[K[32m[K132[m[K[36m[K:[m[K        documentationLink: [01;31m[K`${DOC_BASE_URL}integrate/client/react-native${UTM_TAGS}${BOOTSTRAPPING_ANCHOR}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagCodeOptions.tsx[m[K[36m[K-[m[K[32m[K133[m[K[36m[K-[m[K        Snippet: JSBootstrappingSnippet,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/RecentFeatureFlagInsightsCard.tsx[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K                    breakdown_type: 'event',
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/RecentFeatureFlagInsightsCard.tsx[m[K[36m[K:[m[K[32m[K21[m[K[36m[K:[m[K                    breakdown: [01;31m[K`$feature/${featureFlag.key}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/RecentFeatureFlagInsightsCard.tsx[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K                }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagProjects.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K            render: (dataValue, record) =>
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagProjects.tsx[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K                Number(record.project_id) === currentTeamId ? [01;31m[K`${dataValue} (current)`[m[K : dataValue,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagProjects.tsx[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagAutoRollout.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K                            <div className="mb-4 border rounded p-4 bg-bg-light">
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagAutoRollout.tsx[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K                                <b>{[01;31m[K`${capitalizeFirstLetter(rollback_condition.threshold_type)} based rollback`[m[K}</b>
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagAutoRollout.tsx[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K                                <LemonDivider className="my-3" />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagAutoRollout.tsx[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K                            <div className="mb-4 border rounded p-4 bg-bg-light">
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagAutoRollout.tsx[m[K[36m[K:[m[K[32m[K67[m[K[36m[K:[m[K                                <b>{[01;31m[K`${capitalizeFirstLetter(rollback_condition.threshold_type)} based rollback`[m[K}</b>
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagAutoRollout.tsx[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K                                <LemonDivider className="my-3" />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagInstructions.tsx[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagInstructions.tsx[m[K[36m[K:[m[K[32m[K87[m[K[36m[K:[m[K        return [01;31m[K`${documentationLink}${anchor}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagInstructions.tsx[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagInstructions.tsx[m[K[36m[K-[m[K[32m[K154[m[K[36m[K-[m[K                        <LemonSelect
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagInstructions.tsx[m[K[36m[K:[m[K[32m[K155[m[K[36m[K:[m[K                            data-attr={'feature-flag-instructions-select' + (dataAttr ? [01;31m[K`-${dataAttr}`[m[K : '')}
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagInstructions.tsx[m[K[36m[K-[m[K[32m[K156[m[K[36m[K-[m[K                            options={[
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagInstructions.tsx[m[K[36m[K-[m[K[32m[K162[m[K[36m[K-[m[K                                            label: option.value,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagInstructions.tsx[m[K[36m[K:[m[K[32m[K163[m[K[36m[K:[m[K                                            'data-attr': [01;31m[K`feature-flag-instructions-select-option-${option.key}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagInstructions.tsx[m[K[36m[K-[m[K[32m[K164[m[K[36m[K-[m[K                                        })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagInstructions.tsx[m[K[36m[K-[m[K[32m[K172[m[K[36m[K-[m[K                                            label: option.value,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagInstructions.tsx[m[K[36m[K:[m[K[32m[K173[m[K[36m[K:[m[K                                            'data-attr': [01;31m[K`feature-flag-instructions-select-option-${option.key}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagInstructions.tsx[m[K[36m[K-[m[K[32m[K174[m[K[36m[K-[m[K                                        })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagInstructions.tsx[m[K[36m[K-[m[K[32m[K188[m[K[36m[K-[m[K                        title={`Feature flag payloads are only available in these libraries: ${PAYLOAD_LIBRARIES.map(
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagInstructions.tsx[m[K[36m[K:[m[K[32m[K189[m[K[36m[K:[m[K                            (payloadOption) => [01;31m[K` ${payloadOption}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagInstructions.tsx[m[K[36m[K-[m[K[32m[K190[m[K[36m[K-[m[K                        )}`}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K            )`
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K:[m[K[32m[K60[m[K[36m[K:[m[K        : [01;31m[K`${clientSuffix}${flagFunction}('${flagKey}', 'user distinct id')`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K    const conditional = multivariant ? [01;31m[K`${variableName} === 'example-variant'`[m[K : [01;31m[K`${variableName}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K            <CodeSnippet language={Language.JavaScript} wrap>
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K:[m[K[32m[K77[m[K[36m[K:[m[K                {[01;31m[K`${localEvaluation ? LOCAL_EVAL_REMINDER : ''}const ${variableName} = ${flagSnippet}${followUpCode}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K            </CodeSnippet>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K121[m[K[36m[K-[m[K        )`
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K:[m[K[32m[K122[m[K[36m[K:[m[K        : [01;31m[K`${clientSuffix}${flagFunction}('${flagKey}', 'user distinct id')`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K123[m[K[36m[K-[m[K    const variableName = multivariant ? '$enabledVariant' : '$isMyFlagEnabledForUser'
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K:[m[K[32m[K125[m[K[36m[K:[m[K    const conditional = multivariant ? [01;31m[K`${variableName} === 'example-variant'`[m[K : [01;31m[K`${variableName}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K126[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K233[m[K[36m[K-[m[K        )`
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K:[m[K[32m[K234[m[K[36m[K:[m[K        : [01;31m[K`${clientSuffix}${flagFunction}('${flagKey}', 'user distinct id')`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K235[m[K[36m[K-[m[K    const variableName = payload ? 'matched_flag_payload' : multivariant ? 'enabled_variant' : 'is_my_flag_enabled'
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K236[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K:[m[K[32m[K237[m[K[36m[K:[m[K    const conditional = multivariant ? [01;31m[K`${variableName} == 'example-variant'`[m[K : [01;31m[K`${variableName}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K238[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K249[m[K[36m[K-[m[K            <CodeSnippet language={Language.Ruby} wrap>
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K:[m[K[32m[K250[m[K[36m[K:[m[K                {[01;31m[K`${localEvaluation ? '# ' + LOCAL_EVAL_REMINDER : ''}${variableName} = ${flagSnippet}${followUpCode}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K251[m[K[36m[K-[m[K            </CodeSnippet>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K291[m[K[36m[K-[m[K        )`
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K:[m[K[32m[K292[m[K[36m[K:[m[K        : [01;31m[K`${clientSuffix}${flagFunction}('${flagKey}', 'user distinct id')`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K293[m[K[36m[K-[m[K    const variableName = payload ? 'matched_flag_payload' : multivariant ? 'enabled_variant' : 'is_my_flag_enabled'
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K294[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K:[m[K[32m[K295[m[K[36m[K:[m[K    const conditional = multivariant ? [01;31m[K`${variableName} == 'example-variant'`[m[K : [01;31m[K`${variableName}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K296[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K307[m[K[36m[K-[m[K            <CodeSnippet language={Language.Python} wrap>
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K:[m[K[32m[K308[m[K[36m[K:[m[K                {[01;31m[K`${localEvaluation ? '# ' + LOCAL_EVAL_REMINDER : ''}${variableName} = ${flagSnippet}${followUpCode}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K309[m[K[36m[K-[m[K            </CodeSnippet>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K434[m[K[36m[K-[m[K                <CodeSnippet language={Language.JavaScript} wrap>
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K:[m[K[32m[K435[m[K[36m[K:[m[K                    {[01;31m[K`posthog.getFeatureFlagPayload('${flagKey ?? ''}')`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K436[m[K[36m[K-[m[K                </CodeSnippet>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K447[m[K[36m[K-[m[K        groupType
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K:[m[K[32m[K448[m[K[36m[K:[m[K            ? [01;31m[K`setGroupPropertiesForFlags({ '${groupType.group_type}': {'${propertyName}': 'value'}})`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K:[m[K[32m[K449[m[K[36m[K:[m[K            : [01;31m[K`setPersonPropertiesForFlags({'${propertyName}': 'value'})`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx[m[K[36m[K-[m[K[32m[K450[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagPermissionsLogic.tsx[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K    props({} as FeatureFlagPermissionsLogicProps),
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagPermissionsLogic.tsx[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K    key((props: FeatureFlagPermissionsLogicProps) => [01;31m[K`${props.flagId}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/featureFlagPermissionsLogic.tsx[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K    connect({ values: [rolesLogic, ['roles']] }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K177[m[K[36m[K-[m[K                                    }}
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K:[m[K[32m[K178[m[K[36m[K:[m[K                                    id={[01;31m[K`feature-flag-${featureFlag.id}-switch`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K179[m[K[36m[K-[m[K                                    disabled={!featureFlag.can_edit}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K200[m[K[36m[K-[m[K                                        breakdown_type: 'event',
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K:[m[K[32m[K201[m[K[36m[K:[m[K                                        breakdown: [01;31m[K`$feature/${featureFlag.key}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K202[m[K[36m[K-[m[K                                    })}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K213[m[K[36m[K-[m[K                                            deleteWithUndo({
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K:[m[K[32m[K214[m[K[36m[K:[m[K                                                endpoint: [01;31m[K`projects/${currentTeamId}/feature_flags`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K215[m[K[36m[K-[m[K                                                object: { name: featureFlag.key, id: featureFlag.id },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K411[m[K[36m[K-[m[K        // There are no rollout groups or all are at 0%
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K:[m[K[32m[K412[m[K[36m[K:[m[K        return [01;31m[K`No ${aggregationTargetName}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K413[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K417[m[K[36m[K-[m[K        // There's some group without filters that has 100% rollout
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K:[m[K[32m[K418[m[K[36m[K:[m[K        return [01;31m[K`100% of all ${aggregationTargetName}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K419[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K424[m[K[36m[K-[m[K            return stringOnly ? (
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K:[m[K[32m[K425[m[K[36m[K:[m[K                [01;31m[K`${rollout_percentage ?? 100}% of one group`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K426[m[K[36m[K-[m[K            ) : (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K435[m[K[36m[K-[m[K        } else if (rollout_percentage !== null) {
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K:[m[K[32m[K436[m[K[36m[K:[m[K            return [01;31m[K`${rollout_percentage}% of all ${aggregationTargetName}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K437[m[K[36m[K-[m[K        } else {
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K438[m[K[36m[K-[m[K            console.error('A group with full rollout was not detected early')
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K:[m[K[32m[K439[m[K[36m[K:[m[K            return [01;31m[K`100% of all ${aggregationTargetName}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/feature-flags/FeatureFlags.tsx[m[K[36m[K-[m[K[32m[K440[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-warehouse/external/DataWarehouseTables.tsx[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K                                                deleteWithUndo({
[35m[K/tmp/posthog/frontend/src/scenes/data-warehouse/external/DataWarehouseTables.tsx[m[K[36m[K:[m[K[32m[K49[m[K[36m[K:[m[K                                                    endpoint: [01;31m[K`projects/${currentTeamId}/warehouse_tables`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-warehouse/external/DataWarehouseTables.tsx[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                                                    object: { name: warehouseTable.name, id: warehouseTable.id },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/data-warehouse/saved_queries/DataWarehouseSavedQueriesContainer.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                                                deleteWithUndo({
[35m[K/tmp/posthog/frontend/src/scenes/data-warehouse/saved_queries/DataWarehouseSavedQueriesContainer.tsx[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K                                                    endpoint: [01;31m[K`projects/${currentTeamId}/warehouse_saved_queries`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/data-warehouse/saved_queries/DataWarehouseSavedQueriesContainer.tsx[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K                                                    object: { name: warehouseView.name, id: warehouseView.id },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/products/Products.tsx[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K                    {product.image_url ? (
[35m[K/tmp/posthog/frontend/src/scenes/products/Products.tsx[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K                        <img className="w-6 h-6" alt={[01;31m[K`Logo for PostHog ${product.name}`[m[K} src={product.image_url} />
[35m[K/tmp/posthog/frontend/src/scenes/products/Products.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                    ) : (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K    if (element.attr_id) {
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[K        return [01;31m[K`[id="${element.attr_id}"] > ${parts}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                        const clickedTagName = event.elements[0].tag_name
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K:[m[K[32m[K78[m[K[36m[K:[m[K                        selector = [01;31m[K`${selector} > ${clickedTagName || '*'}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K    } else if (event.event === '$pageview') {
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K:[m[K[32m[K88[m[K[36m[K:[m[K        actionData.name = [01;31m[K`Pageview on ${new URL(event.properties.$current_url).pathname}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K    } else {
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K:[m[K[32m[K90[m[K[36m[K:[m[K        actionData.name = [01;31m[K`${event.event} event`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/events/createActionFromEvent.tsx[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K                                fullWidth
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K                                key={[01;31m[K`${member.user.uuid}-level-${listLevel}`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K                                onClick={(event) => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                                        LemonDialog.open({
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K                                            title: [01;31m[K`Transfer organization ownership to ${member.user.first_name}?`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K:[m[K[32m[K72[m[K[36m[K:[m[K                                            description: [01;31m[K`You will no longer be the owner of ${user.organization?.name}. After the transfer you will become an administrator.`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K                                            primaryButton: {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K                                                ? 'Leave'
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K:[m[K[32m[K112[m[K[36m[K:[m[K                                                : [01;31m[K`Remove ${member.user.first_name} from`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[K                                        } organization ${user.organization?.name}?`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K160[m[K[36m[K-[m[K            render: (_, member) =>
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K:[m[K[32m[K161[m[K[36m[K:[m[K                member.user.uuid == user.uuid ? [01;31m[K`${member.user.first_name} (me)`[m[K : member.user.first_name,
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K162[m[K[36m[K-[m[K            sorter: (a, b) => a.user.first_name.localeCompare(b.user.first_name),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K194[m[K[36m[K-[m[K                            ? 'Organization owner'
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K:[m[K[32m[K195[m[K[36m[K:[m[K                            : [01;31m[K`Project ${membershipLevelToName.get(member.level) ?? `[m[Kunknown (${member.level})`}`}
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Members.tsx[m[K[36m[K-[m[K[32m[K196[m[K[36m[K-[m[K                    </LemonTag>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[Kfunction InviteLinkComponent(id: string, invite: OrganizationInviteType): JSX.Element {
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[K    const url = new URL([01;31m[K`/signup/${id}`[m[K, document.baseURI).href
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K    return invite.is_expired ? (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K                        : LemonDialog.open({
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K:[m[K[32m[K39[m[K[36m[K:[m[K                              title: [01;31m[K`Do you want to cancel the invite for ${invite.target_email}?`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K                              primaryButton: {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K                        {invite.target_email}
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K                        {invite.first_name ? [01;31m[K` (${invite.first_name})`[m[K : ''}
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Invites.tsx[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                    </div>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/invitesLogic.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K            deleteInvite: async (invite: OrganizationInviteType) => {
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/invitesLogic.tsx[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K                await api.delete([01;31m[K`api/organizations/@current/invites/${invite.id}/`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/invitesLogic.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K                preflightLogic.actions.loadPreflight() // Make sure licensed_users_available is updated
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/index.tsx[m[K[36m[K-[m[K[32m[K99[m[K[36m[K-[m[K    actionToUrl(() => ({
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/index.tsx[m[K[36m[K:[m[K[32m[K100[m[K[36m[K:[m[K        setTab: ({ tab }) => [01;31m[K`${urls.organizationSettings()}?tab=${tab}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/index.tsx[m[K[36m[K-[m[K[32m[K101[m[K[36m[K-[m[K    })),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Permissions/Roles/CreateRoleModal.tsx[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K                    : isAdminOrOwner
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Permissions/Roles/CreateRoleModal.tsx[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K                    ? [01;31m[K`Edit ${roleInFocus.name} role`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Permissions/Roles/CreateRoleModal.tsx[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K                    : [01;31m[K`${roleInFocus.name} role`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Permissions/Roles/CreateRoleModal.tsx[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Permissions/PermissionsGrid.tsx[m[K[36m[K-[m[K[32m[K66[m[K[36m[K-[m[K                            icon={
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Permissions/PermissionsGrid.tsx[m[K[36m[K:[m[K[32m[K67[m[K[36m[K:[m[K                                <Tooltip title={[01;31m[K`You can extend permissions on a per ${getSingularType(name)} basis.`[m[K}>
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Permissions/PermissionsGrid.tsx[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K                                    <IconInfo />
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Permissions/PermissionsGrid.tsx[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K                                    }}
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Permissions/PermissionsGrid.tsx[m[K[36m[K:[m[K[32m[K85[m[K[36m[K:[m[K                                    checked={resource[[01;31m[K`${name}`[m[K][role.name] >= AccessLevel.WRITE}
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Permissions/PermissionsGrid.tsx[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                                    disabled={!isAdminOrOwner}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Permissions/permissionsLogic.tsx[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K                    actions.updateRole(updatedRole)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Permissions/permissionsLogic.tsx[m[K[36m[K:[m[K[32m[K80[m[K[36m[K:[m[K                    lemonToast.success([01;31m[K`${role.name} role ${resourceType} edit access updated`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Permissions/permissionsLogic.tsx[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Permissions/permissionsLogic.tsx[m[K[36m[K-[m[K[32m[K139[m[K[36m[K-[m[K                        const resourceType = Object.keys(source)[0]
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Permissions/permissionsLogic.tsx[m[K[36m[K:[m[K[32m[K140[m[K[36m[K:[m[K                        source[resourceType][[01;31m[K`${role.name}`[m[K] = role[ResourceAccessLevelMapping[resourceType]]
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/Permissions/permissionsLogic.tsx[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K                <LemonInput
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K                    placeholder={[01;31m[K`${name.toLowerCase()}@posthog.com`[m[K}
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K                    type="email"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K-[m[K[32m[K164[m[K[36m[K-[m[K                                    {validInvitesCount
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K:[m[K[32m[K165[m[K[36m[K:[m[K                                        ? [01;31m[K`Invite ${pluralize(validInvitesCount, 'team member')}`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K-[m[K[32m[K166[m[K[36m[K-[m[K                                        : 'Invite team members'}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K-[m[K[32m[K205[m[K[36m[K-[m[K                                                    explicitValue={
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K:[m[K[32m[K206[m[K[36m[K:[m[K                                                        new URL([01;31m[K`/signup/${invite.id}`[m[K, document.baseURI).href
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K-[m[K[32m[K207[m[K[36m[K-[m[K                                                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K-[m[K[32m[K216[m[K[36m[K-[m[K                                                    <div className="InviteModal__share_link">
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K:[m[K[32m[K217[m[K[36m[K:[m[K                                                        {new URL([01;31m[K`/signup/${invite.id}`[m[K, document.baseURI).href}
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K                                                    </div>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K-[m[K[32m[K231[m[K[36m[K-[m[K                                                : LemonDialog.open({
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K:[m[K[32m[K232[m[K[36m[K:[m[K                                                      title: [01;31m[K`Do you want to cancel the invite for ${invite.target_email}?`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/InviteModal.tsx[m[K[36m[K-[m[K[32m[K233[m[K[36m[K-[m[K                                                      primaryButton: {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K                deleteInvite: async (invite: OrganizationInviteType) => {
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K                    await api.delete([01;31m[K`api/organizations/@current/invites/${invite.id}/`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K                    preflightLogic.actions.loadPreflight() // Make sure licensed_users_available is updated
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K:[m[K[32m[K68[m[K[36m[K:[m[K                    lemonToast.success([01;31m[K`Invite for ${invite.target_email} has been canceled`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K                    return values.invites.filter((thisInvite) => thisInvite.id !== invite.id)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K-[m[K[32m[K119[m[K[36m[K-[m[K            if (values.preflight?.email_service_available) {
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K:[m[K[32m[K120[m[K[36m[K:[m[K                lemonToast.success([01;31m[K`Invited ${inviteCount} new team member${inviteCount === 1 ? '' : 's'}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/inviteLogic.ts[m[K[36m[K-[m[K[32m[K121[m[K[36m[K-[m[K            } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/VerifyDomainModal.tsx[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K    const { setVerifyModal, verifyDomain } = useActions(verifiedDomainsLogic)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/VerifyDomainModal.tsx[m[K[36m[K:[m[K[32m[K12[m[K[36m[K:[m[K    const challengeName = [01;31m[K`_posthog-challenge.${domainBeingVerified?.domain}.`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/VerifyDomainModal.tsx[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K                loadVerifiedDomains: async () =>
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K                    (await api.get([01;31m[K`api/organizations/${values.currentOrganization?.id}/domains`[m[K))
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K                        .results as OrganizationDomainType[],
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                addVerifiedDomain: async (domain: string) => {
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K:[m[K[32m[K78[m[K[36m[K:[m[K                    const response = await api.create([01;31m[K`api/organizations/${values.currentOrganization?.id}/domains`[m[K, {
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K                        domain,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K                deleteVerifiedDomain: async (id: string) => {
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K:[m[K[32m[K84[m[K[36m[K:[m[K                    await api.delete([01;31m[K`api/organizations/${values.currentOrganization?.id}/domains/${id}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K                    return [...values.verifiedDomains.filter((domain) => domain.id !== id)]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K                    const response = await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K:[m[K[32m[K94[m[K[36m[K:[m[K                        [01;31m[K`api/organizations/${values.currentOrganization?.id}/domains/${payload.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K                        { ...payload, id: undefined }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K                    const response = (await api.create(
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K:[m[K[32m[K103[m[K[36m[K:[m[K                        [01;31m[K`api/organizations/${values.currentOrganization?.id}/domains/${values.verifyModal}/verify`[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K                    )) as OrganizationDomainType
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K160[m[K[36m[K-[m[K                const response = (await api.update(
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K:[m[K[32m[K161[m[K[36m[K:[m[K                    [01;31m[K`api/organizations/${values.currentOrganization?.id}/domains/${payload.id}`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K162[m[K[36m[K-[m[K                    {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K169[m[K[36m[K-[m[K                actions.setSamlConfigValues({})
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K:[m[K[32m[K170[m[K[36m[K:[m[K                lemonToast.success([01;31m[K`SAML configuration for ${response.domain} updated successfully.`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/verifiedDomainsLogic.ts[m[K[36m[K-[m[K[32m[K171[m[K[36m[K-[m[K            },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/VerifiedDomains.tsx[m[K[36m[K-[m[K[32m[K231[m[K[36m[K-[m[K                                        LemonDialog.open({
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/VerifiedDomains.tsx[m[K[36m[K:[m[K[32m[K232[m[K[36m[K:[m[K                                            title: [01;31m[K`Remove ${domain}?`[m[K,
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/VerifiedDomains.tsx[m[K[36m[K-[m[K[32m[K233[m[K[36m[K-[m[K                                            description:
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/ConfigureSAMLModal.tsx[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                    <Field label="ACS Consumer URL" name="_ACSConsumerUrl">
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/ConfigureSAMLModal.tsx[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K                        <CopyToClipboardInline>{[01;31m[K`${siteUrl}/complete/saml/`[m[K}</CopyToClipboardInline>
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/VerifiedDomains/ConfigureSAMLModal.tsx[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K                    </Field>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/membersLogic.tsx[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K            removeMember: async (member: OrganizationMemberType) => {
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/membersLogic.tsx[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K                await api.delete([01;31m[K`api/organizations/@current/members/${member.user.uuid}/`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/membersLogic.tsx[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K                lemonToast.success(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/membersLogic.tsx[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K        changeMemberAccessLevel: async ({ member, level }) => {
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/membersLogic.tsx[m[K[36m[K:[m[K[32m[K79[m[K[36m[K:[m[K            await api.update([01;31m[K`api/organizations/@current/members/${member.user.uuid}/`[m[K, { level })
[35m[K/tmp/posthog/frontend/src/scenes/organization/Settings/membersLogic.tsx[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K            lemonToast.success(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/src/scenes/appContextLogic.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K                if (remoteUser.uuid !== preloadedUser.uuid) {
[35m[K/tmp/posthog/frontend/src/scenes/appContextLogic.ts[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K                    console.error([01;31m[K`Preloaded user ${preloadedUser.uuid} does not match remote user ${remoteUser.uuid}`[m[K)
[35m[K/tmp/posthog/frontend/src/scenes/appContextLogic.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K                    Sentry.captureException(
[35m[K/tmp/posthog/frontend/src/scenes/appContextLogic.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K                        new Error([01;31m[K`Preloaded user ${preloadedUser.uuid} does not match remote user ${remoteUser.uuid}`[m[K),
[35m[K/tmp/posthog/frontend/src/scenes/appContextLogic.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K                        {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/editor-update-tsd.mjs[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K            if (isDev) {
[35m[K/tmp/posthog/frontend/editor-update-tsd.mjs[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K                console.warn([01;31m[K`🙈 Didn't find "${p}" for the app source editor. Build it with: pnpm packages:build`[m[K)
[35m[K/tmp/posthog/frontend/editor-update-tsd.mjs[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K            } else {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K    const relativeFiles = entrypoints.map((e) => path.relative(path.resolve(absWorkingDir, 'dist'), e))
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K44[m[K[36m[K:[m[K    const jsFile = relativeFiles.length > 0 ? relativeFiles.find((e) => e.endsWith('.js')) : [01;31m[K`${entry}.js?t=${buildId}`[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K    const cssFile =
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K        relativeFiles.length > 0 ? relativeFiles.find((e) => e.endsWith('.css')) : [01;31m[K`${entry}.css?t=${buildId}`[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K206[m[K[36m[K-[m[K            if (
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K207[m[K[36m[K:[m[K                (absoluteFile.startsWith([01;31m[K`${fileNoExt}-`[m[K) && (file.endsWith('.js') || file.endsWith('.css'))) ||
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K208[m[K[36m[K:[m[K                absoluteFile === [01;31m[K`${fileNoExt}.js`[m[K ||
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K209[m[K[36m[K:[m[K                absoluteFile === [01;31m[K`${fileNoExt}.css`[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K210[m[K[36m[K-[m[K            ) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K264[m[K[36m[K-[m[K        if (buildCount === 1) {
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K265[m[K[36m[K:[m[K            console.log([01;31m[K`🧱 Building${name ? `[m[K "${name}"` : ''}`)
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K266[m[K[36m[K-[m[K            try {
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K267[m[K[36m[K-[m[K                result = await build({ ...commonConfig, ..._config })
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K268[m[K[36m[K:[m[K                console.log([01;31m[K`🥇 Built${name ? `[m[K "${name}"` : ''} in ${(new Date() - time) / 1000}s`)
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K269[m[K[36m[K-[m[K            } catch (error) {
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K270[m[K[36m[K:[m[K                console.log([01;31m[K`🛑 Building${name ? `[m[K "${name}"` : ''} failed in ${(new Date() - time) / 1000}s`)
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K271[m[K[36m[K-[m[K                process.exit(1) // must exit since with result === null, result.rebuild() won't work
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K275[m[K[36m[K-[m[K                result = await result.rebuild()
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K276[m[K[36m[K:[m[K                console.log([01;31m[K`🔄 Rebuilt${name ? `[m[K "${name}"` : ''} in ${(new Date() - time) / 1000}s`)
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K277[m[K[36m[K-[m[K            } catch (e) {
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K278[m[K[36m[K:[m[K                console.log([01;31m[K`🛑 Rebuilding${name ? `[m[K "${name}"` : ''} failed in ${(new Date() - time) / 1000}s`)
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K279[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K346[m[K[36m[K-[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K347[m[K[36m[K:[m[K    console.log([01;31m[K`🍱 Starting server at http://${host}:${port}`[m[K)
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K348[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K364[m[K[36m[K-[m[K        if (e.code === 'EADDRINUSE') {
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K365[m[K[36m[K:[m[K            console.error([01;31m[K`🛑 http://${host}:${port} is already in use. Trying another port.`[m[K)
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K366[m[K[36m[K-[m[K        } else {
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K:[m[K[32m[K367[m[K[36m[K:[m[K            console.error([01;31m[K`🛑 ${e}`[m[K)
[35m[K/tmp/posthog/frontend/utils.mjs[m[K[36m[K-[m[K[32m[K368[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/tasks.ts[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                const jitterMs = Math.random() * hub.RELOAD_PLUGIN_JITTER_MAX_MS
[35m[K/tmp/posthog/plugin-server/src/worker/tasks.ts[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K                status.info('💤', [01;31m[K`Sleeping for ${jitterMs}ms to jitter reloadPlugins`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/tasks.ts[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                await sleep(jitterMs)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/setup.ts[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/setup.ts[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K    status.info('✅', [01;31m[K`Loaded ${pluginConfigs.size} configs for ${plugins.size} plugins`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/setup.ts[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K    const brotliContents = await response.buffer()
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K:[m[K[32m[K70[m[K[36m[K:[m[K    status.info('✅', [01;31m[K`Downloaded ${filename} of ${prettyBytes(brotliContents.byteLength)}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K        `
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K:[m[K[32m[K87[m[K[36m[K:[m[K        DELETE FROM posthog_pluginattachment [01;31m[KWHERE key = $1 AND id != $2[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K    `,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K    )
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K:[m[K[32m[K92[m[K[36m[K:[m[K    status.info('💾', [01;31m[K`Saved ${filename} into the database`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K-[m[K[32m[K139[m[K[36m[K-[m[K        hub.mmdb = mmdb
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K:[m[K[32m[K140[m[K[36m[K:[m[K        status.info('💉', [01;31m[K`Injected fresh ${MMDB_ATTACHMENT_KEY}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K-[m[K[32m[K154[m[K[36m[K-[m[K            FROM posthog_pluginattachment
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K:[m[K[32m[K155[m[K[36m[K:[m[K            [01;31m[KWHERE key = $1[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K-[m[K[32m[K156[m[K[36m[K-[m[K              AND plugin_config_id IS NULL
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K-[m[K[32m[K163[m[K[36m[K-[m[K    if (!readResults.rowCount) {
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K:[m[K[32m[K164[m[K[36m[K:[m[K        status.info('⬇️', [01;31m[K`Fetching ${MMDB_ATTACHMENT_KEY} for the first time`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K-[m[K[32m[K165[m[K[36m[K-[m[K        if (onlyBackground) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K-[m[K[32m[K177[m[K[36m[K-[m[K    if (!mmdbRow.contents) {
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K:[m[K[32m[K178[m[K[36m[K:[m[K        throw new Error([01;31m[K`${MMDB_ATTACHMENT_KEY} attachment ID ${mmdbRow.id} has no file contents!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K-[m[K[32m[K179[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K-[m[K[32m[K183[m[K[36m[K-[m[K        throw new Error(
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K:[m[K[32m[K184[m[K[36m[K:[m[K            [01;31m[K`${MMDB_ATTACHMENT_KEY} attachment ID ${mmdbRow.id} has an invalid filename! ${MMDB_ATTACHMENT_KEY} filename must include an ISO date`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/mmdb.ts[m[K[36m[K-[m[K[32m[K185[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadSchedule.ts[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K    if (count > 0) {
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadSchedule.ts[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K        status.info('🔌', [01;31m[K`Loaded ${count} scheduled tasks`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadSchedule.ts[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPluginsFromDB.ts[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K        if (!row.team_id) {
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPluginsFromDB.ts[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K            console.error([01;31m[K`🔴 PluginConfig(id=${row.id}) without team_id!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPluginsFromDB.ts[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K            continue
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K                pluginConfig.vm?.failInitialization!()
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K                await processError(hub, pluginConfig, [01;31m[K`Could not load "plugin.json" for ${pluginDigest(plugin)}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                return false
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K                if (await hub.db.getPluginTranspilationLock(plugin.id, filename)) {
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K:[m[K[32m[K57[m[K[36m[K:[m[K                    status.info('🔌', [01;31m[K`Transpiling ${pluginDigest(plugin)}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K                    const transpilationStartTimer = new Date()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K                        )
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K                        hub.statsd?.increment([01;31m[K`transpile_${type}.ERROR`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K                            plugin: plugin.name ?? '?',
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K                            pluginId: [01;31m[K`${plugin.id ?? '?'}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K                        })
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K                    hub.statsd?.timing([01;31m[K`transpile_${type}`[m[K, transpilationStartTimer, {
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                        plugin: plugin.name ?? '?',
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K:[m[K[32m[K78[m[K[36m[K:[m[K                        pluginId: [01;31m[K`${plugin.id ?? '?'}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/loadPlugin.ts[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K                    })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K                                type: PluginLogEntryType.Debug,
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K:[m[K[32m[K21[m[K[36m[K:[m[K                                message: [01;31m[K`Plugin unloaded (instance ID ${server.instanceId}).`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K                                instanceId: server.instanceId,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K                                type: PluginLogEntryType.Error,
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K                                message: [01;31m[K`Plugin failed to unload (instance ID ${server.instanceId}).`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K                                instanceId: server.instanceId,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K                    type: PluginLogEntryType.Debug,
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K:[m[K[32m[K41[m[K[36m[K:[m[K                    message: [01;31m[K`Plugin unloaded (instance ID ${server.instanceId}).`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/teardown.ts[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K                    instanceId: server.instanceId,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K    const timeout = setTimeout(() => {
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[K        status.warn('⌛', [01;31m[K`Still running single onEvent plugin for team ${event.team_id} for plugin ${pluginConfig.id}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K    }, 10 * 1000) // 10 seconds
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K        } catch (error) {
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K:[m[K[32m[K36[m[K[36m[K:[m[K            hub.statsd?.increment([01;31m[K`${metricName}.ERROR`[m[K, metricTags)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K            await processError(hub, pluginConfig, error, event)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K            const timer = new Date()
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K:[m[K[32m[K90[m[K[36m[K:[m[K            const pluginIdentifier = [01;31m[K`${pluginConfig.plugin?.name} (${pluginConfig.id})`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K149[m[K[36m[K-[m[K        if (onEvent) {
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K:[m[K[32m[K150[m[K[36m[K:[m[K            pluginsDeferred.push([01;31m[K`${pluginConfig.plugin?.name} (${pluginConfig.id})`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K151[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K182[m[K[36m[K-[m[K            throw new Error(
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K:[m[K[32m[K183[m[K[36m[K:[m[K                [01;31m[K`Task "${taskName}" not found for plugin "${pluginConfig?.plugin?.name}" with config id ${pluginConfigId}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/plugins/run.ts[m[K[36m[K-[m[K[32m[K184[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/frontend/transpile.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/plugin-server/src/worker/frontend/transpile.ts[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K    return [01;31m[K`"use strict";\nexport function getFrontendApp (require) { let exports = {}; ${code}; return exports; }`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/frontend/transpile.ts[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/frontend/transpile.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/plugin-server/src/worker/frontend/transpile.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K    return [01;31m[K`(function () {let exports={};${code};return exports;})`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/frontend/transpile.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K                } else {
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K:[m[K[32m[K89[m[K[36m[K:[m[K                    response = { error: [01;31m[K`Worker task "${task}" not found in: ${Object.keys(workerTasks).join(', ')}`[m[K }
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K                }
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K:[m[K[32m[K92[m[K[36m[K:[m[K                hub.statsd?.timing([01;31m[K`piscina_task.${task}`[m[K, timer)
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K                endTimer()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K        extra: {
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K:[m[K[32m[K125[m[K[36m[K:[m[K            type: [01;31m[K`${kind} in worker`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K-[m[K[32m[K126[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K:[m[K[32m[K129[m[K[36m[K:[m[K    status.error('🤮', [01;31m[K`${kind}!`[m[K, { error, stack: error.stack })
[35m[K/tmp/posthog/plugin-server/src/worker/worker.ts[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/console.ts[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K            '👉',
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/console.ts[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K            [01;31m[K`${type} in ${pluginDigest(pluginConfig.plugin || pluginConfig.plugin_id, pluginConfig.team_id)}:`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/console.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K            ...args
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/api.ts[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K        const headers = {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/api.ts[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K            Authorization: [01;31m[K`Bearer ${apiKey}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/api.ts[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K            ...(method === ApiMethod.Post || method === ApiMethod.Patch ? { 'Content-Type': 'application/json' } : {}),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/jobs.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[Kexport function durationToMs(duration: number, unit: string): number {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/jobs.ts[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K    unit = [01;31m[K`${unit}${unit.endsWith('s') ? '' : 's'}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/jobs.ts[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K    if (typeof durations[unit] === 'undefined') {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/jobs.ts[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K        throw new Error([01;31m[K`Unknown time unit: ${unit}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/jobs.ts[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/jobs.ts[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K            await pluginConfig.vm?.createLogEntry(
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/jobs.ts[m[K[36m[K:[m[K[32m[K61[m[K[36m[K:[m[K                [01;31m[K`Failed to enqueue job ${type} with error: ${e.message}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/jobs.ts[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K                PluginLogEntryType.Error
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/storage.ts[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K            PostgresUse.PLUGIN_STORAGE_RW,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/storage.ts[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K            'DELETE FROM posthog_pluginstorage [01;31m[KWHERE "plugin_config_id"=$1 AND "key"=$2',[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/storage.ts[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K            [pluginConfig.id, key],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/posthog.ts[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K    const partitionKeyHash = crypto.createHash('sha256')
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/posthog.ts[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K    partitionKeyHash.update([01;31m[K`${data.team_id}:${data.distinct_id}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/posthog.ts[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K    const partitionKey = partitionKeyHash.digest('hex')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/posthog.ts[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[Kexport function createPosthog(hub: Hub, pluginConfig: PluginConfig): DummyPostHog {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/posthog.ts[m[K[36m[K:[m[K[32m[K51[m[K[36m[K:[m[K    const distinctId = pluginConfig.plugin?.name || [01;31m[K`plugin-id-${pluginConfig.plugin_id}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/posthog.ts[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[Kfunction generatePersonalApiKeyValue(): [string, string] {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K    const value = [01;31m[K`phx_${generateRandomToken(32)}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K    const iterations = 260000
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K    const hash = crypto.pbkdf2Sync(value, PERSONAL_API_KEY_SALT, iterations, 32, 'sha256').toString('base64')
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[K    const secureValue = [01;31m[K`pbkdf2_sha256$${iterations}$${PERSONAL_API_KEY_SALT}$${hash}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K    return [value, secureValue]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K        const cachedKeyRedisKey = [01;31m[K`plugins-api-key-manager/${organizationId}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K        const cachedKey = await this.db.redisGet<string | null>(cachedKeyRedisKey, null, 'fetchOrCreatePersonalApiKey')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                PostgresUse.COMMON_WRITE, // Happens on redis cache miss, so let's use the master to reduce races between pods
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K:[m[K[32m[K51[m[K[36m[K:[m[K                [01;31m[K`SELECT id FROM posthog_user WHERE current_organization_id = $1 AND email LIKE $2`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K                [organizationId, [01;31m[K`%@${POSTHOG_BOT_USER_EMAIL_DOMAIN}`[m[K],
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                'fetchPluginsUser'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K                const botUserEmailId = Math.round(Math.random() * 100000000)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[K                const botUserEmail = [01;31m[K`${botUserEmailId}@${POSTHOG_BOT_USER_EMAIL_DOMAIN}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/helpers/api-key-manager.ts[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/test-utils.ts[m[K[36m[K-[m[K[32m[K8[m[K[36m[K-[m[K        log: (...args: any[]): void => {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/test-utils.ts[m[K[36m[K:[m[K[32m[K9[m[K[36m[K:[m[K            fs.appendFileSync(consoleFile, [01;31m[K`${JSON.stringify(args)}\n`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/test-utils.ts[m[K[36m[K-[m[K[32m[K10[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/cache.ts[m[K[36m[K-[m[K[32m[K6[m[K[36m[K-[m[Kexport function createCache(server: Hub, pluginId: number, teamId: number): CacheExtension {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/cache.ts[m[K[36m[K:[m[K[32m[K7[m[K[36m[K:[m[K    const getKey = (key: string) => [01;31m[K`@plugin/${pluginId}/${typeof teamId === 'undefined' ? '@all' : teamId}/${key}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/extensions/cache.ts[m[K[36m[K-[m[K[32m[K8[m[K[36m[K-[m[K    return {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K                const batchId = await meta.utils.cursor.increment(BATCH_ID_CURSOR_KEY)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K:[m[K[32m[K108[m[K[36m[K:[m[K                createLog([01;31m[K`Restarting export after noticing inactivity. Batch ID: ${batchId}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K                await meta.jobs
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K-[m[K[32m[K356[m[K[36m[K-[m[K            .join('')
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K:[m[K[32m[K357[m[K[36m[K:[m[K        createLog([01;31m[K`Export progress: ${progressBarCompleted}${progressBarRemaining} (${percentage}%)`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K-[m[K[32m[K358[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K-[m[K[32m[K363[m[K[36m[K-[m[K                pluginConfig,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K:[m[K[32m[K364[m[K[36m[K:[m[K                message: [01;31m[K`(${hub.instanceId}) ${message}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events.ts[m[K[36m[K-[m[K[32m[K365[m[K[36m[K-[m[K                source: PluginLogEntrySource.System,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K219[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K:[m[K[32m[K220[m[K[36m[K:[m[K            createLog([01;31m[K`Starting export ${dateFrom} - ${dateTo}. id=${id}, parallelism=${parallelism}`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K221[m[K[36m[K-[m[K                type: PluginLogEntryType.Info,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K258[m[K[36m[K-[m[K            // For manually triggering the export to abort
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K:[m[K[32m[K259[m[K[36m[K:[m[K            await stopExport(params, [01;31m[K`Export aborted: ${params.abortMessage}`[m[K, 'fail')
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K260[m[K[36m[K-[m[K            return
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K265[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K:[m[K[32m[K266[m[K[36m[K:[m[K        createLog([01;31m[K`Export progress: ${progressBar(update.progress)} (${Math.round(1000 * update.progress) / 10}%)`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K267[m[K[36m[K-[m[K            type: PluginLogEntryType.Info,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K277[m[K[36m[K-[m[K                update.toStartRunning.map(async ([startDate, endDate]) => {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K:[m[K[32m[K278[m[K[36m[K:[m[K                    createLog([01;31m[K`Starting job to export ${startDate} to ${endDate}`[m[K, { type: PluginLogEntryType.Debug })
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K279[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K287[m[K[36m[K-[m[K                        fetchTimeInterval: hub.HISTORICAL_EXPORTS_INITIAL_FETCH_TIME_WINDOW,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K:[m[K[32m[K288[m[K[36m[K:[m[K                        statusKey: [01;31m[K`EXPORT_DATE_STATUS_${startDate}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K289[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K335[m[K[36m[K-[m[K        for (const date of running || []) {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K:[m[K[32m[K336[m[K[36m[K:[m[K            const dateStatus = (await meta.storage.get([01;31m[K`EXPORT_DATE_STATUS_${date}`[m[K, null)) as ExportChunkStatus | null
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K337[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K349[m[K[36m[K-[m[K                // :TODO: Temporary debugging code
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K:[m[K[32m[K350[m[K[36m[K:[m[K                createLog([01;31m[K`toResume found: now=${now}, dateStatus=${JSON.stringify(dateStatus)}`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K351[m[K[36m[K-[m[K                    type: PluginLogEntryType.Debug,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K411[m[K[36m[K-[m[K            // For manually triggering the export to abort
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K:[m[K[32m[K412[m[K[36m[K:[m[K            createLog([01;31m[K`Export manually aborted ${activeExportParameters.abortMessage}`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K413[m[K[36m[K-[m[K                type: PluginLogEntryType.Info,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K418[m[K[36m[K-[m[K        if (payload.timestampCursor >= payload.endTime) {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K:[m[K[32m[K419[m[K[36m[K:[m[K            createLog([01;31m[K`Finished exporting chunk from ${dateRange(payload.startTime, payload.endTime)}`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K420[m[K[36m[K-[m[K                type: PluginLogEntryType.Debug,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K462[m[K[36m[K-[m[K            const now = Date.now()
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K:[m[K[32m[K463[m[K[36m[K:[m[K            createLog([01;31m[K`Still running, updating ${payload.statusKey} statusTime for plugin ${pluginConfig.id} to ${now}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K464[m[K[36m[K-[m[K            await meta.storage.set(payload.statusKey, {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K555[m[K[36m[K-[m[K            } else {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K:[m[K[32m[K556[m[K[36m[K:[m[K                await stopExport(params, [01;31m[K`exportEvents returned unknown error, stopping export. error=${error}`[m[K, 'fail')
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K557[m[K[36m[K-[m[K                await processError(hub, pluginConfig, error)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K668[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K:[m[K[32m[K669[m[K[36m[K:[m[K        hub.statsd?.increment([01;31m[K`historical_export.${status}`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K670[m[K[36m[K-[m[K            teamId: pluginConfig.team_id.toString(),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K770[m[K[36m[K-[m[K    function dateRange(startTime: number, endTime: number): string {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K:[m[K[32m[K771[m[K[36m[K:[m[K        return [01;31m[K`${new Date(startTime).toISOString()} to ${new Date(endTime).toISOString()}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/historical-export/export-historical-events-v2.ts[m[K[36m[K-[m[K[32m[K772[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/utils.ts[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K        FROM events
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/utils.ts[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K        [01;31m[KWHERE team_id = ${teamId}`)[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/utils.ts[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/fetchEventsForInterval.ts[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K    FROM events
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/fetchEventsForInterval.ts[m[K[36m[K:[m[K[32m[K46[m[K[36m[K:[m[K    [01;31m[KWHERE team_id = ${teamId}[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/upgrades/utils/fetchEventsForInterval.ts[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K    AND timestamp >= '${chTimestampLower}'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/replace-imports.ts[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K                        throw new Error(
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/replace-imports.ts[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[K                            [01;31m[K`Cannot import '${importSource}'! This package is not provided by PostHog in plugins.`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/replace-imports.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K                        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/replace-imports.ts[m[K[36m[K-[m[K[32m[K61[m[K[36m[K-[m[K                            throw new Error(
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/replace-imports.ts[m[K[36m[K:[m[K[32m[K62[m[K[36m[K:[m[K                                [01;31m[K`Cannot import '${importSource}'! This package is not provided by PostHog in plugins.`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/replace-imports.ts[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/promise-timeout.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K                                node.object,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/promise-timeout.ts[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K                                t.stringLiteral([01;31m[K`Promise.then on line ${line}:${column}`[m[K),
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/promise-timeout.ts[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K                            ]),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/promise-timeout.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K                                node.argument,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/promise-timeout.ts[m[K[36m[K:[m[K[32m[K44[m[K[36m[K:[m[K                                t.stringLiteral([01;31m[K`await on line ${line}:${column}`[m[K),
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/promise-timeout.ts[m[K[36m[K-[m[K[32m[K45[m[K[36m[K-[m[K                            ])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/index.ts[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K    if (!code) {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/index.ts[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K        throw new Error([01;31m[K`Babel transform gone wrong! Could not process the following code:\n${rawCode}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/transforms/index.ts[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K                    if (!this.pluginConfig.plugin) {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K131[m[K[36m[K:[m[K                        throw new Error([01;31m[K`'PluginConfig missing plugin: ${this.pluginConfig}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K                    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K155[m[K[36m[K-[m[K                    }
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K156[m[K[36m[K:[m[K                    status.debug('🔌', [01;31m[K`Loaded ${logInfo}.`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K157[m[K[36m[K-[m[K                    await this.createLogEntry(
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K158[m[K[36m[K:[m[K                        [01;31m[K`Plugin loaded (instance ID ${this.hub.instanceId}).`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K159[m[K[36m[K-[m[K                        PluginLogEntryType.Debug
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K162[m[K[36m[K-[m[K                } catch (error) {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K163[m[K[36m[K:[m[K                    status.warn('⚠️', [01;31m[K`Failed to load ${logInfo}. ${error}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K164[m[K[36m[K-[m[K                    if (!(error instanceof SetupPluginError)) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K203[m[K[36m[K-[m[K            ? pluginDigest(this.pluginConfig.plugin)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K204[m[K[36m[K:[m[K            : [01;31m[K`plugin config ID '${this.pluginConfig.id}'`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K205[m[K[36m[K-[m[K        this.totalInitAttemptsCounter++
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K233[m[K[36m[K-[m[K                },
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K234[m[K[36m[K:[m[K                () => vm?.run([01;31m[K`${this.vmResponseVariable}.methods.setupPlugin?.()`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K235[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K239[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K240[m[K[36m[K:[m[K            status.info('🔌', [01;31m[K`setupPlugin succeeded for ${logInfo}.`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K241[m[K[36m[K-[m[K            await this.createLogEntry(
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K242[m[K[36m[K:[m[K                [01;31m[K`setupPlugin succeeded (instance ID ${this.hub.instanceId}).`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K243[m[K[36m[K-[m[K                PluginLogEntryType.Debug
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K262[m[K[36m[K-[m[K                )
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K263[m[K[36m[K:[m[K                const nextRetryInfo = [01;31m[K`Retrying in ${nextRetryMs / 1000} s...`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K264[m[K[36m[K:[m[K                status.warn('⚠️', [01;31m[K`setupPlugin failed with ${error} for ${logInfo}. ${nextRetryInfo}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K265[m[K[36m[K-[m[K                await this.createLogEntry(
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K266[m[K[36m[K:[m[K                    [01;31m[K`setupPlugin failed with ${error} (instance ID ${this.hub.instanceId}). ${nextRetryInfo}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K267[m[K[36m[K-[m[K                    PluginLogEntryType.Error
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K275[m[K[36m[K-[m[K                await this.createLogEntry(
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K276[m[K[36m[K:[m[K                    [01;31m[K`setupPlugin failed with ${error} (instance ID ${this.hub.instanceId}). Disabled the app!`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K277[m[K[36m[K-[m[K                    PluginLogEntryType.Error
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K278[m[K[36m[K-[m[K                )
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K:[m[K[32m[K279[m[K[36m[K:[m[K                throw new SetupPluginError([01;31m[K`setupPlugin failed with ${error} for ${logInfo}. Disabled the app!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/lazy.ts[m[K[36m[K-[m[K[32m[K280[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/promise-manager.ts[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/promise-manager.ts[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[K        status.info('🤝', [01;31m[K`Tracking promise ${key} count = ${this.pendingPromises.size}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/promise-manager.ts[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K        this.statsd?.increment(`worker_promise_manager_promise_start`, { key })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/promise-manager.ts[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K        })
[35m[K/tmp/posthog/plugin-server/src/worker/vm/promise-manager.ts[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K        status.info('✅', [01;31m[K`Tracking promise finished ${key}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/promise-manager.ts[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K        this.statsd?.increment(`worker_promise_manager_promise_end`, { key })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/promise-manager.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K        while (this.pendingPromises.size > this.config.MAX_PENDING_PROMISES_PER_WORKER) {
[35m[K/tmp/posthog/plugin-server/src/worker/vm/promise-manager.ts[m[K[36m[K:[m[K[32m[K36[m[K[36m[K:[m[K            status.info('🤝', [01;31m[K`looping in awaitPromise since ${startTime} count = ${this.pendingPromises.size}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/promise-manager.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K            await Promise.race(this.pendingPromises)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/promise-manager.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K        }
[35m[K/tmp/posthog/plugin-server/src/worker/vm/promise-manager.ts[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K        status.info('🕐', [01;31m[K`Finished awaiting promises ${performance.now() - startTime}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/vm/promise-manager.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/utils.ts[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K        PostgresUse.PLUGIN_STORAGE_RW,
[35m[K/tmp/posthog/plugin-server/src/worker/vm/utils.ts[m[K[36m[K:[m[K[32m[K56[m[K[36m[K:[m[K        'SELECT * FROM posthog_pluginstorage [01;31m[KWHERE "plugin_config_id"=$1 AND "key"=$2[m[K LIMIT 1',
[35m[K/tmp/posthog/plugin-server/src/worker/vm/utils.ts[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K        [pluginConfigId, key],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/vm.ts[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K                    } (${pluginConfig.plugin?.name}, name: ${name}, pluginConfigId: ${pluginConfig.id})`
[35m[K/tmp/posthog/plugin-server/src/worker/vm/vm.ts[m[K[36m[K:[m[K[32m[K88[m[K[36m[K:[m[K                    reject(new TimeoutError(message, [01;31m[K`${name}`[m[K, pluginConfig))
[35m[K/tmp/posthog/plugin-server/src/worker/vm/vm.ts[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K                }, timeout * 1000)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/vm.ts[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K    // Only place this after functions whose names match /^__[a-zA-Z0-9]+$/
[35m[K/tmp/posthog/plugin-server/src/worker/vm/vm.ts[m[K[36m[K:[m[K[32m[K128[m[K[36m[K:[m[K    const pluginConfigIdentifier = [01;31m[K`__PluginConfig_${pluginConfig.id}_${hub.pluginConfigSecrets.get(pluginConfig.id)}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/vm.ts[m[K[36m[K:[m[K[32m[K129[m[K[36m[K:[m[K    const responseVar = [01;31m[K`__pluginDetails${randomBytes(64).toString('hex')}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/vm/vm.ts[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/property-definitions-cache.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K            PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/property-definitions-cache.ts[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K            'SELECT name, property_type, type, group_type_index FROM posthog_propertydefinition [01;31m[KWHERE team_id = $1',[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/property-definitions-cache.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K            [teamId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/property-definitions-cache.ts[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K    private key(property: string, type: PropertyDefinitionTypeEnum, groupTypeIndex: GroupTypeIndex | null): string {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/property-definitions-cache.ts[m[K[36m[K:[m[K[32m[K105[m[K[36m[K:[m[K        return [01;31m[K`${type}${groupTypeIndex ?? ''}${property}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/property-definitions-cache.ts[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/organization-manager.ts[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K        PostgresUse.COMMON_READ,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/organization-manager.ts[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K        [01;31m[K`SELECT * FROM posthog_organization WHERE id = $1`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/organization-manager.ts[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K        [organizationId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K    if (webhookType === WebhookType.Slack) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K87[m[K[36m[K:[m[K        return [escapeSlack(name), [01;31m[K`<${escapeSlack(url)}|${escapeSlack(name)}>`[m[K]
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K    } else {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K89[m[K[36m[K:[m[K        return [escapeMarkdown(name), [01;31m[K`[${escapeMarkdown(name)}](${escapeMarkdown(url)})`[m[K]
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[Kexport function getPersonLink(event: PostIngestionEvent, siteUrl: string): string {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K105[m[K[36m[K:[m[K    return [01;31m[K`${siteUrl}/person/${encodeURIComponent(event.distinctId)}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K126[m[K[36m[K-[m[Kexport function getActionLink(action: Action, siteUrl: string): string {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K127[m[K[36m[K:[m[K    return [01;31m[K`${siteUrl}/action/${action.id}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K133[m[K[36m[K-[m[Kexport function getEventLink(event: PostIngestionEvent, siteUrl: string): string {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K134[m[K[36m[K:[m[K    return [01;31m[K`${siteUrl}/events/${encodeURIComponent(event.eventUuid)}/${encodeURIComponent(event.timestamp)}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K135[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K173[m[K[36m[K-[m[K        } else {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K174[m[K[36m[K:[m[K            const propertyName = [01;31m[K`$${tokenParts[1]}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K175[m[K[36m[K-[m[K            const property = event.properties?.[propertyName]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K247[m[K[36m[K-[m[K        const [actionName, actionMarkdown] = getActionDetails(action, siteUrl, webhookType)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K248[m[K[36m[K:[m[K        messageText = [01;31m[K`⚠ Error: There are one or more formatting errors in the message template for action "${actionName}".`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K249[m[K[36m[K:[m[K        messageMarkdown = [01;31m[K`*⚠ Error: There are one or more formatting errors in the message template for action "${actionMarkdown}".*`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K250[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K292[m[K[36m[K-[m[K    public async findAndFireHooks(event: PostIngestionEvent, actionMatches: Action[]): Promise<void> {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K293[m[K[36m[K:[m[K        status.debug('🔍', [01;31m[K`Looking for hooks to fire for event "${event.event}"`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K294[m[K[36m[K-[m[K        if (!actionMatches.length) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K295[m[K[36m[K:[m[K            status.debug('🔍', [01;31m[K`No hooks to fire for event "${event.event}"`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K296[m[K[36m[K-[m[K            return
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K297[m[K[36m[K-[m[K        }
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K298[m[K[36m[K:[m[K        status.debug('🔍', [01;31m[K`Found ${actionMatches.length} matching actions`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K299[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K388[m[K[36m[K-[m[K                if (!request.ok) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K389[m[K[36m[K:[m[K                    status.warn('⚠️', [01;31m[K`HTTP status ${request.status} for team ${team.id}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K390[m[K[36m[K-[m[K                    await this.appMetrics.queueError(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K397[m[K[36m[K-[m[K                        {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K398[m[K[36m[K:[m[K                            error: [01;31m[K`Request failed with HTTP status ${request.status}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K399[m[K[36m[K-[m[K                            event,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K473[m[K[36m[K-[m[K            if (!request.ok) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K474[m[K[36m[K:[m[K                status.warn('⚠️', [01;31m[K`Rest hook failed status ${request.status} for team ${event.teamId}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K475[m[K[36m[K-[m[K                await this.appMetrics.queueError(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K482[m[K[36m[K-[m[K                    {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K483[m[K[36m[K:[m[K                        error: [01;31m[K`Request failed with HTTP status ${request.status}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K484[m[K[36m[K-[m[K                        event,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K517[m[K[36m[K-[m[K            PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K:[m[K[32m[K518[m[K[36m[K:[m[K            [01;31m[K`DELETE FROM ee_hook WHERE id = $1`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/hooks.ts[m[K[36m[K-[m[K[32m[K519[m[K[36m[K-[m[K            [hookId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                wasCachedAlready
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K:[m[K[32m[K51[m[K[36m[K:[m[K                    ? [01;31m[K`Refetched action ID ${actionId} (team ID ${teamId}) from DB`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K                    : [01;31m[K`Fetched new action ID ${actionId} (team ID ${teamId}) from DB`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K        if (wasCachedAlready) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K            status.info('🍿', [01;31m[K`Deleted action ID ${actionId} (team ID ${teamId}) from cache`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K            delete this.actionCache[teamId][actionId]
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K                '🍿',
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[K                [01;31m[K`Tried to delete action ID ${actionId} (team ID ${teamId}) from cache, but it wasn't found in cache, so did nothing instead`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K            FROM posthog_action
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K:[m[K[32m[K101[m[K[36m[K:[m[K            [01;31m[KWHERE deleted = FALSE AND (post_to_slack OR id = ANY($1))[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K        `,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K114[m[K[36m[K-[m[K                FROM posthog_actionstep JOIN posthog_action ON (posthog_action.id = posthog_actionstep.action_id)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K:[m[K[32m[K115[m[K[36m[K:[m[K                [01;31m[KWHERE posthog_action.id = ANY($1)[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K116[m[K[36m[K-[m[K            `,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K173[m[K[36m[K-[m[K            PostgresUse.COMMON_READ,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K:[m[K[32m[K174[m[K[36m[K:[m[K            [01;31m[K`SELECT * FROM posthog_action WHERE id = $1 AND deleted = FALSE`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K175[m[K[36m[K-[m[K            [id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K185[m[K[36m[K-[m[K            PostgresUse.COMMON_READ,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K:[m[K[32m[K186[m[K[36m[K:[m[K            [01;31m[K`SELECT * FROM posthog_actionstep WHERE action_id = $1`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-manager.ts[m[K[36m[K-[m[K[32m[K187[m[K[36m[K-[m[K            [id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/groups.ts[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K            // :TODO: Update event column instead
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/groups.ts[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[K            properties[[01;31m[K`$group_${columnIndex}`[m[K] = groupIdentifier
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/groups.ts[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/property-definitions-manager.ts[m[K[36m[K-[m[K[32m[K138[m[K[36m[K-[m[K                    PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/property-definitions-manager.ts[m[K[36m[K:[m[K[32m[K139[m[K[36m[K:[m[K                    [01;31m[K`UPDATE posthog_eventdefinition SET last_seen_at=$1 WHERE team_id=$2 AND name=$3`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/property-definitions-manager.ts[m[K[36m[K-[m[K[32m[K140[m[K[36m[K-[m[K                    [DateTime.now(), team.id, event],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/property-definitions-manager.ts[m[K[36m[K-[m[K[32m[K216[m[K[36m[K-[m[K                PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/property-definitions-manager.ts[m[K[36m[K:[m[K[32m[K217[m[K[36m[K:[m[K                'SELECT name FROM posthog_eventdefinition [01;31m[KWHERE team_id = $1',[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/property-definitions-manager.ts[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K                [teamId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/property-definitions-manager.ts[m[K[36m[K-[m[K[32m[K243[m[K[36m[K-[m[K                PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/property-definitions-manager.ts[m[K[36m[K:[m[K[32m[K244[m[K[36m[K:[m[K                'SELECT property FROM posthog_eventproperty [01;31m[KWHERE team_id = $1 AND event = $2',[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/property-definitions-manager.ts[m[K[36m[K-[m[K[32m[K245[m[K[36m[K-[m[K                [teamId, event],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K            })
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K            throw new Error([01;31m[K`Not a valid UUID: "${eventUuid}"`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K            if (!team) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K:[m[K[32m[K87[m[K[36m[K:[m[K                throw new Error([01;31m[K`No team found with ID ${teamId}. Can't ingest event.`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K174[m[K[36m[K-[m[K        for (let groupTypeIndex = 0; groupTypeIndex < this.db.MAX_GROUP_TYPES_PER_TEAM; ++groupTypeIndex) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K:[m[K[32m[K175[m[K[36m[K:[m[K            const key = [01;31m[K`$group_${groupTypeIndex}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/process-event.ts[m[K[36m[K-[m[K[32m[K176[m[K[36m[K-[m[K            if (key in properties) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K        default:
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K:[m[K[32m[K88[m[K[36m[K:[m[K            throw new Error([01;31m[K`Operator ${operator} is not supported in castingCompare!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K-[m[K[32m[K381[m[K[36m[K-[m[K        if (isNaN(cohortId)) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K:[m[K[32m[K382[m[K[36m[K:[m[K            throw new Error([01;31m[K`Can't match against invalid cohort ID value "${filter.value}!"`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K-[m[K[32m[K383[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K-[m[K[32m[K393[m[K[36m[K-[m[K        JOIN posthog_cohort ON (posthog_cohort.id = posthog_cohortpeople.cohort_id)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K:[m[K[32m[K394[m[K[36m[K:[m[K        JOIN (SELECT * FROM posthog_person [01;31m[Kwhere team_id = $3)[m[K AS posthog_person_in_team ON (posthog_cohortpeople.person_id = posthog_person_in_team.id)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K:[m[K[32m[K395[m[K[36m[K:[m[K        [01;31m[KWHERE cohort_id=$1[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K-[m[K[32m[K396[m[K[36m[K-[m[K          AND posthog_person_in_team.uuid=$2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K-[m[K[32m[K558[m[K[36m[K-[m[K            for (const [key, value] of Object.entries(requirements.attributes)) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K:[m[K[32m[K559[m[K[36m[K:[m[K                if (attributes[[01;31m[K`attr__${key}`[m[K] !== value) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/action-matcher.ts[m[K[36m[K-[m[K[32m[K560[m[K[36m[K-[m[K                    return false
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/app-metrics.ts[m[K[36m[K-[m[K[32m[K172[m[K[36m[K-[m[K        })
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/app-metrics.ts[m[K[36m[K:[m[K[32m[K173[m[K[36m[K:[m[K        status.debug('🚽', [01;31m[K`Finished flushing app metrics, took ${Date.now() - startTime}ms`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/app-metrics.ts[m[K[36m[K-[m[K[32m[K174[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/app-metrics.ts[m[K[36m[K-[m[K[32m[K209[m[K[36m[K-[m[K    _key(metric: AppMetric): string {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/app-metrics.ts[m[K[36m[K:[m[K[32m[K210[m[K[36m[K:[m[K        return [01;31m[K`${metric.teamId}.${metric.pluginConfigId}.${metric.category}.${metric.jobId}.${metric.errorUuid}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/app-metrics.ts[m[K[36m[K-[m[K[32m[K211[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/utils.ts[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K    if (error instanceof Error) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/utils.ts[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K        errorMessage += [01;31m[K`Error: ${error.message}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/utils.ts[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[K                PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K:[m[K[32m[K114[m[K[36m[K:[m[K                [01;31m[K`UPDATE posthog_team SET ingested_event = $1 WHERE id = $2`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K115[m[K[36m[K-[m[K                [true, team.id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K121[m[K[36m[K-[m[K                PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K:[m[K[32m[K122[m[K[36m[K:[m[K                'SELECT distinct_id FROM posthog_user JOIN posthog_organizationmembership ON posthog_user.id = posthog_organizationmembership.user_id [01;31m[KWHERE organization_id = $1',[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K123[m[K[36m[K-[m[K                [team.organization_id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K163[m[K[36m[K-[m[K            FROM posthog_team
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K:[m[K[32m[K164[m[K[36m[K:[m[K            [01;31m[KWHERE id = $1[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K165[m[K[36m[K-[m[K            `,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K186[m[K[36m[K-[m[K            FROM posthog_team
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K:[m[K[32m[K187[m[K[36m[K:[m[K            [01;31m[KWHERE api_token = $1[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/team-manager.ts[m[K[36m[K-[m[K[32m[K188[m[K[36m[K-[m[K            LIMIT 1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/event-pipeline/runner.ts[m[K[36m[K-[m[K[32m[K178[m[K[36m[K-[m[K                const timeout = timeoutGuard(
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/event-pipeline/runner.ts[m[K[36m[K:[m[K[32m[K179[m[K[36m[K:[m[K                    [01;31m[K`Event pipeline step stalled. Timeout warning after 30 sec! step=${step.name} team_id=${teamId} distinct_id=${this.originalEvent.distinct_id}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/event-pipeline/runner.ts[m[K[36m[K-[m[K[32m[K180[m[K[36m[K-[m[K                    {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/event-pipeline/runner.ts[m[K[36m[K-[m[K[32m[K232[m[K[36m[K-[m[K                    teamId,
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/event-pipeline/runner.ts[m[K[36m[K:[m[K[32m[K233[m[K[36m[K:[m[K                    [01;31m[K`plugin_server_ingest_event:${currentStepName}`[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/event-pipeline/runner.ts[m[K[36m[K-[m[K[32m[K234[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/event-pipeline/runner.ts[m[K[36m[K-[m[K[32m[K237[m[K[36m[K-[m[K            } catch (dlqError) {
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/event-pipeline/runner.ts[m[K[36m[K:[m[K[32m[K238[m[K[36m[K:[m[K                status.info('🔔', [01;31m[K`Errored trying to add event to dead letter queue. Error: ${dlqError}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/event-pipeline/runner.ts[m[K[36m[K-[m[K[32m[K239[m[K[36m[K-[m[K                Sentry.captureException(dlqError, {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/person-state.ts[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K// to protect ourselves from this we'll add the single- and double-quoted versions of the illegal ids
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/person-state.ts[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[Kconst singleQuoteIds = (ids: string[]) => ids.map((id) => [01;31m[K`'${id}'`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/person-state.ts[m[K[36m[K:[m[K[32m[K59[m[K[36m[K:[m[Kconst doubleQuoteIds = (ids: string[]) => ids.map((id) => [01;31m[K`"${id}"`[m[K)
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/person-state.ts[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/person-state.ts[m[K[36m[K-[m[K[32m[K680[m[K[36m[K-[m[K                FROM posthog_personoverridemapping
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/person-state.ts[m[K[36m[K:[m[K[32m[K681[m[K[36m[K:[m[K                [01;31m[KWHERE uuid = '${person.uuid}'[m[K
[35m[K/tmp/posthog/plugin-server/src/worker/ingestion/person-state.ts[m[K[36m[K-[m[K[32m[K682[m[K[36m[K-[m[K            `,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/config/config.ts[m[K[36m[K-[m[K[32m[K189[m[K[36m[K-[m[K                } else {
[35m[K/tmp/posthog/plugin-server/src/config/config.ts[m[K[36m[K:[m[K[32m[K190[m[K[36m[K:[m[K                    throw Error([01;31m[K`Invalid PLUGIN_SERVER_MODE ${env[key]}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/config/config.ts[m[K[36m[K-[m[K[32m[K191[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/config/config.ts[m[K[36m[K-[m[K[32m[K211[m[K[36m[K-[m[K        const encodedPassword = encodeURIComponent(newConfig.POSTHOG_DB_PASSWORD)
[35m[K/tmp/posthog/plugin-server/src/config/config.ts[m[K[36m[K:[m[K[32m[K212[m[K[36m[K:[m[K        newConfig.DATABASE_URL = [01;31m[K`postgres://${encodedUser}:${encodedPassword}@${newConfig.POSTHOG_POSTGRES_HOST}:${newConfig.POSTHOG_POSTGRES_PORT}/${newConfig.POSTHOG_DB_NAME}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/config.ts[m[K[36m[K-[m[K[32m[K213[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K-[m[K[32m[K7[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K8[m[K[36m[K:[m[Kexport const KAFKA_EVENTS_JSON = [01;31m[K`${prefix}clickhouse_events_json${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K9[m[K[36m[K:[m[Kexport const KAFKA_PERSON = [01;31m[K`${prefix}clickhouse_person${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K10[m[K[36m[K:[m[Kexport const KAFKA_PERSON_UNIQUE_ID = [01;31m[K`${prefix}clickhouse_person_unique_id${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K11[m[K[36m[K:[m[Kexport const KAFKA_PERSON_DISTINCT_ID = [01;31m[K`${prefix}clickhouse_person_distinct_id${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[Kexport const KAFKA_EVENTS_PLUGIN_INGESTION = [01;31m[K`${prefix}events_plugin_ingestion${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K14[m[K[36m[K:[m[Kexport const KAFKA_EVENTS_PLUGIN_INGESTION_DLQ = [01;31m[K`${prefix}events_plugin_ingestion_dlq${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[Kexport const KAFKA_EVENTS_PLUGIN_INGESTION_OVERFLOW = [01;31m[K`${prefix}events_plugin_ingestion_overflow${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[Kexport const KAFKA_EVENTS_PLUGIN_INGESTION_HISTORICAL = [01;31m[K`${prefix}events_plugin_ingestion_historical${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[Kexport const KAFKA_PLUGIN_LOG_ENTRIES = [01;31m[K`${prefix}plugin_log_entries${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[Kexport const KAFKA_EVENTS_DEAD_LETTER_QUEUE = [01;31m[K`${prefix}events_dead_letter_queue${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[Kexport const KAFKA_GROUPS = [01;31m[K`${prefix}clickhouse_groups${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[Kexport const KAFKA_BUFFER = [01;31m[K`${prefix}conversion_events_buffer${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K21[m[K[36m[K:[m[Kexport const KAFKA_INGESTION_WARNINGS = [01;31m[K`${prefix}clickhouse_ingestion_warnings${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K22[m[K[36m[K:[m[Kexport const KAFKA_APP_METRICS = [01;31m[K`${prefix}clickhouse_app_metrics${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[Kexport const KAFKA_JOBS = [01;31m[K`${prefix}jobs${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[Kexport const KAFKA_JOBS_DLQ = [01;31m[K`${prefix}jobs_dlq${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[Kexport const KAFKA_SCHEDULED_TASKS = [01;31m[K`${prefix}scheduled_tasks${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[Kexport const KAFKA_SCHEDULED_TASKS_DLQ = [01;31m[K`${prefix}scheduled_tasks_dlq${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[Kexport const KAFKA_METRICS_TIME_TO_SEE_DATA = [01;31m[K`${prefix}clickhouse_metrics_time_to_see_data${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[Kexport const KAFKA_PERSON_OVERRIDE = [01;31m[K`${prefix}clickhouse_person_override${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K// read session recording snapshot items
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K31[m[K[36m[K:[m[Kexport const KAFKA_SESSION_RECORDING_SNAPSHOT_ITEM_EVENTS = [01;31m[K`${prefix}session_recording_snapshot_item_events${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K// write session recording and replay events to ClickHouse
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[Kexport const KAFKA_CLICKHOUSE_SESSION_RECORDING_EVENTS = [01;31m[K`${prefix}clickhouse_session_recording_events${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[Kexport const KAFKA_CLICKHOUSE_SESSION_REPLAY_EVENTS = [01;31m[K`${prefix}clickhouse_session_replay_events${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K// write performance events to ClickHouse
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K36[m[K[36m[K:[m[Kexport const KAFKA_PERFORMANCE_EVENTS = [01;31m[K`${prefix}clickhouse_performance_events${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K// log entries for ingestion into clickhouse
[35m[K/tmp/posthog/plugin-server/src/config/kafka-topics.ts[m[K[36m[K:[m[K[32m[K39[m[K[36m[K:[m[Kexport const KAFKA_LOG_ENTRIES = [01;31m[K`${prefix}log_entries${suffix}`[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/backfill.ts[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K        FROM events
[35m[K/tmp/posthog/plugin-server/src/backfill.ts[m[K[36m[K:[m[K[32m[K101[m[K[36m[K:[m[K        [01;31m[KWHERE _timestamp >= '${chTimestampLower}'[m[K
[35m[K/tmp/posthog/plugin-server/src/backfill.ts[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K          AND _timestamp < '${chTimestampHigher}'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/retries.ts[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K    if (retries <= 0) {
[35m[K/tmp/posthog/plugin-server/src/utils/retries.ts[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K        status.error('🚨', [01;31m[K`Final retry failure for ${name}`[m[K, { previousError })
[35m[K/tmp/posthog/plugin-server/src/utils/retries.ts[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K        return Promise.reject(previousError)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/retries.ts[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K    return fn().catch(async (error) => {
[35m[K/tmp/posthog/plugin-server/src/utils/retries.ts[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K        status.debug('🔁', [01;31m[K`failed ${name}, retrying`[m[K, { error })
[35m[K/tmp/posthog/plugin-server/src/utils/retries.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K        await new Promise((resolve) => setTimeout(resolve, retryIntervalMillis))
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/retries.ts[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K                    const nextRetryMs = getNextRetryMs(retryBaseMs, retryMultiplier, attempt)
[35m[K/tmp/posthog/plugin-server/src/utils/retries.ts[m[K[36m[K:[m[K[32m[K110[m[K[36m[K:[m[K                    hub.statsd?.increment([01;31m[K`${metricName}.RETRY`[m[K, metricTags)
[35m[K/tmp/posthog/plugin-server/src/utils/retries.ts[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K                    nextIterationPromise = new Promise((resolve, reject) =>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/retries.ts[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K                    await catchFn?.(error)
[35m[K/tmp/posthog/plugin-server/src/utils/retries.ts[m[K[36m[K:[m[K[32m[K123[m[K[36m[K:[m[K                    hub.statsd?.increment([01;31m[K`${metricName}.ERROR`[m[K, metricTags)
[35m[K/tmp/posthog/plugin-server/src/utils/retries.ts[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K                    if (appMetric) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/retries.ts[m[K[36m[K-[m[K[32m[K152[m[K[36m[K-[m[K            await finallyFn?.(attempts)
[35m[K/tmp/posthog/plugin-server/src/utils/retries.ts[m[K[36m[K:[m[K[32m[K153[m[K[36m[K:[m[K            hub.statsd?.timing([01;31m[K`${metricName}`[m[K, timer, metricTags)
[35m[K/tmp/posthog/plugin-server/src/utils/retries.ts[m[K[36m[K-[m[K[32m[K154[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/pubsub.ts[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K        })
[35m[K/tmp/posthog/plugin-server/src/utils/pubsub.ts[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K        status.info('👀', [01;31m[K`Pub-sub started for channels: ${channels.join(', ')}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/pubsub.ts[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/pubsub.ts[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K        this.redis = null
[35m[K/tmp/posthog/plugin-server/src/utils/pubsub.ts[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K        status.info('🛑', [01;31m[K`Pub-sub stopped for channels: ${Object.keys(this.taskMap).join(', ')}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/pubsub.ts[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K    const fields = specificField
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K        ? [01;31m[K`posthog_pluginconfig.${specificField}`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K        : `
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[K        PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K:[m[K[32m[K114[m[K[36m[K:[m[K        'UPDATE posthog_plugin SET capabilities = ($1) [01;31m[KWHERE id = $2',[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K-[m[K[32m[K115[m[K[36m[K-[m[K        [capabilities, pluginConfig.plugin_id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K        PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K:[m[K[32m[K123[m[K[36m[K:[m[K        'UPDATE posthog_pluginconfig SET error = $1 [01;31m[KWHERE id = $2',[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K        // NOTE: In theory `onEvent` shouldn't be seeing events that still have the null byte, but
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K-[m[K[32m[K143[m[K[36m[K-[m[K        PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K:[m[K[32m[K144[m[K[36m[K:[m[K        [01;31m[K`UPDATE posthog_pluginconfig SET enabled='f' WHERE id=$1 AND enabled='t'`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/db/sql.ts[m[K[36m[K-[m[K[32m[K145[m[K[36m[K-[m[K        [pluginConfigId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/postgres.ts[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K        if (target instanceof TransactionClient) {
[35m[K/tmp/posthog/plugin-server/src/utils/db/postgres.ts[m[K[36m[K:[m[K[32m[K72[m[K[36m[K:[m[K            const wrappedTag = [01;31m[K`${PostgresUse[target.target]}:Tx<${tag}>`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/postgres.ts[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K            return postgresQuery(target.client, queryString, values, wrappedTag, this.statsd)
[35m[K/tmp/posthog/plugin-server/src/utils/db/postgres.ts[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K        } else {
[35m[K/tmp/posthog/plugin-server/src/utils/db/postgres.ts[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K            const wrappedTag = [01;31m[K`${PostgresUse[target]}<${tag}>`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/postgres.ts[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K            return postgresQuery(this.pools.get(target)!, queryString, values, wrappedTag, this.statsd)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/postgres.ts[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K                const len = array.length
[35m[K/tmp/posthog/plugin-server/src/utils/db/postgres.ts[m[K[36m[K:[m[K[32m[K94[m[K[36m[K:[m[K                const valuesWithIndexes = array.map((_, subIndex) => [01;31m[K`$${index * len + subIndex + 1}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/db/postgres.ts[m[K[36m[K:[m[K[32m[K95[m[K[36m[K:[m[K                return [01;31m[K`(${valuesWithIndexes.join(', ')})`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/postgres.ts[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K            })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/postgres.ts[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K    ): Promise<ReturnType> {
[35m[K/tmp/posthog/plugin-server/src/utils/db/postgres.ts[m[K[36m[K:[m[K[32m[K107[m[K[36m[K:[m[K        const wrappedTag = [01;31m[K`${PostgresUse[usage]}:Tx<${tag}>`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/postgres.ts[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K        return instrumentQuery(this.statsd, 'query.postgres_transation', wrappedTag, async () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/postgres.ts[m[K[36m[K-[m[K[32m[K153[m[K[36m[K-[m[K                      // Annotate query string to give context when looking at DB logs
[35m[K/tmp/posthog/plugin-server/src/utils/db/postgres.ts[m[K[36m[K:[m[K[32m[K154[m[K[36m[K:[m[K                      text: [01;31m[K`/* plugin-server:${tag} */ ${queryString}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/db/postgres.ts[m[K[36m[K-[m[K[32m[K155[m[K[36m[K-[m[K                      values,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K                    async () => await client.get(key),
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K219[m[K[36m[K:[m[K                    [01;31m[K`Waited 5 sec to get redis key: ${key}, retrying once!`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K220[m[K[36m[K-[m[K                )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K463[m[K[36m[K-[m[K    public getGroupDataCacheKey(teamId: number, groupTypeIndex: number, groupKey: string): string {
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K464[m[K[36m[K:[m[K        return [01;31m[K`${this.REDIS_GROUP_DATA_PREFIX}:${teamId}:${groupTypeIndex}:${groupKey}`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K465[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K485[m[K[36m[K-[m[K            const groupCacheKey = this.getGroupDataCacheKey(teamId, groupTypeIndex, groupKey)
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K486[m[K[36m[K:[m[K            const propertiesColumnName = [01;31m[K`group${groupTypeIndex}_properties`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K487[m[K[36m[K:[m[K            const createdAtColumnName = [01;31m[K`group${groupTypeIndex}_created_at`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K488[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K535[m[K[36m[K-[m[K                this.statsd?.increment('groups_data_missing_entirely')
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K536[m[K[36m[K:[m[K                status.debug('🔍', [01;31m[K`Could not find group data for group ${groupCacheKey} in cache or storage`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K537[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K595[m[K[36m[K-[m[K        } else {
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K596[m[K[36m[K:[m[K            throw new Error([01;31m[K`Can't fetch persons for database: ${database}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K597[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K747[m[K[36m[K-[m[K            update
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K748[m[K[36m[K:[m[K        ).map((field, index) => [01;31m[K`"${sanitizeSqlIdentifier(field)}" = $${index + 1}`[m[K)} [01;31m[KWHERE id = $${[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K749[m[K[36m[K-[m[K            Object.values(update).length + 1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K760[m[K[36m[K-[m[K            throw new NoRowsUpdatedError(
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K761[m[K[36m[K:[m[K                [01;31m[K`Person with team_id="${person.team_id}" and uuid="${person.uuid} couldn't be updated`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K762[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K798[m[K[36m[K-[m[K            tx ?? PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K799[m[K[36m[K:[m[K            'DELETE FROM posthog_person [01;31m[KWHERE team_id = $1 AND id = $2[m[K RETURNING version',
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K800[m[K[36m[K-[m[K            [person.team_id, person.id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K836[m[K[36m[K-[m[K                        FINAL
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K837[m[K[36m[K:[m[K                        [01;31m[KWHERE person_id='${escapeClickHouseString(person.uuid)}'[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K838[m[K[36m[K-[m[K                          AND team_id='${person.team_id}'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K845[m[K[36m[K-[m[K                PostgresUse.COMMON_WRITE, // used in tests only
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K846[m[K[36m[K:[m[K                'SELECT * FROM posthog_persondistinctid [01;31m[KWHERE person_id=$1 AND team_id=$2[m[K ORDER BY id',
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K847[m[K[36m[K-[m[K                [person.id, person.team_id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K851[m[K[36m[K-[m[K        } else {
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K852[m[K[36m[K:[m[K            throw new Error([01;31m[K`Can't fetch persons for database: ${database}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K853[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K909[m[K[36m[K-[m[K                    SET person_id = $1, version = COALESCE(version, 0)::numeric + 1
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K910[m[K[36m[K:[m[K                    [01;31m[KWHERE person_id = $2[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K911[m[K[36m[K-[m[K                      AND team_id = $3
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K994[m[K[36m[K-[m[K            PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K995[m[K[36m[K:[m[K            [01;31m[K`INSERT INTO posthog_cohortpeople (cohort_id, person_id, version) VALUES ($1, $2, $3) RETURNING *;`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K996[m[K[36m[K-[m[K            [cohortId, personId, version],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1024[m[K[36m[K-[m[K                SET person_id = $1
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1025[m[K[36m[K:[m[K                [01;31m[KWHERE person_id = $2[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1026[m[K[36m[K-[m[K                RETURNING person_id
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1029[m[K[36m[K-[m[K                DELETE FROM posthog_featureflaghashkeyoverride
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1030[m[K[36m[K:[m[K                [01;31m[KWHERE team_id = $3 AND person_id = $2[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1031[m[K[36m[K-[m[K                RETURNING team_id, person_id, feature_flag_key, hash_key
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1144[m[K[36m[K-[m[K                SELECT * FROM posthog_eventdefinition
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1145[m[K[36m[K:[m[K                ${teamId ? '[01;31m[KWHERE team_id = $1'[m[K : ''}
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1146[m[K[36m[K-[m[K                -- Order by something that gives a deterministic order. Note
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1163[m[K[36m[K-[m[K                SELECT * FROM posthog_propertydefinition
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1164[m[K[36m[K:[m[K                ${teamId ? '[01;31m[KWHERE team_id = $1'[m[K : ''}
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1165[m[K[36m[K-[m[K                -- Order by something that gives a deterministic order. Note
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1182[m[K[36m[K-[m[K                    SELECT * FROM posthog_eventproperty
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1183[m[K[36m[K:[m[K                    ${teamId ? '[01;31m[KWHERE team_id = $1'[m[K : ''}
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1184[m[K[36m[K-[m[K                    -- Order by something that gives a deterministic order. Note
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1297[m[K[36m[K-[m[K            PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1298[m[K[36m[K:[m[K            [01;31m[K`SELECT * FROM posthog_grouptypemapping WHERE team_id = $1`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1299[m[K[36m[K-[m[K            [teamId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1331[m[K[36m[K-[m[K            UNION
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1332[m[K[36m[K:[m[K            SELECT group_type_index, 0 AS is_insert FROM posthog_grouptypemapping [01;31m[KWHERE team_id = $1 AND group_type = $2[m[K;
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1333[m[K[36m[K-[m[K            `,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1353[m[K[36m[K-[m[K    ): Promise<Group | undefined> {
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1354[m[K[36m[K:[m[K        let queryString = [01;31m[K`SELECT * FROM posthog_group WHERE team_id = $1 AND group_type_index = $2 AND group_key = $3`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1355[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1433[m[K[36m[K-[m[K            version = $8
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1434[m[K[36m[K:[m[K            [01;31m[KWHERE team_id = $1 AND group_key = $2 AND group_type_index = $3[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1435[m[K[36m[K-[m[K            `,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1486[m[K[36m[K-[m[K                PostgresUse.COMMON_READ,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1487[m[K[36m[K:[m[K                'SELECT * from posthog_team [01;31m[KWHERE organization_id = (SELECT id from posthog_organization WHERE plugins_access_level = $1)',[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1488[m[K[36m[K-[m[K                [OrganizationPluginsAccessLevel.ROOT],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1502[m[K[36m[K-[m[K                    tx,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1503[m[K[36m[K:[m[K                    'SELECT public_jobs FROM posthog_plugin [01;31m[KWHERE id = $1[m[K FOR UPDATE',
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1504[m[K[36m[K-[m[K                    [pluginId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1517[m[K[36m[K-[m[K                    tx,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1518[m[K[36m[K:[m[K                    'UPDATE posthog_plugin SET public_jobs = $1 [01;31m[KWHERE id = $2',[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1519[m[K[36m[K-[m[K                    [JSON.stringify(publicJobs), pluginId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1528[m[K[36m[K-[m[K            PostgresUse.COMMON_READ,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1529[m[K[36m[K:[m[K            [01;31m[K`SELECT source FROM posthog_pluginsourcefile WHERE plugin_id = $1 AND filename = $2`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1530[m[K[36m[K-[m[K            [pluginId, filename],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1562[m[K[36m[K-[m[K                ON CONFLICT ON CONSTRAINT unique_filename_for_plugin
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K:[m[K[32m[K1563[m[K[36m[K:[m[K                DO UPDATE SET status = $4, updated_at = NOW() [01;31m[KWHERE (posthog_pluginsourcefile.status IS NULL OR posthog_pluginsourcefile.status = $5)[m[K RETURNING status`,
[35m[K/tmp/posthog/plugin-server/src/utils/db/db.ts[m[K[36m[K-[m[K[32m[K1564[m[K[36m[K-[m[K            [new UUIDT().toString(), pluginId, filename, PluginSourceFileStatus.Locked, ''],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/activity-log.ts[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K    if (!teamObject) {
[35m[K/tmp/posthog/plugin-server/src/utils/db/activity-log.ts[m[K[36m[K:[m[K[32m[K21[m[K[36m[K:[m[K        status.warn('🤔', [01;31m[K`Could not find team ${team} to create an actity log for. Skipping.`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/db/activity-log.ts[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K        return
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/hub.ts[m[K[36m[K-[m[K[32m[K263[m[K[36m[K-[m[K                '🪵',
[35m[K/tmp/posthog/plugin-server/src/utils/db/hub.ts[m[K[36m[K:[m[K[32m[K264[m[K[36m[K:[m[K                [01;31m[K`Sending metrics to StatsD at ${serverConfig.STATSD_HOST}:${serverConfig.STATSD_PORT}, prefix: "${serverConfig.STATSD_PREFIX}"`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/hub.ts[m[K[36m[K-[m[K[32m[K265[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K    const maybeSetOnce: [string, any][] = propertiesForPerson.map(([key, value]) => [
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K:[m[K[32m[K81[m[K[36m[K:[m[K        [01;31m[K`$initial_${key.replace('$', '')}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/db/utils.ts[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K        value,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/elements-chain.ts[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K            for (const single_class of element.attr_class) {
[35m[K/tmp/posthog/plugin-server/src/utils/db/elements-chain.ts[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K                el_string += [01;31m[K`.${single_class.replace(/"/g, '')}`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/elements-chain.ts[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/db/elements-chain.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K        el_string += Object.entries(attributes)
[35m[K/tmp/posthog/plugin-server/src/utils/db/elements-chain.ts[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K            .map(([key, value]) => [01;31m[K`${key}="${value}"`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/db/elements-chain.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K            .join('')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/fetch.ts[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K            op: 'fetch',
[35m[K/tmp/posthog/plugin-server/src/utils/fetch.ts[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[K            description: [01;31m[K`${request.method} ${request.url}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/fetch.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/fetch.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K            op: 'fetch',
[35m[K/tmp/posthog/plugin-server/src/utils/fetch.ts[m[K[36m[K:[m[K[32m[K30[m[K[36m[K:[m[K            description: [01;31m[K`${request.method} ${request.url}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/utils/fetch.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/metrics.ts[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K            const timer = new Date()
[35m[K/tmp/posthog/plugin-server/src/utils/metrics.ts[m[K[36m[K:[m[K[32m[K54[m[K[36m[K:[m[K            statsd?.increment([01;31m[K`${options.metricName}.total`[m[K, tags)
[35m[K/tmp/posthog/plugin-server/src/utils/metrics.ts[m[K[36m[K-[m[K[32m[K55[m[K[36m[K-[m[K            try {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K    setTimeout(() => {
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K        status.error('⏲', [01;31m[K`Plugin server still running after ${GRACEFUL_EXIT_PERIOD_SECONDS} s, killing it forcefully!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K        process.exit(1)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K100[m[K[36m[K-[m[K            if (candidate.byteLength !== 16) {
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K101[m[K[36m[K:[m[K                throw new Error([01;31m[K`UUID must be built from exactly 16 bytes, but you provided ${candidate.byteLength}!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K277[m[K[36m[K-[m[K        default:
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K278[m[K[36m[K:[m[K            throw new Error([01;31m[K`Unrecognized timestamp format ${timestampFormat}!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K279[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K318[m[K[36m[K-[m[K    const indentation = stringsConcat.match(/^\n([ ]*)/)?.[1].length ?? 0
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K319[m[K[36m[K:[m[K    const dedentedCode = stringsConcat.replace(new RegExp([01;31m[K`^[ ]{${indentation}}`[m[K, 'gm'), '')
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K320[m[K[36m[K-[m[K    return dedentedCode.trim()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K328[m[K[36m[K-[m[K    } catch (error) {
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K329[m[K[36m[K:[m[K        Sentry.captureMessage([01;31m[K`Had to run twice: ${errorMessage}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K330[m[K[36m[K-[m[K        // try one more time
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K384[m[K[36m[K-[m[K    if (typeof plugin === 'number') {
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K385[m[K[36m[K:[m[K        return [01;31m[K`plugin ID ${plugin} (unknown)`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K386[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K388[m[K[36m[K-[m[K    if (teamId) {
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K389[m[K[36m[K:[m[K        extras.push([01;31m[K`team ID ${teamId}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K390[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K391[m[K[36m[K:[m[K    extras.push([01;31m[K`organization ID ${plugin.organization_id}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K392[m[K[36m[K-[m[K    if (plugin.is_global) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K394[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K395[m[K[36m[K:[m[K    return [01;31m[K`plugin ${plugin.name} ID ${plugin.id} (${extras.join(' - ')})`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K396[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K472[m[K[36m[K-[m[K                  throw new Error(
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K473[m[K[36m[K:[m[K                      [01;31m[K`Key "${String(key)}" has more than one matching value, which is not allowed in flat groupBy!`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K474[m[K[36m[K-[m[K                  )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K530[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K:[m[K[32m[K531[m[K[36m[K:[m[K    return [01;31m[K`${lowercaseLetters.join('')}${uppercaseLetters.join('')}`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/utils.ts[m[K[36m[K-[m[K[32m[K532[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/status.ts[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K        return (icon: string, message: string, extra: object) => {
[35m[K/tmp/posthog/plugin-server/src/utils/status.ts[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K            const logMessage = [01;31m[K`[${this.prompt}] ${icon} ${message}`[m[K
[35m[K/tmp/posthog/plugin-server/src/utils/status.ts[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K            if (extra instanceof Object) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K-[m[K[32m[K120[m[K[36m[K-[m[K    server.listen(port, () => {
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K:[m[K[32m[K121[m[K[36m[K:[m[K        status.info('🩺', [01;31m[K`Status server listening on port ${port}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K    })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K-[m[K[32m[K133[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K:[m[K[32m[K134[m[K[36m[K:[m[K    const url = new URL(req.url!, [01;31m[K`http://${req.headers.host}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K-[m[K[32m[K135[m[K[36m[K-[m[K    const type = url.pathname.split('/').pop() ?? 'unknown'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K-[m[K[32m[K138[m[K[36m[K-[m[K    const sendHeaders = function (extension: string) {
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K:[m[K[32m[K139[m[K[36m[K:[m[K        const fileName = [01;31m[K`${type}-${DateTime.now().toUTC().toFormat('yyyyMMdd-HHmmss')}.${extension}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K:[m[K[32m[K140[m[K[36m[K:[m[K        res.setHeader('Content-Disposition', [01;31m[K`attachment; filename="${fileName}"`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K        res.setHeader('Profile-Type', type)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K-[m[K[32m[K145[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K:[m[K[32m[K146[m[K[36m[K:[m[K    status.info('🩺', [01;31m[K`Collecting ${type} profile...`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K-[m[K[32m[K147[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K-[m[K[32m[K174[m[K[36m[K-[m[Kfunction outputProfileResult(res: ServerResponse, type: string, output: any) {
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K:[m[K[32m[K175[m[K[36m[K:[m[K    status.info('🩺', [01;31m[K`${type} profile collected, sending to client`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K-[m[K[32m[K176[m[K[36m[K-[m[K    output.export(function (error: any, result: any) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K-[m[K[32m[K185[m[K[36m[K-[m[K    })
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K:[m[K[32m[K186[m[K[36m[K:[m[K    status.info('🩺', [01;31m[K`${type} profile successfully exported`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/services/http-server.ts[m[K[36m[K-[m[K[32m[K187[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/pluginsServer.ts[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K    status.updatePrompt(serverConfig.PLUGIN_SERVER_MODE)
[35m[K/tmp/posthog/plugin-server/src/main/pluginsServer.ts[m[K[36m[K:[m[K[32m[K68[m[K[36m[K:[m[K    status.info('ℹ️', [01;31m[K`${serverConfig.WORKER_CONCURRENCY} workers, ${serverConfig.TASKS_PER_WORKER} tasks per worker`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/pluginsServer.ts[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K    runStartupProfiles(serverConfig)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/utils.ts[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[Kconst logTime = (startTime: number, statsKey: string, error?: any) => {
[35m[K/tmp/posthog/plugin-server/src/main/utils.ts[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K    status.info('⏱️', [01;31m[K`${statsKey} took ${Math.round(performance.now() - startTime)}ms`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/main/utils.ts[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K        error,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/utils.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K}: FunctionInstrumentation<T>): Promise<T> {
[35m[K/tmp/posthog/plugin-server/src/main/utils.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K    const t = timeoutGuard(timeoutMessage ?? [01;31m[K`Timeout warning for '${statsKey}'!`[m[K, timeoutContext, timeout)
[35m[K/tmp/posthog/plugin-server/src/main/utils.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K    const startTime = performance.now()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/analytics-events-ingestion-historical-consumer.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K        KAFKA_EVENTS_PLUGIN_INGESTION_HISTORICAL,
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/analytics-events-ingestion-historical-consumer.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K        [01;31m[K`${KAFKA_PREFIX}clickhouse-ingestion-historical`[m[K,
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/analytics-events-ingestion-historical-consumer.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K        batchHandler
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/session-manager.ts[m[K[36m[K-[m[K[32m[K338[m[K[36m[K-[m[K            const { firstTimestamp, lastTimestamp } = eventsRange
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/session-manager.ts[m[K[36m[K:[m[K[32m[K339[m[K[36m[K:[m[K            const baseKey = [01;31m[K`${this.serverConfig.SESSION_RECORDING_REMOTE_FOLDER}/team_id/${this.teamId}/session_id/${this.sessionId}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/session-manager.ts[m[K[36m[K:[m[K[32m[K340[m[K[36m[K:[m[K            const timeRange = [01;31m[K`${firstTimestamp}-${lastTimestamp}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/session-manager.ts[m[K[36m[K:[m[K[32m[K341[m[K[36m[K:[m[K            const dataKey = [01;31m[K`${baseKey}/data/${timeRange}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/session-manager.ts[m[K[36m[K-[m[K[32m[K342[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/session-manager.ts[m[K[36m[K-[m[K[32m[K399[m[K[36m[K-[m[K            status.error('🧨', '[session-manager] failed writing session recording blob to S3', {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/session-manager.ts[m[K[36m[K:[m[K[32m[K400[m[K[36m[K:[m[K                errorMessage: [01;31m[K`${error.name || 'Unknown Error Type'}: ${error.message}`[m[K,
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/session-manager.ts[m[K[36m[K-[m[K[32m[K401[m[K[36m[K-[m[K                error,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/session-manager.ts[m[K[36m[K-[m[K[32m[K445[m[K[36m[K-[m[K                bufferFileDir(this.serverConfig.SESSION_RECORDING_LOCAL_DIRECTORY),
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/session-manager.ts[m[K[36m[K:[m[K[32m[K446[m[K[36m[K:[m[K                [01;31m[K`${this.teamId}.${this.sessionId}.${id}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/session-manager.ts[m[K[36m[K-[m[K[32m[K447[m[K[36m[K-[m[K            )
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/session-manager.ts[m[K[36m[K-[m[K[32m[K448[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/session-manager.ts[m[K[36m[K:[m[K[32m[K449[m[K[36m[K:[m[K            const file = (type: 'jsonl' | 'gz') => [01;31m[K`${fileBase}.${type}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/session-manager.ts[m[K[36m[K-[m[K[32m[K450[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K    snapshots(prefix: string, teamId: number, suffix: string): string {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K:[m[K[32m[K15[m[K[36m[K:[m[K        return [01;31m[K`${prefix}snapshots/team-${teamId}/${suffix}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[K    },
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K    realtimeSubscriptions: (prefix: string): string => [01;31m[K`${prefix}realtime-subscriptions`[m[K,
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K    private emitSubscriptionEvent(teamId: number, sessionId: string): void {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K        this.emit([01;31m[K`subscription::${teamId}::${sessionId}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K    public onSubscriptionEvent(teamId: number, sessionId: string, cb: () => void): () => void {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K:[m[K[32m[K42[m[K[36m[K:[m[K        this.on([01;31m[K`subscription::${teamId}::${sessionId}`[m[K, cb)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K43[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K        return () => {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K            this.off([01;31m[K`subscription::${teamId}::${sessionId}`[m[K, cb)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K        const client = await this.redisPool.acquire()
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K:[m[K[32m[K74[m[K[36m[K:[m[K        const timeout = timeoutGuard([01;31m[K`${description} delayed. Waiting over 30 seconds.`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K        try {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K        try {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K:[m[K[32m[K98[m[K[36m[K:[m[K            await this.run([01;31m[K`addMessage ${key} `[m[K, async (client) => {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K99[m[K[36m[K-[m[K                const pipeline = client.pipeline()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K120[m[K[36m[K-[m[K        try {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K:[m[K[32m[K121[m[K[36m[K:[m[K            await this.run([01;31m[K`addMessage ${key} `[m[K, async (client) => {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K                const pipeline = client.pipeline()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K138[m[K[36m[K-[m[K        try {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K:[m[K[32m[K139[m[K[36m[K:[m[K            await this.run([01;31m[K`clearMessages ${key} `[m[K, async (client) => {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K140[m[K[36m[K-[m[K                return client.zremrangebyscore(key, 0, timestamp)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K153[m[K[36m[K-[m[K        try {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K:[m[K[32m[K154[m[K[36m[K:[m[K            await this.run([01;31m[K`clearAllMessages ${key} `[m[K, async (client) => {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K155[m[K[36m[K-[m[K                /**
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K170[m[K[36m[K-[m[K                const pipeline = client.pipeline()
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K:[m[K[32m[K171[m[K[36m[K:[m[K                const newKey = [01;31m[K`expired-${key}-${randomUUID()}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K:[m[K[32m[K172[m[K[36m[K:[m[K                pipeline.rename([01;31m[K`${key}`[m[K, newKey)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/realtime-manager.ts[m[K[36m[K-[m[K[32m[K173[m[K[36m[K-[m[K                // renaming shouldn't affect the existing TTL
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/offset-high-water-marker.ts[m[K[36m[K-[m[K[32m[K9[m[K[36m[K-[m[Kexport const offsetHighWaterMarkKey = (prefix: string, tp: TopicPartition) => {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/offset-high-water-marker.ts[m[K[36m[K:[m[K[32m[K10[m[K[36m[K:[m[K    return [01;31m[K`${prefix}high-water-marks/${tp.topic}/${tp.partition}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/offset-high-water-marker.ts[m[K[36m[K-[m[K[32m[K11[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/offset-high-water-marker.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K        const client = await this.redisPool.acquire()
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/offset-high-water-marker.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K        const timeout = timeoutGuard([01;31m[K`${description} delayed. Waiting over 30 seconds.`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/offset-high-water-marker.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K        try {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/offset-high-water-marker.ts[m[K[36m[K-[m[K[32m[K47[m[K[36m[K-[m[K        if (!this.topicPartitionWaterMarks[key]) {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/offset-high-water-marker.ts[m[K[36m[K:[m[K[32m[K48[m[K[36m[K:[m[K            this.topicPartitionWaterMarks[key] = this.run([01;31m[K`read all offset high-water mark for ${key} `[m[K, (client) =>
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/offset-high-water-marker.ts[m[K[36m[K-[m[K[32m[K49[m[K[36m[K-[m[K                client.zrange(key, 0, -1, 'WITHSCORES')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/offset-high-water-marker.ts[m[K[36m[K-[m[K[32m[K84[m[K[36m[K-[m[K        try {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/offset-high-water-marker.ts[m[K[36m[K:[m[K[32m[K85[m[K[36m[K:[m[K            await this.run([01;31m[K`write offset high-water mark ${key} `[m[K, async (client) => {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/offset-high-water-marker.ts[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                await client.zadd(key, 'GT', offset, id)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/offset-high-water-marker.ts[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K        try {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/offset-high-water-marker.ts[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K            return await this.run([01;31m[K`clear all below offset high-water mark for ${key} `[m[K, async (client) => {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/offset-high-water-marker.ts[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K                await client.zremrangebyscore(key, '-Inf', offset)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/console-logs-ingester.ts[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K    for (const cle of consoleLogEntries) {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/console-logs-ingester.ts[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K        const fingerPrint = [01;31m[K`${cle.log_level}-${cle.message}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/console-logs-ingester.ts[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K        if (!seen.has(fingerPrint)) {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/console-logs-ingester.ts[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K        const logDebug = (text: string, labels: Record<string, any> = {}) =>
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/console-logs-ingester.ts[m[K[36m[K:[m[K[32m[K109[m[K[36m[K:[m[K            status.debug('⚠️', [01;31m[K`[console-log-events-ingester] ${text}`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/console-logs-ingester.ts[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K                offset: event.metadata.offset,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/replay-events-ingester.ts[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K        const logDebug = (text: string, labels: Record<string, any> = {}) =>
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/replay-events-ingester.ts[m[K[36m[K:[m[K[32m[K84[m[K[36m[K:[m[K            status.debug('⚠️', [01;31m[K`[replay-events] ${text}`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/replay-events-ingester.ts[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K                offset: event.metadata.offset,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/replay-events-ingester.ts[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K                    if (!asDate.isValid || Math.abs(asDate.diffNow('months').months) >= 0.99) {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/replay-events-ingester.ts[m[K[36m[K:[m[K[32m[K132[m[K[36m[K:[m[K                        captureMessage([01;31m[K`Invalid replay record timestamp: ${replayRecord.first_timestamp} for event`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/services/replay-events-ingester.ts[m[K[36m[K-[m[K[32m[K133[m[K[36m[K-[m[K                            extra: {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/session-recordings-consumer.ts[m[K[36m[K-[m[K[32m[K206[m[K[36m[K-[m[K        const { team_id, session_id } = event
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/session-recordings-consumer.ts[m[K[36m[K:[m[K[32m[K207[m[K[36m[K:[m[K        const key = [01;31m[K`${team_id}-${session_id}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/session-recordings-consumer.ts[m[K[36m[K-[m[K[32m[K208[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/session-recordings-consumer.ts[m[K[36m[K-[m[K[32m[K665[m[K[36m[K-[m[K                        '🔁',
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/session-recordings-consumer.ts[m[K[36m[K:[m[K[32m[K666[m[K[36m[K:[m[K                        [01;31m[K`blob_ingester_consumer - flushing ${sessionsToDrop.length} sessions on revoke...`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/session-recording/session-recordings-consumer.ts[m[K[36m[K-[m[K[32m[K667[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K            this.consumer.on(this.consumer.events.CRASH, ({ payload: { error } }) => reject(error))
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K            status.info('⏬', [01;31m[K`Connecting Kafka consumer to ${this.pluginsServer.KAFKA_HOSTS}...`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K            this.wasConsumerRan = true
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K                pausePayload.partitions = [partition]
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K:[m[K[32m[K110[m[K[36m[K:[m[K                partitionInfo = [01;31m[K`(partition ${partition})`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K112[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K:[m[K[32m[K113[m[K[36m[K:[m[K            status.info('⏳', [01;31m[K`Pausing Kafka consumer for topic ${targetTopic} ${partitionInfo}...`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K114[m[K[36m[K-[m[K            this.consumer.pause([pausePayload])
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K:[m[K[32m[K115[m[K[36m[K:[m[K            status.info('⏸', [01;31m[K`Kafka consumer for topic ${targetTopic} ${partitionInfo} paused!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K116[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K                resumePayload.partitions = [partition]
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K                partitionInfo = [01;31m[K`(partition ${partition}) `[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K:[m[K[32m[K128[m[K[36m[K:[m[K            status.info('⏳', [01;31m[K`Resuming Kafka consumer for topic ${targetTopic} ${partitionInfo}...`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K            this.consumer.resume([resumePayload])
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K:[m[K[32m[K130[m[K[36m[K:[m[K            status.info('▶️', [01;31m[K`Kafka consumer for topic ${targetTopic} ${partitionInfo}resumed!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K248[m[K[36m[K-[m[K        groupId = payload.groupId
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K:[m[K[32m[K249[m[K[36m[K:[m[K        status.info('✅', [01;31m[K`Kafka consumer joined group ${groupId}!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K250[m[K[36m[K-[m[K        clearInterval(statusInterval)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K256[m[K[36m[K-[m[K        offsets = {}
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K:[m[K[32m[K257[m[K[36m[K:[m[K        status.error('⚠️', [01;31m[K`Kafka consumer group ${groupId} crashed:\n`[m[K, error)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K258[m[K[36m[K-[m[K        clearInterval(statusInterval)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K276[m[K[36m[K-[m[K            partitions.forEach(({ partition, offset }) => {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K:[m[K[32m[K277[m[K[36m[K:[m[K                offsets[[01;31m[K`${topic}:${partition}`[m[K] = offset
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K278[m[K[36m[K-[m[K            })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K299[m[K[36m[K-[m[K        })
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K:[m[K[32m[K300[m[K[36m[K:[m[K        status.warn('💀', [01;31m[K`Kafka batch of ${eventCount} events for topic ${topic} failed!`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K301[m[K[36m[K-[m[K        throw error
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K319[m[K[36m[K-[m[K        })
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K:[m[K[32m[K320[m[K[36m[K:[m[K        status.warn('💀', [01;31m[K`Kafka batch of ${eventCount} events for topic ${topic} failed!`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/kafka-queue.ts[m[K[36m[K-[m[K[32m[K321[m[K[36m[K-[m[K            stack: error.stack,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/scheduled-tasks-consumer.ts[m[K[36m[K-[m[K[32m[K157[m[K[36m[K-[m[K        if (!message.value) {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/scheduled-tasks-consumer.ts[m[K[36m[K:[m[K[32m[K158[m[K[36m[K:[m[K            status.warn('⚠️', [01;31m[K`Invalid message for partition ${batch.partition} offset ${message.offset}.`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/scheduled-tasks-consumer.ts[m[K[36m[K-[m[K[32m[K159[m[K[36m[K-[m[K                value: message.value,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/scheduled-tasks-consumer.ts[m[K[36m[K-[m[K[32m[K175[m[K[36m[K-[m[K        } catch (error) {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/scheduled-tasks-consumer.ts[m[K[36m[K:[m[K[32m[K176[m[K[36m[K:[m[K            status.warn('⚠️', [01;31m[K`Invalid message for partition ${batch.partition} offset ${message.offset}.`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/scheduled-tasks-consumer.ts[m[K[36m[K-[m[K[32m[K177[m[K[36m[K-[m[K                error: error.stack ?? error,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/scheduled-tasks-consumer.ts[m[K[36m[K-[m[K[32m[K186[m[K[36m[K-[m[K        if (!taskTypes.includes(task.taskType) || isNaN(task.pluginConfigId)) {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/scheduled-tasks-consumer.ts[m[K[36m[K:[m[K[32m[K187[m[K[36m[K:[m[K            status.warn('⚠️', [01;31m[K`Invalid schema for partition ${batch.partition} offset ${message.offset}.`[m[K, task)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/scheduled-tasks-consumer.ts[m[K[36m[K-[m[K[32m[K188[m[K[36m[K-[m[K            await producer.queueMessage({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/on-event-handler-consumer.ts[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K        // NOTE: This should never clash with the group ID specified for the kafka engine posthog/ee/clickhouse/sql/clickhouse.py
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/on-event-handler-consumer.ts[m[K[36m[K:[m[K[32m[K79[m[K[36m[K:[m[K        groupId: [01;31m[K`${KAFKA_PREFIX}clickhouse-plugin-server-async-webhooks`[m[K,
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/on-event-handler-consumer.ts[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K        sessionTimeout: serverConfig.KAFKA_CONSUMPTION_SESSION_TIMEOUT_MS,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/on-event-handler-consumer.ts[m[K[36m[K-[m[K[32m[K144[m[K[36m[K-[m[K        KAFKA_EVENTS_JSON,
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/on-event-handler-consumer.ts[m[K[36m[K:[m[K[32m[K145[m[K[36m[K:[m[K        [01;31m[K`${KAFKA_PREFIX}clickhouse-plugin-server-async-onevent`[m[K,
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/on-event-handler-consumer.ts[m[K[36m[K-[m[K[32m[K146[m[K[36m[K-[m[K        eachBatchAppsOnEventHandlers
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-onevent.ts[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K    const batchStartTimer = new Date()
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-onevent.ts[m[K[36m[K:[m[K[32m[K75[m[K[36m[K:[m[K    const loggingKey = [01;31m[K`each_batch_${key}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-onevent.ts[m[K[36m[K-[m[K[32m[K76[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-onevent.ts[m[K[36m[K:[m[K[32m[K77[m[K[36m[K:[m[K    const transaction = Sentry.startTransaction({ name: [01;31m[K`eachBatch(${eachMessage.name})`[m[K }, { topic: queue.topic })
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-onevent.ts[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-onevent.ts[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K            if (!isRunning() || isStale()) {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-onevent.ts[m[K[36m[K:[m[K[32m[K91[m[K[36m[K:[m[K                status.info('🚪', [01;31m[K`Bailing out of a batch of ${batch.messages.length} events (${loggingKey})`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-onevent.ts[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K                    isRunning: isRunning(),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-onevent.ts[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K    } finally {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-onevent.ts[m[K[36m[K:[m[K[32m[K129[m[K[36m[K:[m[K        queue.pluginsServer.statsd?.timing([01;31m[K`kafka_queue.${loggingKey}`[m[K, batchStartTimer)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-onevent.ts[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K        transaction.finish()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-ingestion.ts[m[K[36m[K-[m[K[32m[K141[m[K[36m[K-[m[K                    const distinct_id = currentBatch[0].pluginEvent.distinct_id
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-ingestion.ts[m[K[36m[K:[m[K[32m[K142[m[K[36m[K:[m[K                    if (team && WarningLimiter.consume([01;31m[K`${team.id}:${distinct_id}`[m[K, 1)) {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-ingestion.ts[m[K[36m[K-[m[K[32m[K143[m[K[36m[K-[m[K                        processingPromises.push(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-ingestion.ts[m[K[36m[K-[m[K[32m[K172[m[K[36m[K-[m[K            }
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-ingestion.ts[m[K[36m[K:[m[K[32m[K173[m[K[36m[K:[m[K            status.debug('🧩', [01;31m[K`Stopping worker after processing ${processedBatches} micro-batches`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-ingestion.ts[m[K[36m[K-[m[K[32m[K174[m[K[36m[K-[m[K            return Promise.resolve()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-ingestion.ts[m[K[36m[K-[m[K[32m[K237[m[K[36m[K-[m[K    } finally {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-ingestion.ts[m[K[36m[K:[m[K[32m[K238[m[K[36m[K:[m[K        queue.pluginsServer.statsd?.timing([01;31m[K`kafka_queue.${loggingKey}`[m[K, batchStartTimer)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-ingestion.ts[m[K[36m[K-[m[K[32m[K239[m[K[36m[K-[m[K        transaction.finish()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-ingestion.ts[m[K[36m[K-[m[K[32m[K263[m[K[36m[K-[m[Kfunction computeKey(pluginEvent: PipelineEvent): string {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-ingestion.ts[m[K[36m[K:[m[K[32m[K264[m[K[36m[K:[m[K    return [01;31m[K`${pluginEvent.team_id ?? pluginEvent.token}:${pluginEvent.distinct_id}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-ingestion.ts[m[K[36m[K-[m[K[32m[K265[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-ingestion.ts[m[K[36m[K-[m[K[32m[K321[m[K[36m[K-[m[K            message.key = null
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-ingestion.ts[m[K[36m[K:[m[K[32m[K322[m[K[36m[K:[m[K            ingestionPartitionKeyOverflowed.labels([01;31m[K`${pluginEvent.team_id ?? pluginEvent.token}`[m[K).inc()
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-ingestion.ts[m[K[36m[K-[m[K[32m[K323[m[K[36m[K-[m[K            if (LoggingLimiter.consume(eventKey, 1)) {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-ingestion.ts[m[K[36m[K:[m[K[32m[K324[m[K[36m[K:[m[K                status.warn('🪣', [01;31m[K`Local overflow detection triggered on key ${eventKey}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-ingestion.ts[m[K[36m[K-[m[K[32m[K325[m[K[36m[K-[m[K            }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-webhooks.ts[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K    // & handling the different batching return type
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-webhooks.ts[m[K[36m[K:[m[K[32m[K86[m[K[36m[K:[m[K    const key = [01;31m[K`async_handlers_${stats_key}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-webhooks.ts[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K    const batchStartTimer = new Date()
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-webhooks.ts[m[K[36m[K:[m[K[32m[K88[m[K[36m[K:[m[K    const loggingKey = [01;31m[K`each_batch_${key}`[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-webhooks.ts[m[K[36m[K-[m[K[32m[K89[m[K[36m[K-[m[K    const { batch, resolveOffset, heartbeat, commitOffsetsIfNecessary, isRunning, isStale }: EachBatchPayload = payload
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-webhooks.ts[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-webhooks.ts[m[K[36m[K:[m[K[32m[K91[m[K[36m[K:[m[K    const transaction = Sentry.startTransaction({ name: [01;31m[K`eachBatch${stats_key}`[m[K })
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-webhooks.ts[m[K[36m[K-[m[K[32m[K92[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-webhooks.ts[m[K[36m[K-[m[K[32m[K102[m[K[36m[K-[m[K            if (!isRunning() || isStale()) {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-webhooks.ts[m[K[36m[K:[m[K[32m[K103[m[K[36m[K:[m[K                status.info('🚪', [01;31m[K`Bailing out of a batch of ${batch.messages.length} events (${loggingKey})`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-webhooks.ts[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K                    isRunning: isRunning(),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-webhooks.ts[m[K[36m[K-[m[K[32m[K136[m[K[36m[K-[m[K    } finally {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-webhooks.ts[m[K[36m[K:[m[K[32m[K137[m[K[36m[K:[m[K        statsd?.timing([01;31m[K`kafka_queue.${loggingKey}`[m[K, batchStartTimer)
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/batch-processing/each-batch-webhooks.ts[m[K[36m[K-[m[K[32m[K138[m[K[36m[K-[m[K        transaction.finish()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/analytics-events-ingestion-consumer.ts[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K        KAFKA_EVENTS_PLUGIN_INGESTION,
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/analytics-events-ingestion-consumer.ts[m[K[36m[K:[m[K[32m[K57[m[K[36m[K:[m[K        [01;31m[K`${KAFKA_PREFIX}clickhouse-ingestion`[m[K,
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/analytics-events-ingestion-consumer.ts[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K        batchHandler
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/analytics-events-ingestion-overflow-consumer.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K        KAFKA_EVENTS_PLUGIN_INGESTION_OVERFLOW,
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/analytics-events-ingestion-overflow-consumer.ts[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K        [01;31m[K`${KAFKA_PREFIX}clickhouse-ingestion-overflow`[m[K,
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/analytics-events-ingestion-overflow-consumer.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K        batchHandler
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/jobs-consumer.ts[m[K[36m[K-[m[K[32m[K48[m[K[36m[K-[m[K            if (!message.value) {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/jobs-consumer.ts[m[K[36m[K:[m[K[32m[K49[m[K[36m[K:[m[K                status.warn('⚠️', [01;31m[K`Invalid message for partition ${batch.partition} offset ${message.offset}.`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/jobs-consumer.ts[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                    value: message.value,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/jobs-consumer.ts[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K            } catch (error) {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/jobs-consumer.ts[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K                status.warn('⚠️', [01;31m[K`Invalid message for partition ${batch.partition} offset ${message.offset}.`[m[K, {
[35m[K/tmp/posthog/plugin-server/src/main/ingestion-queues/jobs-consumer.ts[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K                    error,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/graphile-worker/schedule.ts[m[K[36m[K-[m[K[32m[K62[m[K[36m[K-[m[K        for (const pluginConfigId of server.pluginSchedule?.[taskType] || []) {
[35m[K/tmp/posthog/plugin-server/src/main/graphile-worker/schedule.ts[m[K[36m[K:[m[K[32m[K63[m[K[36m[K:[m[K            status.info('⏲️', [01;31m[K`Running ${taskType} for plugin config with ID ${pluginConfigId}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/graphile-worker/schedule.ts[m[K[36m[K-[m[K[32m[K64[m[K[36m[K-[m[K            await piscina.run({ task: taskType, args: { pluginConfigId } })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/graphile-worker/graphile-worker.ts[m[K[36m[K-[m[K[32m[K232[m[K[36m[K-[m[K            const handlers = Object.keys(jobHandlers).join(', ')
[35m[K/tmp/posthog/plugin-server/src/main/graphile-worker/graphile-worker.ts[m[K[36m[K:[m[K[32m[K233[m[K[36m[K:[m[K            status.info('✅', [01;31m[K`Graphile Worker started succesfully with the following handlers setup: ${handlers}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/graphile-worker/graphile-worker.ts[m[K[36m[K-[m[K[32m[K234[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/graphile-worker/local/mock-graphile-worker.ts[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K    enqueue(jobName: string, job: EnqueuedJob): Promise<void> | void {
[35m[K/tmp/posthog/plugin-server/src/main/graphile-worker/local/mock-graphile-worker.ts[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K        fs.appendFileSync(this.filename, [01;31m[K`${JSON.stringify({ jobName, ...job })}\n`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/graphile-worker/local/mock-graphile-worker.ts[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/main/graphile-worker/local/mock-graphile-worker.ts[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K            const oldQueue = queue.filter((element) => element.timestamp >= timestamp)
[35m[K/tmp/posthog/plugin-server/src/main/graphile-worker/local/mock-graphile-worker.ts[m[K[36m[K:[m[K[32m[K92[m[K[36m[K:[m[K            fs.writeFileSync(this.filename, [01;31m[K`${oldQueue.map((q) => JSON.stringify(q)).join('\n')}\n`[m[K)
[35m[K/tmp/posthog/plugin-server/src/main/graphile-worker/local/mock-graphile-worker.ts[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/kafka/batch-consumer.ts[m[K[36m[K-[m[K[32m[K223[m[K[36m[K-[m[K                        '🕒',
[35m[K/tmp/posthog/plugin-server/src/kafka/batch-consumer.ts[m[K[36m[K:[m[K[32m[K224[m[K[36m[K:[m[K                        [01;31m[K`Slow batch: ${messages.length} events in ${Math.round(processingTimeMs / 10) / 100}s`[m[K
[35m[K/tmp/posthog/plugin-server/src/kafka/batch-consumer.ts[m[K[36m[K-[m[K[32m[K225[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/src/index.ts[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/src/index.ts[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[Kstatus.info('⚡', [01;31m[K`@posthog/plugin-server v${version}`[m[K)
[35m[K/tmp/posthog/plugin-server/src/index.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins-api-key-manager.test.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K        await hub.db.postgres.query(PostgresUse.COMMON_WRITE, POSTGRES_DELETE_TABLES_QUERY, [], 'truncateTablesTest')
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins-api-key-manager.test.ts[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K        await hub.db.redisExpire([01;31m[K`plugins-api-key-manager/${ORG_ID_1}`[m[K, 0)
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins-api-key-manager.test.ts[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[K        await hub.db.redisExpire([01;31m[K`plugins-api-key-manager/${ORG_ID_2}`[m[K, 0)
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins-api-key-manager.test.ts[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K    })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins-api-key-manager.test.ts[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K        // What happens when the key still exists, but it's not in the cache anymore
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins-api-key-manager.test.ts[m[K[36m[K:[m[K[32m[K70[m[K[36m[K:[m[K        await hub.db.redisExpire([01;31m[K`plugins-api-key-manager/${ORG_ID_1}`[m[K, 0)
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins-api-key-manager.test.ts[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/console.test.ts[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/console.test.ts[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K        describe([01;31m[K`console#${typeMethod}`[m[K, () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/console.test.ts[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K            const testCases: [string, any[], string][] = [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/console.test.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K            testCases.forEach(([description, args, expectedFinalMessage]) => {
[35m[K/tmp/posthog/plugin-server/tests/worker/console.test.ts[m[K[36m[K:[m[K[32m[K38[m[K[36m[K:[m[K                it([01;31m[K`leaves a well-formed ${description} entry in the database`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/console.test.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K                    const queueSingleJsonMessageSpy = jest.spyOn(hub.kafkaProducer, 'queueSingleJsonMessage')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins/mmdb.test.ts[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K    content_type: 'vnd.maxmind.maxmind-db',
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins/mmdb.test.ts[m[K[36m[K:[m[K[32m[K19[m[K[36m[K:[m[K    file_name: [01;31m[K`GeoLite2-City-${DateTime.local().toISODate()}.mmdb.br`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins/mmdb.test.ts[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K    file_size: mmdbBrotliContents.byteLength,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K-[m[K[32m[K417[m[K[36m[K-[m[K            pluginConfigs.get(39)!,
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K:[m[K[32m[K418[m[K[36m[K:[m[K            [01;31m[K`Could not load "plugin.json" for plugin test-maxmind-plugin ID ${plugin60.id} (organization ID ${commonOrganizationId})`[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K-[m[K[32m[K419[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K-[m[K[32m[K465[m[K[36m[K-[m[K            pluginConfigs.get(39)!,
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K:[m[K[32m[K466[m[K[36m[K:[m[K            [01;31m[K`Could not load source code for plugin test-maxmind-plugin ID 60 (organization ID ${commonOrganizationId}). Tried: index.js`[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K-[m[K[32m[K467[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K-[m[K[32m[K641[m[K[36m[K-[m[K            PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K:[m[K[32m[K642[m[K[36m[K:[m[K            [01;31m[K`SELECT transpiled FROM posthog_pluginsourcefile WHERE plugin_id = $1 AND filename = $2`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K-[m[K[32m[K643[m[K[36m[K-[m[K            [60, 'frontend.tsx'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K-[m[K[32m[K667[m[K[36m[K-[m[K            PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K:[m[K[32m[K668[m[K[36m[K:[m[K            [01;31m[K`SELECT * FROM posthog_pluginsourcefile WHERE plugin_id = $1 AND filename = $2`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K-[m[K[32m[K669[m[K[36m[K-[m[K            [60, 'frontend.tsx'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K-[m[K[32m[K693[m[K[36m[K-[m[K                    PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K:[m[K[32m[K694[m[K[36m[K:[m[K                    [01;31m[K`SELECT status FROM posthog_pluginsourcefile WHERE plugin_id = $1 AND filename = $2`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K-[m[K[32m[K695[m[K[36m[K-[m[K                    [60, 'frontend.tsx'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K-[m[K[32m[K705[m[K[36m[K-[m[K            PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K:[m[K[32m[K706[m[K[36m[K:[m[K            'UPDATE posthog_pluginsourcefile SET transpiled = NULL, status = NULL [01;31m[KWHERE filename = $1',[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/plugins.test.ts[m[K[36m[K-[m[K[32m[K707[m[K[36m[K-[m[K            ['frontend.tsx'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/vm/upgrades/historical-export/export-historical-events-v2.test.ts[m[K[36m[K-[m[K[32m[K355[m[K[36m[K-[m[K                    message: expect.stringContaining(
[35m[K/tmp/posthog/plugin-server/tests/worker/vm/upgrades/historical-export/export-historical-events-v2.test.ts[m[K[36m[K:[m[K[32m[K356[m[K[36m[K:[m[K                        [01;31m[K`Exporting chunk 2021-11-01T00:00:00.000Z to 2021-11-01T05:00:00.000Z failed after ${hub.HISTORICAL_EXPORTS_MAX_RETRY_COUNT} retries. Stopping export.`[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/vm/upgrades/historical-export/export-historical-events-v2.test.ts[m[K[36m[K-[m[K[32m[K357[m[K[36m[K-[m[K                    ),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/vm.test.ts[m[K[36m[K-[m[K[32m[K39[m[K[36m[K-[m[K    const vmResponse = createPluginConfigVM(hub, pluginConfig, indexJs)
[35m[K/tmp/posthog/plugin-server/tests/worker/vm.test.ts[m[K[36m[K:[m[K[32m[K40[m[K[36m[K:[m[K    await vmResponse.vm.run([01;31m[K`${vmResponse.vmResponseVariable}.methods.setupPlugin?.()`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/worker/vm.test.ts[m[K[36m[K-[m[K[32m[K41[m[K[36m[K-[m[K    return vmResponse
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/vm.test.ts[m[K[36m[K-[m[K[32m[K1076[m[K[36m[K-[m[K                        exportEventsBufferSeconds: '1',
[35m[K/tmp/posthog/plugin-server/tests/worker/vm.test.ts[m[K[36m[K:[m[K[32m[K1077[m[K[36m[K:[m[K                        exportEventsToIgnore: [01;31m[K`${defaultEvent.event},otherEvent`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/vm.test.ts[m[K[36m[K-[m[K[32m[K1078[m[K[36m[K-[m[K                    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/vm.timeout.test.ts[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K    const vmResponse = createPluginConfigVM(hub, pluginConfig, indexJs)
[35m[K/tmp/posthog/plugin-server/tests/worker/vm.timeout.test.ts[m[K[36m[K:[m[K[32m[K27[m[K[36m[K:[m[K    await vmResponse.vm.run([01;31m[K`${vmResponse.vmResponseVariable}.methods.setupPlugin?.()`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/worker/vm.timeout.test.ts[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K    return vmResponse
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K                    PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K                    [01;31m[K`INSERT INTO posthog_eventdefinition (id, name, volume_30_day, query_usage_30_day, team_id, created_at) VALUES ($1, $2, $3, $4, $5, NOW())`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K                    [new UUIDT().toString(), '$pageview', 3, 2, teamId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K                    PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[K                    [01;31m[K`INSERT INTO posthog_eventdefinition (id, name, team_id, created_at, last_seen_at) VALUES ($1, $2, $3, NOW(), $4)`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[K                    [new UUIDT().toString(), 'another_test_event', teamId, '2014-03-23T23:23:23Z'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K63[m[K[36m[K-[m[K                    PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K:[m[K[32m[K64[m[K[36m[K:[m[K                    [01;31m[K`INSERT INTO posthog_propertydefinition (id, name, type, is_numerical, volume_30_day, query_usage_30_day, team_id) VALUES ($1, $2, $3, $4, $5, $6, $7)`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K                    [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K                    PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K:[m[K[32m[K78[m[K[36m[K:[m[K                    [01;31m[K`INSERT INTO posthog_propertydefinition (id, name, type, is_numerical, volume_30_day, query_usage_30_day, team_id) VALUES ($1, $2, $3, $4, $5, $6, $7)`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K                    [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K91[m[K[36m[K-[m[K                    PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K:[m[K[32m[K92[m[K[36m[K:[m[K                    [01;31m[K`INSERT INTO posthog_eventproperty (event, property, team_id) VALUES ($1, $2, $3)`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K                    ['new-event', 'numeric_prop', teamId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K215[m[K[36m[K-[m[K                expect(manager.eventLastSeenCache.length).toEqual(1)
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K:[m[K[32m[K216[m[K[36m[K:[m[K                expect(manager.eventLastSeenCache.get([01;31m[K`[${teamId},"another_test_event"]`[m[K)).toEqual(20150404)
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K217[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K230[m[K[36m[K-[m[K                    PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K:[m[K[32m[K231[m[K[36m[K:[m[K                    'UPDATE posthog_eventdefinition SET last_seen_at=$1 [01;31m[KWHERE team_id=$2 AND name=$3',[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K232[m[K[36m[K-[m[K                    [DateTime.now(), teamId, 'another_test_event'],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K241[m[K[36m[K-[m[K                expect(manager.eventLastSeenCache.length).toEqual(1)
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K:[m[K[32m[K242[m[K[36m[K:[m[K                expect(manager.eventLastSeenCache.get([01;31m[K`[${teamId},"another_test_event"]`[m[K)).toEqual(20150405)
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K243[m[K[36m[K-[m[K            })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K255[m[K[36m[K-[m[K                    PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K:[m[K[32m[K256[m[K[36m[K:[m[K                    [01;31m[K`INSERT INTO posthog_eventdefinition (id, name, volume_30_day, query_usage_30_day, team_id) VALUES ($1, $2, NULL, NULL, $3) ON CONFLICT DO NOTHING`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K257[m[K[36m[K-[m[K                    [new UUIDT().toString(), '$foobar', teamId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K401[m[K[36m[K-[m[K                        SET ingested_event = false
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K:[m[K[32m[K402[m[K[36m[K:[m[K                        [01;31m[KWHERE id = $1[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K403[m[K[36m[K-[m[K                    `,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K469[m[K[36m[K-[m[K            boolTestCases.forEach((testcase) => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K:[m[K[32m[K470[m[K[36m[K:[m[K                it([01;31m[K`identifies ${testcase} as a boolean`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K471[m[K[36m[K-[m[K                    await manager.updateEventNamesAndProperties(teamId, 'another_test_event', {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K491[m[K[36m[K-[m[K            notBoolTestCases.forEach((testcase) => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K:[m[K[32m[K492[m[K[36m[K:[m[K                it([01;31m[K`does not identify ${testcase} as a boolean`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K493[m[K[36m[K-[m[K                    await manager.updateEventNamesAndProperties(teamId, 'another_test_event', {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K616[m[K[36m[K-[m[K            unixTimestampTestCases.forEach((testcase) => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K:[m[K[32m[K617[m[K[36m[K:[m[K                it([01;31m[K`with key ${testcase.propertyKey} matches ${testcase.date} as ${testcase.expectedPropertyType}`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K618[m[K[36m[K-[m[K                    const properties: Record<string, string | number> = {}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K739[m[K[36m[K-[m[K            dateTimeFormatTestCases.forEach((testcase) => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K:[m[K[32m[K740[m[K[36m[K:[m[K                it([01;31m[K`matches ${testcase.date} as DateTime`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K741[m[K[36m[K-[m[K                    const properties: Record<string, string> = {}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K772[m[K[36m[K-[m[K                    SELECT property_type from posthog_propertydefinition
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K:[m[K[32m[K773[m[K[36m[K:[m[K                    [01;31m[Kwhere name=$1[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K774[m[K[36m[K-[m[K                `,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K803[m[K[36m[K-[m[K                    SELECT property_type from posthog_propertydefinition
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K:[m[K[32m[K804[m[K[36m[K:[m[K                    [01;31m[Kwhere name=$1[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-manager.test.ts[m[K[36m[K-[m[K[32m[K805[m[K[36m[K-[m[K                `,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K83[m[K[36m[K-[m[K    async function fetchPersonsRows() {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K84[m[K[36m[K:[m[K        const query = [01;31m[K`SELECT * FROM person FINAL WHERE team_id = ${teamId} ORDER BY _offset`[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K        return (await hub.db.clickhouseQuery(query)).data
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K    async function fetchPersonsRowsWithVersionHigerEqualThan(version = 1) {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K89[m[K[36m[K:[m[K        const query = [01;31m[K`SELECT * FROM person FINAL WHERE team_id = ${teamId} AND version >= ${version}`[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K        return (await hub.db.clickhouseQuery(query)).data
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K    async function fetchDistinctIdsClickhouseVersion1() {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K98[m[K[36m[K:[m[K        const query = [01;31m[K`SELECT distinct_id FROM person_distinct_id2 FINAL WHERE team_id = ${teamId} AND version = 1`[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K99[m[K[36m[K-[m[K        return (await hub.db.clickhouseQuery(query)).data
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K461[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K462[m[K[36m[K:[m[K        describe([01;31m[K`${poEEmbraceJoinThis ? 'PoE' : 'normal'}`[m[K, () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K463[m[K[36m[K:[m[K            it([01;31m[K`no-op when $anon_distinct_id not passed`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K464[m[K[36m[K-[m[K                const person = await personState({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K477[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K478[m[K[36m[K:[m[K            it([01;31m[K`creates person with both distinct_ids and marks user as is_identified when $anon_distinct_id passed`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K479[m[K[36m[K-[m[K                const person = await personState({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K511[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K512[m[K[36m[K:[m[K            it([01;31m[K`marks is_identified to be updated when no changes to distinct_ids but $anon_distinct_id passe`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K513[m[K[36m[K-[m[K                await hub.db.createPerson(timestamp, {}, {}, {}, teamId, null, false, uuid.toString(), [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K545[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K546[m[K[36m[K:[m[K            it([01;31m[K`add distinct id and marks user is_identified when passed $anon_distinct_id person does not exists and distinct_id does`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K547[m[K[36m[K-[m[K                await hub.db.createPerson(timestamp, {}, {}, {}, teamId, null, false, uuid.toString(), ['new-user'])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K580[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K581[m[K[36m[K:[m[K            it([01;31m[K`add distinct id and marks user as is_identified when passed $anon_distinct_id person exists and distinct_id does not`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K582[m[K[36m[K-[m[K                await hub.db.createPerson(timestamp, {}, {}, {}, teamId, null, false, uuid.toString(), ['old-user'])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K680[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K681[m[K[36m[K:[m[K            it([01;31m[K`merge into distinct_id person and marks user as is_identified when distinct_id user is identified and $anon_distinct_id user is not`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K682[m[K[36m[K-[m[K                await hub.db.createPerson(timestamp, {}, {}, {}, teamId, null, false, uuid.toString(), ['old-user'])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K744[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K745[m[K[36m[K:[m[K            it([01;31m[K`does not merge people when distinct_id user is not identified and $anon_distinct_id user is`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K746[m[K[36m[K-[m[K                await hub.db.createPerson(timestamp, {}, {}, {}, teamId, null, true, uuid.toString(), ['old-user'])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K838[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K839[m[K[36m[K:[m[K            it([01;31m[K`merge into distinct_id person and updates properties with $set/$set_once`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K840[m[K[36m[K-[m[K                await hub.db.createPerson(timestamp, { a: 1, b: 2 }, {}, {}, teamId, null, false, uuid.toString(), [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K1021[m[K[36m[K-[m[K        })
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K1022[m[K[36m[K:[m[K        describe([01;31m[K`${poEEmbraceJoinThis ? 'PoE' : 'normal'}`[m[K, () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K1023[m[K[36m[K-[m[K            // only difference between $merge_dangerously and $identify
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K1224[m[K[36m[K-[m[K                PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K1225[m[K[36m[K:[m[K                [01;31m[K`SELECT "feature_flag_key", "person_id", "hash_key" FROM "posthog_featureflaghashkeyoverride" WHERE "team_id" = $1`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K1226[m[K[36m[K-[m[K                [teamId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K1309[m[K[36m[K-[m[K                PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K1310[m[K[36m[K:[m[K                [01;31m[K`SELECT "feature_flag_key", "person_id", "hash_key" FROM "posthog_featureflaghashkeyoverride" WHERE "team_id" = $1`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K1311[m[K[36m[K-[m[K                [teamId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K1382[m[K[36m[K-[m[K                PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K1383[m[K[36m[K:[m[K                [01;31m[K`SELECT "feature_flag_key", "person_id", "hash_key" FROM "posthog_featureflaghashkeyoverride" WHERE "team_id" = $1`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K1384[m[K[36m[K-[m[K                [teamId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K1427[m[K[36m[K-[m[K                    FROM posthog_personoverride
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K1428[m[K[36m[K:[m[K                    [01;31m[KWHERE team_id = ${teamId}[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K1429[m[K[36m[K-[m[K                    ORDER BY id
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K1454[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K:[m[K[32m[K1455[m[K[36m[K:[m[K        describe([01;31m[K`${poEEmbraceJoinThis ? 'PoE' : 'normal'}`[m[K, () => {
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/person-state.test.ts[m[K[36m[K-[m[K[32m[K1456[m[K[36m[K-[m[K            it(`no-op if persons already merged`, async () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-cache.test.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K                PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-cache.test.ts[m[K[36m[K:[m[K[32m[K36[m[K[36m[K:[m[K                [01;31m[K`INSERT INTO posthog_propertydefinition (id, name, property_type, type, is_numerical, volume_30_day, query_usage_30_day, team_id) VALUES ($1, $2, $3, $4, $5, $6, $7, $8)`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-cache.test.ts[m[K[36m[K-[m[K[32m[K37[m[K[36m[K-[m[K                [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-cache.test.ts[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-cache.test.ts[m[K[36m[K:[m[K[32m[K51[m[K[36m[K:[m[K                [01;31m[K`INSERT INTO posthog_propertydefinition (id, name, property_type, type, is_numerical, volume_30_day, query_usage_30_day, team_id) VALUES ($1, $2, $3, $4, $5, $6, $7, $8)`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-cache.test.ts[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K                [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-cache.test.ts[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K                PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-cache.test.ts[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K                [01;31m[K`INSERT INTO posthog_propertydefinition (id, name, property_type, type, is_numerical, volume_30_day, query_usage_30_day, team_id) VALUES ($1, $2, $3, $4, $5, $6, $7, $8)`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-cache.test.ts[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K                [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-cache.test.ts[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K                PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-cache.test.ts[m[K[36m[K:[m[K[32m[K81[m[K[36m[K:[m[K                [01;31m[K`INSERT INTO posthog_propertydefinition (id, name, property_type, type, is_numerical, volume_30_day, query_usage_30_day, team_id, group_type_index) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9)`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/property-definitions-cache.test.ts[m[K[36m[K-[m[K[32m[K82[m[K[36m[K-[m[K                [
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/action-manager.test.ts[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K            PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/action-manager.test.ts[m[K[36m[K:[m[K[32m[K57[m[K[36m[K:[m[K            [01;31m[K`UPDATE posthog_actionstep SET properties = jsonb_set(properties, '{0,key}', '"baz"') WHERE id = $1`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/action-manager.test.ts[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K            [ACTION_STEP_ID],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/action-manager.test.ts[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K             SET deleted = TRUE
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/action-manager.test.ts[m[K[36m[K:[m[K[32m[K132[m[K[36m[K:[m[K             [01;31m[KWHERE id = $1`,[m[K
[35m[K/tmp/posthog/plugin-server/tests/worker/ingestion/action-manager.test.ts[m[K[36m[K-[m[K[32m[K133[m[K[36m[K-[m[K            [ACTION_ID],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K104[m[K[36m[K-[m[K    const keys = Object.keys(object)
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K105[m[K[36m[K:[m[K        .map((key) => [01;31m[K`"${key}"`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K106[m[K[36m[K-[m[K        .join(',')
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K107[m[K[36m[K-[m[K    const params = Object.keys(object)
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K108[m[K[36m[K:[m[K        .map((_, i) => [01;31m[K`\$${i + 1}`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K109[m[K[36m[K-[m[K        .join(',')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K            values,
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K            [01;31m[K`insertRow-${table}`[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K179[m[K[36m[K-[m[K    } catch (error) {
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K180[m[K[36m[K:[m[K        console.error([01;31m[K`Error on table ${table} when inserting object:\n`[m[K, object, '\n', error)
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K181[m[K[36m[K-[m[K        throw error
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K198[m[K[36m[K-[m[K        last_name: 'User',
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K199[m[K[36m[K:[m[K        email: [01;31m[K`test${userId}@posthog.com`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K200[m[K[36m[K:[m[K        distinct_id: [01;31m[K`plugin_test_user_distinct_id_${userId}`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K201[m[K[36m[K-[m[K        is_staff: false,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K247[m[K[36m[K-[m[K        is_demo: false,
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K248[m[K[36m[K:[m[K        api_token: [01;31m[K`THIS IS NOT A TOKEN FOR TEAM ${teamId}`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K249[m[K[36m[K-[m[K        test_account_filters: [],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K275[m[K[36m[K-[m[K    try {
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K276[m[K[36m[K:[m[K        const response = await db.query('SELECT * FROM posthog_pluginconfig [01;31m[KWHERE id = $1',[m[K [id])
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K277[m[K[36m[K-[m[K        error = response.rows[0]['error']
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K368[m[K[36m[K-[m[K        last_name: 'User',
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K369[m[K[36m[K:[m[K        email: [01;31m[K`test${uuid}@posthog.com`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K370[m[K[36m[K-[m[K        distinct_id: distinctId,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K392[m[K[36m[K-[m[Kexport async function fetchPostgresPersons(db: DB, teamId: number) {
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K:[m[K[32m[K393[m[K[36m[K:[m[K    const query = [01;31m[K`SELECT * FROM posthog_person WHERE team_id = ${teamId} ORDER BY id`[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/sql.ts[m[K[36m[K-[m[K[32m[K394[m[K[36m[K-[m[K    return (await db.postgres.query(PostgresUse.COMMON_READ, query, undefined, 'persons')).rows.map(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/metrics.ts[m[K[36m[K-[m[K[32m[K13[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/plugin-server/tests/helpers/metrics.ts[m[K[36m[K:[m[K[32m[K14[m[K[36m[K:[m[K    throw Error([01;31m[K`Metric not found: ${metricName}`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/helpers/metrics.ts[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/clickhouse.ts[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K    }
[35m[K/tmp/posthog/plugin-server/tests/helpers/clickhouse.ts[m[K[36m[K:[m[K[32m[K57[m[K[36m[K:[m[K    throw Error([01;31m[K`Failed to get data in time, got ${JSON.stringify(data)}`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/helpers/clickhouse.ts[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/helpers/plugins.ts[m[K[36m[K-[m[K[32m[K116[m[K[36m[K-[m[K    return [
[35m[K/tmp/posthog/plugin-server/tests/helpers/plugins.ts[m[K[36m[K:[m[K[32m[K117[m[K[36m[K:[m[K        { ...plugin60, plugin_type: 'local', url: [01;31m[K`file:${folder}`[m[K },
[35m[K/tmp/posthog/plugin-server/tests/helpers/plugins.ts[m[K[36m[K-[m[K[32m[K118[m[K[36m[K-[m[K        () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/utils.test.ts[m[K[36m[K-[m[K[32m[K243[m[K[36m[K-[m[K        const validStrings = [
[35m[K/tmp/posthog/plugin-server/tests/utils.test.ts[m[K[36m[K:[m[K[32m[K244[m[K[36m[K:[m[K            [01;31m[K`$autocapture`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/utils.test.ts[m[K[36m[K-[m[K[32m[K245[m[K[36m[K-[m[K            `correlation analyzed`,
[35m[K/tmp/posthog/plugin-server/tests/utils.test.ts[m[K[36m[K-[m[K[32m[K246[m[K[36m[K-[m[K            `docs_search_used`,
[35m[K/tmp/posthog/plugin-server/tests/utils.test.ts[m[K[36m[K:[m[K[32m[K247[m[K[36m[K:[m[K            [01;31m[K`$$plugin_metrics`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/utils.test.ts[m[K[36m[K-[m[K[32m[K248[m[K[36m[K-[m[K            `996f3e2f-830b-42f0-b2b8-df42bb7f7144`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/db.test.ts[m[K[36m[K-[m[K[32m[K271[m[K[36m[K-[m[K            PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/main/db.test.ts[m[K[36m[K:[m[K[32m[K272[m[K[36m[K:[m[K            [01;31m[K`SELECT * FROM posthog_person WHERE team_id = $1 AND id = $2`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/main/db.test.ts[m[K[36m[K-[m[K[32m[K273[m[K[36m[K-[m[K            [teamId, personId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/db.test.ts[m[K[36m[K-[m[K[32m[K407[m[K[36m[K-[m[K            async function fetchPersonsRows(options: { final?: boolean } = {}) {
[35m[K/tmp/posthog/plugin-server/tests/main/db.test.ts[m[K[36m[K:[m[K[32m[K408[m[K[36m[K:[m[K                const query = [01;31m[K`SELECT * FROM person ${options.final ? 'FINAL' : ''} WHERE id = '${uuid}'`[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/db.test.ts[m[K[36m[K-[m[K[32m[K409[m[K[36m[K-[m[K                return (await db.clickhouseQuery(query)).data
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/db.test.ts[m[K[36m[K-[m[K[32m[K788[m[K[36m[K-[m[K                    PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/main/db.test.ts[m[K[36m[K:[m[K[32m[K789[m[K[36m[K:[m[K                    'SELECT public_jobs FROM posthog_plugin [01;31m[KWHERE id = $1',[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/db.test.ts[m[K[36m[K-[m[K[32m[K790[m[K[36m[K-[m[K                    [88],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/db.test.ts[m[K[36m[K-[m[K[32m[K806[m[K[36m[K-[m[K                    PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/main/db.test.ts[m[K[36m[K:[m[K[32m[K807[m[K[36m[K:[m[K                    'SELECT public_jobs FROM posthog_plugin [01;31m[KWHERE id = $1',[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/db.test.ts[m[K[36m[K-[m[K[32m[K808[m[K[36m[K-[m[K                    [88],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/process-event.test.ts[m[K[36m[K-[m[K[32m[K172[m[K[36m[K-[m[K    // clear the webhook redis cache
[35m[K/tmp/posthog/plugin-server/tests/main/process-event.test.ts[m[K[36m[K:[m[K[32m[K173[m[K[36m[K:[m[K    const hooksCacheKey = [01;31m[K`@posthog/plugin-server/hooks/${team.id}`[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/process-event.test.ts[m[K[36m[K-[m[K[32m[K174[m[K[36m[K-[m[K    await redis.del(hooksCacheKey)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/process-event.test.ts[m[K[36m[K-[m[K[32m[K277[m[K[36m[K-[m[K             SET ingested_event = $1
[35m[K/tmp/posthog/plugin-server/tests/main/process-event.test.ts[m[K[36m[K:[m[K[32m[K278[m[K[36m[K:[m[K             [01;31m[KWHERE id = $2`,[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/process-event.test.ts[m[K[36m[K-[m[K[32m[K279[m[K[36m[K-[m[K        [true, team.id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/process-event.test.ts[m[K[36m[K-[m[K[32m[K1190[m[K[36m[K-[m[K         SET ingested_event = $1
[35m[K/tmp/posthog/plugin-server/tests/main/process-event.test.ts[m[K[36m[K:[m[K[32m[K1191[m[K[36m[K:[m[K         [01;31m[KWHERE id = $2`,[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/process-event.test.ts[m[K[36m[K-[m[K[32m[K1192[m[K[36m[K-[m[K        [false, team.id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/process-event.test.ts[m[K[36m[K-[m[K[32m[K1463[m[K[36m[K-[m[KsessionReplayEventTestCases.forEach(({ snapshotData, expected }) => {
[35m[K/tmp/posthog/plugin-server/tests/main/process-event.test.ts[m[K[36m[K:[m[K[32m[K1464[m[K[36m[K:[m[K    test([01;31m[K`snapshot event ${JSON.stringify(snapshotData)} can be stored as session_replay_event`[m[K, () => {
[35m[K/tmp/posthog/plugin-server/tests/main/process-event.test.ts[m[K[36m[K-[m[K[32m[K1465[m[K[36m[K-[m[K        const data = createSessionReplayEvent(
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/services/offset-high-water-mark.test.ts[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K        const redisClient = await hub.redisPool.acquire()
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/services/offset-high-water-mark.test.ts[m[K[36m[K:[m[K[32m[K20[m[K[36m[K:[m[K        const keys = await redisClient.keys([01;31m[K`${keyPrefix}*`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/services/offset-high-water-mark.test.ts[m[K[36m[K-[m[K[32m[K21[m[K[36m[K-[m[K        const pipeline = redisClient.pipeline()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/services/session-manager.test.ts[m[K[36m[K-[m[K[32m[K212[m[K[36m[K-[m[K                params: expect.objectContaining({
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/services/session-manager.test.ts[m[K[36m[K:[m[K[32m[K213[m[K[36m[K:[m[K                    Key: [01;31m[K`session_recordings/team_id/1/session_id/session_id_1/data/${firstTimestamp}-${lastTimestamp}`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/services/session-manager.test.ts[m[K[36m[K-[m[K[32m[K214[m[K[36m[K-[m[K                }),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K23[m[K[36m[K-[m[K    const redisClient = await hub.redisPool.acquire()
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K24[m[K[36m[K:[m[K    const keys = await redisClient.keys([01;31m[K`${SESSION_RECORDING_REDIS_PREFIX}*`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K    const pipeline = redisClient.pipeline()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K180[m[K[36m[K-[m[K    it.skip('destroys a session manager if finished', async () => {
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K181[m[K[36m[K:[m[K        const sessionId = [01;31m[K`destroys-a-session-manager-if-finished-${randomUUID()}`[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K182[m[K[36m[K-[m[K        const event = createIncomingRecordingMessage({
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K185[m[K[36m[K-[m[K        await ingester.consume(event)
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K186[m[K[36m[K:[m[K        expect(ingester.sessions[[01;31m[K`1-${sessionId}`[m[K]).toBeDefined()
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K187[m[K[36m[K-[m[K        // Force the flush
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K194[m[K[36m[K-[m[K        await waitForExpect(() => {
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K195[m[K[36m[K:[m[K            expect(ingester.sessions[[01;31m[K`1-${sessionId}`[m[K]).not.toBeDefined()
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K196[m[K[36m[K-[m[K        }, 10000)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K355[m[K[36m[K-[m[K            expect(mockConsumer.commit).toHaveBeenCalledTimes(0)
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K356[m[K[36m[K:[m[K            await ingester.sessions[[01;31m[K`${team.id}-sid1`[m[K].flush('buffer_age')
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K357[m[K[36m[K-[m[K            await commitAllOffsets()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K369[m[K[36m[K-[m[K            await ingester.handleEachBatch([createMessage('sid1')])
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K370[m[K[36m[K:[m[K            await ingester.sessions[[01;31m[K`${team.id}-sid1`[m[K].flush('buffer_age')
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K371[m[K[36m[K-[m[K            expect(ingester.partitionMetrics[1].lastMessageOffset).toBe(1)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K386[m[K[36m[K-[m[K            await ingester.handleEachBatch([createMessage('sid1')])
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K387[m[K[36m[K:[m[K            await ingester.sessions[[01;31m[K`${team.id}-sid1`[m[K].flush('buffer_age')
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K388[m[K[36m[K-[m[K            await commitAllOffsets()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K405[m[K[36m[K-[m[K            ])
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K406[m[K[36m[K:[m[K            await ingester.sessions[[01;31m[K`${team.id}-sid2`[m[K].flush('buffer_age')
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K407[m[K[36m[K-[m[K            await commitAllOffsets()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K414[m[K[36m[K-[m[K            expect(mockConsumer.commit).not.toHaveBeenCalled()
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K415[m[K[36m[K:[m[K            await ingester.sessions[[01;31m[K`${team.id}-sid1`[m[K].flush('buffer_age')
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K416[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K434[m[K[36m[K-[m[K            // Flush the second session so the first one is still blocking
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K435[m[K[36m[K:[m[K            await ingester.sessions[[01;31m[K`${team.id}-sid2`[m[K].flush('buffer_age')
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K436[m[K[36m[K-[m[K            await commitAllOffsets()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K442[m[K[36m[K-[m[K            await ingester.handleEachBatch([createMessage('sid2')])
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K443[m[K[36m[K:[m[K            await ingester.sessions[[01;31m[K`${team.id}-sid1`[m[K].flush('buffer_age')
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K444[m[K[36m[K-[m[K            await commitAllOffsets()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K449[m[K[36m[K-[m[K                    partition: 1,
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K450[m[K[36m[K:[m[K                    offset: ingester.sessions[[01;31m[K`${team.id}-sid2`[m[K].getLowestOffset(),
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K451[m[K[36m[K-[m[K                })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K461[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K462[m[K[36m[K:[m[K            await ingester.sessions[[01;31m[K`${team.id}-sid1`[m[K].flush('buffer_age')
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K463[m[K[36m[K-[m[K            await ingester.handleEachBatch([createMessage('sid1', 1)])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K475[m[K[36m[K-[m[K            mockConsumer.commit.mockReset()
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K476[m[K[36m[K:[m[K            await ingester.sessions[[01;31m[K`${team.id}-sid1`[m[K].flush('buffer_age')
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K477[m[K[36m[K:[m[K            await ingester.sessions[[01;31m[K`${team.id}-sid2`[m[K].flush('buffer_age')
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K478[m[K[36m[K-[m[K            await commitAllOffsets()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K504[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K505[m[K[36m[K:[m[K            await ingester.sessions[[01;31m[K`${team.id}-sid1`[m[K].flush('buffer_age')
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K506[m[K[36m[K-[m[K            await expect(getSessionWaterMarks()).resolves.toEqual({ sid1: 1 })
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K507[m[K[36m[K:[m[K            await ingester.sessions[[01;31m[K`${team.id}-sid3`[m[K].flush('buffer_age')
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K508[m[K[36m[K:[m[K            await ingester.sessions[[01;31m[K`${team.id}-sid2`[m[K].flush('buffer_age')
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K509[m[K[36m[K-[m[K            await expect(getSessionWaterMarks()).resolves.toEqual({ sid1: 1, sid2: 2, sid3: 3 })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K513[m[K[36m[K-[m[K            await ingester.handleEachBatch([createMessage('sid1'), createMessage('sid2'), createMessage('sid1')])
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K514[m[K[36m[K:[m[K            await ingester.sessions[[01;31m[K`${team.id}-sid1`[m[K].flush('buffer_age')
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K515[m[K[36m[K-[m[K            await commitAllOffsets()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K533[m[K[36m[K-[m[K            await ingester.handleEachBatch([events[0], events[1]])
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K534[m[K[36m[K:[m[K            await ingester.sessions[[01;31m[K`${team.id}-sid2`[m[K].flush('buffer_age')
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K535[m[K[36m[K-[m[K            await commitAllOffsets()
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K547[m[K[36m[K-[m[K            await ingester.handleEachBatch(events)
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K548[m[K[36m[K:[m[K            expect(ingester.sessions[[01;31m[K`${team.id}-sid2`[m[K].buffer.count).toBe(1)
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K549[m[K[36m[K:[m[K            expect(ingester.sessions[[01;31m[K`${team.id}-sid1`[m[K].buffer.count).toBe(1)
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K550[m[K[36m[K-[m[K        })
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K575[m[K[36m[K-[m[K            expect(
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K576[m[K[36m[K:[m[K                Object.values(ingester.sessions).map((x) => [01;31m[K`${x.partition}:${x.sessionId}:${x.buffer.count}`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K577[m[K[36m[K-[m[K            ).toEqual(['1:session_id_1:1', '1:session_id_2:1', '2:session_id_3:1', '2:session_id_4:1'])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K582[m[K[36m[K-[m[K            expect(
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K583[m[K[36m[K:[m[K                Object.values(ingester.sessions).map((x) => [01;31m[K`${x.partition}:${x.sessionId}:${x.buffer.count}`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K584[m[K[36m[K-[m[K            ).toEqual(['1:session_id_1:1', '1:session_id_2:1'])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K593[m[K[36m[K-[m[K            expect(
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K594[m[K[36m[K:[m[K                Object.values(ingester.sessions).map((x) => [01;31m[K`${x.partition}:${x.sessionId}:${x.buffer.count}`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K595[m[K[36m[K-[m[K            ).toEqual(['1:session_id_1:1', '1:session_id_2:1'])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K598[m[K[36m[K-[m[K            expect(
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K599[m[K[36m[K:[m[K                Object.values(otherIngester.sessions).map((x) => [01;31m[K`${x.partition}:${x.sessionId}:${x.buffer.count}`[m[K)
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K600[m[K[36m[K-[m[K            ).toEqual(['2:session_id_3:1', '2:session_id_4:2'])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K606[m[K[36m[K-[m[K            expect(readdirSync(config.SESSION_RECORDING_LOCAL_DIRECTORY + '/session-buffer-files')).toEqual([
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K607[m[K[36m[K:[m[K                expect.stringContaining([01;31m[K`${team.id}.sid1.`[m[K), // gz
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K608[m[K[36m[K:[m[K                expect.stringContaining([01;31m[K`${team.id}.sid1.`[m[K), // json
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K609[m[K[36m[K:[m[K                expect.stringContaining([01;31m[K`${team.id}.sid2.`[m[K), // gz
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K610[m[K[36m[K:[m[K                expect.stringContaining([01;31m[K`${team.id}.sid2.`[m[K), // json
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K611[m[K[36m[K:[m[K                expect.stringContaining([01;31m[K`${team.id}.sid3.`[m[K), // gz
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K612[m[K[36m[K:[m[K                expect.stringContaining([01;31m[K`${team.id}.sid3.`[m[K), // json
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K613[m[K[36m[K-[m[K            ])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K616[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K617[m[K[36m[K:[m[K            expect(Object.keys(ingester.sessions)).toEqual([[01;31m[K`${team.id}-sid3`[m[K])
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K618[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K622[m[K[36m[K-[m[K            expect(readdirSync(config.SESSION_RECORDING_LOCAL_DIRECTORY + '/session-buffer-files')).toEqual([
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K623[m[K[36m[K:[m[K                expect.stringContaining([01;31m[K`${team.id}.sid3.`[m[K), // gz
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K:[m[K[32m[K624[m[K[36m[K:[m[K                expect.stringContaining([01;31m[K`${team.id}.sid3.`[m[K), // json
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/session-recording/session-recordings-consumer.test.ts[m[K[36m[K-[m[K[32m[K625[m[K[36m[K-[m[K            ])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/each-batch.test.ts[m[K[36m[K-[m[K[32m[K465[m[K[36m[K-[m[K            for (const group of splitIngestionBatch(batch, IngestionOverflowMode.Disabled).toProcess) {
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/each-batch.test.ts[m[K[36m[K:[m[K[32m[K466[m[K[36m[K:[m[K                const key = [01;31m[K`${group[0].pluginEvent.team_id}:${group[0].pluginEvent.token}:${group[0].pluginEvent.distinct_id}`[m[K
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/each-batch.test.ts[m[K[36m[K-[m[K[32m[K467[m[K[36m[K-[m[K                for (const { pluginEvent: event } of group) {
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/each-batch.test.ts[m[K[36m[K:[m[K[32m[K468[m[K[36m[K:[m[K                    expect([01;31m[K`${event.team_id}:${event.token}:${event.distinct_id}`[m[K).toEqual(key)
[35m[K/tmp/posthog/plugin-server/tests/main/ingestion-queues/each-batch.test.ts[m[K[36m[K-[m[K[32m[K469[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K-[m[K[32m[K136[m[K[36m[K-[m[K            PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K:[m[K[32m[K137[m[K[36m[K:[m[K            'UPDATE posthog_pluginconfig SET error = $1 [01;31m[KWHERE id = $2',[m[K
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K-[m[K[32m[K138[m[K[36m[K-[m[K            [null, pluginConfig39.id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K-[m[K[32m[K145[m[K[36m[K-[m[K            PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K:[m[K[32m[K146[m[K[36m[K:[m[K            'UPDATE posthog_pluginconfig SET error = $1 [01;31m[KWHERE id = $2',[m[K
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K-[m[K[32m[K147[m[K[36m[K-[m[K            [sanitizeJsonbValue(pluginError), pluginConfig39.id],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K-[m[K[32m[K158[m[K[36m[K-[m[K                PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K:[m[K[32m[K159[m[K[36m[K:[m[K                [01;31m[K`UPDATE posthog_pluginconfig SET enabled='f' WHERE id=$1 AND enabled='t'`[m[K,
[35m[K/tmp/posthog/plugin-server/tests/sql.test.ts[m[K[36m[K-[m[K[32m[K160[m[K[36m[K-[m[K                [39],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/http-server.test.ts[m[K[36m[K-[m[K[32m[K42[m[K[36m[K-[m[K            await new Promise((resolve) =>
[35m[K/tmp/posthog/plugin-server/tests/http-server.test.ts[m[K[36m[K:[m[K[32m[K43[m[K[36m[K:[m[K                http.get([01;31m[K`http://localhost:${DEFAULT_HTTP_SERVER_PORT}/_health`[m[K, (res) => {
[35m[K/tmp/posthog/plugin-server/tests/http-server.test.ts[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K                    const { statusCode } = res
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/tests/http-server.test.ts[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K            await new Promise((resolve) =>
[35m[K/tmp/posthog/plugin-server/tests/http-server.test.ts[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K                http.get([01;31m[K`http://localhost:${DEFAULT_HTTP_SERVER_PORT}/_ready`[m[K, (res) => {
[35m[K/tmp/posthog/plugin-server/tests/http-server.test.ts[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K                    const { statusCode } = res
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/jest.global-teardown.ts[m[K[36m[K-[m[K[32m[K28[m[K[36m[K-[m[K                    console.debug(
[35m[K/tmp/posthog/plugin-server/functional_tests/jest.global-teardown.ts[m[K[36m[K:[m[K[32m[K29[m[K[36m[K:[m[K                        [01;31m[K`Checking ${groupId} ${topic} ${partition} ${offset} ${topicOffsets[topic][partition].offset}`[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/jest.global-teardown.ts[m[K[36m[K-[m[K[32m[K30[m[K[36m[K-[m[K                    )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v1.test.ts[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K        () => {
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v1.test.ts[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K            const exportEvents = webHookCalledWith[[01;31m[K`/${teamId}`[m[K]
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v1.test.ts[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K            expect(exportEvents.length).toBeGreaterThan(0)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v1.test.ts[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v1.test.ts[m[K[36m[K:[m[K[32m[K97[m[K[36m[K:[m[Ktest.concurrent([01;31m[K`exports: exporting $autocapture events on ingestion`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v1.test.ts[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K    const teamId = await createTeam(organizationId)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v1.test.ts[m[K[36m[K-[m[K[32m[K133[m[K[36m[K-[m[K        () => {
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v1.test.ts[m[K[36m[K:[m[K[32m[K134[m[K[36m[K:[m[K            const exportEvents = webHookCalledWith[[01;31m[K`/${teamId}`[m[K]
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v1.test.ts[m[K[36m[K-[m[K[32m[K135[m[K[36m[K-[m[K            expect(exportEvents.length).toBeGreaterThan(0)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v1.test.ts[m[K[36m[K-[m[K[32m[K205[m[K[36m[K-[m[K        () => {
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v1.test.ts[m[K[36m[K:[m[K[32m[K206[m[K[36m[K:[m[K            const exportEvents = webHookCalledWith[[01;31m[K`/${teamId}`[m[K]
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v1.test.ts[m[K[36m[K-[m[K[32m[K207[m[K[36m[K-[m[K            expect(exportEvents.length).toBeGreaterThan(0)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v1.test.ts[m[K[36m[K-[m[K[32m[K238[m[K[36m[K-[m[K        () => {
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v1.test.ts[m[K[36m[K:[m[K[32m[K239[m[K[36m[K:[m[K            const historicallyExportedEvents = webHookCalledWith[[01;31m[K`/${teamId}`[m[K].filter((events) =>
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v1.test.ts[m[K[36m[K-[m[K[32m[K240[m[K[36m[K-[m[K                events.some((event) => event.properties['$$is_historical_export_event'])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K171[m[K[36m[K-[m[K         FROM posthog_pluginconfig
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K:[m[K[32m[K172[m[K[36m[K:[m[K         [01;31m[KWHERE team_id = $1[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K173[m[K[36m[K-[m[K           AND id = $2`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K186[m[K[36m[K-[m[K        PostgresUse.COMMON_WRITE,
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K:[m[K[32m[K187[m[K[36m[K:[m[K        [01;31m[K`UPDATE posthog_pluginconfig SET config = $1, updated_at = $2 WHERE id = $3 AND team_id = $4`[m[K,
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K188[m[K[36m[K-[m[K        [pluginConfig.config ?? {}, pluginConfig.updated_at, pluginConfigId, teamId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K216[m[K[36m[K-[m[K         SET enabled = false
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K:[m[K[32m[K217[m[K[36m[K:[m[K         [01;31m[KWHERE id = $1[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K           AND team_id = $2`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K228[m[K[36m[K-[m[K         SET enabled = true
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K:[m[K[32m[K229[m[K[36m[K:[m[K         [01;31m[KWHERE id = $1[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K230[m[K[36m[K-[m[K           AND team_id = $2`,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K256[m[K[36m[K-[m[K         FROM graphile_worker.jobs
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K:[m[K[32m[K257[m[K[36m[K:[m[K         [01;31m[KWHERE id = $1`,[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K258[m[K[36m[K-[m[K        [jobId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K276[m[K[36m[K-[m[K              FROM person_overrides
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K:[m[K[32m[K277[m[K[36m[K:[m[K              [01;31m[KWHERE team_id = ${teamId}[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K278[m[K[36m[K-[m[K              GROUP BY old_person_id) AS overrides ON e.person_id = overrides.old_person_id
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K:[m[K[32m[K279[m[K[36m[K:[m[K        [01;31m[KWHERE team_id = ${teamId} ${uuid ? `AND uuid = '${uuid}'`[m[K : ``}
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K280[m[K[36m[K-[m[K        ORDER BY timestamp ASC
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K286[m[K[36m[K-[m[K    const queryResult = (await clickHouseClient.querying(
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K:[m[K[32m[K287[m[K[36m[K:[m[K        [01;31m[K`SELECT * FROM person WHERE team_id = ${teamId} ORDER BY created_at ASC`[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K288[m[K[36m[K-[m[K    )) as unknown as ClickHouse.ObjectQueryResult<any>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K296[m[K[36m[K-[m[K         FROM posthog_person
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K:[m[K[32m[K297[m[K[36m[K:[m[K         [01;31m[KWHERE team_id = $1`,[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K298[m[K[36m[K-[m[K        [teamId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K305[m[K[36m[K-[m[K    const queryResult = (await clickHouseClient.querying(
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K:[m[K[32m[K306[m[K[36m[K:[m[K        `SELECT min(min_first_timestamp) as min_fs_ts, any(team_id), any(distinct_id), session_id FROM session_replay_events [01;31m[KWHERE team_id = ${teamId} ${[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K:[m[K[32m[K307[m[K[36m[K:[m[K            sessionId ? [01;31m[K` AND session_id = '${sessionId}'`[m[K : ''
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K308[m[K[36m[K-[m[K        } group by session_id ORDER BY min_fs_ts ASC`
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K319[m[K[36m[K-[m[K        SELECT * FROM plugin_log_entries
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K:[m[K[32m[K320[m[K[36m[K:[m[K        [01;31m[KWHERE plugin_config_id = ${pluginConfigId}[m[K AND source = 'CONSOLE'
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K321[m[K[36m[K-[m[K    `)) as unknown as ClickHouse.ObjectQueryResult<PluginLogEntry>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K327[m[K[36m[K-[m[K        SELECT * FROM plugin_log_entries
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K:[m[K[32m[K328[m[K[36m[K:[m[K        [01;31m[KWHERE plugin_config_id = ${pluginConfigId}[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K329[m[K[36m[K-[m[K    `)) as unknown as ClickHouse.ObjectQueryResult<PluginLogEntry>
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K433[m[K[36m[K-[m[K         FROM posthog_propertydefinition
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K:[m[K[32m[K434[m[K[36m[K:[m[K         [01;31m[KWHERE team_id = $1`,[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/api.ts[m[K[36m[K-[m[K[32m[K435[m[K[36m[K-[m[K        [teamId],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/webhooks.test.ts[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K        const organizationId = await createOrganization()
[35m[K/tmp/posthog/plugin-server/functional_tests/webhooks.test.ts[m[K[36m[K:[m[K[32m[K34[m[K[36m[K:[m[K        const teamId = await createTeam(organizationId, [01;31m[K`http://localhost:${server.address()?.port}`[m[K)
[35m[K/tmp/posthog/plugin-server/functional_tests/webhooks.test.ts[m[K[36m[K-[m[K[32m[K35[m[K[36m[K-[m[K        const user = await createUser(teamId, new UUIDT().toString())
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/webhooks.test.ts[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/webhooks.test.ts[m[K[36m[K:[m[K[32m[K89[m[K[36m[K:[m[K        expect(webHookCalledWith).toEqual({ text: [01;31m[K`$autocapture with hehe was triggered by t@t.com`[m[K })
[35m[K/tmp/posthog/plugin-server/functional_tests/webhooks.test.ts[m[K[36m[K-[m[K[32m[K90[m[K[36m[K-[m[K    } finally {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/webhooks.test.ts[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K        const organizationId = await createOrganization({ available_features: '{zapier}' })
[35m[K/tmp/posthog/plugin-server/functional_tests/webhooks.test.ts[m[K[36m[K:[m[K[32m[K123[m[K[36m[K:[m[K        const teamId = await createTeam(organizationId, [01;31m[K`http://localhost:${server.address()?.port}`[m[K)
[35m[K/tmp/posthog/plugin-server/functional_tests/webhooks.test.ts[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K        const user = await createUser(teamId, new UUIDT().toString())
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/webhooks.test.ts[m[K[36m[K-[m[K[32m[K153[m[K[36m[K-[m[K        )
[35m[K/tmp/posthog/plugin-server/functional_tests/webhooks.test.ts[m[K[36m[K:[m[K[32m[K154[m[K[36m[K:[m[K        await createHook(teamId, user.id, action.id, [01;31m[K`http://localhost:${server.address()?.port}`[m[K)
[35m[K/tmp/posthog/plugin-server/functional_tests/webhooks.test.ts[m[K[36m[K-[m[K[32m[K155[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/plugins.test.ts[m[K[36m[K-[m[K[32m[K346[m[K[36m[K-[m[Ktest.concurrent(
[35m[K/tmp/posthog/plugin-server/functional_tests/plugins.test.ts[m[K[36m[K:[m[K[32m[K347[m[K[36m[K:[m[K    [01;31m[K`plugin method tests: correct $autocapture properties included in onEvent calls`[m[K,
[35m[K/tmp/posthog/plugin-server/functional_tests/plugins.test.ts[m[K[36m[K-[m[K[32m[K348[m[K[36m[K-[m[K    async () => {
[35m[K/tmp/posthog/plugin-server/functional_tests/plugins.test.ts[m[K[36m[K-[m[K[32m[K349[m[K[36m[K-[m[K        // The plugin server does modifications to the `event.properties`
[35m[K/tmp/posthog/plugin-server/functional_tests/plugins.test.ts[m[K[36m[K:[m[K[32m[K350[m[K[36m[K:[m[K        // and as a results we remove the initial [01;31m[K`$elements`[m[K from the
[35m[K/tmp/posthog/plugin-server/functional_tests/plugins.test.ts[m[K[36m[K-[m[K[32m[K351[m[K[36m[K-[m[K        // object. Thus we want to ensure that this information is passed
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K-[m[K[32m[K108[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K:[m[K[32m[K109[m[K[36m[K:[m[Ktest.concurrent([01;31m[K`event ingestion: handles $groupidentify with no properties`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K-[m[K[32m[K110[m[K[36m[K-[m[K    const teamId = await createTeam(organizationId)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K-[m[K[32m[K151[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K:[m[K[32m[K152[m[K[36m[K:[m[Ktest.concurrent([01;31m[K`event ingestion: can $set and update person properties`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K-[m[K[32m[K153[m[K[36m[K-[m[K    const teamId = await createTeam(organizationId)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K-[m[K[32m[K204[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K:[m[K[32m[K205[m[K[36m[K:[m[Ktest.concurrent([01;31m[K`event ingestion: can $set and update person properties with top level $set`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K-[m[K[32m[K206[m[K[36m[K-[m[K    // We support $set at the top level. This is as the time of writing how the
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K-[m[K[32m[K278[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K:[m[K[32m[K279[m[K[36m[K:[m[Ktest.concurrent([01;31m[K`event ingestion: can $set_once person properties but not update`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K-[m[K[32m[K280[m[K[36m[K-[m[K    const teamId = await createTeam(organizationId)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K-[m[K[32m[K335[m[K[36m[K-[m[Ktest.concurrent(
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K:[m[K[32m[K336[m[K[36m[K:[m[K    [01;31m[K`event ingestion: can $set_once person properties but not update, with top level $set_once`[m[K,
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K-[m[K[32m[K337[m[K[36m[K-[m[K    async () => {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K-[m[K[32m[K502[m[K[36m[K-[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K:[m[K[32m[K503[m[K[36m[K:[m[Ktest.concurrent([01;31m[K`properties still $set even if merge fails`[m[K, async () => {
[35m[K/tmp/posthog/plugin-server/functional_tests/analytics-ingestion/happy-path.test.ts[m[K[36m[K-[m[K[32m[K504[m[K[36m[K-[m[K    const teamId = await createTeam(organizationId)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v2.test.ts[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K    const [exportedEvent] = await waitForExpect(() => {
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v2.test.ts[m[K[36m[K:[m[K[32m[K98[m[K[36m[K:[m[K        const [exportEvents] = webHookCalledWith[[01;31m[K`/${testUuid}`[m[K]
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v2.test.ts[m[K[36m[K-[m[K[32m[K99[m[K[36m[K-[m[K        expect(exportEvents.length).toBe(1)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v2.test.ts[m[K[36m[K-[m[K[32m[K144[m[K[36m[K-[m[K        () => {
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v2.test.ts[m[K[36m[K:[m[K[32m[K145[m[K[36m[K:[m[K            const [historicallyExportedEvents] = webHookCalledWith[[01;31m[K`/${testUuid}`[m[K].filter((events) => {
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v2.test.ts[m[K[36m[K-[m[K[32m[K146[m[K[36m[K-[m[K                return events.some((event) => event.properties['$$is_historical_export_event'])
[36m[K##############################################[m[K
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v2.test.ts[m[K[36m[K-[m[K[32m[K209[m[K[36m[K-[m[K        () => {
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v2.test.ts[m[K[36m[K:[m[K[32m[K210[m[K[36m[K:[m[K            const [historicallyExportedEvents] = webHookCalledWith[[01;31m[K`/${secondTestUuid}`[m[K]
[35m[K/tmp/posthog/plugin-server/functional_tests/exports-v2.test.ts[m[K[36m[K-[m[K[32m[K211[m[K[36m[K-[m[K            expect(historicallyExportedEvents.length).toBe(1)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/web_overview.py[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K    FROM (SELECT
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/web_overview.py[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K            events.properties.[01;31m[K`$session_id`[m[K AS session_id,
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/web_overview.py[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K            min(events.timestamp) AS min_timestamp,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/web_overview.py[m[K[36m[K-[m[K[32m[K67[m[K[36m[K-[m[K        GROUP BY
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/web_overview.py[m[K[36m[K:[m[K[32m[K68[m[K[36m[K:[m[K            events.properties.[01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/web_overview.py[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K        HAVING
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/ctes.py[m[K[36m[K-[m[K[32m[K6[m[K[36m[K-[m[KSELECT
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/ctes.py[m[K[36m[K:[m[K[32m[K7[m[K[36m[K:[m[K    events.properties.[01;31m[K`$prev_pageview_pathname`[m[K AS $pathname,
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/ctes.py[m[K[36m[K-[m[K[32m[K8[m[K[36m[K-[m[K    avg(CASE
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/ctes.py[m[K[36m[K-[m[K[32m[K16[m[K[36m[K-[m[KWHERE
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/ctes.py[m[K[36m[K:[m[K[32m[K17[m[K[36m[K:[m[K    (event = '$pageview' OR event = '$pageleave') AND events.properties.[01;31m[K`$prev_pageview_pathname`[m[K IS NOT NULL
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/ctes.py[m[K[36m[K-[m[K[32m[K18[m[K[36m[K-[m[K    AND ({pathname_scroll_where})
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/ctes.py[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K    SELECT
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/ctes.py[m[K[36m[K:[m[K[32m[K37[m[K[36m[K:[m[K        events.properties.[01;31m[K`$session_id`[m[K AS session_id,
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/ctes.py[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K        min(events.timestamp) AS min_timestamp,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/ctes.py[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K    GROUP BY
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/ctes.py[m[K[36m[K:[m[K[32m[K55[m[K[36m[K:[m[K        events.properties.[01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/hogql_queries/web_analytics/ctes.py[m[K[36m[K-[m[K[32m[K56[m[K[36m[K-[m[K    HAVING
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K               events.elements_chain,
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K               events.[01;31m[K`$session_id`[m[K AS session_id,
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K               lagInFrame(events.[01;31m[K`$session_id`[m[K, 1) OVER (PARTITION BY person_id
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K                                                         ORDER BY timestamp ASC) AS prev_session_id
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K-[m[K[32m[K93[m[K[36m[K-[m[K               events.elements_chain,
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K:[m[K[32m[K94[m[K[36m[K:[m[K               events.[01;31m[K`$session_id`[m[K AS session_id,
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K:[m[K[32m[K95[m[K[36m[K:[m[K               lagInFrame(events.[01;31m[K`$session_id`[m[K, 1) OVER (PARTITION BY person_id
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K                                                         ORDER BY timestamp ASC) AS prev_session_id
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K-[m[K[32m[K155[m[K[36m[K-[m[K               events.elements_chain,
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K:[m[K[32m[K156[m[K[36m[K:[m[K               events.[01;31m[K`$session_id`[m[K AS session_id,
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K:[m[K[32m[K157[m[K[36m[K:[m[K               lagInFrame(events.[01;31m[K`$session_id`[m[K, 1) OVER (PARTITION BY person_id
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K-[m[K[32m[K158[m[K[36m[K-[m[K                                                         ORDER BY timestamp ASC) AS prev_session_id
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K-[m[K[32m[K217[m[K[36m[K-[m[K               events.elements_chain,
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K:[m[K[32m[K218[m[K[36m[K:[m[K               events.[01;31m[K`$session_id`[m[K AS session_id,
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K:[m[K[32m[K219[m[K[36m[K:[m[K               lagInFrame(events.[01;31m[K`$session_id`[m[K, 1) OVER (PARTITION BY person_id
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K-[m[K[32m[K220[m[K[36m[K-[m[K                                                         ORDER BY timestamp ASC) AS prev_session_id
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K-[m[K[32m[K279[m[K[36m[K-[m[K               events.elements_chain,
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K:[m[K[32m[K280[m[K[36m[K:[m[K               events.[01;31m[K`$session_id`[m[K AS session_id,
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K:[m[K[32m[K281[m[K[36m[K:[m[K               lagInFrame(events.[01;31m[K`$session_id`[m[K, 1) OVER (PARTITION BY person_id
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K-[m[K[32m[K282[m[K[36m[K-[m[K                                                         ORDER BY timestamp ASC) AS prev_session_id
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K-[m[K[32m[K341[m[K[36m[K-[m[K               events.elements_chain,
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K:[m[K[32m[K342[m[K[36m[K:[m[K               events.[01;31m[K`$session_id`[m[K AS session_id,
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K:[m[K[32m[K343[m[K[36m[K:[m[K               lagInFrame(events.[01;31m[K`$session_id`[m[K, 1) OVER (PARTITION BY person_id
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K-[m[K[32m[K344[m[K[36m[K-[m[K                                                         ORDER BY timestamp ASC) AS prev_session_id
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K-[m[K[32m[K403[m[K[36m[K-[m[K               events.elements_chain,
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K:[m[K[32m[K404[m[K[36m[K:[m[K               events.[01;31m[K`$session_id`[m[K AS session_id,
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K:[m[K[32m[K405[m[K[36m[K:[m[K               lagInFrame(events.[01;31m[K`$session_id`[m[K, 1) OVER (PARTITION BY person_id
[35m[K/tmp/posthog/posthog/hogql_queries/test/__snapshots__/test_sessions_timeline_query_runner.ambr[m[K[36m[K-[m[K[32m[K406[m[K[36m[K-[m[K                                                         ORDER BY timestamp ASC) AS prev_session_id
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/tasks/usage_report.py[m[K[36m[K-[m[K[32m[K393[m[K[36m[K-[m[K        FROM events
[35m[K/tmp/posthog/posthog/tasks/usage_report.py[m[K[36m[K:[m[K[32m[K394[m[K[36m[K:[m[K        [01;31m[KWHERE timestamp between %(begin)s AND %(end)s AND event != '$feature_flag_called'[m[K
[35m[K/tmp/posthog/posthog/tasks/usage_report.py[m[K[36m[K-[m[K[32m[K395[m[K[36m[K-[m[K        GROUP BY team_id
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/session_recording_list_from_replay_summary.py[m[K[36m[K-[m[K[32m[K266[m[K[36m[K-[m[K            {event_filter_having_events_select}
[35m[K/tmp/posthog/posthog/session_recordings/queries/session_recording_list_from_replay_summary.py[m[K[36m[K:[m[K[32m[K267[m[K[36m[K:[m[K            [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/session_recording_list_from_replay_summary.py[m[K[36m[K-[m[K[32m[K268[m[K[36m[K-[m[K        FROM events e
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/session_recording_list_from_replay_summary.py[m[K[36m[K-[m[K[32m[K278[m[K[36m[K-[m[K        WHERE
[35m[K/tmp/posthog/posthog/session_recordings/queries/session_recording_list_from_replay_summary.py[m[K[36m[K:[m[K[32m[K279[m[K[36m[K:[m[K            notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/session_recording_list_from_replay_summary.py[m[K[36m[K-[m[K[32m[K280[m[K[36m[K-[m[K            {events_timestamp_clause}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/session_recording_list_from_replay_summary.py[m[K[36m[K-[m[K[32m[K285[m[K[36m[K-[m[K            {persons_sub_query}
[35m[K/tmp/posthog/posthog/session_recordings/queries/session_recording_list_from_replay_summary.py[m[K[36m[K:[m[K[32m[K286[m[K[36m[K:[m[K        GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/session_recording_list_from_replay_summary.py[m[K[36m[K-[m[K[32m[K287[m[K[36m[K-[m[K        HAVING 1=1 {event_filter_having_events_condition}
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/session_recording_list_from_replay_summary.py[m[K[36m[K-[m[K[32m[K626[m[K[36m[K-[m[K        if events_select:
[35m[K/tmp/posthog/posthog/session_recordings/queries/session_recording_list_from_replay_summary.py[m[K[36m[K:[m[K[32m[K627[m[K[36m[K:[m[K            events_select = f"AND s.session_id in (select [01;31m[K`$session_id`[m[K as session_id from ({events_select}) as session_events_sub_query)"
[35m[K/tmp/posthog/posthog/session_recordings/queries/session_recording_list_from_replay_summary.py[m[K[36m[K-[m[K[32m[K628[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K25[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K26[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K28[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K29[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K31[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K32[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K33[m[K[36m[K-[m[K            AND timestamp >= '2022-12-27 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K38[m[K[36m[K-[m[K                        AND has(['test_action_filter-window-id'], "$window_id")))))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K39[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K40[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K73[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K74[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K75[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K76[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K80[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K81[m[K[36m[K-[m[K            AND timestamp >= '2022-12-27 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K85[m[K[36m[K-[m[K                        AND has(['test_action_filter-window-id'], "$window_id")))))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K86[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K87[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K119[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K120[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K121[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K123[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K126[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K127[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K128[m[K[36m[K-[m[K            AND timestamp >= '2022-12-27 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K133[m[K[36m[K-[m[K                 AND (has(['Firefox'], replaceRegexpAll(JSONExtractRaw(properties, '$browser'), '^"|"$', ''))))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K134[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K135[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K167[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K168[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K169[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K170[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K171[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K172[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K174[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K175[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K176[m[K[36m[K-[m[K            AND timestamp >= '2022-12-27 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K181[m[K[36m[K-[m[K                 AND (has(['Chrome'], replaceRegexpAll(JSONExtractRaw(properties, '$browser'), '^"|"$', ''))))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K182[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K183[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K225[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K226[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K227[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K228[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K229[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K230[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K232[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K233[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K234[m[K[36m[K-[m[K            AND timestamp >= '2020-12-21 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K247[m[K[36m[K-[m[K                  and person_id = '00000000-0000-0000-0000-000000000000') as events_persons_sub_query)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K248[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K249[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K282[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K283[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K284[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K285[m[K[36m[K:[m[K         (SELECT [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K286[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K288[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K289[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K290[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K292[m[K[36m[K-[m[K            AND (1 = 1)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K293[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K294[m[K[36m[K-[m[K          HAVING 1=1) as session_events_sub_query)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K325[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K326[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K327[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K328[m[K[36m[K:[m[K         (SELECT [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K329[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K331[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K332[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K333[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K336[m[K[36m[K-[m[K                 AND (has(['Chrome'], replaceRegexpAll(JSONExtractRaw(properties, '$browser'), '^"|"$', ''))))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K337[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K338[m[K[36m[K-[m[K          HAVING 1=1) as session_events_sub_query)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K369[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K370[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K371[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K372[m[K[36m[K:[m[K         (SELECT [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K373[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K375[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K376[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K377[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K380[m[K[36m[K-[m[K                 AND (has(['Firefox'], replaceRegexpAll(JSONExtractRaw(properties, '$browser'), '^"|"$', ''))))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K381[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K382[m[K[36m[K-[m[K          HAVING 1=1) as session_events_sub_query)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K413[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K414[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K415[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K416[m[K[36m[K:[m[K         (SELECT [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K417[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K419[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K420[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K421[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K423[m[K[36m[K-[m[K            AND (1 = 1)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K424[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K425[m[K[36m[K-[m[K          HAVING 1=1) as session_events_sub_query)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K456[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K457[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K458[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K459[m[K[36m[K:[m[K         (SELECT [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K460[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K462[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K463[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K464[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K467[m[K[36m[K-[m[K                 AND (has(['Chrome'], "mat_$browser")))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K468[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K469[m[K[36m[K-[m[K          HAVING 1=1) as session_events_sub_query)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K500[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K501[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K502[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K503[m[K[36m[K:[m[K         (SELECT [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K504[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K506[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K507[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K508[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K511[m[K[36m[K-[m[K                 AND (has(['Firefox'], "mat_$browser")))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K512[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K513[m[K[36m[K-[m[K          HAVING 1=1) as session_events_sub_query)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1029[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1030[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1031[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1032[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1033[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1034[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1036[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1037[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1038[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1040[m[K[36m[K-[m[K            AND (event = '$pageview')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1041[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1042[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1074[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1075[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1076[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1077[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1078[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1079[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1081[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1082[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1083[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1085[m[K[36m[K-[m[K            AND (event = '$autocapture')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1086[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1087[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1119[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1120[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1121[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1122[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1123[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1124[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1126[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1127[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1128[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1130[m[K[36m[K-[m[K            AND (event = '$pageview')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1131[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1132[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1194[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1195[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1196[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1197[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1198[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1199[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1201[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1202[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1203[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1205[m[K[36m[K-[m[K            AND (event = '$pageview')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1206[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1207[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1240[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1241[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1242[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1243[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1244[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1245[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1247[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1248[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1249[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1251[m[K[36m[K-[m[K            AND (event = '$pageview')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1252[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1253[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1286[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1287[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1288[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1289[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1290[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1291[m[K[36m[K-[m[K          FROM events e
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1300[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1301[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1302[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1305[m[K[36m[K-[m[K                 AND (has(['org one'], replaceRegexpAll(JSONExtractRaw(group_properties_1, 'name'), '^"|"$', ''))))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1306[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1307[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1339[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1340[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1341[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1342[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1343[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1344[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1346[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1347[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1348[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1350[m[K[36m[K-[m[K            AND (event = '$pageview')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1351[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1352[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1402[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1403[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1404[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1405[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1406[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1407[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1409[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1410[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1411[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1431[m[K[36m[K-[m[K                  AND (ifNull(equals(replaceRegexpAll(nullIf(nullIf(JSONExtractRaw(person_props, 'email'), ''), 'null'), '^"|"$', ''), 'bla'), 0))) as events_persons_sub_query)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1432[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1433[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1483[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1484[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1485[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1486[m[K[36m[K:[m[K         (SELECT [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1487[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1489[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1490[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1491[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1511[m[K[36m[K-[m[K                  AND (ifNull(equals(replaceRegexpAll(nullIf(nullIf(JSONExtractRaw(person_props, 'email'), ''), 'null'), '^"|"$', ''), 'bla'), 0))) as events_persons_sub_query)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1512[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1513[m[K[36m[K-[m[K          HAVING 1=1) as session_events_sub_query)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1544[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1545[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1546[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1547[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1548[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1549[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1551[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1552[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1553[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1555[m[K[36m[K-[m[K            AND (event = '$pageview')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1556[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1557[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1606[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1607[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1608[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1609[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1610[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1611[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1613[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1614[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1615[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1634[m[K[36m[K-[m[K                  AND (ifNull(equals(nullIf(nullIf(pmat_email, ''), 'null'), 'bla'), 0))) as events_persons_sub_query)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1635[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1636[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1685[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1686[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1687[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1688[m[K[36m[K:[m[K         (SELECT [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1689[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1691[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1692[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1693[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1694[m[K[36m[K-[m[K            AND timestamp <= '2021-01-22 08:00:00'
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1695[m[K[36m[K:[m[K            AND (ifNull(equals(nullIf(nullIf(events.[01;31m[K`mat_$browser`[m[K, ''), 'null'), 'Chrome'), 0))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1696[m[K[36m[K-[m[K            AND e.distinct_id in
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1712[m[K[36m[K-[m[K                  AND (ifNull(equals(nullIf(nullIf(pmat_email, ''), 'null'), 'bla'), 0))) as events_persons_sub_query)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1713[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1714[m[K[36m[K-[m[K          HAVING 1=1) as session_events_sub_query)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1762[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1763[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1764[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1765[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1766[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1767[m[K[36m[K-[m[K          FROM events e
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1784[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1785[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1786[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1789[m[K[36m[K-[m[K                 AND (ifNull(equals(replaceRegexpAll(nullIf(nullIf(JSONExtractRaw(person_props, 'email'), ''), 'null'), '^"|"$', ''), 'bla'), 0)))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1790[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1791[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1840[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1841[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1842[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1843[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1844[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1845[m[K[36m[K-[m[K          FROM events e
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1862[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1863[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1864[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1867[m[K[36m[K-[m[K                 AND (ifNull(equals(replaceRegexpAll(nullIf(nullIf(JSONExtractRaw(person_props, 'email'), ''), 'null'), '^"|"$', ''), 'something else'), 0)))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1868[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1869[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1901[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1902[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1903[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1904[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1905[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1906[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1908[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1909[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1910[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1913[m[K[36m[K-[m[K                 AND (ifNull(equals(replaceRegexpAll(nullIf(nullIf(JSONExtractRaw(properties, '$browser'), ''), 'null'), '^"|"$', ''), 'Chrome'), 0)))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1914[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1915[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1947[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1948[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1949[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1950[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1951[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1952[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1954[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1955[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1956[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1959[m[K[36m[K-[m[K                 AND (ifNull(equals(replaceRegexpAll(nullIf(nullIf(JSONExtractRaw(properties, '$browser'), ''), 'null'), '^"|"$', ''), 'Firefox'), 0)))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1960[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1961[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1993[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1994[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1995[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1996[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K1997[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K1998[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2000[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2001[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2002[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2004[m[K[36m[K-[m[K            AND (event = '$pageview'
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2005[m[K[36m[K:[m[K                 AND (ifNull(equals(nullIf(nullIf(events.[01;31m[K`mat_$browser`[m[K, ''), 'null'), 'Chrome'), 0)))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2006[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2007[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2039[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2040[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2041[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2042[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2043[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2044[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2046[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2047[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2048[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2050[m[K[36m[K-[m[K            AND (event = '$pageview'
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2051[m[K[36m[K:[m[K                 AND (ifNull(equals(nullIf(nullIf(events.[01;31m[K`mat_$browser`[m[K, ''), 'null'), 'Firefox'), 0)))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2052[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2053[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2085[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2086[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2087[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2088[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2089[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2090[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2092[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2093[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2094[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2096[m[K[36m[K-[m[K            AND (event = '$pageview')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2097[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2098[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2130[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2131[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2132[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2133[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2134[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2135[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2137[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2138[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2139[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2141[m[K[36m[K-[m[K            AND (event = '$autocapture')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2142[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2143[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2226[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2227[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2228[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2229[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2230[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2231[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2233[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2234[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2235[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2238[m[K[36m[K-[m[K                 AND (has(['Chrome'], replaceRegexpAll(JSONExtractRaw(properties, '$browser'), '^"|"$', ''))))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2239[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2240[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2272[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2273[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2274[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2275[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2276[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2277[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2279[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2280[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2281[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2284[m[K[36m[K-[m[K                 AND (has(['Firefox'], replaceRegexpAll(JSONExtractRaw(properties, '$browser'), '^"|"$', ''))))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2285[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2286[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2318[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2319[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2320[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2321[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2322[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2323[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2325[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2326[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2327[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2330[m[K[36m[K-[m[K                 AND (has(['Chrome'], "mat_$browser")))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2331[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2332[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2364[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2365[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2366[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2367[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2368[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2369[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2371[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2372[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2373[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2376[m[K[36m[K-[m[K                 AND (has(['Firefox'], "mat_$browser")))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2377[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2378[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2431[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2432[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2433[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2434[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2435[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2436[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2438[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2439[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2440[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2465[m[K[36m[K-[m[K                  HAVING argMax(is_deleted, version) = 0) as events_persons_sub_query)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2466[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2467[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2499[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2500[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2501[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2502[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2503[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2504[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2506[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2507[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2508[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2510[m[K[36m[K-[m[K            AND (event = '$pageview')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2511[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2512[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2565[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2566[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2567[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2568[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2569[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2570[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2572[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2573[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2574[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2599[m[K[36m[K-[m[K                  HAVING argMax(is_deleted, version) = 0) as events_persons_sub_query)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2600[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2601[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2633[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2634[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2635[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2636[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2637[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2638[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2640[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2641[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2642[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2644[m[K[36m[K-[m[K            AND (event = '$pageview')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2645[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2646[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2678[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2679[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2680[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2681[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2682[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2683[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2685[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2686[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2687[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2690[m[K[36m[K-[m[K                 OR event = '$pageleave')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K2691[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K2692[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3542[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3543[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3544[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3545[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3546[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3547[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3549[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3550[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3551[m[K[36m[K-[m[K            AND timestamp >= '2021-08-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3574[m[K[36m[K-[m[K                  HAVING argMax(is_deleted, version) = 0) as events_persons_sub_query)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3575[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3576[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3629[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3630[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3631[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3632[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3633[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3634[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3636[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3637[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3638[m[K[36m[K-[m[K            AND timestamp >= '2021-08-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3661[m[K[36m[K-[m[K                  HAVING argMax(is_deleted, version) = 0) as events_persons_sub_query)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3662[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3663[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3695[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3696[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3697[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3698[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3699[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3700[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3702[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3703[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3704[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3707[m[K[36m[K-[m[K                 OR event = 'new-event')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3708[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3709[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3741[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3742[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3743[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3744[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3745[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3746[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3748[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3749[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3750[m[K[36m[K-[m[K            AND timestamp >= '2020-12-24 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3753[m[K[36m[K-[m[K                 OR event = 'new-event2')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3754[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3755[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3827[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3828[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3829[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3830[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3831[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3832[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3834[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3835[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3836[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3838[m[K[36m[K-[m[K            AND (event = '$pageview')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3839[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3840[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3872[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3873[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3874[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3875[m[K[36m[K:[m[K         (SELECT [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3876[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3878[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3879[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3880[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3882[m[K[36m[K-[m[K            AND (has(['false'], replaceRegexpAll(JSONExtractRaw(e.properties, 'is_internal_user'), '^"|"$', '')))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3883[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3884[m[K[36m[K-[m[K          HAVING 1=1) as session_events_sub_query)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3915[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3916[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3917[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3918[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3919[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3920[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3922[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3923[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3924[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3926[m[K[36m[K-[m[K            AND (event = '$pageview')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3927[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3928[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3960[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3961[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3962[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3963[m[K[36m[K:[m[K         (SELECT [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3964[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3966[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3967[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3968[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3970[m[K[36m[K-[m[K            AND (has(['false'], "mat_is_internal_user"))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K3971[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K3972[m[K[36m[K-[m[K          HAVING 1=1) as session_events_sub_query)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4003[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4004[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4005[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4006[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4007[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4008[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4010[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4011[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4012[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4014[m[K[36m[K-[m[K            AND (event = '$pageview')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4015[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4016[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4048[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4049[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4050[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4051[m[K[36m[K:[m[K         (SELECT [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4052[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4054[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4055[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4056[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4058[m[K[36m[K-[m[K            AND (ifNull(equals(replaceRegexpAll(nullIf(nullIf(JSONExtractRaw(properties, 'is_internal_user'), ''), 'null'), '^"|"$', ''), 'true'), 0))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4059[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4060[m[K[36m[K-[m[K          HAVING 1=1) as session_events_sub_query)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4091[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4092[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4093[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4094[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4095[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4096[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4098[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4099[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4100[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4102[m[K[36m[K-[m[K            AND (event = '$pageview')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4103[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4104[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4136[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4137[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4138[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4139[m[K[36m[K:[m[K         (SELECT [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4140[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4142[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4143[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4144[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4146[m[K[36m[K-[m[K            AND (ifNull(equals(nullIf(nullIf(events.mat_is_internal_user, ''), 'null'), 'true'), 0))
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4147[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4148[m[K[36m[K-[m[K          HAVING 1=1) as session_events_sub_query)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4179[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4180[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4181[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4182[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4183[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4184[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4186[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4187[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4188[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4190[m[K[36m[K-[m[K            AND (event = '$pageview')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4191[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4192[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4272[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4273[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4274[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4275[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4276[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4277[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4279[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4280[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4281[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4283[m[K[36m[K-[m[K            AND (event = '$pageview')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4284[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4285[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4364[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4365[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4366[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4367[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4368[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4369[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4371[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4372[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4373[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4375[m[K[36m[K-[m[K            AND (event = '$pageview')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4376[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4377[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4460[m[K[36m[K-[m[K    AND s.session_id in
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4461[m[K[36m[K:[m[K      (select [01;31m[K`$session_id`[m[K as session_id
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4462[m[K[36m[K-[m[K       from
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4463[m[K[36m[K-[m[K         (SELECT groupUniqArray(event) as event_names,
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4464[m[K[36m[K:[m[K                 [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4465[m[K[36m[K-[m[K          FROM events e PREWHERE team_id = 2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4467[m[K[36m[K-[m[K          AND e.timestamp <= now()
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4468[m[K[36m[K:[m[K          WHERE notEmpty([01;31m[K`$session_id`[m[K)
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4469[m[K[36m[K-[m[K            AND timestamp >= '2021-01-13 12:00:00'
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4471[m[K[36m[K-[m[K            AND (event = '$pageview')
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K:[m[K[32m[K4472[m[K[36m[K:[m[K          GROUP BY [01;31m[K`$session_id`[m[K
[35m[K/tmp/posthog/posthog/session_recordings/queries/test/__snapshots__/test_session_recording_list_from_session_replay.ambr[m[K[36m[K-[m[K[32m[K4473[m[K[36m[K-[m[K          HAVING 1=1
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/management/commands/partition.py[m[K[36m[K-[m[K[32m[K44[m[K[36m[K-[m[K                cursor.execute(
[35m[K/tmp/posthog/posthog/management/commands/partition.py[m[K[36m[K:[m[K[32m[K45[m[K[36m[K:[m[K                    """DO $$ BEGIN IF (SELECT exists(select * from pg_proc [01;31m[Kwhere proname = \'create_partitions\')) THEN PERFORM create_partitions(%s); END IF; END $$""",[m[K
[35m[K/tmp/posthog/posthog/management/commands/partition.py[m[K[36m[K-[m[K[32m[K46[m[K[36m[K-[m[K                    [elements],
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/demo/matrix/models.py[m[K[36m[K-[m[K[32m[K57[m[K[36m[K-[m[K
[35m[K/tmp/posthog/posthog/demo/matrix/models.py[m[K[36m[K:[m[K[32m[K58[m[K[36m[K:[m[K# Properties who get [01;31m[K`$set_once`[m[K implicitly as [01;31m[K`$initial_foo`[m[K - source of truth in plugin-server/src/utils/db/utils.ts
[35m[K/tmp/posthog/posthog/demo/matrix/models.py[m[K[36m[K-[m[K[32m[K59[m[K[36m[K-[m[KPROPERTIES_WITH_IMPLICIT_INITIAL_VALUE_TRACKING = {
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/demo/matrix/models.py[m[K[36m[K-[m[K[32m[K122[m[K[36m[K-[m[K
[35m[K/tmp/posthog/posthog/demo/matrix/models.py[m[K[36m[K:[m[K[32m[K123[m[K[36m[K:[m[K    LIB_NAME: str  # Used for [01;31m[K`$lib`[m[K property
[35m[K/tmp/posthog/posthog/demo/matrix/models.py[m[K[36m[K-[m[K[32m[K124[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/demo/matrix/models.py[m[K[36m[K-[m[K[32m[K189[m[K[36m[K-[m[K        self.device_id = str(UUID(int=self.person.cluster.random.getrandbits(128)))
[35m[K/tmp/posthog/posthog/demo/matrix/models.py[m[K[36m[K:[m[K[32m[K190[m[K[36m[K:[m[K        self.active_distinct_id = self.device_id  # Pre-[01;31m[K`$identify`[m[K, the device ID is used as the distinct ID
[35m[K/tmp/posthog/posthog/demo/matrix/models.py[m[K[36m[K-[m[K[32m[K191[m[K[36m[K-[m[K        self.active_session_id = None
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/demo/matrix/models.py[m[K[36m[K-[m[K[32m[K200[m[K[36m[K-[m[K    def __exit__(self, exc_type, exc_value, exc_traceback):
[35m[K/tmp/posthog/posthog/demo/matrix/models.py[m[K[36m[K:[m[K[32m[K201[m[K[36m[K:[m[K        """End session within client. Handles [01;31m[K`$pageleave`[m[K event."""
[35m[K/tmp/posthog/posthog/demo/matrix/models.py[m[K[36m[K-[m[K[32m[K202[m[K[36m[K-[m[K        if self.current_url is not None:
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/models/event/sql.py[m[K[36m[K-[m[K[32m[K65[m[K[36m[K-[m[K    , $session_id VARCHAR MATERIALIZED {trim_quotes_expr("JSONExtractRaw(properties, '$session_id')")} COMMENT 'column_materializer::$session_id'
[35m[K/tmp/posthog/posthog/models/event/sql.py[m[K[36m[K:[m[K[32m[K66[m[K[36m[K:[m[K    , INDEX [01;31m[K`minmax_$group_0`[m[K [01;31m[K`$group_0`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/models/event/sql.py[m[K[36m[K:[m[K[32m[K67[m[K[36m[K:[m[K    , INDEX [01;31m[K`minmax_$group_1`[m[K [01;31m[K`$group_1`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/models/event/sql.py[m[K[36m[K:[m[K[32m[K68[m[K[36m[K:[m[K    , INDEX [01;31m[K`minmax_$group_2`[m[K [01;31m[K`$group_2`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/models/event/sql.py[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[K    , INDEX [01;31m[K`minmax_$group_3`[m[K [01;31m[K`$group_3`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/models/event/sql.py[m[K[36m[K:[m[K[32m[K70[m[K[36m[K:[m[K    , INDEX [01;31m[K`minmax_$group_4`[m[K [01;31m[K`$group_4`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/models/event/sql.py[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K    , INDEX [01;31m[K`minmax_$window_id`[m[K [01;31m[K`$window_id`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/models/event/sql.py[m[K[36m[K:[m[K[32m[K72[m[K[36m[K:[m[K    , INDEX [01;31m[K`minmax_$session_id`[m[K [01;31m[K`$session_id`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/models/event/sql.py[m[K[36m[K-[m[K[32m[K73[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/models/event/sql.py[m[K[36m[K-[m[K[32m[K387[m[K[36m[K-[m[KFROM events
[35m[K/tmp/posthog/posthog/models/event/sql.py[m[K[36m[K:[m[K[32m[K388[m[K[36m[K:[m[K[01;31m[KWHERE events.team_id = %(team_id)s AND event = '$autocapture'[m[K
[35m[K/tmp/posthog/posthog/models/event/sql.py[m[K[36m[K-[m[K[32m[K389[m[K[36m[K-[m[KGROUP BY tag_name, elements_chain
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/models/event/sql.py[m[K[36m[K-[m[K[32m[K394[m[K[36m[K-[m[KGET_CUSTOM_EVENTS = """
[35m[K/tmp/posthog/posthog/models/event/sql.py[m[K[36m[K:[m[K[32m[K395[m[K[36m[K:[m[KSELECT DISTINCT event FROM events [01;31m[Kwhere team_id = %(team_id)s AND event NOT IN ['$autocapture', '$pageview', '$identify', '$pageleave', '$screen'][m[K
[35m[K/tmp/posthog/posthog/models/event/sql.py[m[K[36m[K-[m[K[32m[K396[m[K[36m[K-[m[K"""
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/models/feature_flag/flag_analytics.py[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K        FROM events
[35m[K/tmp/posthog/posthog/models/feature_flag/flag_analytics.py[m[K[36m[K:[m[K[32m[K126[m[K[36m[K:[m[K        [01;31m[KWHERE timestamp between %(begin)s AND %(end)s AND event = '$feature_view'[m[K
[35m[K/tmp/posthog/posthog/models/feature_flag/flag_analytics.py[m[K[36m[K-[m[K[32m[K127[m[K[36m[K-[m[K        GROUP BY team_id, flag_key
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/models/feature_flag/flag_matching.py[m[K[36m[K-[m[K[32m[K393[m[K[36m[K-[m[K
[35m[K/tmp/posthog/posthog/models/feature_flag/flag_matching.py[m[K[36m[K:[m[K[32m[K394[m[K[36m[K:[m[K                def condition_[01;31m[Keval(key, condition)[m[K:
[35m[K/tmp/posthog/posthog/models/feature_flag/flag_matching.py[m[K[36m[K-[m[K[32m[K395[m[K[36m[K-[m[K                    expr = None
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/models/feature_flag/flag_matching.py[m[K[36m[K-[m[K[32m[K477[m[K[36m[K-[m[K                            key = f"flag_{feature_flag.pk}_super_condition"
[35m[K/tmp/posthog/posthog/models/feature_flag/flag_matching.py[m[K[36m[K:[m[K[32m[K478[m[K[36m[K:[m[K                            condition_[01;31m[Keval(key, condition)[m[K
[35m[K/tmp/posthog/posthog/models/feature_flag/flag_matching.py[m[K[36m[K-[m[K[32m[K479[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/models/feature_flag/flag_matching.py[m[K[36m[K-[m[K[32m[K488[m[K[36m[K-[m[K                            }
[35m[K/tmp/posthog/posthog/models/feature_flag/flag_matching.py[m[K[36m[K:[m[K[32m[K489[m[K[36m[K:[m[K                            condition_[01;31m[Keval(is_set_key, is_set_condition)[m[K
[35m[K/tmp/posthog/posthog/models/feature_flag/flag_matching.py[m[K[36m[K-[m[K[32m[K490[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/models/feature_flag/flag_matching.py[m[K[36m[K-[m[K[32m[K496[m[K[36m[K-[m[K                            key = f"flag_{feature_flag.pk}_condition_{index}"
[35m[K/tmp/posthog/posthog/models/feature_flag/flag_matching.py[m[K[36m[K:[m[K[32m[K497[m[K[36m[K:[m[K                            condition_[01;31m[Keval(key, condition)[m[K
[35m[K/tmp/posthog/posthog/models/feature_flag/flag_matching.py[m[K[36m[K-[m[K[32m[K498[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/queries/test/__snapshots__/test_trends.ambr[m[K[36m[K-[m[K[32m[K4660[m[K[36m[K-[m[K                         toStartOfWeek(toDateTime('2019-12-28 00:00:00', 'UTC'), 0)
[35m[K/tmp/posthog/posthog/queries/test/__snapshots__/test_trends.ambr[m[K[36m[K:[m[K[32m[K4661[m[K[36m[K:[m[K        UNION ALL SELECT plus(avg(toInt64OrNull(nullIf(nullIf(events.[01;31m[K`$session_id`[m[K, ''), 'null'))), 1000) AS total,
[35m[K/tmp/posthog/posthog/queries/test/__snapshots__/test_trends.ambr[m[K[36m[K-[m[K[32m[K4662[m[K[36m[K-[m[K                         toStartOfWeek(toTimeZone(toDateTime(timestamp, 'UTC'), 'UTC'), 0) AS date
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/celery.py[m[K[36m[K-[m[K[32m[K837[m[K[36m[K-[m[K        cursor.execute(
[35m[K/tmp/posthog/posthog/celery.py[m[K[36m[K:[m[K[32m[K838[m[K[36m[K:[m[K            "DO $$ BEGIN IF (SELECT exists(select * from pg_proc [01;31m[Kwhere proname = 'update_partitions')) THEN PERFORM update_partitions(); END IF; END $$"[m[K
[35m[K/tmp/posthog/posthog/celery.py[m[K[36m[K-[m[K[32m[K839[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/migrations/0300_add_constraints_to_person_override.py[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K      FROM "posthog_personoverride"
[35m[K/tmp/posthog/posthog/migrations/0300_add_constraints_to_person_override.py[m[K[36m[K:[m[K[32m[K18[m[K[36m[K:[m[K      [01;31m[KWHERE team_id = $1[m[K
[35m[K/tmp/posthog/posthog/migrations/0300_add_constraints_to_person_override.py[m[K[36m[K-[m[K[32m[K19[m[K[36m[K-[m[K      AND override_person_id = $3
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/migrations/0300_add_constraints_to_person_override.py[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K      FROM "posthog_personoverride"
[35m[K/tmp/posthog/posthog/migrations/0300_add_constraints_to_person_override.py[m[K[36m[K:[m[K[32m[K23[m[K[36m[K:[m[K      [01;31m[KWHERE team_id = $1[m[K
[35m[K/tmp/posthog/posthog/migrations/0300_add_constraints_to_person_override.py[m[K[36m[K-[m[K[32m[K24[m[K[36m[K-[m[K      AND old_person_id = $2
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/migrations/0194_set_property_type_for_time.py[m[K[36m[K-[m[K[32m[K15[m[K[36m[K-[m[K        set property_type = 'DateTime', property_type_format='unix_timestamp'
[35m[K/tmp/posthog/posthog/migrations/0194_set_property_type_for_time.py[m[K[36m[K:[m[K[32m[K16[m[K[36m[K:[m[K        [01;31m[Kwhere name = '$time'[m[K
[35m[K/tmp/posthog/posthog/migrations/0194_set_property_type_for_time.py[m[K[36m[K-[m[K[32m[K17[m[K[36m[K-[m[K            """,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/migrations/0194_set_property_type_for_time.py[m[K[36m[K-[m[K[32m[K20[m[K[36m[K-[m[K        set property_type = null, property_type_format=null
[35m[K/tmp/posthog/posthog/migrations/0194_set_property_type_for_time.py[m[K[36m[K:[m[K[32m[K21[m[K[36m[K:[m[K        [01;31m[Kwhere name = '$time'[m[K
[35m[K/tmp/posthog/posthog/migrations/0194_set_property_type_for_time.py[m[K[36m[K-[m[K[32m[K22[m[K[36m[K-[m[K                    """,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/api/documentation.py[m[K[36m[K-[m[K[32m[K25[m[K[36m[K-[m[K    key = serializers.CharField(
[35m[K/tmp/posthog/posthog/api/documentation.py[m[K[36m[K:[m[K[32m[K26[m[K[36m[K:[m[K        help_text="Key of the property you're filtering on. For example `email` or [01;31m[K`$current_url`[m[K",
[35m[K/tmp/posthog/posthog/api/documentation.py[m[K[36m[K-[m[K[32m[K27[m[K[36m[K-[m[K        required=True,
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/api/documentation.py[m[K[36m[K-[m[K[32m[K144[m[K[36m[K-[m[Kclass FilterEventSerializer(serializers.Serializer):
[35m[K/tmp/posthog/posthog/api/documentation.py[m[K[36m[K:[m[K[32m[K145[m[K[36m[K:[m[K    id = serializers.CharField(help_text="Name of the event to filter on. For example [01;31m[K`$pageview`[m[K or `user sign up`.")
[35m[K/tmp/posthog/posthog/api/documentation.py[m[K[36m[K-[m[K[32m[K146[m[K[36m[K-[m[K    properties = PropertySerializer(many=True, required=False)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/api/insight_serializers.py[m[K[36m[K-[m[K[32m[K168[m[K[36m[K-[m[Kclass FunnelExclusionSerializer(serializers.Serializer):
[35m[K/tmp/posthog/posthog/api/insight_serializers.py[m[K[36m[K:[m[K[32m[K169[m[K[36m[K:[m[K    id = serializers.CharField(help_text="Name of the event to filter on. For example [01;31m[K`$pageview`[m[K or `user sign up`.")
[35m[K/tmp/posthog/posthog/api/insight_serializers.py[m[K[36m[K-[m[K[32m[K170[m[K[36m[K-[m[K    properties = PropertySerializer(required=False, help_text=property_help_text)
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/api/event.py[m[K[36m[K-[m[K[32m[K95[m[K[36m[K-[m[K                OpenApiTypes.STR,
[35m[K/tmp/posthog/posthog/api/event.py[m[K[36m[K:[m[K[32m[K96[m[K[36m[K:[m[K                description="Filter list by event. For example `user sign up` or [01;31m[K`$pageview`[m[K.",
[35m[K/tmp/posthog/posthog/api/event.py[m[K[36m[K-[m[K[32m[K97[m[K[36m[K-[m[K            ),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K-[m[K[32m[K1575[m[K[36m[K-[m[K      , $session_id VARCHAR MATERIALIZED replaceRegexpAll(JSONExtractRaw(properties, '$session_id'), '^"|"$', '') COMMENT 'column_materializer::$session_id'
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K:[m[K[32m[K1576[m[K[36m[K:[m[K      , INDEX [01;31m[K`minmax_$group_0`[m[K [01;31m[K`$group_0`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K:[m[K[32m[K1577[m[K[36m[K:[m[K      , INDEX [01;31m[K`minmax_$group_1`[m[K [01;31m[K`$group_1`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K:[m[K[32m[K1578[m[K[36m[K:[m[K      , INDEX [01;31m[K`minmax_$group_2`[m[K [01;31m[K`$group_2`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K:[m[K[32m[K1579[m[K[36m[K:[m[K      , INDEX [01;31m[K`minmax_$group_3`[m[K [01;31m[K`$group_3`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K:[m[K[32m[K1580[m[K[36m[K:[m[K      , INDEX [01;31m[K`minmax_$group_4`[m[K [01;31m[K`$group_4`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K:[m[K[32m[K1581[m[K[36m[K:[m[K      , INDEX [01;31m[K`minmax_$window_id`[m[K [01;31m[K`$window_id`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K:[m[K[32m[K1582[m[K[36m[K:[m[K      , INDEX [01;31m[K`minmax_$session_id`[m[K [01;31m[K`$session_id`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K-[m[K[32m[K1583[m[K[36m[K-[m[K  
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K-[m[K[32m[K2236[m[K[36m[K-[m[K      , $session_id VARCHAR MATERIALIZED replaceRegexpAll(JSONExtractRaw(properties, '$session_id'), '^"|"$', '') COMMENT 'column_materializer::$session_id'
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K:[m[K[32m[K2237[m[K[36m[K:[m[K      , INDEX [01;31m[K`minmax_$group_0`[m[K [01;31m[K`$group_0`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K:[m[K[32m[K2238[m[K[36m[K:[m[K      , INDEX [01;31m[K`minmax_$group_1`[m[K [01;31m[K`$group_1`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K:[m[K[32m[K2239[m[K[36m[K:[m[K      , INDEX [01;31m[K`minmax_$group_2`[m[K [01;31m[K`$group_2`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K:[m[K[32m[K2240[m[K[36m[K:[m[K      , INDEX [01;31m[K`minmax_$group_3`[m[K [01;31m[K`$group_3`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K:[m[K[32m[K2241[m[K[36m[K:[m[K      , INDEX [01;31m[K`minmax_$group_4`[m[K [01;31m[K`$group_4`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K:[m[K[32m[K2242[m[K[36m[K:[m[K      , INDEX [01;31m[K`minmax_$window_id`[m[K [01;31m[K`$window_id`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K:[m[K[32m[K2243[m[K[36m[K:[m[K      , INDEX [01;31m[K`minmax_$session_id`[m[K [01;31m[K`$session_id`[m[K TYPE minmax GRANULARITY 1
[35m[K/tmp/posthog/posthog/clickhouse/test/__snapshots__/test_schema.ambr[m[K[36m[K-[m[K[32m[K2244[m[K[36m[K-[m[K  
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/clickhouse/migrations/0024_materialize_window_and_session_id.py[m[K[36m[K-[m[K[32m[K2[m[K[36m[K-[m[K# The original migration led to potentially inconsistent names for materialized columns
[35m[K/tmp/posthog/posthog/clickhouse/migrations/0024_materialize_window_and_session_id.py[m[K[36m[K:[m[K[32m[K3[m[K[36m[K:[m[K# If the columns were created with this migration, they would be [01;31m[K`$session_id`[m[K and [01;31m[K`$window_id`[m[K,
[35m[K/tmp/posthog/posthog/clickhouse/migrations/0024_materialize_window_and_session_id.py[m[K[36m[K:[m[K[32m[K4[m[K[36m[K:[m[K# but if the columns were created with the normal column materialization job, they would be [01;31m[K`mat_$session_id`[m[K
[35m[K/tmp/posthog/posthog/clickhouse/migrations/0024_materialize_window_and_session_id.py[m[K[36m[K:[m[K[32m[K5[m[K[36m[K:[m[K# and [01;31m[K`mat_$window_id`[m[K. This led to potential inconsistencies between the tables state and the
[35m[K/tmp/posthog/posthog/clickhouse/migrations/0024_materialize_window_and_session_id.py[m[K[36m[K-[m[K[32m[K6[m[K[36m[K-[m[K# schema defined by `EVENTS_TABLE_SQL`
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/database/schema/test/test_event_sessions.py[m[K[36m[K-[m[K[32m[K32[m[K[36m[K-[m[K                FROM events
[35m[K/tmp/posthog/posthog/hogql/database/schema/test/test_event_sessions.py[m[K[36m[K:[m[K[32m[K33[m[K[36m[K:[m[K                [01;31m[KWHERE event = '$pageview'[m[K
[35m[K/tmp/posthog/posthog/hogql/database/schema/test/test_event_sessions.py[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K            """
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/database/schema/test/test_event_sessions.py[m[K[36m[K-[m[K[32m[K68[m[K[36m[K-[m[K                FROM events e
[35m[K/tmp/posthog/posthog/hogql/database/schema/test/test_event_sessions.py[m[K[36m[K:[m[K[32m[K69[m[K[36m[K:[m[K                [01;31m[KWHERE e.event = '$pageview'[m[K
[35m[K/tmp/posthog/posthog/hogql/database/schema/test/test_event_sessions.py[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K            """
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/database/schema/test/test_event_sessions.py[m[K[36m[K-[m[K[32m[K86[m[K[36m[K-[m[K                FROM events
[35m[K/tmp/posthog/posthog/hogql/database/schema/test/test_event_sessions.py[m[K[36m[K:[m[K[32m[K87[m[K[36m[K:[m[K                [01;31m[KWHERE event = '$pageview'[m[K AND timestamp > '2023-01-01'
[35m[K/tmp/posthog/posthog/hogql/database/schema/test/test_event_sessions.py[m[K[36m[K-[m[K[32m[K88[m[K[36m[K-[m[K            """
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/database/schema/test/test_event_sessions.py[m[K[36m[K-[m[K[32m[K111[m[K[36m[K-[m[K                ON e.person_id = p.id
[35m[K/tmp/posthog/posthog/hogql/database/schema/test/test_event_sessions.py[m[K[36m[K:[m[K[32m[K112[m[K[36m[K:[m[K                [01;31m[KWHERE e.event = '$pageview'[m[K and p.is_identified = 0
[35m[K/tmp/posthog/posthog/hogql/database/schema/test/test_event_sessions.py[m[K[36m[K-[m[K[32m[K113[m[K[36m[K-[m[K            """
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/database/schema/test/test_event_sessions.py[m[K[36m[K-[m[K[32m[K129[m[K[36m[K-[m[K                FROM events
[35m[K/tmp/posthog/posthog/hogql/database/schema/test/test_event_sessions.py[m[K[36m[K:[m[K[32m[K130[m[K[36m[K:[m[K                [01;31m[KWHERE event = '$pageleave' OR event = '$pageview'[m[K
[35m[K/tmp/posthog/posthog/hogql/database/schema/test/test_event_sessions.py[m[K[36m[K-[m[K[32m[K131[m[K[36m[K-[m[K            """
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K-[m[K[32m[K3[m[K[36m[K-[m[K  
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K:[m[K[32m[K4[m[K[36m[K:[m[K  SELECT persons.id, persons.properties___email, persons.[01;31m[K`properties___$browser`[m[K 
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K-[m[K[32m[K5[m[K[36m[K-[m[K  FROM (
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K:[m[K[32m[K6[m[K[36m[K:[m[K  SELECT argMax(replaceRegexpAll(nullIf(nullIf(JSONExtractRaw(person.properties, %(hogql_val_0)s), ''), 'null'), '^"|"$', ''), person.version) AS properties___email, argMax(replaceRegexpAll(nullIf(nullIf(JSONExtractRaw(person.properties, %(hogql_val_1)s), ''), 'null'), '^"|"$', ''), person.version) AS [01;31m[K`properties___$browser`[m[K, person.id AS id 
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K-[m[K[32m[K7[m[K[36m[K-[m[K  FROM person 
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K-[m[K[32m[K51[m[K[36m[K-[m[K  
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K:[m[K[32m[K52[m[K[36m[K:[m[K  SELECT person_distinct_ids__person.[01;31m[K`properties___$browser`[m[K 
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K-[m[K[32m[K53[m[K[36m[K-[m[K  FROM (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K-[m[K[32m[K58[m[K[36m[K-[m[K  HAVING ifNull(equals(argMax(person_distinct_id2.is_deleted, person_distinct_id2.version), 0), 0)) AS person_distinct_ids INNER JOIN (
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K:[m[K[32m[K59[m[K[36m[K:[m[K  SELECT argMax(replaceRegexpAll(nullIf(nullIf(JSONExtractRaw(person.properties, %(hogql_val_0)s), ''), 'null'), '^"|"$', ''), person.version) AS [01;31m[K`properties___$browser`[m[K, person.id AS id 
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K-[m[K[32m[K60[m[K[36m[K-[m[K  FROM person 
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K-[m[K[32m[K70[m[K[36m[K-[m[K  
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K:[m[K[32m[K71[m[K[36m[K:[m[K  SELECT person_distinct_ids__person.[01;31m[K`properties___$browser___in___json`[m[K 
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K-[m[K[32m[K72[m[K[36m[K-[m[K  FROM (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K-[m[K[32m[K77[m[K[36m[K-[m[K  HAVING ifNull(equals(argMax(person_distinct_id2.is_deleted, person_distinct_id2.version), 0), 0)) AS person_distinct_ids INNER JOIN (
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K:[m[K[32m[K78[m[K[36m[K:[m[K  SELECT argMax(replaceRegexpAll(nullIf(nullIf(JSONExtractRaw(person.properties, %(hogql_val_0)s, %(hogql_val_1)s, %(hogql_val_2)s), ''), 'null'), '^"|"$', ''), person.version) AS [01;31m[K`properties___$browser___in___json`[m[K, person.id AS id 
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K-[m[K[32m[K79[m[K[36m[K-[m[K  FROM person 
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K-[m[K[32m[K123[m[K[36m[K-[m[K  
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K:[m[K[32m[K124[m[K[36m[K:[m[K  SELECT events.event, events__pdi__person.[01;31m[K`properties___$browser`[m[K 
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K-[m[K[32m[K125[m[K[36m[K-[m[K  FROM events INNER JOIN (
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K-[m[K[32m[K130[m[K[36m[K-[m[K  HAVING ifNull(equals(argMax(person_distinct_id2.is_deleted, person_distinct_id2.version), 0), 0)) AS events__pdi ON equals(events.distinct_id, events__pdi.distinct_id) INNER JOIN (
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K:[m[K[32m[K131[m[K[36m[K:[m[K  SELECT argMax(replaceRegexpAll(nullIf(nullIf(JSONExtractRaw(person.properties, %(hogql_val_0)s), ''), 'null'), '^"|"$', ''), person.version) AS [01;31m[K`properties___$browser`[m[K, person.id AS id 
[35m[K/tmp/posthog/posthog/hogql/transforms/test/__snapshots__/test_lazy_tables.ambr[m[K[36m[K-[m[K[32m[K132[m[K[36m[K-[m[K  FROM person 
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/resolver.py[m[K[36m[K-[m[K[32m[K383[m[K[36m[K-[m[K        # That's because ClickHouse does not support subqueries accessing "x.event". This is forbidden:
[35m[K/tmp/posthog/posthog/hogql/resolver.py[m[K[36m[K:[m[K[32m[K384[m[K[36m[K:[m[K        # - "SELECT event, (select count() from events [01;31m[Kwhere event = x.event) as c FROM events x where event = '$pageview'",[m[K
[35m[K/tmp/posthog/posthog/hogql/resolver.py[m[K[36m[K-[m[K[32m[K385[m[K[36m[K-[m[K        # But this is supported:
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/test/test_query.py[m[K[36m[K-[m[K[32m[K590[m[K[36m[K-[m[K                response.clickhouse,
[35m[K/tmp/posthog/posthog/hogql/test/test_query.py[m[K[36m[K:[m[K[32m[K591[m[K[36m[K:[m[K                f"SELECT e.event, s.session_id FROM events AS e LEFT JOIN session_replay_events AS s ON equals(s.session_id, nullIf(nullIf(e.[01;31m[K`$session_id`[m[K, ''), 'null')) WHERE and(equals(s.team_id, {self.team.pk}), equals(e.team_id, {self.team.pk}), isNotNull(nullIf(nullIf(e.[01;31m[K`$session_id`[m[K, ''), 'null'))) LIMIT 10 SETTINGS readonly=2, max_execution_time=60, allow_experimental_object_type=1",
[35m[K/tmp/posthog/posthog/hogql/test/test_query.py[m[K[36m[K-[m[K[32m[K592[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/test/test_query.py[m[K[36m[K-[m[K[32m[K600[m[K[36m[K-[m[K                response.clickhouse,
[35m[K/tmp/posthog/posthog/hogql/test/test_query.py[m[K[36m[K:[m[K[32m[K601[m[K[36m[K:[m[K                f"SELECT e.event, s.session_id FROM session_replay_events AS s LEFT JOIN events AS e ON equals(nullIf(nullIf(e.[01;31m[K`$session_id`[m[K, ''), 'null'), s.session_id) WHERE and(equals(e.team_id, {self.team.pk}), equals(s.team_id, {self.team.pk}), isNotNull(nullIf(nullIf(e.[01;31m[K`$session_id`[m[K, ''), 'null'))) LIMIT 10 SETTINGS readonly=2, max_execution_time=60, allow_experimental_object_type=1",
[35m[K/tmp/posthog/posthog/hogql/test/test_query.py[m[K[36m[K-[m[K[32m[K602[m[K[36m[K-[m[K            )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K192[m[K[36m[K-[m[K            self._expr(
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K:[m[K[32m[K193[m[K[36m[K:[m[K                "properties.[01;31m[K`$browser with a space`[m[K",
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K194[m[K[36m[K-[m[K                HogQLContext(team_id=self.team.pk),
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K196[m[K[36m[K-[m[K            ),
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K:[m[K[32m[K197[m[K[36m[K:[m[K            "properties.[01;31m[K`$browser with a space`[m[K",
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K198[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K204[m[K[36m[K-[m[K            ),
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K:[m[K[32m[K205[m[K[36m[K:[m[K            "properties.[01;31m[K`$browser with a space`[m[K",
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K206[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K212[m[K[36m[K-[m[K            ),
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K:[m[K[32m[K213[m[K[36m[K:[m[K            "properties.[01;31m[K`$browser with a space`[m[K",
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K214[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K220[m[K[36m[K-[m[K            ),
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K:[m[K[32m[K221[m[K[36m[K:[m[K            "properties.[01;31m[K`$browser with a \\`[m[K tick`",
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K222[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K228[m[K[36m[K-[m[K            ),
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K:[m[K[32m[K229[m[K[36m[K:[m[K            "properties.[01;31m[K`$browser \\\\with a \\n\\`[m[K tick`",
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K230[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K282[m[K[36m[K-[m[K            self._expr("properties['$browser']"),
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K:[m[K[32m[K283[m[K[36m[K:[m[K            "nullIf(nullIf(events.[01;31m[K`mat_$browser`[m[K, ''), 'null')",
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K284[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K294[m[K[36m[K-[m[K            self._expr("properties['$browser and string']"),
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K:[m[K[32m[K295[m[K[36m[K:[m[K            "nullIf(nullIf(events.[01;31m[K`mat_$browser_and_string`[m[K, ''), 'null')",
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K296[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K300[m[K[36m[K-[m[K            self._expr("properties['$browser%%%#@!@']"),
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K:[m[K[32m[K301[m[K[36m[K:[m[K            "nullIf(nullIf(events.[01;31m[K`mat_$browser_______`[m[K, ''), 'null')",
[35m[K/tmp/posthog/posthog/hogql/test/test_printer.py[m[K[36m[K-[m[K[32m[K302[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/test/test_escape_sql.py[m[K[36m[K-[m[K[32m[K34[m[K[36m[K-[m[K        self.assertEqual(escape_clickhouse_identifier("a"), "a")
[35m[K/tmp/posthog/posthog/hogql/test/test_escape_sql.py[m[K[36m[K:[m[K[32m[K35[m[K[36m[K:[m[K        self.assertEqual(escape_clickhouse_identifier("$browser"), "[01;31m[K`$browser`[m[K")
[35m[K/tmp/posthog/posthog/hogql/test/test_escape_sql.py[m[K[36m[K-[m[K[32m[K36[m[K[36m[K-[m[K        self.assertEqual(escape_clickhouse_identifier("0asd"), "`0asd`")
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/test/test_resolver.py[m[K[36m[K-[m[K[32m[K277[m[K[36m[K-[m[K        expr = self._select(
[35m[K/tmp/posthog/posthog/hogql/test/test_resolver.py[m[K[36m[K:[m[K[32m[K278[m[K[36m[K:[m[K            "SELECT event, (select count() from events [01;31m[Kwhere event = e.event) as c FROM events e where event = '$pageview'"[m[K
[35m[K/tmp/posthog/posthog/hogql/test/test_resolver.py[m[K[36m[K-[m[K[32m[K279[m[K[36m[K-[m[K        )
[36m[K##############################################[m[K
[35m[K/tmp/posthog/posthog/hogql/test/test_resolver.py[m[K[36m[K-[m[K[32m[K360[m[K[36m[K-[m[K        queries = [
[35m[K/tmp/posthog/posthog/hogql/test/test_resolver.py[m[K[36m[K:[m[K[32m[K361[m[K[36m[K:[m[K            "SELECT event, (select count() from events [01;31m[Kwhere event = x.event) as c FROM events x where event = '$pageview'",[m[K
[35m[K/tmp/posthog/posthog/hogql/test/test_resolver.py[m[K[36m[K-[m[K[32m[K362[m[K[36m[K-[m[K            "SELECT x, (SELECT 1 AS x)",
[36m[K##############################################[m[K
[35m[K/tmp/posthog/.github/workflows/storybook-chromatic.yml[m[K[36m[K-[m[K[32m[K268[m[K[36m[K-[m[K                        if (!diff) {
[35m[K/tmp/posthog/.github/workflows/storybook-chromatic.yml[m[K[36m[K:[m[K[32m[K269[m[K[36m[K:[m[K                          return `- \[01;31m[K`${browser}\`[m[K: failed`
[35m[K/tmp/posthog/.github/workflows/storybook-chromatic.yml[m[K[36m[K-[m[K[32m[K270[m[K[36m[K-[m[K                        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/.github/workflows/storybook-chromatic.yml[m[K[36m[K-[m[K[32m[K276[m[K[36m[K-[m[K                            ([shardNumber, commitHash]) =>
[35m[K/tmp/posthog/.github/workflows/storybook-chromatic.yml[m[K[36m[K:[m[K[32m[K277[m[K[36m[K:[m[K                            [01;31m[K`[diff for shard ${shardNumber}](https://github.com/${{ github.repository }}/pull/${{ github.event.pull_request.number }}/commits/${commitHash})`[m[K
[35m[K/tmp/posthog/.github/workflows/storybook-chromatic.yml[m[K[36m[K-[m[K[32m[K278[m[K[36m[K-[m[K                          ).join(', ') || "wasn't pushed!"
[35m[K/tmp/posthog/.github/workflows/storybook-chromatic.yml[m[K[36m[K:[m[K[32m[K279[m[K[36m[K:[m[K                          extraInfo = [01;31m[K` (${commitInfo})`[m[K
[35m[K/tmp/posthog/.github/workflows/storybook-chromatic.yml[m[K[36m[K-[m[K[32m[K280[m[K[36m[K-[m[K                        }
[35m[K/tmp/posthog/.github/workflows/storybook-chromatic.yml[m[K[36m[K:[m[K[32m[K281[m[K[36m[K:[m[K                        return [01;31m[K`- ${b}\`[m[K${browser}\[01;31m[K`${b}: **${a}** added, **${m}** modified, **${d}** deleted${extraInfo}`[m[K
[35m[K/tmp/posthog/.github/workflows/storybook-chromatic.yml[m[K[36m[K-[m[K[32m[K282[m[K[36m[K-[m[K                      }).join('\n')
[36m[K##############################################[m[K
[35m[K/tmp/posthog/.github/workflows/build-hogql-parser.yml[m[K[36m[K-[m[K[32m[K50[m[K[36m[K-[m[K                    else
[35m[K/tmp/posthog/.github/workflows/build-hogql-parser.yml[m[K[36m[K:[m[K[32m[K51[m[K[36m[K:[m[K                      message_body="It looks like the code of \`hogql-parser\[01;31m[K` has changed since last push, but its version stayed the same at $local. 👀\nMake sure to resolve this in \`[m[Khogql_parser/setup.py\` before merging!"
[35m[K/tmp/posthog/.github/workflows/build-hogql-parser.yml[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K                      curl -s -u posthog-bot:${{ secrets.POSTHOG_BOT_GITHUB_TOKEN || secrets.GITHUB_TOKEN }} -X POST -d "{ \"body\": \"$message_body\" }" "https://api.github.com/repos/${{ github.repository }}/issues/${{ github.event.pull_request.number }}/comments"
[36m[K##############################################[m[K
[35m[K/tmp/posthog/jest.config.ts[m[K[36m[K-[m[K[32m[K96[m[K[36m[K-[m[K        d3: '<rootDir>/../../node_modules/d3/dist/d3.min.js',
[35m[K/tmp/posthog/jest.config.ts[m[K[36m[K:[m[K[32m[K97[m[K[36m[K:[m[K        '^d3-(.*)$': [01;31m[K`d3-$1/dist/d3-$1`[m[K,
[35m[K/tmp/posthog/jest.config.ts[m[K[36m[K-[m[K[32m[K98[m[K[36m[K-[m[K    },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/jest.config.ts[m[K[36m[K-[m[K[32m[K194[m[K[36m[K-[m[K    // An array of regexp pattern strings that are matched against all source file paths, matched files will skip transformation
[35m[K/tmp/posthog/jest.config.ts[m[K[36m[K:[m[K[32m[K195[m[K[36m[K:[m[K    transformIgnorePatterns: [[01;31m[K`node_modules/(?!(?:.pnpm/)?(${esmModules.join('|')}))`[m[K],
[35m[K/tmp/posthog/jest.config.ts[m[K[36m[K-[m[K[32m[K196[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/hogvm/typescript/src/bytecode.ts[m[K[36m[K-[m[K[32m[K216[m[K[36m[K-[m[K                } else {
[35m[K/tmp/posthog/hogvm/typescript/src/bytecode.ts[m[K[36m[K:[m[K[32m[K217[m[K[36m[K:[m[K                    throw new Error([01;31m[K`Unsupported function call: ${name}`[m[K)
[35m[K/tmp/posthog/hogvm/typescript/src/bytecode.ts[m[K[36m[K-[m[K[32m[K218[m[K[36m[K-[m[K                }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/hogvm/typescript/src/bytecode.ts[m[K[36m[K-[m[K[32m[K220[m[K[36m[K-[m[K            default:
[35m[K/tmp/posthog/hogvm/typescript/src/bytecode.ts[m[K[36m[K:[m[K[32m[K221[m[K[36m[K:[m[K                throw new Error([01;31m[K`Unexpected node while running bytecode: ${bytecode[i]}`[m[K)
[35m[K/tmp/posthog/hogvm/typescript/src/bytecode.ts[m[K[36m[K-[m[K[32m[K222[m[K[36m[K-[m[K        }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/bin/docker-worker-celery[m[K[36m[K-[m[K[32m[K52[m[K[36m[K-[m[K    --concurrency*)
[35m[K/tmp/posthog/bin/docker-worker-celery[m[K[36m[K:[m[K[32m[K53[m[K[36m[K:[m[K      export WEB_CONCURRENCY=[01;31m[K`echo $1 | sed -e 's/^[^=]*=//g'`[m[K
[35m[K/tmp/posthog/bin/docker-worker-celery[m[K[36m[K-[m[K[32m[K54[m[K[36m[K-[m[K      shift
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K363[m[K[36m[K-[m[Kconst listDestinationTypes = async (token: string, projectId: any): Promise<Response> => {
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K:[m[K[32m[K364[m[K[36m[K:[m[K    return await fetch([01;31m[K`http://localhost:3000/api/projects/${projectId}/destination-types`[m[K, {
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K365[m[K[36m[K-[m[K        headers: {
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K:[m[K[32m[K366[m[K[36m[K:[m[K            Authorization: [01;31m[K`Bearer ${token}`[m[K,
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K367[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K373[m[K[36m[K-[m[K    if (!response.ok) {
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K:[m[K[32m[K374[m[K[36m[K:[m[K        throw new Error([01;31m[K`Failed to list destination types: ${response.statusText}`[m[K)
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K375[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K383[m[K[36m[K-[m[K): Promise<Response> => {
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K:[m[K[32m[K384[m[K[36m[K:[m[K    return await fetch([01;31m[K`http://localhost:3000/api/projects/${projectId}/destinations`[m[K, {
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K385[m[K[36m[K-[m[K        method: 'POST',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K387[m[K[36m[K-[m[K            'Content-Type': 'application/json',
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K:[m[K[32m[K388[m[K[36m[K:[m[K            Authorization: [01;31m[K`Bearer ${token}`[m[K,
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K389[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K400[m[K[36m[K-[m[K    if (!response.ok) {
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K:[m[K[32m[K401[m[K[36m[K:[m[K        throw new Error([01;31m[K`Failed to create destination: ${response.statusText}`[m[K)
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K402[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K411[m[K[36m[K-[m[K): Promise<Response> => {
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K:[m[K[32m[K412[m[K[36m[K:[m[K    return await fetch([01;31m[K`http://localhost:3000/api/projects/${projectId}/destinations/${id}`[m[K, {
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K413[m[K[36m[K-[m[K        method: 'PUT',
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K415[m[K[36m[K-[m[K            'Content-Type': 'application/json',
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K:[m[K[32m[K416[m[K[36m[K:[m[K            Authorization: [01;31m[K`Bearer ${token}`[m[K,
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K417[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K429[m[K[36m[K-[m[K    if (!response.ok) {
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K:[m[K[32m[K430[m[K[36m[K:[m[K        throw new Error([01;31m[K`Failed to update destination: ${response.statusText}`[m[K)
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K431[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K435[m[K[36m[K-[m[Kconst getDestination = async (token: string, projectId: number, id: string): Promise<Response> => {
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K:[m[K[32m[K436[m[K[36m[K:[m[K    return await fetch([01;31m[K`http://localhost:3000/api/projects/${projectId}/destinations/${id}`[m[K, {
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K437[m[K[36m[K-[m[K        headers: {
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K:[m[K[32m[K438[m[K[36m[K:[m[K            Authorization: [01;31m[K`Bearer ${token}`[m[K,
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K439[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K445[m[K[36m[K-[m[K    if (!response.ok) {
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K:[m[K[32m[K446[m[K[36m[K:[m[K        throw new Error([01;31m[K`Failed to retrieve destination: ${response.statusText}`[m[K)
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K447[m[K[36m[K-[m[K    }
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K451[m[K[36m[K-[m[Kconst deleteDestination = async (token: string, projectId: number, id: string): Promise<Response> => {
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K:[m[K[32m[K452[m[K[36m[K:[m[K    return await fetch([01;31m[K`http://localhost:3000/api/projects/${projectId}/destinations/${id}`[m[K, {
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K453[m[K[36m[K-[m[K        method: 'DELETE',
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K454[m[K[36m[K-[m[K        headers: {
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K:[m[K[32m[K455[m[K[36m[K:[m[K            Authorization: [01;31m[K`Bearer ${token}`[m[K,
[35m[K/tmp/posthog/cdp/functional_tests/destination-api.test.ts[m[K[36m[K-[m[K[32m[K456[m[K[36m[K-[m[K        },
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress.e2e.config.ts[m[K[36m[K-[m[K[32m[K12[m[K[36m[K-[m[K    const start = Date.now()
[35m[K/tmp/posthog/cypress.e2e.config.ts[m[K[36m[K:[m[K[32m[K13[m[K[36m[K:[m[K    const fullFileName = [01;31m[K`${downloadDirectory}/${filename}`[m[K
[35m[K/tmp/posthog/cypress.e2e.config.ts[m[K[36m[K-[m[K[32m[K14[m[K[36m[K-[m[K
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress.e2e.config.ts[m[K[36m[K-[m[K[32m[K69[m[K[36m[K-[m[K
[35m[K/tmp/posthog/cypress.e2e.config.ts[m[K[36m[K:[m[K[32m[K70[m[K[36m[K:[m[K                        const imgSrc = PNG.sync.read(fs.readFileSync([01;31m[K`${downloadDirectory}/${source}`[m[K))
[35m[K/tmp/posthog/cypress.e2e.config.ts[m[K[36m[K-[m[K[32m[K71[m[K[36m[K-[m[K                        const imgRef = PNG.sync.read(fs.readFileSync(path.join(__dirname, reference)))
[36m[K##############################################[m[K
[35m[K/tmp/posthog/cypress.e2e.config.ts[m[K[36m[K-[m[K[32m[K78[m[K[36m[K-[m[K
[35m[K/tmp/posthog/cypress.e2e.config.ts[m[K[36m[K:[m[K[32m[K79[m[K[36m[K:[m[K                        const imgDiffFilename = [01;31m[K`${downloadDirectory}/${source}.diff.png`[m[K
[35m[K/tmp/posthog/cypress.e2e.config.ts[m[K[36m[K-[m[K[32m[K80[m[K[36m[K-[m[K
